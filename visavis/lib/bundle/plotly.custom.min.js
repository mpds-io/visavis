/* Custom build of Plotly v1.35.2, Copyright (c) 2018 Plotly, Inc, MIT License */
(function(b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define([],b):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).Plotly=b()})(function(){return function(){function b(p,l,n){function g(d,e){if(!l[d]){if(!p[d]){var h="function"==typeof require&&require;if(!e&&h)return h(d,!0);if(k)return k(d,!0);e=Error("Cannot find module '"+d+"'");throw e.code="MODULE_NOT_FOUND",e;
}e=l[d]={exports:{}};p[d][0].call(e.exports,function(e){var h=p[d][1][e];return g(h?h:e)},e,e.exports,b,p,l,n)}return l[d].exports}for(var k="function"==typeof require&&require,d=0;d<n.length;d++)g(n[d]);return g}return b}()({1:[function(b,p,l){l=b("./plotly.js/lib/core");l.register([b("./plotly.js/lib/bar"),b("./plotly.js/lib/pie"),b("./plotly.js/lib/scatter"),b("./plotly.js/lib/scatterternary"),b("./plotly.js/lib/scatter3d"),b("./plotly.js/lib/mesh3d")]);p.exports=l},{"./plotly.js/lib/bar":11,"./plotly.js/lib/core":12,
"./plotly.js/lib/mesh3d":13,"./plotly.js/lib/pie":14,"./plotly.js/lib/scatter":15,"./plotly.js/lib/scatter3d":16,"./plotly.js/lib/scatterternary":17}],2:[function(b,p,l){function n(d){var e=d.length;if(0<e%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===d[e-2]?2:"="===d[e-1]?1:0}function g(d,h,g){for(var e=[],f=h;f<g;f+=3)h=(d[f]<<16&16711680)+(d[f+1]<<8&65280)+(d[f+2]&255),e.push(k[h>>18&63]+k[h>>12&63]+k[h>>6&63]+k[h&63]);return e.join("")}l.byteLength=function(d){return 3*
d.length/4-n(d)};l.toByteArray=function(e){var g=e.length;var k=n(e);var b=new h(3*g/4-k);var f=0<k?g-4:g;var c=0;for(g=0;g<f;g+=4){var q=d[e.charCodeAt(g)]<<18|d[e.charCodeAt(g+1)]<<12|d[e.charCodeAt(g+2)]<<6|d[e.charCodeAt(g+3)];b[c++]=q>>16&255;b[c++]=q>>8&255;b[c++]=q&255}2===k?(q=d[e.charCodeAt(g)]<<2|d[e.charCodeAt(g+1)]>>4,b[c++]=q&255):1===k&&(q=d[e.charCodeAt(g)]<<10|d[e.charCodeAt(g+1)]<<4|d[e.charCodeAt(g+2)]>>2,b[c++]=q>>8&255,b[c++]=q&255);return b};l.fromByteArray=function(d){for(var e=
d.length,h=e%3,b="",f=[],c=0,q=e-h;c<q;c+=16383)f.push(g(d,c,c+16383>q?q:c+16383));1===h?(d=d[e-1],b+=k[d>>2],b+=k[d<<4&63],b+="=="):2===h&&(d=(d[e-2]<<8)+d[e-1],b+=k[d>>10],b+=k[d>>4&63],b+=k[d<<2&63],b+="=");f.push(b);return f.join("")};var k=[],d=[],h="undefined"!==typeof Uint8Array?Uint8Array:Array;for(b=0;64>b;++b)k[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b],d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(b)]=b;d[45]=62;d[95]=63},
{}],3:[function(b,p,l){},{}],4:[function(b,p,l){(function(n){function g(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(Q){return!1}}function k(a,c){if((d.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<c)throw new RangeError("Invalid typed array length");d.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(c),a.__proto__=d.prototype):(null===a&&(a=new d(c)),a.length=c);return a}
function d(a,c,f){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(a,c,f);if("number"===typeof a){if("string"===typeof c)throw Error("If encoding is specified then the first argument must be a string");return u(this,a)}return h(this,a,c,f)}function h(a,f,e,h){if("number"===typeof f)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&f instanceof ArrayBuffer){f.byteLength;if(0>e||f.byteLength<e)throw new RangeError("'offset' is out of bounds");
if(f.byteLength<e+(h||0))throw new RangeError("'length' is out of bounds");f=void 0===e&&void 0===h?new Uint8Array(f):void 0===h?new Uint8Array(f,e):new Uint8Array(f,e,h);d.TYPED_ARRAY_SUPPORT?(a=f,a.__proto__=d.prototype):a=m(a,f);return a}if("string"===typeof f){h=a;a=e;if("string"!==typeof a||""===a)a="utf8";if(!d.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');e=c(f,a)|0;h=k(h,e);f=h.write(f,a);f!==e&&(h=h.slice(0,f));return h}return t(a,f)}function e(a){if("number"!==
typeof a)throw new TypeError('"size" argument must be a number');if(0>a)throw new RangeError('"size" argument must not be negative');}function u(a,c){e(c);a=k(a,0>c?0:f(c)|0);if(!d.TYPED_ARRAY_SUPPORT)for(var h=0;h<c;++h)a[h]=0;return a}function m(a,c){var d=0>c.length?0:f(c.length)|0;a=k(a,d);for(var e=0;e<d;e+=1)a[e]=c[e]&255;return a}function t(a,c){if(d.isBuffer(c)){var e=f(c.length)|0;a=k(a,e);if(0===a.length)return a;c.copy(a,0,0,e);return a}if(c){if("undefined"!==typeof ArrayBuffer&&c.buffer instanceof
ArrayBuffer||"length"in c)return(e="number"!==typeof c.length)||(e=c.length,e=e!==e),e?k(a,0):m(a,c);if("Buffer"===c.type&&L(c.data))return m(a,c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function f(a){if(a>=(d.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(d.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function c(a,c){if(d.isBuffer(a))return a.length;
if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var f=a.length;if(0===f)return 0;for(var e=!1;;)switch(c){case "ascii":case "latin1":case "binary":return f;case "utf8":case "utf-8":case void 0:return G(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*f;case "hex":return f>>>1;case "base64":return K.toByteArray(w(a)).length;default:if(e)return G(a).length;
c=(""+c).toLowerCase();e=!0}}function q(a,c,d){var f=!1;if(void 0===c||0>c)c=0;if(c>this.length)return"";if(void 0===d||d>this.length)d=this.length;if(0>=d)return"";d>>>=0;c>>>=0;if(d<=c)return"";for(a||(a="utf8");;)switch(a){case "hex":a=c;c=d;d=this.length;if(!a||0>a)a=0;if(!c||0>c||c>d)c=d;f="";for(d=a;d<c;++d)a=f,f=this[d],f=16>f?"0"+f.toString(16):f.toString(16),f=a+f;return f;case "utf8":case "utf-8":return x(this,c,d);case "ascii":a="";for(d=Math.min(this.length,d);c<d;++c)a+=String.fromCharCode(this[c]&
127);return a;case "latin1":case "binary":a="";for(d=Math.min(this.length,d);c<d;++c)a+=String.fromCharCode(this[c]);return a;case "base64":return c=0===c&&d===this.length?K.fromByteArray(this):K.fromByteArray(this.slice(c,d)),c;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.slice(c,d);d="";for(a=0;a<c.length;a+=2)d+=String.fromCharCode(c[a]+256*c[a+1]);return d;default:if(f)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();f=!0}}function a(a,c,d){var f=a[c];a[c]=
a[d];a[d]=f}function r(a,c,f,e,h){if(0===a.length)return-1;"string"===typeof f?(e=f,f=0):2147483647<f?f=2147483647:-2147483648>f&&(f=-2147483648);f=+f;isNaN(f)&&(f=h?0:a.length-1);0>f&&(f=a.length+f);if(f>=a.length){if(h)return-1;f=a.length-1}else if(0>f)if(h)f=0;else return-1;"string"===typeof c&&(c=d.from(c,e));if(d.isBuffer(c))return 0===c.length?-1:v(a,c,f,e,h);if("number"===typeof c)return c&=255,d.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?h?Uint8Array.prototype.indexOf.call(a,
c,f):Uint8Array.prototype.lastIndexOf.call(a,c,f):v(a,[c],f,e,h);throw new TypeError("val must be string, number or Buffer");}function v(a,c,d,f,e){function h(a,c){return 1===r?a[c]:a.readUInt16BE(c*r)}var r=1,q=a.length,g=c.length;if(void 0!==f&&(f=String(f).toLowerCase(),"ucs2"===f||"ucs-2"===f||"utf16le"===f||"utf-16le"===f)){if(2>a.length||2>c.length)return-1;r=2;q/=2;g/=2;d/=2}if(e)for(f=-1;d<q;d++)if(h(a,d)===h(c,-1===f?0:d-f)){if(-1===f&&(f=d),d-f+1===g)return f*r}else-1!==f&&(d-=d-f),f=-1;
else for(d+g>q&&(d=q-g);0<=d;d--){q=!0;for(f=0;f<g;f++)if(h(a,d+f)!==h(c,f)){q=!1;break}if(q)return d}return-1}function x(a,c,d){d=Math.min(a.length,d);for(var f=[];c<d;){var e=a[c],h=null,r=239<e?4:223<e?3:191<e?2:1;if(c+r<=d)switch(r){case 1:128>e&&(h=e);break;case 2:var q=a[c+1];128===(q&192)&&(e=(e&31)<<6|q&63,127<e&&(h=e));break;case 3:q=a[c+1];var g=a[c+2];128===(q&192)&&128===(g&192)&&(e=(e&15)<<12|(q&63)<<6|g&63,2047<e&&(55296>e||57343<e)&&(h=e));break;case 4:q=a[c+1];g=a[c+2];var y=a[c+3];
128===(q&192)&&128===(g&192)&&128===(y&192)&&(e=(e&15)<<18|(q&63)<<12|(g&63)<<6|y&63,65535<e&&1114112>e&&(h=e))}null===h?(h=65533,r=1):65535<h&&(h-=65536,f.push(h>>>10&1023|55296),h=56320|h&1023);f.push(h);c+=r}a=f.length;if(a<=N)f=String.fromCharCode.apply(String,f);else{d="";for(c=0;c<a;)d+=String.fromCharCode.apply(String,f.slice(c,c+=N));f=d}return f}function C(a,c,d){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+c>d)throw new RangeError("Trying to access beyond buffer length");
}function A(a,c,f,e,h,q){if(!d.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>h||c<q)throw new RangeError('"value" argument is out of bounds');if(f+e>a.length)throw new RangeError("Index out of range");}function D(a,c,d,f){0>c&&(c=65535+c+1);for(var e=0,h=Math.min(a.length-d,2);e<h;++e)a[d+e]=(c&255<<8*(f?e:1-e))>>>8*(f?e:1-e)}function z(a,c,d,f){0>c&&(c=4294967295+c+1);for(var e=0,h=Math.min(a.length-d,4);e<h;++e)a[d+e]=c>>>8*(f?e:3-e)&255}function p(a,c,d,f,
e,h){if(d+f>a.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function B(a,c,d,f,e){e||p(a,c,d,4,3.4028234663852886E38,-3.4028234663852886E38);H.write(a,c,d,f,23,4);return d+4}function y(a,c,d,f,e){e||p(a,c,d,8,1.7976931348623157E308,-1.7976931348623157E308);H.write(a,c,d,f,52,8);return d+8}function w(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(M,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function G(a,c){c=c||
Infinity;for(var d,f=a.length,e=null,h=[],q=0;q<f;++q){d=a.charCodeAt(q);if(55295<d&&57344>d){if(!e){if(56319<d){-1<(c-=3)&&h.push(239,191,189);continue}else if(q+1===f){-1<(c-=3)&&h.push(239,191,189);continue}e=d;continue}if(56320>d){-1<(c-=3)&&h.push(239,191,189);e=d;continue}d=(e-55296<<10|d-56320)+65536}else e&&-1<(c-=3)&&h.push(239,191,189);e=null;if(128>d){if(0>--c)break;h.push(d)}else if(2048>d){if(0>(c-=2))break;h.push(d>>6|192,d&63|128)}else if(65536>d){if(0>(c-=3))break;h.push(d>>12|224,
d>>6&63|128,d&63|128)}else if(1114112>d){if(0>(c-=4))break;h.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw Error("Invalid code point");}return h}function E(a){for(var c=[],d=0;d<a.length;++d)c.push(a.charCodeAt(d)&255);return c}function J(a,c,d,f){for(var e=0;e<f&&!(e+d>=c.length||e>=a.length);++e)c[e+d]=a[e];return e}var K=b("base64-js"),H=b("ieee754"),L=b("isarray");l.Buffer=d;l.SlowBuffer=function(a){+a!=a&&(a=0);return d.alloc(+a)};l.INSPECT_MAX_BYTES=50;d.TYPED_ARRAY_SUPPORT=void 0!==
n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:g();l.kMaxLength=d.TYPED_ARRAY_SUPPORT?2147483647:1073741823;d.poolSize=8192;d._augment=function(a){a.__proto__=d.prototype;return a};d.from=function(a,c,d){return h(null,a,c,d)};d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0}));d.alloc=function(a,c,d){e(a);a=0>=a?k(null,a):void 0!==
c?"string"===typeof d?k(null,a).fill(c,d):k(null,a).fill(c):k(null,a);return a};d.allocUnsafe=function(a){return u(null,a)};d.allocUnsafeSlow=function(a){return u(null,a)};d.isBuffer=function(a){return!(null==a||!a._isBuffer)};d.compare=function(a,c){if(!d.isBuffer(a)||!d.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(a===c)return 0;for(var f=a.length,e=c.length,h=0,q=Math.min(f,e);h<q;++h)if(a[h]!==c[h]){f=a[h];e=c[h];break}return f<e?-1:e<f?1:0};d.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};d.concat=function(a,c){if(!L(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return d.alloc(0);var f;if(void 0===c)for(f=c=0;f<a.length;++f)c+=a[f].length;c=d.allocUnsafe(c);var e=0;for(f=0;f<a.length;++f){var h=a[f];if(!d.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(c,e);e+=h.length}return c};d.byteLength=c;d.prototype._isBuffer=!0;d.prototype.swap16=function(){var c=this.length;if(0!==c%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var d=0;d<c;d+=2)a(this,d,d+1);return this};d.prototype.swap32=function(){var c=this.length;if(0!==c%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<c;d+=4)a(this,d,d+3),a(this,d+1,d+2);return this};d.prototype.swap64=function(){var c=this.length;if(0!==c%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<c;d+=8)a(this,d,d+7),a(this,d+1,d+6),a(this,d+2,d+5),a(this,d+3,d+4);return this};d.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?x(this,0,a):q.apply(this,arguments)};d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===d.compare(this,a)};d.prototype.inspect=function(){var a="",c=l.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... "));return"<Buffer "+a+">"};d.prototype.compare=function(a,c,f,e,h){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===c&&(c=0);void 0===f&&(f=a?a.length:0);void 0===e&&(e=0);void 0===h&&(h=this.length);if(0>c||f>a.length||0>e||h>this.length)throw new RangeError("out of range index");if(e>=h&&c>=f)return 0;if(e>=h)return-1;if(c>=f)return 1;c>>>=0;f>>>=0;e>>>=0;h>>>=0;if(this===a)return 0;var q=h-e,r=f-c,g=Math.min(q,r);e=this.slice(e,h);a=a.slice(c,f);for(c=0;c<g;++c)if(e[c]!==a[c]){q=e[c];r=a[c];break}return q<r?-1:r<q?1:0};d.prototype.includes=function(a,c,d){return-1!==this.indexOf(a,c,d)};d.prototype.indexOf=
function(a,c,d){return r(this,a,c,d,!0)};d.prototype.lastIndexOf=function(a,c,d){return r(this,a,c,d,!1)};d.prototype.write=function(a,c,d,f){if(void 0===c)f="utf8",d=this.length,c=0;else if(void 0===d&&"string"===typeof c)f=c,d=this.length,c=0;else if(isFinite(c))c|=0,isFinite(d)?(d|=0,void 0===f&&(f="utf8")):(f=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-c;if(void 0===d||d>e)d=e;if(0<a.length&&(0>d||0>c)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");
f||(f="utf8");for(e=!1;;)switch(f){case "hex":a:{c=Number(c)||0;f=this.length-c;d?(d=Number(d),d>f&&(d=f)):d=f;f=a.length;if(0!==f%2)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(f=0;f<d;++f){e=parseInt(a.substr(2*f,2),16);if(isNaN(e)){a=f;break a}this[c+f]=e}a=f}return a;case "utf8":case "utf-8":return J(G(a,this.length-c),this,c,d);case "ascii":return J(E(a),this,c,d);case "latin1":case "binary":return J(E(a),this,c,d);case "base64":return J(K.toByteArray(w(a)),this,c,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":f=
a;e=this.length-c;for(var h=[],q=0;q<f.length&&!(0>(e-=2));++q){var r=f.charCodeAt(q);a=r>>8;r%=256;h.push(r);h.push(a)}return J(h,this,c,d);default:if(e)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase();e=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;d.prototype.slice=function(a,c){var f=this.length;a=~~a;c=void 0===c?f:~~c;0>a?(a+=f,0>a&&(a=0)):a>f&&(a=f);0>c?(c+=f,0>c&&(c=0)):c>f&&(c=f);c<a&&(c=a);if(d.TYPED_ARRAY_SUPPORT)c=
this.subarray(a,c),c.__proto__=d.prototype;else{f=c-a;c=new d(f,void 0);for(var e=0;e<f;++e)c[e]=this[e+a]}return c};d.prototype.readUIntLE=function(a,c,d){a|=0;c|=0;d||C(a,c,this.length);d=this[a];for(var f=1,e=0;++e<c&&(f*=256);)d+=this[a+e]*f;return d};d.prototype.readUIntBE=function(a,c,d){a|=0;c|=0;d||C(a,c,this.length);d=this[a+--c];for(var f=1;0<c&&(f*=256);)d+=this[a+--c]*f;return d};d.prototype.readUInt8=function(a,c){c||C(a,1,this.length);return this[a]};d.prototype.readUInt16LE=function(a,
c){c||C(a,2,this.length);return this[a]|this[a+1]<<8};d.prototype.readUInt16BE=function(a,c){c||C(a,2,this.length);return this[a]<<8|this[a+1]};d.prototype.readUInt32LE=function(a,c){c||C(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};d.prototype.readUInt32BE=function(a,c){c||C(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};d.prototype.readIntLE=function(a,c,d){a|=0;c|=0;d||C(a,c,this.length);d=this[a];for(var f=1,e=0;++e<c&&(f*=256);)d+=
this[a+e]*f;d>=128*f&&(d-=Math.pow(2,8*c));return d};d.prototype.readIntBE=function(a,c,d){a|=0;c|=0;d||C(a,c,this.length);d=c;for(var f=1,e=this[a+--d];0<d&&(f*=256);)e+=this[a+--d]*f;e>=128*f&&(e-=Math.pow(2,8*c));return e};d.prototype.readInt8=function(a,c){c||C(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};d.prototype.readInt16LE=function(a,c){c||C(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};d.prototype.readInt16BE=function(a,c){c||C(a,2,this.length);
a=this[a+1]|this[a]<<8;return a&32768?a|4294901760:a};d.prototype.readInt32LE=function(a,c){c||C(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};d.prototype.readInt32BE=function(a,c){c||C(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};d.prototype.readFloatLE=function(a,c){c||C(a,4,this.length);return H.read(this,a,!0,23,4)};d.prototype.readFloatBE=function(a,c){c||C(a,4,this.length);return H.read(this,a,!1,23,4)};d.prototype.readDoubleLE=function(a,
c){c||C(a,8,this.length);return H.read(this,a,!0,52,8)};d.prototype.readDoubleBE=function(a,c){c||C(a,8,this.length);return H.read(this,a,!1,52,8)};d.prototype.writeUIntLE=function(a,c,d,f){a=+a;c|=0;d|=0;f||A(this,a,c,d,Math.pow(2,8*d)-1,0);f=1;var e=0;for(this[c]=a&255;++e<d&&(f*=256);)this[c+e]=a/f&255;return c+d};d.prototype.writeUIntBE=function(a,c,d,f){a=+a;c|=0;d|=0;f||A(this,a,c,d,Math.pow(2,8*d)-1,0);f=d-1;var e=1;for(this[c+f]=a&255;0<=--f&&(e*=256);)this[c+f]=a/e&255;return c+d};d.prototype.writeUInt8=
function(a,c,f){a=+a;c|=0;f||A(this,a,c,1,255,0);d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[c]=a&255;return c+1};d.prototype.writeUInt16LE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,2,65535,0);d.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8):D(this,a,c,!0);return c+2};d.prototype.writeUInt16BE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,2,65535,0);d.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):D(this,a,c,!1);return c+2};d.prototype.writeUInt32LE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,4,4294967295,
0);d.TYPED_ARRAY_SUPPORT?(this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255):z(this,a,c,!0);return c+4};d.prototype.writeUInt32BE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,4,4294967295,0);d.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):z(this,a,c,!1);return c+4};d.prototype.writeIntLE=function(a,c,d,f){a=+a;c|=0;f||(f=Math.pow(2,8*d-1),A(this,a,c,d,f-1,-f));f=0;var e=1,h=0;for(this[c]=a&255;++f<d&&(e*=256);)0>a&&0===h&&0!==this[c+f-1]&&(h=1),this[c+
f]=(a/e>>0)-h&255;return c+d};d.prototype.writeIntBE=function(a,c,d,f){a=+a;c|=0;f||(f=Math.pow(2,8*d-1),A(this,a,c,d,f-1,-f));f=d-1;var e=1,h=0;for(this[c+f]=a&255;0<=--f&&(e*=256);)0>a&&0===h&&0!==this[c+f+1]&&(h=1),this[c+f]=(a/e>>0)-h&255;return c+d};d.prototype.writeInt8=function(a,c,f){a=+a;c|=0;f||A(this,a,c,1,127,-128);d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[c]=a&255;return c+1};d.prototype.writeInt16LE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,2,32767,-32768);d.TYPED_ARRAY_SUPPORT?
(this[c]=a&255,this[c+1]=a>>>8):D(this,a,c,!0);return c+2};d.prototype.writeInt16BE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,2,32767,-32768);d.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):D(this,a,c,!1);return c+2};d.prototype.writeInt32LE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,4,2147483647,-2147483648);d.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24):z(this,a,c,!0);return c+4};d.prototype.writeInt32BE=function(a,c,f){a=+a;c|=0;f||A(this,a,c,4,2147483647,
-2147483648);0>a&&(a=4294967295+a+1);d.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):z(this,a,c,!1);return c+4};d.prototype.writeFloatLE=function(a,c,d){return B(this,a,c,!0,d)};d.prototype.writeFloatBE=function(a,c,d){return B(this,a,c,!1,d)};d.prototype.writeDoubleLE=function(a,c,d){return y(this,a,c,!0,d)};d.prototype.writeDoubleBE=function(a,c,d){return y(this,a,c,!1,d)};d.prototype.copy=function(a,c,f,e){f||(f=0);e||0===e||(e=this.length);c>=a.length&&
(c=a.length);c||(c=0);0<e&&e<f&&(e=f);if(e===f||0===a.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>f||f>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-c<e-f&&(e=a.length-c+f);var h=e-f;if(this===a&&f<c&&c<e)for(e=h-1;0<=e;--e)a[e+c]=this[e+f];else if(1E3>h||!d.TYPED_ARRAY_SUPPORT)for(e=0;e<h;++e)a[e+c]=this[e+f];else Uint8Array.prototype.set.call(a,
this.subarray(f,f+h),c);return h};d.prototype.fill=function(a,c,f,e){if("string"===typeof a){"string"===typeof c?(e=c,c=0,f=this.length):"string"===typeof f&&(e=f,f=this.length);if(1===a.length){var h=a.charCodeAt(0);256>h&&(a=h)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);}else"number"===typeof a&&(a&=255);if(0>c||this.length<c||this.length<f)throw new RangeError("Out of range index");
if(f<=c)return this;c>>>=0;f=void 0===f?this.length:f>>>0;a||(a=0);if("number"===typeof a)for(e=c;e<f;++e)this[e]=a;else for(a=d.isBuffer(a)?a:G((new d(a,e)).toString()),h=a.length,e=0;e<f-c;++e)this[e+c]=a[e%h];return this};var M=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":2,ieee754:6,isarray:7}],5:[function(b,p,l){function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||
void 0}function g(d){return"function"===typeof d}function k(d){return"object"===typeof d&&null!==d}p.exports=n;n.EventEmitter=n;n.prototype._events=void 0;n.prototype._maxListeners=void 0;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(d){if("number"!==typeof d||0>d||isNaN(d))throw TypeError("n must be a positive number");this._maxListeners=d;return this};n.prototype.emit=function(d){var h;this._events||(this._events={});if("error"===d&&(!this._events.error||k(this._events.error)&&!this._events.error.length)){var e=
arguments[1];if(e instanceof Error)throw e;var b=Error('Uncaught, unspecified "error" event. ('+e+")");b.context=e;throw b;}b=this._events[d];if(void 0===b)return!1;if(g(b))switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:e=Array.prototype.slice.call(arguments,1),b.apply(this,e)}else if(k(b)){e=Array.prototype.slice.call(arguments,1);var m=b.slice();b=m.length;for(h=0;h<b;h++)m[h].apply(this,e)}return!0};
n.prototype.addListener=function(d,h){if(!g(h))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",d,g(h.listener)?h.listener:h);this._events[d]?k(this._events[d])?this._events[d].push(h):this._events[d]=[this._events[d],h]:this._events[d]=h;k(this._events[d])&&!this._events[d].warned&&(h=void 0!==this._maxListeners?this._maxListeners:n.defaultMaxListeners)&&0<h&&this._events[d].length>h&&(this._events[d].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",
this._events[d].length),"function"===typeof console.trace&&console.trace());return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(d,h){function e(){this.removeListener(d,e);k||(k=!0,h.apply(this,arguments))}if(!g(h))throw TypeError("listener must be a function");var k=!1;e.listener=h;this.on(d,e);return this};n.prototype.removeListener=function(d,h){if(!g(h))throw TypeError("listener must be a function");if(!this._events||!this._events[d])return this;var e=this._events[d];
var b=e.length;var m=-1;if(e===h||g(e.listener)&&e.listener===h)delete this._events[d],this._events.removeListener&&this.emit("removeListener",d,h);else if(k(e)){for(;0<b--;)if(e[b]===h||e[b].listener&&e[b].listener===h){m=b;break}if(0>m)return this;1===e.length?(e.length=0,delete this._events[d]):e.splice(m,1);this._events.removeListener&&this.emit("removeListener",d,h)}return this};n.prototype.removeAllListeners=function(d){if(!this._events)return this;if(!this._events.removeListener)return 0===
arguments.length?this._events={}:this._events[d]&&delete this._events[d],this;if(0===arguments.length){for(h in this._events)"removeListener"!==h&&this.removeAllListeners(h);this.removeAllListeners("removeListener");this._events={};return this}var h=this._events[d];if(g(h))this.removeListener(d,h);else if(h)for(;h.length;)this.removeListener(d,h[h.length-1]);delete this._events[d];return this};n.prototype.listeners=function(d){return this._events&&this._events[d]?g(this._events[d])?[this._events[d]]:
this._events[d].slice():[]};n.prototype.listenerCount=function(d){if(this._events){d=this._events[d];if(g(d))return 1;if(d)return d.length}return 0};n.listenerCount=function(d,h){return d.listenerCount(h)}},{}],6:[function(b,p,l){l.read=function(b,g,k,d,h){var e=8*h-d-1;var u=(1<<e)-1,m=u>>1,t=-7;h=k?h-1:0;var f=k?-1:1,c=b[g+h];h+=f;k=c&(1<<-t)-1;c>>=-t;for(t+=e;0<t;k=256*k+b[g+h],h+=f,t-=8);e=k&(1<<-t)-1;k>>=-t;for(t+=d;0<t;e=256*e+b[g+h],h+=f,t-=8);if(0===k)k=1-m;else{if(k===u)return e?NaN:Infinity*
(c?-1:1);e+=Math.pow(2,d);k-=m}return(c?-1:1)*e*Math.pow(2,k-d)};l.write=function(b,g,k,d,h,e){var u,m=8*e-h-1,t=(1<<m)-1,f=t>>1,c=23===h?Math.pow(2,-24)-Math.pow(2,-77):0;e=d?0:e-1;var q=d?1:-1,a=0>g||0===g&&0>1/g?1:0;g=Math.abs(g);isNaN(g)||Infinity===g?(g=isNaN(g)?1:0,d=t):(d=Math.floor(Math.log(g)/Math.LN2),1>g*(u=Math.pow(2,-d))&&(d--,u*=2),g=1<=d+f?g+c/u:g+c*Math.pow(2,1-f),2<=g*u&&(d++,u/=2),d+f>=t?(g=0,d=t):1<=d+f?(g=(g*u-1)*Math.pow(2,h),d+=f):(g=g*Math.pow(2,f-1)*Math.pow(2,h),d=0));for(;8<=
h;b[k+e]=g&255,e+=q,g/=256,h-=8);d=d<<h|g;for(m+=h;0<m;b[k+e]=d&255,e+=q,d/=256,m-=8);b[k+e-q]|=128*a}},{}],7:[function(b,p,l){var n={}.toString;p.exports=Array.isArray||function(g){return"[object Array]"==n.call(g)}},{}],8:[function(b,p,l){function n(){throw Error("setTimeout has not been defined");}function g(){throw Error("clearTimeout has not been defined");}function k(a){if(t===setTimeout)return setTimeout(a,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(a,0);try{return t(a,0)}catch(x){try{return t.call(null,
a,0)}catch(C){return t.call(this,a,0)}}}function d(a){if(f===clearTimeout)return clearTimeout(a);if((f===g||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(a);try{return f(a)}catch(x){try{return f.call(null,a)}catch(C){return f.call(this,a)}}}function h(){q&&a&&(q=!1,a.length?c=a.concat(c):r=-1,c.length&&e())}function e(){if(!q){var f=k(h);q=!0;for(var e=c.length;e;){a=c;for(c=[];++r<e;)a&&a[r].run();r=-1;e=c.length}a=null;q=!1;d(f)}}function u(a,c){this.fun=a;this.array=c}function m(){}b=p.exports=
{};try{var t="function"===typeof setTimeout?setTimeout:n}catch(v){t=n}try{var f="function"===typeof clearTimeout?clearTimeout:g}catch(v){f=g}var c=[],q=!1,a,r=-1;b.nextTick=function(a){var d=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)d[f-1]=arguments[f];c.push(new u(a,d));1!==c.length||q||k(e)};u.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=m;b.addListener=m;b.once=
m;b.off=m;b.removeListener=m;b.removeAllListeners=m;b.emit=m;b.prependListener=m;b.prependOnceListener=m;b.listeners=function(a){return[]};b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");};b.umask=function(){return 0}},{}],9:[function(b,p,l){b=b("../src/lib");p={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;",
"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;",
"X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;",
"X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;",
"X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;",
"X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;",
"X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;",
"Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in p)l=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),b.addStyleRule(l,p[n])},{"../src/lib":414}],10:[function(b,p,l){p.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",
ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1E3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",
ascent:850,descent:-150},zoombox:{width:1E3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1E3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1E3,
path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1E3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1E3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",
ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",
ascent:850,descent:-150},"z-axis":{width:1E3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",
ascent:850,descent:-150},"3d_rotate":{width:1E3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",
ascent:850,descent:-150},camera:{width:1E3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",
ascent:850,descent:-150},movie:{width:1E3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",
ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,
descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",
ascent:850,descent:-150},selectbox:{width:1E3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1E3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",
ascent:850,descent:-150}}},{}],11:[function(b,p,l){p.exports=b("../src/traces/bar")},{"../src/traces/bar":531}],12:[function(b,p,l){p.exports=b("../src/core")},{"../src/core":398}],13:[function(b,p,l){p.exports=b("../src/traces/mesh3d")},{"../src/traces/mesh3d":545}],14:[function(b,p,l){p.exports=b("../src/traces/pie")},{"../src/traces/pie":552}],15:[function(b,p,l){p.exports=b("../src/traces/scatter")},{"../src/traces/scatter":577}],16:[function(b,p,l){p.exports=b("../src/traces/scatter3d")},{"../src/traces/scatter3d":563}],
17:[function(b,p,l){p.exports=b("../src/traces/scatterternary")},{"../src/traces/scatterternary":595}],18:[function(b,p,l){p.exports=function(b,m){function t(d,f,e,h){var q=1/b.clientHeight,r=q*(f-C),g=q*(e-A),y=u.flipX?1:-1,k=u.flipY?1:-1,m=Math.PI*u.rotateSpeed;q=n();d&1?h.shift?c.rotate(q,0,0,-r*m):c.rotate(q,y*m*r,-k*m*g,0):d&2?c.pan(q,-u.translateSpeed*r*a,u.translateSpeed*g*a,0):d&4&&(d=u.zoomSpeed*g/window.innerHeight*(q-c.lastT())*50,c.pan(q,0,0,a*(Math.exp(d)-1)));C=f;A=e;D=h}b=b||document.body;
m=m||{};var f=[.01,Infinity];"distanceLimits"in m&&(f[0]=m.distanceLimits[0],f[1]=m.distanceLimits[1]);"zoomMin"in m&&(f[0]=m.zoomMin);"zoomMax"in m&&(f[1]=m.zoomMax);var c=g({center:m.center||[0,0,0],up:m.up||[0,1,0],eye:m.eye||[0,0,10],mode:m.mode||"orbit",distanceLimits:f}),q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,r=b.clientWidth,v=b.clientHeight,u={view:c,element:b,delay:m.delay||16,rotateSpeed:m.rotateSpeed||1,zoomSpeed:m.zoomSpeed||1,translateSpeed:m.translateSpeed||1,flipX:!!m.flipX,flipY:!!m.flipY,
modes:c.modes,tick:function(){var d=n(),f=this.delay;c.idle(d-f);c.flush(d-(100+2*f));c.recalcMatrix(d-2*f);d=!0;f=c.computedMatrix;for(var e=0;16>e;++e)d=d&&q[e]===f[e],q[e]=f[e];f=b.clientWidth===r&&b.clientHeight===v;r=b.clientWidth;v=b.clientHeight;if(d)return!f;a=Math.exp(c.computedRadius[0]);return!0},lookAt:function(a,d,f){c.lookAt(c.lastT(),a,d,f)},rotate:function(a,d,f){c.rotate(c.lastT(),a,d,f)},pan:function(a,d,f){c.pan(c.lastT(),a,d,f)},translate:function(a,d,f){c.translate(c.lastT(),
a,d,f)}};Object.defineProperties(u,{matrix:{get:function(){return c.computedMatrix},set:function(a){c.setMatrix(c.lastT(),a);return c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(a){c.setMode(a);return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(a){c.lookAt(c.lastT(),a);return c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(a){c.lookAt(c.lastT(),null,a);return c.computedEye},
enumerable:!0},up:{get:function(){return c.computedUp},set:function(a){c.lookAt(c.lastT(),null,null,a);return c.computedUp},enumerable:!0},distance:{get:function(){return a},set:function(a){c.setDistance(c.lastT(),a);return a},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(f)},set:function(a){c.setDistanceLimits(a);return a},enumerable:!0}});b.addEventListener("contextmenu",function(a){a.preventDefault();return!1});var C=0,A=0,D={shift:!1,control:!1,alt:!1,meta:!1};k(b,t);
b.addEventListener("touchstart",function(a){var c=h(a.changedTouches[0],b);t(0,c[0],c[1],D);t(1,c[0],c[1],D);a.preventDefault()},e?{passive:!1}:!1);b.addEventListener("touchmove",function(a){var c=h(a.changedTouches[0],b);t(1,c[0],c[1],D);a.preventDefault()},e?{passive:!1}:!1);b.addEventListener("touchend",function(a){h(a.changedTouches[0],b);t(0,C,A,D);a.preventDefault()},e?{passive:!1}:!1);d(b,function(d,f,e){var h=u.flipX?1:-1,q=u.flipY?1:-1;e=n();Math.abs(d)>Math.abs(f)?c.rotate(e,0,0,-d*h*Math.PI*
u.rotateSpeed/window.innerWidth):(d=u.zoomSpeed*q*f/window.innerHeight*(e-c.lastT())/100,c.pan(e,0,0,a*(Math.exp(d)-1)))},!0);return u};var n=b("right-now"),g=b("3d-view"),k=b("mouse-change"),d=b("mouse-wheel"),h=b("mouse-event-offset"),e=b("has-passive-events")},{"3d-view":19,"has-passive-events":175,"mouse-change":192,"mouse-event-offset":193,"mouse-wheel":195,"right-now":229}],19:[function(b,p,l){function n(d,h){this._controllerNames=Object.keys(d);this._controllerList=this._controllerNames.map(function(e){return d[e]});
this._mode=h;this._active=d[h];this._active||(this._mode="turntable",this._active=d.turntable);this.modes=this._controllerNames;this.computedMatrix=this._active.computedMatrix;this.computedEye=this._active.computedEye;this.computedUp=this._active.computedUp;this.computedCenter=this._active.computedCenter;this.computedRadius=this._active.computedRadius}p.exports=function(e){e=e||{};var h=e.eye||[0,0,1],m=e.center||[0,0,0],b=e.up||[0,1,0],f=e.distanceLimits||[0,Infinity];e=e.mode||"turntable";var c=
g(),q=k(),a=d();c.setDistanceLimits(f[0],f[1]);c.lookAt(0,h,m,b);q.setDistanceLimits(f[0],f[1]);q.lookAt(0,h,m,b);a.setDistanceLimits(f[0],f[1]);a.lookAt(0,h,m,b);return new n({turntable:c,orbit:q,matrix:a},e)};var g=b("turntable-camera-controller"),k=b("orbit-camera-controller"),d=b("matrix-camera-controller"),h=n.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach(function(d){for(var e=d[0],g=[],
k=0;k<d[1];++k)g.push("a"+k);d="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+d[0]+"("+g.join()+")}";h[e]=Function.apply(null,g.concat(d))});h.recalcMatrix=function(d){this._active.recalcMatrix(d)};h.getDistance=function(d){return this._active.getDistance(d)};h.getDistanceLimits=function(d){return this._active.getDistanceLimits(d)};h.lastT=function(){return this._active.lastT()};h.setMode=function(d){if(d!==this._mode){var e=this._controllerNames.indexOf(d);if(!(0>e)){var h=this._active;
e=this._controllerList[e];var g=Math.max(h.lastT(),e.lastT());h.recalcMatrix(g);e.setMatrix(g,h.computedMatrix);this._active=e;this._mode=d;this.computedMatrix=this._active.computedMatrix;this.computedEye=this._active.computedEye;this.computedUp=this._active.computedUp;this.computedCenter=this._active.computedCenter;this.computedRadius=this._active.computedRadius}}};h.getMode=function(){return this._mode}},{"matrix-camera-controller":190,"orbit-camera-controller":204,"turntable-camera-controller":259}],
20:[function(b,p,l){l="undefined"===typeof WeakMap?b("weak-map"):WeakMap;var n=b("gl-buffer"),g=b("gl-vao"),k=new l;p.exports=function(d){var h=k.get(d),e=h&&(h._triangleBuffer.handle||h._triangleBuffer.buffer);e&&d.isBuffer(e)||(e=n(d,new Float32Array([-1,-1,-1,4,4,-1])),h=g(d,[{buffer:e,type:d.FLOAT,size:2}]),h._triangleBuffer=e,k.set(d,h));h.bind();d.drawArrays(d.TRIANGLES,0,3);h.unbind()}},{"gl-buffer":108,"gl-vao":157,"weak-map":267}],21:[function(b,p,l){var n=b("pad-left");p.exports=function(g,
k,d){k="number"===typeof k?k:1;d=d||": ";g=g.split(/\r?\n/);var h=String(g.length+k-1).length;return g.map(function(e,g){g+=k;return n(g,h-String(g).length)+d+e}).join("\n")}},{"pad-left":205}],22:[function(b,p,l){p.exports=function(g){var k=g.length;if(0===k)return[];if(1===k)return[0];for(var d=g[0].length,h=[g[0]],e=[0],b=1;b<k;++b){h.push(g[b]);a:{var m=h;for(var t=d,f=Array(t+1),c=0;c<m.length;++c)f[c]=m[c];for(c=0;c<=m.length;++c){for(var q=m.length;q<=t;++q){for(var a=Array(t),r=0;r<t;++r)a[r]=
Math.pow(q+1-c,r);f[q]=a}if(n.apply(void 0,f)){m=!0;break a}}m=!1}if(m){if(e.push(b),e.length===d+1)break}else h.pop()}return e};var n=b("robust-orientation")},{"robust-orientation":235}],23:[function(b,p,l){p.exports=function(k,d){return n(d).filter(function(h){for(var e=Array(h.length),b=0;b<h.length;++b)e[b]=d[h[b]];return 1>g(e)*k})};var n=b("delaunay-triangulate"),g=b("circumradius")},{circumradius:62,"delaunay-triangulate":88}],24:[function(b,p,l){p.exports=function(k,d){return g(n(k,d))};var n=
b("alpha-complex"),g=b("simplicial-complex-boundary")},{"alpha-complex":23,"simplicial-complex-boundary":242}],25:[function(b,p,l){p.exports=function(b){return atob(b)}},{}],26:[function(b,p,l){function n(g){for(var d=0,h=0;h<g.length;++h)d+=g[h];return d}p.exports=function(k,d){for(var h=d.length,e=Array(h+1),b=0;b<h;++b){for(var m=Array(h+1),t=0;t<=h;++t)m[t]=k[t][b];e[b]=m}e[h]=Array(h+1);for(b=0;b<=h;++b)e[h][b]=1;k=Array(h+1);for(b=0;b<h;++b)k[b]=d[b];k[h]=1;d=g(e,k);e=n(d[h+1]);0===e&&(e=1);
k=Array(h+1);for(b=0;b<=h;++b)k[b]=n(d[b])/e;return k};var g=b("robust-linear-solve")},{"robust-linear-solve":234}],27:[function(b,p,l){var n=b("./lib/rationalize");p.exports=function(g,k){return n(g[0].mul(k[1]).add(k[0].mul(g[1])),g[1].mul(k[1]))}},{"./lib/rationalize":37}],28:[function(b,p,l){p.exports=function(b,g){return b[0].mul(g[1]).cmp(g[0].mul(b[1]))}},{}],29:[function(b,p,l){var n=b("./lib/rationalize");p.exports=function(g,k){return n(g[0].mul(k[1]),g[1].mul(k[0]))}},{"./lib/rationalize":37}],
30:[function(b,p,l){function n(b,t){if(g(b))return t?u(b,n(t)):[b[0].clone(),b[1].clone()];var f=0;if(k(b))b=b.clone();else if("string"===typeof b)b=h(b);else{if(0===b)return[d(0),d(1)];if(b!==Math.floor(b))for(;b!==Math.floor(b);)b*=Math.pow(2,256),f-=256;b=d(b)}if(g(t))b.mul(t[1]),t=t[0].clone();else if(k(t))t=t.clone();else if("string"===typeof t)t=h(t);else if(t){if(t!==Math.floor(t))for(;t!==Math.floor(t);)t*=Math.pow(2,256),f+=256;t=d(t)}else t=d(1);0<f?b=b.ushln(f):0>f&&(t=t.ushln(-f));return e(b,
t)}var g=b("./is-rat"),k=b("./lib/is-bn"),d=b("./lib/num-to-bn"),h=b("./lib/str-to-bn"),e=b("./lib/rationalize"),u=b("./div");p.exports=n},{"./div":29,"./is-rat":31,"./lib/is-bn":35,"./lib/num-to-bn":36,"./lib/rationalize":37,"./lib/str-to-bn":38}],31:[function(b,p,l){var n=b("./lib/is-bn");p.exports=function(g){return Array.isArray(g)&&2===g.length&&n(g[0])&&n(g[1])}},{"./lib/is-bn":35}],32:[function(b,p,l){var n=b("bn.js");p.exports=function(g){return g.cmp(new n(0))}},{"bn.js":45}],33:[function(b,
p,l){var n=b("./bn-sign");p.exports=function(g){var k=g.length,d=g.words,h=0;if(1===k)h=d[0];else if(2===k)h=d[0]+67108864*d[1];else for(var e=0;e<k;e++)h+=d[e]*Math.pow(67108864,e);return n(g)*h}},{"./bn-sign":32}],34:[function(b,p,l){var n=b("double-bits"),g=b("bit-twiddle").countTrailingZeros;p.exports=function(k){var d=g(n.lo(k));if(32>d)return d;k=g(n.hi(k));return 20<k?52:k+32}},{"bit-twiddle":44,"double-bits":89}],35:[function(b,p,l){b("bn.js");p.exports=function(b){return b&&"object"===typeof b&&
!!b.words}},{"bn.js":45}],36:[function(b,p,l){var n=b("bn.js"),g=b("double-bits");p.exports=function(k){var d=g.exponent(k);return 52>d?new n(k):(new n(k*Math.pow(2,52-d))).ushln(d-52)}},{"bn.js":45,"double-bits":89}],37:[function(b,p,l){var n=b("./num-to-bn"),g=b("./bn-sign");p.exports=function(k,d){var h=g(k),e=g(d);if(0===h)return[n(0),n(1)];if(0===e)return[n(0),n(0)];0>e&&(k=k.neg(),d=d.neg());h=k.gcd(d);return h.cmpn(1)?[k.div(h),d.div(h)]:[k,d]}},{"./bn-sign":32,"./num-to-bn":36}],38:[function(b,
p,l){var n=b("bn.js");p.exports=function(g){return new n(g)}},{"bn.js":45}],39:[function(b,p,l){var n=b("./lib/rationalize");p.exports=function(g,k){return n(g[0].mul(k[0]),g[1].mul(k[1]))}},{"./lib/rationalize":37}],40:[function(b,p,l){var n=b("./lib/bn-sign");p.exports=function(g){return n(g[0])*n(g[1])}},{"./lib/bn-sign":32}],41:[function(b,p,l){var n=b("./lib/rationalize");p.exports=function(g,k){return n(g[0].mul(k[1]).sub(g[1].mul(k[0])),g[1].mul(k[1]))}},{"./lib/rationalize":37}],42:[function(b,
p,l){var n=b("./lib/bn-to-num"),g=b("./lib/ctz");p.exports=function(k){var d=k[0];k=k[1];if(0===d.cmpn(0))return 0;var h=d.abs().divmod(k.abs()),e=n(h.div);h=h.mod;d=d.negative!==k.negative?-1:1;if(0===h.cmpn(0))return d*e;if(e){var b=g(e)+4;k=n(h.ushln(b).divRound(k));return d*(e+k*Math.pow(2,-b))}e=k.bitLength()-h.bitLength()+53;k=n(h.ushln(e).divRound(k));if(1023>e)return d*k*Math.pow(2,-e);k*=Math.pow(2,-1023);return d*k*Math.pow(2,1023-e)}},{"./lib/bn-to-num":33,"./lib/ctz":34}],43:[function(b,
p,l){function n(g,d,h,e,b,m){g=["function ",g,"(a,l,h,",e.join(","),"){",m?"":"var i=",h?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",b?".get(m)":"[m]"];m?0>d.indexOf("c")?g.push(";if(x===y){return m}else if(x<=y){"):g.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):g.push(";if(",d,"){i=m;");h?g.push("l=m+1}else{h=m-1}"):g.push("h=m-1}else{l=m+1}");g.push("}");m?g.push("return -1};"):g.push("return i};");return g.join("")}function g(g,d,h,e){return(new Function([n("A","x"+g+"y",d,["y"],
!1,e),n("B","x"+g+"y",d,["y"],!0,e),n("P","c(x,y)"+g+"0",d,["y","c"],!1,e),n("Q","c(x,y)"+g+"0",d,["y","c"],!0,e),"function dispatchBsearch",h,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",
h].join("")))()}p.exports={ge:g(">=",!1,"GE"),gt:g(">",!1,"GT"),lt:g("<",!0,"LT"),le:g("<=",!0,"LE"),eq:g("-",!0,"EQ",!0)}},{}],44:[function(b,p,l){function n(g){var d=32;(g&=-g)&&d--;g&65535&&(d-=16);g&16711935&&(d-=8);g&252645135&&(d-=4);g&858993459&&(d-=2);g&1431655765&&--d;return d}"use restrict";l.INT_BITS=32;l.INT_MAX=2147483647;l.INT_MIN=-2147483648;l.sign=function(g){return(0<g)-(0>g)};l.abs=function(g){var d=g>>31;return(g^d)-d};l.min=function(g,d){return d^(g^d)&-(g<d)};l.max=function(g,
d){return g^(g^d)&-(g<d)};l.isPow2=function(g){return!(g&g-1)&&!!g};l.log2=function(g){var d=(65535<g)<<4;g>>>=d;var h=(255<g)<<3;g>>>=h;d|=h;h=(15<g)<<2;g>>>=h;d|=h;h=(3<g)<<1;return d|h|g>>>h>>1};l.log10=function(g){return 1E9<=g?9:1E8<=g?8:1E7<=g?7:1E6<=g?6:1E5<=g?5:1E4<=g?4:1E3<=g?3:100<=g?2:10<=g?1:0};l.popCount=function(g){g-=g>>>1&1431655765;g=(g&858993459)+(g>>>2&858993459);return 16843009*(g+(g>>>4)&252645135)>>>24};l.countTrailingZeros=n;l.nextPow2=function(g){g+=0===g;--g;g|=g>>>1;g|=g>>>
2;g|=g>>>4;g|=g>>>8;return(g|g>>>16)+1};l.prevPow2=function(g){g|=g>>>1;g|=g>>>2;g|=g>>>4;g|=g>>>8;g|=g>>>16;return g-(g>>>1)};l.parity=function(g){g^=g>>>16;g^=g>>>8;return 27030>>>((g^g>>>4)&15)&1};var g=Array(256);(function(g){for(var d=0;256>d;++d){var h=d,e=d,b=7;for(h>>>=1;h;h>>>=1)e<<=1,e|=h&1,--b;g[d]=e<<b&255}})(g);l.reverse=function(b){return g[b&255]<<24|g[b>>>8&255]<<16|g[b>>>16&255]<<8|g[b>>>24&255]};l.interleave2=function(g,d){g&=65535;g=(g|g<<8)&16711935;g=(g|g<<4)&252645135;g=(g|g<<
2)&858993459;d&=65535;d=(d|d<<8)&16711935;d=(d|d<<4)&252645135;d=(d|d<<2)&858993459;return(g|g<<1)&1431655765|((d|d<<1)&1431655765)<<1};l.deinterleave2=function(g,d){g=g>>>d&1431655765;g=(g|g>>>1)&858993459;g=(g|g>>>2)&252645135;g=(g|g>>>4)&16711935;return((g|g>>>16)&65535)<<16>>16};l.interleave3=function(g,d,h){g&=1023;g=(g|g<<16)&4278190335;g=(g|g<<8)&251719695;g=(g|g<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;h&=1023;h=(h|h<<16)&4278190335;h=(h|h<<
8)&251719695;h=(h|h<<4)&3272356035;return(g|g<<2)&1227133513|((d|d<<2)&1227133513)<<1|((h|h<<2)&1227133513)<<2};l.deinterleave3=function(g,d){g=g>>>d&1227133513;g=(g|g>>>2)&3272356035;g=(g|g>>>4)&251719695;g=(g|g>>>8)&4278190335;return((g|g>>>16)&1023)<<22>>22};l.nextCombination=function(g){var d=g|g-1;return d+1|(~d&-~d)-1>>>n(g)+1}},{}],45:[function(b,p,l){(function(n,g){function k(a,c){if(!a)throw Error(c||"Assertion failed");}function d(a,c){a.super_=c;var d=function(){};d.prototype=c.prototype;
a.prototype=new d;a.prototype.constructor=a}function h(a,c,d){if(h.isBN(a))return a;this.negative=0;this.words=null;this.length=0;this.red=null;if(null!==a){if("le"===c||"be"===c)d=c,c=10;this._init(a||0,c||10,d||"be")}}function e(a,c,d){var f=0;for(d=Math.min(a.length,d);c<d;c++){var e=a.charCodeAt(c)-48;f<<=4;f=49<=e&&54>=e?f|e-49+10:17<=e&&22>=e?f|e-17+10:f|e&15}return f}function u(a,c,d,f){var e=0;for(d=Math.min(a.length,d);c<d;c++){var g=a.charCodeAt(c)-48;e*=f;e=49<=g?e+(g-49+10):17<=g?e+(g-
17+10):e+g}return e}function m(a,c,d){d.negative=c.negative^a.negative;var f=a.length+c.length|0;d.length=f;f=f-1|0;var e=a.words[0]|0,g=c.words[0]|0;e*=g;var h=e/67108864|0;d.words[0]=e&67108863;for(var q=1;q<f;q++){var r=h>>>26,y=h&67108863;h=Math.min(q,c.length-1);for(var b=Math.max(0,q-a.length+1);b<=h;b++)e=a.words[q-b|0]|0,g=c.words[b]|0,e=e*g+y,r+=e/67108864|0,y=e&67108863;d.words[q]=y|0;h=r|0}0!==h?d.words[q]=h|0:d.length--;return d.strip()}function t(a,c){this.x=a;this.y=c}function f(a,c){this.name=
a;this.p=new h(c,16);this.n=this.p.bitLength();this.k=(new h(1)).iushln(this.n).isub(this.p);this.tmp=this._tmp()}function c(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function a(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function r(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}
function v(a){"string"===typeof a?(a=h._prime(a),this.m=a.p,this.prime=a):(k(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null)}function x(a){v.call(this,a);this.shift=this.m.bitLength();0!==this.shift%26&&(this.shift+=26-this.shift%26);this.r=(new h(1)).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}"object"===typeof n?n.exports=
h:g.BN=h;h.BN=h;h.wordSize=26;try{var C=b("buffer").Buffer}catch(y){}h.isBN=function(a){return a instanceof h?!0:null!==a&&"object"===typeof a&&a.constructor.wordSize===h.wordSize&&Array.isArray(a.words)};h.max=function(a,c){return 0<a.cmp(c)?a:c};h.min=function(a,c){return 0>a.cmp(c)?a:c};h.prototype._init=function(a,c,d){if("number"===typeof a)return this._initNumber(a,c,d);if("object"===typeof a)return this._initArray(a,c,d);"hex"===c&&(c=16);k(c===(c|0)&&2<=c&&36>=c);a=a.toString().replace(/\s+/g,
"");var f=0;"-"===a[0]&&f++;16===c?this._parseHex(a,f):this._parseBase(a,c,f);"-"===a[0]&&(this.negative=1);this.strip();"le"===d&&this._initArray(this.toArray(),c,d)};h.prototype._initNumber=function(a,c,d){0>a&&(this.negative=1,a=-a);67108864>a?(this.words=[a&67108863],this.length=1):4503599627370496>a?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(k(9007199254740992>a),this.words=[a&67108863,a/67108864&67108863,1],this.length=3);"le"===d&&this._initArray(this.toArray(),c,d)};h.prototype._initArray=
function(a,c,d){k("number"===typeof a.length);if(0>=a.length)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3);this.words=Array(this.length);for(c=0;c<this.length;c++)this.words[c]=0;var f=0;if("be"===d)for(c=a.length-1,d=0;0<=c;c-=3){var e=a[c]|a[c-1]<<8|a[c-2]<<16;this.words[d]|=e<<f&67108863;this.words[d+1]=e>>>26-f&67108863;f+=24;26<=f&&(f-=26,d++)}else if("le"===d)for(d=c=0;c<a.length;c+=3)e=a[c]|a[c+1]<<8|a[c+2]<<16,this.words[d]|=e<<f&67108863,this.words[d+1]=e>>>26-
f&67108863,f+=24,26<=f&&(f-=26,d++);return this.strip()};h.prototype._parseHex=function(a,c){this.length=Math.ceil((a.length-c)/6);this.words=Array(this.length);for(var d=0;d<this.length;d++)this.words[d]=0;var f,g=0;d=a.length-6;for(f=0;d>=c;d-=6){var h=e(a,d,d+6);this.words[f]|=h<<g&67108863;this.words[f+1]|=h>>>26-g&4194303;g+=24;26<=g&&(g-=26,f++)}d+6!==c&&(h=e(a,c,d+6),this.words[f]|=h<<g&67108863,this.words[f+1]|=h>>>26-g&4194303);this.strip()};h.prototype._parseBase=function(a,c,d){this.words=
[0];this.length=1;for(var f=0,e=1;67108863>=e;e*=c)f++;f--;e=e/c|0;var g=a.length-d,h=g%f;g=Math.min(g,g-h)+d;for(var q=d;q<g;q+=f)d=u(a,q,q+f,c),this.imuln(e),67108864>this.words[0]+d?this.words[0]+=d:this._iaddn(d);if(0!==h){f=1;d=u(a,q,a.length,c);for(q=0;q<h;q++)f*=c;this.imuln(f);67108864>this.words[0]+d?this.words[0]+=d:this._iaddn(d)}};h.prototype.copy=function(a){a.words=Array(this.length);for(var c=0;c<this.length;c++)a.words[c]=this.words[c];a.length=this.length;a.negative=this.negative;
a.red=this.red};h.prototype.clone=function(){var a=new h(null);this.copy(a);return a};h.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this};h.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()};h.prototype._normSign=function(){1===this.length&&0===this.words[0]&&(this.negative=0);return this};h.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=" 0 00 000 0000 00000 000000 0000000 00000000 000000000 0000000000 00000000000 000000000000 0000000000000 00000000000000 000000000000000 0000000000000000 00000000000000000 000000000000000000 0000000000000000000 00000000000000000000 000000000000000000000 0000000000000000000000 00000000000000000000000 000000000000000000000000 0000000000000000000000000".split(" "),
D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1E7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64E6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243E5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(a,c){a=a||10;c=c|0||1;if(16===a||"hex"===a){var d="";for(var f=a=0,e=0;e<this.length;e++){var g=
this.words[e],h=((g<<a|f)&16777215).toString(16);f=g>>>24-a&16777215;d=0!==f||e!==this.length-1?A[6-h.length]+h+d:h+d;a+=2;26<=a&&(a-=26,e--)}for(0!==f&&(d=f.toString(16)+d);0!==d.length%c;)d="0"+d;0!==this.negative&&(d="-"+d);return d}if(a===(a|0)&&2<=a&&36>=a){f=D[a];e=z[a];d="";g=this.clone();for(g.negative=0;!g.isZero();)h=g.modn(e).toString(a),g=g.idivn(e),d=g.isZero()?h+d:A[f-h.length]+h+d;for(this.isZero()&&(d="0"+d);0!==d.length%c;)d="0"+d;0!==this.negative&&(d="-"+d);return d}k(!1,"Base should be between 2 and 36")};
h.prototype.toNumber=function(){var a=this.words[0];2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:2<this.length&&k(!1,"Number can only safely store up to 53 bits");return 0!==this.negative?-a:a};h.prototype.toJSON=function(){return this.toString(16)};h.prototype.toBuffer=function(a,c){k("undefined"!==typeof C);return this.toArrayLike(C,a,c)};h.prototype.toArray=function(a,c){return this.toArrayLike(Array,a,c)};h.prototype.toArrayLike=
function(a,c,d){var f=this.byteLength();d=d||Math.max(1,f);k(f<=d,"byte array longer than desired length");k(0<d,"Requested array length <= 0");this.strip();var e="le"===c;a=new a(d);c=this.clone();if(e){for(e=0;!c.isZero();e++)f=c.andln(255),c.iushrn(8),a[e]=f;for(;e<d;e++)a[e]=0}else{for(e=0;e<d-f;e++)a[e]=0;for(e=0;!c.isZero();e++)f=c.andln(255),c.iushrn(8),a[d-e-1]=f}return a};h.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var c=0;4096<=a&&(c+=13,a>>>=13);64<=
a&&(c+=7,a>>>=7);8<=a&&(c+=4,a>>>=4);2<=a&&(c+=2,a>>>=2);return c+a};h.prototype._zeroBits=function(a){if(0===a)return 26;var c=0;0===(a&8191)&&(c+=13,a>>>=13);0===(a&127)&&(c+=7,a>>>=7);0===(a&15)&&(c+=4,a>>>=4);0===(a&3)&&(c+=2,a>>>=2);0===(a&1)&&c++;return c};h.prototype.bitLength=function(){var a=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+a};h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,c=0;c<this.length;c++){var d=this._zeroBits(this.words[c]);
a+=d;if(26!==d)break}return a};h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)};h.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()};h.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()};h.prototype.isNeg=function(){return 0!==this.negative};h.prototype.neg=function(){return this.clone().ineg()};h.prototype.ineg=function(){this.isZero()||(this.negative^=1);return this};h.prototype.iuor=
function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var c=0;c<a.length;c++)this.words[c]|=a.words[c];return this.strip()};h.prototype.ior=function(a){k(0===(this.negative|a.negative));return this.iuor(a)};h.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)};h.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)};h.prototype.iuand=function(a){var c=this.length>a.length?a:this;for(var d=0;d<c.length;d++)this.words[d]&=
a.words[d];this.length=c.length;return this.strip()};h.prototype.iand=function(a){k(0===(this.negative|a.negative));return this.iuand(a)};h.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)};h.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)};h.prototype.iuxor=function(a){if(this.length>a.length)var c=this;else c=a,a=this;for(var d=0;d<a.length;d++)this.words[d]=c.words[d]^a.words[d];if(this!==c)for(;d<
c.length;d++)this.words[d]=c.words[d];this.length=c.length;return this.strip()};h.prototype.ixor=function(a){k(0===(this.negative|a.negative));return this.iuxor(a)};h.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)};h.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)};h.prototype.inotn=function(a){k("number"===typeof a&&0<=a);var c=Math.ceil(a/26)|0;a%=26;this._expand(c);0<a&&c--;for(var d=0;d<c;d++)this.words[d]=
~this.words[d]&67108863;0<a&&(this.words[d]=~this.words[d]&67108863>>26-a);return this.strip()};h.prototype.notn=function(a){return this.clone().inotn(a)};h.prototype.setn=function(a,c){k("number"===typeof a&&0<=a);var d=a/26|0;a%=26;this._expand(d+1);this.words[d]=c?this.words[d]|1<<a:this.words[d]&~(1<<a);return this.strip()};h.prototype.iadd=function(a){if(0!==this.negative&&0===a.negative)return this.negative=0,this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative){a.negative=
0;var c=this.isub(a);a.negative=1;return c._normSign()}if(this.length>a.length)var d=this;else d=a,a=this;for(var f=c=0;f<a.length;f++)c=(d.words[f]|0)+(a.words[f]|0)+c,this.words[f]=c&67108863,c>>>=26;for(;0!==c&&f<d.length;f++)c=(d.words[f]|0)+c,this.words[f]=c&67108863,c>>>=26;this.length=d.length;if(0!==c)this.words[this.length]=c,this.length++;else if(d!==this)for(;f<d.length;f++)this.words[f]=d.words[f];return this};h.prototype.add=function(a){if(0!==a.negative&&0===this.negative){a.negative=
0;var c=this.sub(a);a.negative^=1;return c}return 0===a.negative&&0!==this.negative?(this.negative=0,c=a.sub(this),this.negative=1,c):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)};h.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var c=this.iadd(a);a.negative=1;return c._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();c=this.cmp(a);if(0===c)return this.negative=0,this.length=1,this.words[0]=0,this;if(0<c)var d=this;
else d=a,a=this;for(var f=0,e=0;e<a.length;e++)c=(d.words[e]|0)-(a.words[e]|0)+f,f=c>>26,this.words[e]=c&67108863;for(;0!==f&&e<d.length;e++)c=(d.words[e]|0)+f,f=c>>26,this.words[e]=c&67108863;if(0===f&&e<d.length&&d!==this)for(;e<d.length;e++)this.words[e]=d.words[e];this.length=Math.max(this.length,e);d!==this&&(this.negative=1);return this.strip()};h.prototype.sub=function(a){return this.clone().isub(a)};var l=function(a,c,d){var f=a.words,e=c.words,g=d.words,h=0,q=f[0]|0,r=q&8191,b=q>>>13,m=f[1]|
0;q=m&8191;var v=m>>>13,k=f[2]|0;m=k&8191;var t=k>>>13,u=f[3]|0;k=u&8191;var n=u>>>13,x=f[4]|0;u=x&8191;var w=x>>>13,y=f[5]|0;x=y&8191;var C=y>>>13,B=f[6]|0;y=B&8191;var A=B>>>13,G=f[7]|0;B=G&8191;var z=G>>>13,D=f[8]|0;G=D&8191;D>>>=13;var l=f[9]|0;f=l&8191;l>>>=13;var p=e[0]|0,F=p&8191,Y=p>>>13,ca=e[1]|0;p=ca&8191;var la=ca>>>13,sa=e[2]|0;ca=sa&8191;var da=sa>>>13,pa=e[3]|0;sa=pa&8191;var ya=pa>>>13,fa=e[4]|0;pa=fa&8191;var ha=fa>>>13,qa=e[5]|0;fa=qa&8191;var ra=qa>>>13,Da=e[6]|0;qa=Da&8191;var za=
Da>>>13,ia=e[7]|0;Da=ia&8191;var ta=ia>>>13,ua=e[8]|0;ia=ua&8191;ua>>>=13;var Ga=e[9]|0;e=Ga&8191;Ga>>>=13;d.negative=a.negative^c.negative;d.length=19;var O=Math.imul(r,F);a=Math.imul(r,Y);a=a+Math.imul(b,F)|0;c=Math.imul(b,Y);var Pa=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Pa>>>26)|0;Pa&=67108863;O=Math.imul(q,F);a=Math.imul(q,Y);a=a+Math.imul(v,F)|0;c=Math.imul(v,Y);O=O+Math.imul(r,p)|0;a=a+Math.imul(r,la)|0;a=a+Math.imul(b,p)|0;c=c+Math.imul(b,la)|0;var Va=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>
13)|0)+(Va>>>26)|0;Va&=67108863;O=Math.imul(m,F);a=Math.imul(m,Y);a=a+Math.imul(t,F)|0;c=Math.imul(t,Y);O=O+Math.imul(q,p)|0;a=a+Math.imul(q,la)|0;a=a+Math.imul(v,p)|0;c=c+Math.imul(v,la)|0;O=O+Math.imul(r,ca)|0;a=a+Math.imul(r,da)|0;a=a+Math.imul(b,ca)|0;c=c+Math.imul(b,da)|0;var Sa=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Sa>>>26)|0;Sa&=67108863;O=Math.imul(k,F);a=Math.imul(k,Y);a=a+Math.imul(n,F)|0;c=Math.imul(n,Y);O=O+Math.imul(m,p)|0;a=a+Math.imul(m,la)|0;a=a+Math.imul(t,p)|0;c=c+Math.imul(t,
la)|0;O=O+Math.imul(q,ca)|0;a=a+Math.imul(q,da)|0;a=a+Math.imul(v,ca)|0;c=c+Math.imul(v,da)|0;O=O+Math.imul(r,sa)|0;a=a+Math.imul(r,ya)|0;a=a+Math.imul(b,sa)|0;c=c+Math.imul(b,ya)|0;var Ca=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Ca>>>26)|0;Ca&=67108863;O=Math.imul(u,F);a=Math.imul(u,Y);a=a+Math.imul(w,F)|0;c=Math.imul(w,Y);O=O+Math.imul(k,p)|0;a=a+Math.imul(k,la)|0;a=a+Math.imul(n,p)|0;c=c+Math.imul(n,la)|0;O=O+Math.imul(m,ca)|0;a=a+Math.imul(m,da)|0;a=a+Math.imul(t,ca)|0;c=c+Math.imul(t,da)|0;
O=O+Math.imul(q,sa)|0;a=a+Math.imul(q,ya)|0;a=a+Math.imul(v,sa)|0;c=c+Math.imul(v,ya)|0;O=O+Math.imul(r,pa)|0;a=a+Math.imul(r,ha)|0;a=a+Math.imul(b,pa)|0;c=c+Math.imul(b,ha)|0;var Na=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Na>>>26)|0;Na&=67108863;O=Math.imul(x,F);a=Math.imul(x,Y);a=a+Math.imul(C,F)|0;c=Math.imul(C,Y);O=O+Math.imul(u,p)|0;a=a+Math.imul(u,la)|0;a=a+Math.imul(w,p)|0;c=c+Math.imul(w,la)|0;O=O+Math.imul(k,ca)|0;a=a+Math.imul(k,da)|0;a=a+Math.imul(n,ca)|0;c=c+Math.imul(n,da)|0;O=O+Math.imul(m,
sa)|0;a=a+Math.imul(m,ya)|0;a=a+Math.imul(t,sa)|0;c=c+Math.imul(t,ya)|0;O=O+Math.imul(q,pa)|0;a=a+Math.imul(q,ha)|0;a=a+Math.imul(v,pa)|0;c=c+Math.imul(v,ha)|0;O=O+Math.imul(r,fa)|0;a=a+Math.imul(r,ra)|0;a=a+Math.imul(b,fa)|0;c=c+Math.imul(b,ra)|0;var Ka=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Ka>>>26)|0;Ka&=67108863;O=Math.imul(y,F);a=Math.imul(y,Y);a=a+Math.imul(A,F)|0;c=Math.imul(A,Y);O=O+Math.imul(x,p)|0;a=a+Math.imul(x,la)|0;a=a+Math.imul(C,p)|0;c=c+Math.imul(C,la)|0;O=O+Math.imul(u,ca)|0;
a=a+Math.imul(u,da)|0;a=a+Math.imul(w,ca)|0;c=c+Math.imul(w,da)|0;O=O+Math.imul(k,sa)|0;a=a+Math.imul(k,ya)|0;a=a+Math.imul(n,sa)|0;c=c+Math.imul(n,ya)|0;O=O+Math.imul(m,pa)|0;a=a+Math.imul(m,ha)|0;a=a+Math.imul(t,pa)|0;c=c+Math.imul(t,ha)|0;O=O+Math.imul(q,fa)|0;a=a+Math.imul(q,ra)|0;a=a+Math.imul(v,fa)|0;c=c+Math.imul(v,ra)|0;O=O+Math.imul(r,qa)|0;a=a+Math.imul(r,za)|0;a=a+Math.imul(b,qa)|0;c=c+Math.imul(b,za)|0;var Oa=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Oa>>>26)|0;Oa&=67108863;O=Math.imul(B,
F);a=Math.imul(B,Y);a=a+Math.imul(z,F)|0;c=Math.imul(z,Y);O=O+Math.imul(y,p)|0;a=a+Math.imul(y,la)|0;a=a+Math.imul(A,p)|0;c=c+Math.imul(A,la)|0;O=O+Math.imul(x,ca)|0;a=a+Math.imul(x,da)|0;a=a+Math.imul(C,ca)|0;c=c+Math.imul(C,da)|0;O=O+Math.imul(u,sa)|0;a=a+Math.imul(u,ya)|0;a=a+Math.imul(w,sa)|0;c=c+Math.imul(w,ya)|0;O=O+Math.imul(k,pa)|0;a=a+Math.imul(k,ha)|0;a=a+Math.imul(n,pa)|0;c=c+Math.imul(n,ha)|0;O=O+Math.imul(m,fa)|0;a=a+Math.imul(m,ra)|0;a=a+Math.imul(t,fa)|0;c=c+Math.imul(t,ra)|0;O=O+Math.imul(q,
qa)|0;a=a+Math.imul(q,za)|0;a=a+Math.imul(v,qa)|0;c=c+Math.imul(v,za)|0;O=O+Math.imul(r,Da)|0;a=a+Math.imul(r,ta)|0;a=a+Math.imul(b,Da)|0;c=c+Math.imul(b,ta)|0;var Ba=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(Ba>>>26)|0;Ba&=67108863;O=Math.imul(G,F);a=Math.imul(G,Y);a=a+Math.imul(D,F)|0;c=Math.imul(D,Y);O=O+Math.imul(B,p)|0;a=a+Math.imul(B,la)|0;a=a+Math.imul(z,p)|0;c=c+Math.imul(z,la)|0;O=O+Math.imul(y,ca)|0;a=a+Math.imul(y,da)|0;a=a+Math.imul(A,ca)|0;c=c+Math.imul(A,da)|0;O=O+Math.imul(x,sa)|0;
a=a+Math.imul(x,ya)|0;a=a+Math.imul(C,sa)|0;c=c+Math.imul(C,ya)|0;O=O+Math.imul(u,pa)|0;a=a+Math.imul(u,ha)|0;a=a+Math.imul(w,pa)|0;c=c+Math.imul(w,ha)|0;O=O+Math.imul(k,fa)|0;a=a+Math.imul(k,ra)|0;a=a+Math.imul(n,fa)|0;c=c+Math.imul(n,ra)|0;O=O+Math.imul(m,qa)|0;a=a+Math.imul(m,za)|0;a=a+Math.imul(t,qa)|0;c=c+Math.imul(t,za)|0;O=O+Math.imul(q,Da)|0;a=a+Math.imul(q,ta)|0;a=a+Math.imul(v,Da)|0;c=c+Math.imul(v,ta)|0;O=O+Math.imul(r,ia)|0;a=a+Math.imul(r,ua)|0;a=a+Math.imul(b,ia)|0;c=c+Math.imul(b,ua)|
0;var $a=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+($a>>>26)|0;$a&=67108863;O=Math.imul(f,F);a=Math.imul(f,Y);a=a+Math.imul(l,F)|0;c=Math.imul(l,Y);O=O+Math.imul(G,p)|0;a=a+Math.imul(G,la)|0;a=a+Math.imul(D,p)|0;c=c+Math.imul(D,la)|0;O=O+Math.imul(B,ca)|0;a=a+Math.imul(B,da)|0;a=a+Math.imul(z,ca)|0;c=c+Math.imul(z,da)|0;O=O+Math.imul(y,sa)|0;a=a+Math.imul(y,ya)|0;a=a+Math.imul(A,sa)|0;c=c+Math.imul(A,ya)|0;O=O+Math.imul(x,pa)|0;a=a+Math.imul(x,ha)|0;a=a+Math.imul(C,pa)|0;c=c+Math.imul(C,ha)|0;O=O+
Math.imul(u,fa)|0;a=a+Math.imul(u,ra)|0;a=a+Math.imul(w,fa)|0;c=c+Math.imul(w,ra)|0;O=O+Math.imul(k,qa)|0;a=a+Math.imul(k,za)|0;a=a+Math.imul(n,qa)|0;c=c+Math.imul(n,za)|0;O=O+Math.imul(m,Da)|0;a=a+Math.imul(m,ta)|0;a=a+Math.imul(t,Da)|0;c=c+Math.imul(t,ta)|0;O=O+Math.imul(q,ia)|0;a=a+Math.imul(q,ua)|0;a=a+Math.imul(v,ia)|0;c=c+Math.imul(v,ua)|0;O=O+Math.imul(r,e)|0;a=a+Math.imul(r,Ga)|0;a=a+Math.imul(b,e)|0;c=c+Math.imul(b,Ga)|0;r=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(r>>>26)|0;r&=67108863;
O=Math.imul(f,p);a=Math.imul(f,la);a=a+Math.imul(l,p)|0;c=Math.imul(l,la);O=O+Math.imul(G,ca)|0;a=a+Math.imul(G,da)|0;a=a+Math.imul(D,ca)|0;c=c+Math.imul(D,da)|0;O=O+Math.imul(B,sa)|0;a=a+Math.imul(B,ya)|0;a=a+Math.imul(z,sa)|0;c=c+Math.imul(z,ya)|0;O=O+Math.imul(y,pa)|0;a=a+Math.imul(y,ha)|0;a=a+Math.imul(A,pa)|0;c=c+Math.imul(A,ha)|0;O=O+Math.imul(x,fa)|0;a=a+Math.imul(x,ra)|0;a=a+Math.imul(C,fa)|0;c=c+Math.imul(C,ra)|0;O=O+Math.imul(u,qa)|0;a=a+Math.imul(u,za)|0;a=a+Math.imul(w,qa)|0;c=c+Math.imul(w,
za)|0;O=O+Math.imul(k,Da)|0;a=a+Math.imul(k,ta)|0;a=a+Math.imul(n,Da)|0;c=c+Math.imul(n,ta)|0;O=O+Math.imul(m,ia)|0;a=a+Math.imul(m,ua)|0;a=a+Math.imul(t,ia)|0;c=c+Math.imul(t,ua)|0;O=O+Math.imul(q,e)|0;a=a+Math.imul(q,Ga)|0;a=a+Math.imul(v,e)|0;c=c+Math.imul(v,Ga)|0;q=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(q>>>26)|0;q&=67108863;O=Math.imul(f,ca);a=Math.imul(f,da);a=a+Math.imul(l,ca)|0;c=Math.imul(l,da);O=O+Math.imul(G,sa)|0;a=a+Math.imul(G,ya)|0;a=a+Math.imul(D,sa)|0;c=c+Math.imul(D,ya)|0;O=
O+Math.imul(B,pa)|0;a=a+Math.imul(B,ha)|0;a=a+Math.imul(z,pa)|0;c=c+Math.imul(z,ha)|0;O=O+Math.imul(y,fa)|0;a=a+Math.imul(y,ra)|0;a=a+Math.imul(A,fa)|0;c=c+Math.imul(A,ra)|0;O=O+Math.imul(x,qa)|0;a=a+Math.imul(x,za)|0;a=a+Math.imul(C,qa)|0;c=c+Math.imul(C,za)|0;O=O+Math.imul(u,Da)|0;a=a+Math.imul(u,ta)|0;a=a+Math.imul(w,Da)|0;c=c+Math.imul(w,ta)|0;O=O+Math.imul(k,ia)|0;a=a+Math.imul(k,ua)|0;a=a+Math.imul(n,ia)|0;c=c+Math.imul(n,ua)|0;O=O+Math.imul(m,e)|0;a=a+Math.imul(m,Ga)|0;a=a+Math.imul(t,e)|0;
c=c+Math.imul(t,Ga)|0;m=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(m>>>26)|0;m&=67108863;O=Math.imul(f,sa);a=Math.imul(f,ya);a=a+Math.imul(l,sa)|0;c=Math.imul(l,ya);O=O+Math.imul(G,pa)|0;a=a+Math.imul(G,ha)|0;a=a+Math.imul(D,pa)|0;c=c+Math.imul(D,ha)|0;O=O+Math.imul(B,fa)|0;a=a+Math.imul(B,ra)|0;a=a+Math.imul(z,fa)|0;c=c+Math.imul(z,ra)|0;O=O+Math.imul(y,qa)|0;a=a+Math.imul(y,za)|0;a=a+Math.imul(A,qa)|0;c=c+Math.imul(A,za)|0;O=O+Math.imul(x,Da)|0;a=a+Math.imul(x,ta)|0;a=a+Math.imul(C,Da)|0;c=c+Math.imul(C,
ta)|0;O=O+Math.imul(u,ia)|0;a=a+Math.imul(u,ua)|0;a=a+Math.imul(w,ia)|0;c=c+Math.imul(w,ua)|0;O=O+Math.imul(k,e)|0;a=a+Math.imul(k,Ga)|0;a=a+Math.imul(n,e)|0;c=c+Math.imul(n,Ga)|0;k=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(k>>>26)|0;k&=67108863;O=Math.imul(f,pa);a=Math.imul(f,ha);a=a+Math.imul(l,pa)|0;c=Math.imul(l,ha);O=O+Math.imul(G,fa)|0;a=a+Math.imul(G,ra)|0;a=a+Math.imul(D,fa)|0;c=c+Math.imul(D,ra)|0;O=O+Math.imul(B,qa)|0;a=a+Math.imul(B,za)|0;a=a+Math.imul(z,qa)|0;c=c+Math.imul(z,za)|0;O=
O+Math.imul(y,Da)|0;a=a+Math.imul(y,ta)|0;a=a+Math.imul(A,Da)|0;c=c+Math.imul(A,ta)|0;O=O+Math.imul(x,ia)|0;a=a+Math.imul(x,ua)|0;a=a+Math.imul(C,ia)|0;c=c+Math.imul(C,ua)|0;O=O+Math.imul(u,e)|0;a=a+Math.imul(u,Ga)|0;a=a+Math.imul(w,e)|0;c=c+Math.imul(w,Ga)|0;u=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(u>>>26)|0;u&=67108863;O=Math.imul(f,fa);a=Math.imul(f,ra);a=a+Math.imul(l,fa)|0;c=Math.imul(l,ra);O=O+Math.imul(G,qa)|0;a=a+Math.imul(G,za)|0;a=a+Math.imul(D,qa)|0;c=c+Math.imul(D,za)|0;O=O+Math.imul(B,
Da)|0;a=a+Math.imul(B,ta)|0;a=a+Math.imul(z,Da)|0;c=c+Math.imul(z,ta)|0;O=O+Math.imul(y,ia)|0;a=a+Math.imul(y,ua)|0;a=a+Math.imul(A,ia)|0;c=c+Math.imul(A,ua)|0;O=O+Math.imul(x,e)|0;a=a+Math.imul(x,Ga)|0;a=a+Math.imul(C,e)|0;c=c+Math.imul(C,Ga)|0;x=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(x>>>26)|0;x&=67108863;O=Math.imul(f,qa);a=Math.imul(f,za);a=a+Math.imul(l,qa)|0;c=Math.imul(l,za);O=O+Math.imul(G,Da)|0;a=a+Math.imul(G,ta)|0;a=a+Math.imul(D,Da)|0;c=c+Math.imul(D,ta)|0;O=O+Math.imul(B,ia)|0;a=
a+Math.imul(B,ua)|0;a=a+Math.imul(z,ia)|0;c=c+Math.imul(z,ua)|0;O=O+Math.imul(y,e)|0;a=a+Math.imul(y,Ga)|0;a=a+Math.imul(A,e)|0;c=c+Math.imul(A,Ga)|0;y=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(y>>>26)|0;y&=67108863;O=Math.imul(f,Da);a=Math.imul(f,ta);a=a+Math.imul(l,Da)|0;c=Math.imul(l,ta);O=O+Math.imul(G,ia)|0;a=a+Math.imul(G,ua)|0;a=a+Math.imul(D,ia)|0;c=c+Math.imul(D,ua)|0;O=O+Math.imul(B,e)|0;a=a+Math.imul(B,Ga)|0;a=a+Math.imul(z,e)|0;c=c+Math.imul(z,Ga)|0;B=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>
13)|0)+(B>>>26)|0;B&=67108863;O=Math.imul(f,ia);a=Math.imul(f,ua);a=a+Math.imul(l,ia)|0;c=Math.imul(l,ua);O=O+Math.imul(G,e)|0;a=a+Math.imul(G,Ga)|0;a=a+Math.imul(D,e)|0;c=c+Math.imul(D,Ga)|0;G=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(G>>>26)|0;G&=67108863;O=Math.imul(f,e);a=Math.imul(f,Ga);a=a+Math.imul(l,e)|0;c=Math.imul(l,Ga);b=(h+O|0)+((a&8191)<<13)|0;h=(c+(a>>>13)|0)+(b>>>26)|0;g[0]=Pa;g[1]=Va;g[2]=Sa;g[3]=Ca;g[4]=Na;g[5]=Ka;g[6]=Oa;g[7]=Ba;g[8]=$a;g[9]=r;g[10]=q;g[11]=m;g[12]=k;g[13]=u;g[14]=
x;g[15]=y;g[16]=B;g[17]=G;g[18]=b&67108863;0!==h&&(g[19]=h,d.length++);return d};Math.imul||(l=m);h.prototype.mulTo=function(a,c){var d=this.length+a.length;if(10===this.length&&10===a.length)a=l(this,a,c);else if(63>d)a=m(this,a,c);else if(1024>d){c.negative=a.negative^this.negative;c.length=this.length+a.length;for(var f=0,e=d=0;e<c.length-1;e++){var h=d;d=0;f&=67108863;for(var g=Math.min(e,a.length-1),q=Math.max(0,e-this.length+1);q<=g;q++){var r=(this.words[e-q]|0)*(a.words[q]|0),b=r&67108863;
h=h+(r/67108864|0)|0;b=b+f|0;f=b&67108863;h=h+(b>>>26)|0;d+=h>>>26;h&=67108863}c.words[e]=f;f=h}0!==f?c.words[e]=f:c.length--;a=c.strip()}else a=(new t).mulp(this,a,c);return a};t.prototype.makeRBT=function(a){for(var c=Array(a),d=h.prototype._countBits(a)-1,f=0;f<a;f++)c[f]=this.revBin(f,d,a);return c};t.prototype.revBin=function(a,c,d){if(0===a||a===d-1)return a;for(var f=d=0;f<c;f++)d|=(a&1)<<c-f-1,a>>=1;return d};t.prototype.permute=function(a,c,d,f,e,h){for(var g=0;g<h;g++)f[g]=c[a[g]],e[g]=
d[a[g]]};t.prototype.transform=function(a,c,d,f,e,h){this.permute(h,a,c,d,f,e);for(a=1;a<e;a<<=1){c=a<<1;h=Math.cos(2*Math.PI/c);for(var g=Math.sin(2*Math.PI/c),q=0;q<e;q+=c)for(var r=h,b=g,m=0;m<a;m++){var k=d[q+m],v=f[q+m],t=d[q+m+a],u=f[q+m+a],n=r*t-b*u;u=r*u+b*t;t=n;d[q+m]=k+t;f[q+m]=v+u;d[q+m+a]=k-t;f[q+m+a]=v-u;m!==c&&(n=h*r-g*b,b=h*b+g*r,r=n)}}};t.prototype.guessLen13b=function(a,c){a=Math.max(c,a)|1;c=a&1;var d=0;for(a=a/2|0;a;a>>>=1)d++;return 1<<d+1+c};t.prototype.conjugate=function(a,c,
d){if(!(1>=d))for(var f=0;f<d/2;f++){var e=a[f];a[f]=a[d-f-1];a[d-f-1]=e;e=c[f];c[f]=-c[d-f-1];c[d-f-1]=-e}};t.prototype.normalize13b=function(a,c){for(var d=0,f=0;f<c/2;f++)d=8192*Math.round(a[2*f+1]/c)+Math.round(a[2*f]/c)+d,a[f]=d&67108863,d=67108864>d?0:d/67108864|0;return a};t.prototype.convert13b=function(a,c,d,f){for(var e=0,h=0;h<c;h++)e+=a[h]|0,d[2*h]=e&8191,e>>>=13,d[2*h+1]=e&8191,e>>>=13;for(h=2*c;h<f;++h)d[h]=0;k(0===e);k(0===(e&-8192))};t.prototype.stub=function(a){for(var c=Array(a),
d=0;d<a;d++)c[d]=0;return c};t.prototype.mulp=function(a,c,d){var f=2*this.guessLen13b(a.length,c.length),e=this.makeRBT(f),h=this.stub(f),g=Array(f),q=Array(f),r=Array(f),b=Array(f),m=Array(f),k=Array(f),v=d.words;v.length=f;this.convert13b(a.words,a.length,g,f);this.convert13b(c.words,c.length,b,f);this.transform(g,h,q,r,f,e);this.transform(b,h,m,k,f,e);for(g=0;g<f;g++)b=q[g]*m[g]-r[g]*k[g],r[g]=q[g]*k[g]+r[g]*m[g],q[g]=b;this.conjugate(q,r,f);this.transform(q,r,v,h,f,e);this.conjugate(v,h,f);this.normalize13b(v,
f);d.negative=a.negative^c.negative;d.length=a.length+c.length;return d.strip()};h.prototype.mul=function(a){var c=new h(null);c.words=Array(this.length+a.length);return this.mulTo(a,c)};h.prototype.mulf=function(a){var c=new h(null);c.words=Array(this.length+a.length);return(new t).mulp(this,a,c)};h.prototype.imul=function(a){return this.clone().mulTo(a,this)};h.prototype.imuln=function(a){k("number"===typeof a);k(67108864>a);for(var c=0,d=0;d<this.length;d++){var f=(this.words[d]|0)*a,e=(f&67108863)+
(c&67108863);c>>=26;c+=f/67108864|0;c+=e>>>26;this.words[d]=e&67108863}0!==c&&(this.words[d]=c,this.length++);return this};h.prototype.muln=function(a){return this.clone().imuln(a)};h.prototype.sqr=function(){return this.mul(this)};h.prototype.isqr=function(){return this.imul(this.clone())};h.prototype.pow=function(a){for(var c=Array(a.bitLength()),d=0;d<c.length;d++){var f=d%26;c[d]=(a.words[d/26|0]&1<<f)>>>f}if(0===c.length)return new h(1);a=this;for(d=0;d<c.length&&0===c[d];d++,a=a.sqr());if(++d<
c.length)for(f=a.sqr();d<c.length;d++,f=f.sqr())0!==c[d]&&(a=a.mul(f));return a};h.prototype.iushln=function(a){k("number"===typeof a&&0<=a);var c=a%26;a=(a-c)/26;var d=67108863>>>26-c<<26-c,f;if(0!==c){var e=0;for(f=0;f<this.length;f++){var h=this.words[f]&d;this.words[f]=(this.words[f]|0)-h<<c|e;e=h>>>26-c}e&&(this.words[f]=e,this.length++)}if(0!==a){for(f=this.length-1;0<=f;f--)this.words[f+a]=this.words[f];for(f=0;f<a;f++)this.words[f]=0;this.length+=a}return this.strip()};h.prototype.ishln=function(a){k(0===
this.negative);return this.iushln(a)};h.prototype.iushrn=function(a,c,d){k("number"===typeof a&&0<=a);var f=a%26,e=Math.min((a-f)/26,this.length);a=67108863^67108863>>>f<<f;c=Math.max(0,(c?(c-c%26)/26:0)-e);if(d){for(var h=0;h<e;h++)d.words[h]=this.words[h];d.length=e}if(0!==e)if(this.length>e)for(this.length-=e,h=0;h<this.length;h++)this.words[h]=this.words[h+e];else this.words[0]=0,this.length=1;e=0;for(h=this.length-1;0<=h&&(0!==e||h>=c);h--){var g=this.words[h]|0;this.words[h]=e<<26-f|g>>>f;e=
g&a}d&&0!==e&&(d.words[d.length++]=e);0===this.length&&(this.words[0]=0,this.length=1);return this.strip()};h.prototype.ishrn=function(a,c,d){k(0===this.negative);return this.iushrn(a,c,d)};h.prototype.shln=function(a){return this.clone().ishln(a)};h.prototype.ushln=function(a){return this.clone().iushln(a)};h.prototype.shrn=function(a){return this.clone().ishrn(a)};h.prototype.ushrn=function(a){return this.clone().iushrn(a)};h.prototype.testn=function(a){k("number"===typeof a&&0<=a);var c=a%26;a=
(a-c)/26;return this.length<=a?!1:!!(this.words[a]&1<<c)};h.prototype.imaskn=function(a){k("number"===typeof a&&0<=a);var c=a%26;a=(a-c)/26;k(0===this.negative,"imaskn works only with positive numbers");if(this.length<=a)return this;0!==c&&a++;this.length=Math.min(a,this.length);0!==c&&(this.words[this.length-1]&=67108863^67108863>>>c<<c);return this.strip()};h.prototype.maskn=function(a){return this.clone().imaskn(a)};h.prototype.iaddn=function(a){k("number"===typeof a);k(67108864>a);if(0>a)return this.isubn(-a);
if(0!==this.negative){if(1===this.length&&(this.words[0]|0)<a)return this.words[0]=a-(this.words[0]|0),this.negative=0,this;this.negative=0;this.isubn(a);this.negative=1;return this}return this._iaddn(a)};h.prototype._iaddn=function(a){this.words[0]+=a;for(a=0;a<this.length&&67108864<=this.words[a];a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;this.length=Math.max(this.length,a+1);return this};h.prototype.isubn=function(a){k("number"===typeof a);k(67108864>a);if(0>
a)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;this.words[0]-=a;if(1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(a=0;a<this.length&&0>this.words[a];a++)this.words[a]+=67108864,--this.words[a+1];return this.strip()};h.prototype.addn=function(a){return this.clone().iaddn(a)};h.prototype.subn=function(a){return this.clone().isubn(a)};h.prototype.iabs=function(){this.negative=0;return this};h.prototype.abs=
function(){return this.clone().iabs()};h.prototype._ishlnsubmul=function(a,c,d){var f;this._expand(a.length+d);var e=0;for(f=0;f<a.length;f++){var h=(this.words[f+d]|0)+e;e=(a.words[f]|0)*c;h-=e&67108863;e=(h>>26)-(e/67108864|0);this.words[f+d]=h&67108863}for(;f<this.length-d;f++)h=(this.words[f+d]|0)+e,e=h>>26,this.words[f+d]=h&67108863;if(0===e)return this.strip();k(-1===e);for(f=e=0;f<this.length;f++)h=-(this.words[f]|0)+e,e=h>>26,this.words[f]=h&67108863;this.negative=1;return this.strip()};h.prototype._wordDiv=
function(a,c){var d=this.clone(),f=a,e=f.words[f.length-1]|0;a=26-this._countBits(e);0!==a&&(f=f.ushln(a),d.iushln(a),e=f.words[f.length-1]|0);var g=d.length-f.length;if("mod"!==c){var q=new h(null);q.length=g+1;q.words=Array(q.length);for(var r=0;r<q.length;r++)q.words[r]=0}r=d.clone()._ishlnsubmul(f,1,g);0===r.negative&&(d=r,q&&(q.words[g]=1));for(--g;0<=g;g--){r=67108864*(d.words[f.length+g]|0)+(d.words[f.length+g-1]|0);r=Math.min(r/e|0,67108863);for(d._ishlnsubmul(f,r,g);0!==d.negative;)r--,d.negative=
0,d._ishlnsubmul(f,1,g),d.isZero()||(d.negative^=1);q&&(q.words[g]=r)}q&&q.strip();d.strip();"div"!==c&&0!==a&&d.iushrn(a);return{div:q||null,mod:d}};h.prototype.divmod=function(a,c,d){k(!a.isZero());if(this.isZero())return{div:new h(0),mod:new h(0)};var f;if(0!==this.negative&&0===a.negative){var e=this.neg().divmod(a,c);"mod"!==c&&(f=e.div.neg());if("div"!==c){var g=e.mod.neg();d&&0!==g.negative&&g.iadd(a)}return{div:f,mod:g}}return 0===this.negative&&0!==a.negative?(e=this.divmod(a.neg(),c),"mod"!==
c&&(f=e.div.neg()),{div:f,mod:e.mod}):0!==(this.negative&a.negative)?(e=this.neg().divmod(a.neg(),c),"div"!==c&&(g=e.mod.neg(),d&&0!==g.negative&&g.isub(a)),{div:e.div,mod:g}):a.length>this.length||0>this.cmp(a)?{div:new h(0),mod:this}:1===a.length?"div"===c?{div:this.divn(a.words[0]),mod:null}:"mod"===c?{div:null,mod:new h(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new h(this.modn(a.words[0]))}:this._wordDiv(a,c)};h.prototype.div=function(a){return this.divmod(a,"div",!1).div};h.prototype.mod=
function(a){return this.divmod(a,"mod",!1).mod};h.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod};h.prototype.divRound=function(a){var c=this.divmod(a);if(c.mod.isZero())return c.div;var d=0!==c.div.negative?c.mod.isub(a):c.mod,f=a.ushrn(1);a=a.andln(1);d=d.cmp(f);return 0>d||1===a&&0===d?c.div:0!==c.div.negative?c.div.isubn(1):c.div.iaddn(1)};h.prototype.modn=function(a){k(67108863>=a);for(var c=67108864%a,d=0,f=this.length-1;0<=f;f--)d=(c*d+(this.words[f]|0))%a;return d};h.prototype.idivn=
function(a){k(67108863>=a);for(var c=0,d=this.length-1;0<=d;d--)c=(this.words[d]|0)+67108864*c,this.words[d]=c/a|0,c%=a;return this.strip()};h.prototype.divn=function(a){return this.clone().idivn(a)};h.prototype.egcd=function(a){k(0===a.negative);k(!a.isZero());var c=this,d=a.clone();c=0!==c.negative?c.umod(a):c.clone();a=new h(1);for(var f=new h(0),e=new h(0),g=new h(1),q=0;c.isEven()&&d.isEven();)c.iushrn(1),d.iushrn(1),++q;for(var r=d.clone(),b=c.clone();!c.isZero();){for(var m=0,v=1;0===(c.words[0]&
v)&&26>m;++m,v<<=1);if(0<m)for(c.iushrn(m);0<m--;){if(a.isOdd()||f.isOdd())a.iadd(r),f.isub(b);a.iushrn(1);f.iushrn(1)}m=0;for(v=1;0===(d.words[0]&v)&&26>m;++m,v<<=1);if(0<m)for(d.iushrn(m);0<m--;){if(e.isOdd()||g.isOdd())e.iadd(r),g.isub(b);e.iushrn(1);g.iushrn(1)}0<=c.cmp(d)?(c.isub(d),a.isub(e),f.isub(g)):(d.isub(c),e.isub(a),g.isub(f))}return{a:e,b:g,gcd:d.iushln(q)}};h.prototype._invmp=function(a){k(0===a.negative);k(!a.isZero());var c=this,d=a.clone();c=0!==c.negative?c.umod(a):c.clone();for(var f=
new h(1),e=new h(0),g=d.clone();0<c.cmpn(1)&&0<d.cmpn(1);){for(var q=0,r=1;0===(c.words[0]&r)&&26>q;++q,r<<=1);if(0<q)for(c.iushrn(q);0<q--;)f.isOdd()&&f.iadd(g),f.iushrn(1);q=0;for(r=1;0===(d.words[0]&r)&&26>q;++q,r<<=1);if(0<q)for(d.iushrn(q);0<q--;)e.isOdd()&&e.iadd(g),e.iushrn(1);0<=c.cmp(d)?(c.isub(d),f.isub(e)):(d.isub(c),e.isub(f))}c=0===c.cmpn(1)?f:e;0>c.cmpn(0)&&c.iadd(a);return c};h.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var c=this.clone();
a=a.clone();c.negative=0;for(var d=a.negative=0;c.isEven()&&a.isEven();d++)c.iushrn(1),a.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;a.isEven();)a.iushrn(1);var f=c.cmp(a);if(0>f)f=c,c=a,a=f;else if(0===f||0===a.cmpn(1))break;c.isub(a)}while(1);return a.iushln(d)};h.prototype.invm=function(a){return this.egcd(a).a.umod(a)};h.prototype.isEven=function(){return 0===(this.words[0]&1)};h.prototype.isOdd=function(){return 1===(this.words[0]&1)};h.prototype.andln=function(a){return this.words[0]&a};
h.prototype.bincn=function(a){k("number"===typeof a);var c=a%26;a=(a-c)/26;c=1<<c;if(this.length<=a)return this._expand(a+1),this.words[a]|=c,this;for(;0!==c&&a<this.length;a++){var d=this.words[a]|0;d+=c;c=d>>>26;d&=67108863;this.words[a]=d}0!==c&&(this.words[a]=c,this.length++);return this};h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]};h.prototype.cmpn=function(a){var c=0>a;if(0!==this.negative&&!c)return-1;if(0===this.negative&&c)return 1;this.strip();1<this.length?a=
1:(c&&(a=-a),k(67108863>=a,"Number is too big"),c=this.words[0]|0,a=c===a?0:c<a?-1:1);return 0!==this.negative?-a|0:a};h.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;a=this.ucmp(a);return 0!==this.negative?-a|0:a};h.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var c=0,d=this.length-1;0<=d;d--){var f=this.words[d]|0,e=a.words[d]|0;if(f!==e){f<e?c=-1:f>e&&(c=1);break}}return c};
h.prototype.gtn=function(a){return 1===this.cmpn(a)};h.prototype.gt=function(a){return 1===this.cmp(a)};h.prototype.gten=function(a){return 0<=this.cmpn(a)};h.prototype.gte=function(a){return 0<=this.cmp(a)};h.prototype.ltn=function(a){return-1===this.cmpn(a)};h.prototype.lt=function(a){return-1===this.cmp(a)};h.prototype.lten=function(a){return 0>=this.cmpn(a)};h.prototype.lte=function(a){return 0>=this.cmp(a)};h.prototype.eqn=function(a){return 0===this.cmpn(a)};h.prototype.eq=function(a){return 0===
this.cmp(a)};h.red=function(a){return new v(a)};h.prototype.toRed=function(a){k(!this.red,"Already a number in reduction context");k(0===this.negative,"red works only with positives");return a.convertTo(this)._forceRed(a)};h.prototype.fromRed=function(){k(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};h.prototype._forceRed=function(a){this.red=a;return this};h.prototype.forceRed=function(a){k(!this.red,"Already a number in reduction context");return this._forceRed(a)};
h.prototype.redAdd=function(a){k(this.red,"redAdd works only with red numbers");return this.red.add(this,a)};h.prototype.redIAdd=function(a){k(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,a)};h.prototype.redSub=function(a){k(this.red,"redSub works only with red numbers");return this.red.sub(this,a)};h.prototype.redISub=function(a){k(this.red,"redISub works only with red numbers");return this.red.isub(this,a)};h.prototype.redShl=function(a){k(this.red,"redShl works only with red numbers");
return this.red.shl(this,a)};h.prototype.redMul=function(a){k(this.red,"redMul works only with red numbers");this.red._verify2(this,a);return this.red.mul(this,a)};h.prototype.redIMul=function(a){k(this.red,"redMul works only with red numbers");this.red._verify2(this,a);return this.red.imul(this,a)};h.prototype.redSqr=function(){k(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};h.prototype.redISqr=function(){k(this.red,"redISqr works only with red numbers");
this.red._verify1(this);return this.red.isqr(this)};h.prototype.redSqrt=function(){k(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};h.prototype.redInvm=function(){k(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};h.prototype.redNeg=function(){k(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};h.prototype.redPow=function(a){k(this.red&&!a.red,"redPow(normalNum)");
this.red._verify1(this);return this.red.pow(this,a)};var B={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var a=new h(null);a.words=Array(Math.ceil(this.n/13));return a};f.prototype.ireduce=function(a){do{this.split(a,this.tmp);a=this.imulK(a);a=a.iadd(this.tmp);var c=a.bitLength()}while(c>this.n);c=c<this.n?-1:a.ucmp(this.p);0===c?(a.words[0]=0,a.length=1):0<c?a.isub(this.p):a.strip();return a};f.prototype.split=function(a,c){a.iushrn(this.n,0,c)};f.prototype.imulK=function(a){return a.imul(this.k)};
d(c,f);c.prototype.split=function(a,c){for(var d=Math.min(a.length,9),f=0;f<d;f++)c.words[f]=a.words[f];c.length=d;if(9>=a.length)a.words[0]=0,a.length=1;else{d=a.words[9];c.words[c.length++]=d&4194303;for(f=10;f<a.length;f++)c=a.words[f]|0,a.words[f-10]=(c&4194303)<<4|d>>>22,d=c;d>>>=22;a.words[f-10]=d;a.length=0===d&&10<a.length?a.length-10:a.length-9}};c.prototype.imulK=function(a){a.words[a.length]=0;a.words[a.length+1]=0;a.length+=2;for(var c=0,d=0;d<a.length;d++){var f=a.words[d]|0;c+=977*f;
a.words[d]=c&67108863;c=64*f+(c/67108864|0)}0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--);return a};d(q,f);d(a,f);d(r,f);r.prototype.imulK=function(a){for(var c=0,d=0;d<a.length;d++){c=19*(a.words[d]|0)+c;var f=c&67108863;c>>>=26;a.words[d]=f}0!==c&&(a.words[a.length++]=c);return a};h._prime=function(d){if(B[d])return B[d];if("k256"===d)var f=new c;else if("p224"===d)f=new q;else if("p192"===d)f=new a;else if("p25519"===d)f=new r;else throw Error("Unknown prime "+d);return B[d]=
f};v.prototype._verify1=function(a){k(0===a.negative,"red works only with positives");k(a.red,"red works only with red numbers")};v.prototype._verify2=function(a,c){k(0===(a.negative|c.negative),"red works only with positives");k(a.red&&a.red===c.red,"red works only with red numbers")};v.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)};v.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)};v.prototype.add=
function(a,c){this._verify2(a,c);a=a.add(c);0<=a.cmp(this.m)&&a.isub(this.m);return a._forceRed(this)};v.prototype.iadd=function(a,c){this._verify2(a,c);a=a.iadd(c);0<=a.cmp(this.m)&&a.isub(this.m);return a};v.prototype.sub=function(a,c){this._verify2(a,c);a=a.sub(c);0>a.cmpn(0)&&a.iadd(this.m);return a._forceRed(this)};v.prototype.isub=function(a,c){this._verify2(a,c);a=a.isub(c);0>a.cmpn(0)&&a.iadd(this.m);return a};v.prototype.shl=function(a,c){this._verify1(a);return this.imod(a.ushln(c))};v.prototype.imul=
function(a,c){this._verify2(a,c);return this.imod(a.imul(c))};v.prototype.mul=function(a,c){this._verify2(a,c);return this.imod(a.mul(c))};v.prototype.isqr=function(a){return this.imul(a,a.clone())};v.prototype.sqr=function(a){return this.mul(a,a)};v.prototype.sqrt=function(a){if(a.isZero())return a.clone();var c=this.m.andln(3);k(1===c%2);if(3===c)return c=this.m.add(new h(1)).iushrn(2),this.pow(a,c);for(var d=this.m.subn(1),f=0;!d.isZero()&&0===d.andln(1);)f++,d.iushrn(1);k(!d.isZero());c=(new h(1)).toRed(this);
var e=c.redNeg(),g=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=(new h(2*q*q)).toRed(this);0!==this.pow(q,g).cmp(e);)q.redIAdd(e);g=this.pow(q,d);e=this.pow(a,d.addn(1).iushrn(1));a=this.pow(a,d);for(d=f;0!==a.cmp(c);){q=a;for(f=0;0!==q.cmp(c);f++)q=q.redSqr();k(f<d);g=this.pow(g,(new h(1)).iushln(d-f-1));e=e.redMul(g);g=g.redSqr();a=a.redMul(g);d=f}return e};v.prototype.invm=function(a){a=a._invmp(this.m);return 0!==a.negative?(a.negative=0,this.imod(a).redNeg()):this.imod(a)};v.prototype.pow=
function(a,c){if(c.isZero())return(new h(1)).toRed(this);if(0===c.cmpn(1))return a.clone();var d=Array(16);d[0]=(new h(1)).toRed(this);d[1]=a;for(var f=2;f<d.length;f++)d[f]=this.mul(d[f-1],a);a=d[0];var e=0,g=0,q=c.bitLength()%26;0===q&&(q=26);for(f=c.length-1;0<=f;f--){var r=c.words[f];for(--q;0<=q;q--){var b=r>>q&1;a!==d[0]&&(a=this.sqr(a));if(0===b&&0===e)g=0;else if(e<<=1,e|=b,g++,4===g||0===f&&0===q)a=this.mul(a,d[e]),e=g=0}q=26}return a};v.prototype.convertTo=function(a){var c=a.umod(this.m);
return c===a?c.clone():c};v.prototype.convertFrom=function(a){a=a.clone();a.red=null;return a};h.mont=function(a){return new x(a)};d(x,v);x.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))};x.prototype.convertFrom=function(a){a=this.imod(a.mul(this.rinv));a.red=null;return a};x.prototype.imul=function(a,c){if(a.isZero()||c.isZero())return a.words[0]=0,a.length=1,a;a=a.imul(c);c=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);c=a=a.isub(c).iushrn(this.shift);
0<=a.cmp(this.m)?c=a.isub(this.m):0>a.cmpn(0)&&(c=a.iadd(this.m));return c._forceRed(this)};x.prototype.mul=function(a,c){if(a.isZero()||c.isZero())return(new h(0))._forceRed(this);a=a.mul(c);c=a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);c=a=a.isub(c).iushrn(this.shift);0<=a.cmp(this.m)?c=a.isub(this.m):0>a.cmpn(0)&&(c=a.iadd(this.m));return c._forceRed(this)};x.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}})("undefined"===typeof p||
p,this)},{buffer:3}],46:[function(b,p,l){p.exports=function(b){var g,k,d,h=b.length;for(g=k=0;g<h;++g)k+=b[g].length;var e=Array(k),u=0;for(g=0;g<h;++g){var m=b[g],t=m.length;for(k=0;k<t;++k){var f=e[u++]=Array(t-1),c=0;for(d=0;d<t;++d)d!==k&&(f[c++]=m[d]);k&1&&(d=f[1],f[1]=f[0],f[0]=d)}}return e}},{}],47:[function(b,p,l){function n(d,e,f,c){for(var g=0,a=0,h=0,b=d.length;h<b;++h){var m=d[h],k;a:{for(k=0;k<e;++k)if(!(m[k]<=m[k+e])){k=!0;break a}k=!1}if(!k){for(k=0;k<2*e;++k)f[g++]=m[k];c[a++]=h}}return a}
function g(g,b,f,c){var q=g.length,a=b.length;if(!(0>=q||0>=a)){var r=g[0].length>>>1;if(!(0>=r)){var m=d.mallocDouble(2*r*q),k=d.mallocInt32(q);q=n(g,r,m,k);if(0<q){if(1===r&&c){h.init(q);var t=h.sweepComplete(r,f,0,q,m,k,0,q,m,k)}else{g=d.mallocDouble(2*r*a);var u=d.mallocInt32(a);a=n(b,r,g,u);0<a&&(h.init(q+a),t=1===r?h.sweepBipartite(r,f,0,q,m,k,0,a,g,u):e(r,f,c,q,m,k,a,g,u),d.free(g),d.free(u))}d.free(m);d.free(k)}return t}}}function k(d,e){u.push([d,e])}p.exports=function(d,e,f){switch(arguments.length){case 1:return u=
[],g(d,d,k,!0),u;case 2:if("function"===typeof e)return g(d,d,e,!0);u=[];g(d,e,k,!1);return u;case 3:return g(d,e,f,!1);default:throw Error("box-intersect: Invalid arguments");}};var d=b("typedarray-pool"),h=b("./lib/sweep"),e=b("./lib/intersect"),u},{"./lib/intersect":49,"./lib/sweep":53,"typedarray-pool":262}],48:[function(b,p,l){function n(b){function d(d,f){var c="bruteForce"+(d?"Red":"Blue")+(f?"Flip":"")+(b?"Full":""),h=["function ",c,"(",g.join(),"){","var ","es","=2*","d",";"],a="for(var j=bs,bp=es*bs;j<be;++j,bp+=es){var y0=bb[ax+bp],"+
(b?"y1=bb[ax+bp+d],":"")+"yi=bi[j];";d?h.push("for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];","Q",":",a):h.push(a,"Q",":","for(var i=rs,rp=es*rs;i<re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];");b?h.push("if(y1<x0||x1<y0)continue;"):f?h.push("if(y0<=x0||x1<y0)continue;"):h.push("if(y0<x0||x1<y0)continue;");h.push("for(var k=ax+1;k<d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1<b0||b1<r0)continue Q;}var rv=vv(");f?h.push("yi,xi"):
h.push("xi,yi");h.push(");if(rv!==void 0)return rv;}}}");d=h.join("");e.push(d);m.push("return "+c+"("+g.join()+");")}var h="bruteForce"+(b?"Full":"Partial"),e=[],k=g.slice();b||k.splice(3,0,"fp");var m=["function "+h+"("+k.join()+"){"];m.push("if(re-rs>be-bs){");b?(d(!0,!1),m.push("}else{"),d(!1,!1)):(m.push("if(fp){"),d(!0,!0),m.push("}else{"),d(!0,!1),m.push("}}else{if(fp){"),d(!1,!0),m.push("}else{"),d(!1,!1),m.push("}"));m.push("}}return "+h);h=e.join("")+m.join("");return(new Function(h))()}
var g="d ax vv rs re rb ri bs be bb bi".split(" ");l.partial=n(!1);l.full=n(!0)},{}],49:[function(b,p,l){function n(a,c,d,f,e,g,h,q,r){var b=C*a;D[b]=c;D[b+1]=d;D[b+2]=f;D[b+3]=e;D[b+4]=g;D[b+5]=h;a*=A;z[a]=q;z[a+1]=r}p.exports=function(b,B,y,w,G,E,l,K,H){var L=8*k.log2(w+l+1)*(b+1)|0,J=k.nextPow2(C*L);D.length<J&&(g.free(D),D=g.mallocInt32(J));L=k.nextPow2(A*L);z<L&&(g.free(z),z=g.mallocDouble(L));L=0;J=2*b;n(L++,0,0,w,0,l,y?16:0,-Infinity,Infinity);for(y||n(L++,0,0,l,0,w,1,-Infinity,Infinity);0<
L;){--L;y=L*C;var p=D[y];l=D[y+1];var F=D[y+2],Q=D[y+3],P=D[y+4];y=D[y+5];w=L*A;var U=z[w],aa=z[w+1],W=y&1,R=!!(y&16),T=G,ea=E,S=K;w=H;W&&(T=K,ea=H,S=G,w=E);if(y&2&&(F=a(b,p,l,F,T,ea,aa),l>=F))continue;if(y&4&&(l=r(b,p,l,F,T,ea,U),l>=F))continue;y=F-l;var V=P-Q;if(R){if(b*y*(y+V)<f){var ba=e.scanComplete(b,p,B,l,F,T,ea,Q,P,S,w);if(void 0!==ba)return ba;continue}}else if(b*Math.min(y,V)<m){ba=d(b,p,B,W,l,F,T,ea,Q,P,S,w);if(void 0!==ba)return ba;continue}else if(b*y*V<t){ba=e.scanBipartite(b,p,B,W,
l,F,T,ea,Q,P,S,w);if(void 0!==ba)return ba;continue}y=c(b,p,l,F,T,ea,U,aa);if(l<y)if(b*(y-l)<m){if(ba=h(b,p+1,B,l,y,T,ea,Q,P,S,w),void 0!==ba)return ba}else if(p===b-2){if(ba=W?e.sweepBipartite(b,B,Q,P,S,w,l,y,T,ea):e.sweepBipartite(b,B,l,y,T,ea,Q,P,S,w),void 0!==ba)return ba}else n(L++,p+1,l,y,Q,P,W,-Infinity,Infinity),n(L++,p+1,Q,P,l,y,W^1,-Infinity,Infinity);if(y<F)if(l=u(b,p,Q,P,S,w),ba=S[J*l+p],V=q(b,p,l,P,S,w,ba),V<P&&n(L++,p,y,F,V,P,(W|4)+(R?16:0),ba,aa),Q<l&&n(L++,p,y,F,Q,l,(W|2)+(R?16:0),
U,ba),l+1===V){if(R)a:{Q=b;P=B;w=w[l];W=2*Q;l*=W;U=S[l+p];aa=y;y*=W;b:for(;aa<F;++aa,y+=W)if(R=ea[aa],R!==w&&(V=T[y+p],ba=T[y+p+Q],!(U<V||ba<U))){for(var ja=p+1;ja<Q;++ja){V=T[y+ja];ba=T[y+ja+Q];var X=S[l+ja+Q];if(ba<S[l+ja]||X<V)continue b}R=P(R,w);if(void 0!==R){ba=R;break a}}ba=void 0}else a:{Q=b;P=B;w=w[l];U=2*Q;l*=U;aa=S[l+p];R=y;y*=U;b:for(;R<F;++R,y+=U)if(V=T[y+p],ba=T[y+p+Q],!(aa<V||ba<aa||W&&aa===V)){ja=ea[R];for(X=p+1;X<Q;++X){V=T[y+X];ba=T[y+X+Q];var na=S[l+X+Q];if(ba<S[l+X]||na<V)continue b}V=
W?P(w,ja):P(ja,w);if(void 0!==V){ba=V;break a}}ba=void 0}if(void 0!==ba)return ba}else if(l<V)if(R){if(F=v(b,p,y,F,T,ea,ba),y<F)if(Q=q(b,p,y,F,T,ea,ba),p===b-2){if(y<Q&&(ba=e.sweepComplete(b,B,y,Q,T,ea,l,V,S,w),void 0!==ba)||Q<F&&(ba=e.sweepBipartite(b,B,Q,F,T,ea,l,V,S,w),void 0!==ba))return ba}else y<Q&&n(L++,p+1,y,Q,l,V,16,-Infinity,Infinity),Q<F&&(n(L++,p+1,Q,F,l,V,0,-Infinity,Infinity),n(L++,p+1,l,V,Q,F,1,-Infinity,Infinity))}else F=W?x(b,p,y,F,T,ea,ba):v(b,p,y,F,T,ea,ba),y<F&&(p===b-2?W?e.sweepBipartite(b,
B,l,V,S,w,y,F,T,ea):e.sweepBipartite(b,B,y,F,T,ea,l,V,S,w):(n(L++,p+1,y,F,l,V,W,-Infinity,Infinity),n(L++,p+1,l,V,y,F,W^1,-Infinity,Infinity)))}};var g=b("typedarray-pool"),k=b("bit-twiddle");p=b("./brute");var d=p.partial,h=p.full,e=b("./sweep"),u=b("./median");b=b("./partition");var m=128,t=4194304,f=4194304,c=b("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),q=b("lo===p0",["p0"]),a=b("lo<p0",["p0"]),r=b("hi<=p0",["p0"]),v=b("lo<=p0&&p0<=hi",["p0"]),x=b("lo<p0&&p0<=hi",["p0"]),C=6,A=2,D=g.mallocInt32(1024),
z=g.mallocDouble(1024)},{"./brute":48,"./median":50,"./partition":51,"./sweep":53,"bit-twiddle":44,"typedarray-pool":262}],50:[function(b,p,l){p.exports=function(b,d,h,e,u,m){if(e<=h+1)return h;var k=h,f=e;e=e+h>>>1;for(var c=2*b,q,a;k<f;){if(f-k<g){q=d;a=u;for(var r=m,v=2*b,x=v*(k+1)+q,C=k+1;C<f;++C,x+=v)for(var A=a[x],D=C,z=v*(C-1);D>k&&a[z+q]>A;--D,z-=v){for(var l=z,B=z+v,y=0;y<v;++y,++l,++B){var w=a[l];a[l]=a[B];a[B]=w}l=r[D];r[D]=r[D-1];r[D-1]=l}break}x=f-k;q=Math.random()*x+k|0;a=u[c*q+d];v=
Math.random()*x+k|0;r=u[c*v+d];C=Math.random()*x+k|0;x=u[c*C+d];a<=r?x>=r?(q=v,a=r):a>=x||(q=C,a=x):r>=x?(q=v,a=r):x>=a||(q=C,a=x);r=c*(f-1);v=c*q;for(x=0;x<c;++x,++r,++v)C=u[r],u[r]=u[v],u[v]=C;r=m[f-1];m[f-1]=m[q];m[q]=r;q=n(b,d,k,f-1,u,m,a);r=c*(f-1);v=c*q;for(x=0;x<c;++x,++r,++v)C=u[r],u[r]=u[v],u[v]=C;r=m[f-1];m[f-1]=m[q];m[q]=r;if(e<q){for(f=q-1;k<f&&u[c*(f-1)+d]===a;)--f;f+=1}else if(q<e)for(k=q+1;k<f&&u[c*k+d]===a;)k+=1;else break}return n(b,d,h,e,u,m,u[c*e+d])};var n=b("./partition")("lo<p0",
["p0"]),g=8},{"./partition":51}],51:[function(b,p,l){p.exports=function(g,b){b="abcdef".split("").concat(b);var d=[];0<=g.indexOf("lo")&&d.push("lo=e[k+n]");0<=g.indexOf("hi")&&d.push("hi=e[k+o]");b.push(n.replace("_",d.join()).replace("$",g));return Function.apply(void 0,b)};var n="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],52:[function(b,p,l){function n(d,
f,c){for(var e=2*(d+1),a=d+1;a<=f;++a){for(var g=c[e++],h=c[e++],b=a,m=e-2;b-- >d;){var k=c[m-2],t=c[m-1];if(k<g)break;else if(k===g&&t<h)break;c[m]=k;c[m+1]=t;m-=2}c[m]=g;c[m+1]=h}}function g(d,f,c){d*=2;f*=2;var e=c[d],a=c[d+1];c[d]=c[f];c[d+1]=c[f+1];c[f]=e;c[f+1]=a}function k(d,f,c){d*=2;f*=2;c[d]=c[f];c[d+1]=c[f+1]}function d(d,f,c,e,a){d*=2;f*=2;a[d]=a[f];a[f]=c;a[d+1]=a[f+1];a[f+1]=e}function h(d,f,c){d*=2;f*=2;var e=c[d],a=c[f];return e<a?!1:e===a?c[d+1]>c[f+1]:!0}function e(d,f,c,e){d*=2;
var a=e[d];return a<f?!0:a===f?e[d+1]<c:!1}function u(b,f,c){var q=(f-b+1)/6|0,a=b+q,r=f-q,v=b+f>>1,t=v-q,C=v+q,A=a,D=t,z=v,l=C,B=r;q=b+1;var y=f-1;if(h(A,D,c)){var w=A;A=D;D=w}h(l,B,c)&&(w=l,l=B,B=w);h(A,z,c)&&(w=A,A=z,z=w);h(D,z,c)&&(w=D,D=z,z=w);h(A,l,c)&&(w=A,A=l,l=w);h(z,l,c)&&(w=z,z=l,l=w);h(D,B,c)&&(w=D,D=B,B=w);h(D,z,c)&&(w=D,D=z,z=w);h(l,B,c)&&(w=l,l=B,B=w);w=c[2*D];D=c[2*D+1];var G=c[2*l];l=c[2*l+1];A*=2;z*=2;B*=2;a*=2;v*=2;r*=2;for(var E=0;2>E;++E){var p=c[z+E],K=c[B+E];c[a+E]=c[A+E];c[v+
E]=p;c[r+E]=K}k(t,b,c);k(C,f,c);for(t=q;t<=y;++t)if(e(t,w,D,c))t!==q&&g(t,q,c),++q;else if(!e(t,G,l,c))for(;;)if(e(y,G,l,c)){e(y,w,D,c)?(C=t,r=q,v=y,A=c,C*=2,r*=2,v*=2,a=A[C],z=A[C+1],A[C]=A[r],A[C+1]=A[r+1],A[r]=A[v],A[r+1]=A[v+1],A[v]=a,A[v+1]=z,++q):g(t,y,c);--y;break}else if(--y<t)break;d(b,q-1,w,D,c);d(f,y+1,G,l,c);q-2-b<=m?n(b,q-2,c):u(b,q-2,c);f-(y+2)<=m?n(y+2,f,c):u(y+2,f,c);y-q<=m?n(q,y,c):u(q,y,c)}p.exports=function(d,f){f<=4*m?n(0,f-1,d):u(0,f-1,d)};var m=32},{}],53:[function(b,p,l){function n(a,
c,d,f){f=c[f];d=a[d-1];a[f]=d;c[d]=f}p.exports={init:function(a){a=k.nextPow2(a);e.length<a&&(g.free(e),e=g.mallocInt32(a));u.length<a&&(g.free(u),u=g.mallocInt32(a));m.length<a&&(g.free(m),m=g.mallocInt32(a));t.length<a&&(g.free(t),t=g.mallocInt32(a));f.length<a&&(g.free(f),f=g.mallocInt32(a));c.length<a&&(g.free(c),c=g.mallocInt32(a));a*=8;q.length<a&&(g.free(q),q=g.mallocDouble(a))},sweepBipartite:function(a,c,f,g,b,k,D,z,l,B){var r=0,v=2*a;--a;for(var x=v-1;f<g;++f){var C=k[f],A=v*f;q[r++]=b[A+
a];q[r++]=-(C+1);q[r++]=b[A+x];q[r++]=C}for(f=D;f<z;++f)C=B[f]+h,g=v*f,q[r++]=l[g+a],q[r++]=-C,q[r++]=l[g+x],q[r++]=C;z=r>>>1;d(q,z);for(f=B=l=0;f<z;++f)if(r=q[2*f+1]|0,r>=h)r=r-h|0,n(m,t,B--,r);else if(0<=r)n(e,u,l--,r);else{if(r<=-h){r=-r-h|0;for(v=0;v<l;++v)if(g=c(e[v],r),void 0!==g)return g;v=t;g=B++;m[g]=r}else{r=-r-1|0;for(v=0;v<B;++v)if(g=c(r,m[v]),void 0!==g)return g;v=u;g=l++;e[g]=r}v[r]=g}},sweepComplete:function(a,g,h,b,k,A,D,z,l,B){var r=0,v=2*a;--a;for(var x=v-1;h<b;++h){var C=A[h]+1<<
1,p=v*h;q[r++]=k[p+a];q[r++]=-C;q[r++]=k[p+x];q[r++]=C}for(h=D;h<z;++h)C=B[h]+1<<1,b=v*h,q[r++]=l[b+a],q[r++]=-C|1,q[r++]=l[b+x],q[r++]=C|1;z=r>>>1;d(q,z);for(h=r=B=l=0;h<z;++h)if(v=q[2*h+1]|0,b=v&1,h<z-1&&v>>1===q[2*h+3]>>1&&(b=2,h+=1),0>v){v=-(v>>1)-1;for(k=0;k<r;++k)if(A=g(f[k],v),void 0!==A)return A;if(0!==b)for(k=0;k<l;++k)if(A=g(e[k],v),void 0!==A)return A;if(1!==b)for(k=0;k<B;++k)if(A=g(m[k],v),void 0!==A)return A;0===b?(b=u,k=l++,e[k]=v,b[v]=k):1===b?(b=t,k=B++,m[k]=v,b[v]=k):2===b&&(b=c,
k=r++,f[k]=v,b[v]=k)}else v=(v>>1)-1,0===b?n(e,u,l--,v):1===b?n(m,t,B--,v):2===b&&n(f,c,r--,v)},scanBipartite:function(a,c,f,g,b,k,m,t,l,B,y,w){var r=0,v=2*a,x=c+a,C=1,A=1;for(g?A=h:C=h;b<k;++b){var z=b+C,D=v*b;q[r++]=m[D+c];q[r++]=-z;q[r++]=m[D+x];q[r++]=z}for(b=l;b<B;++b)z=b+A,k=v*b,q[r++]=y[k+c],q[r++]=-z;B=r>>>1;d(q,B);for(b=r=0;b<B;++b)if(z=q[2*b+1]|0,0>z)if(z=-z,z>=h?(A=!g,z-=h):(A=!!g,--z),A)A=u,k=r++,e[k]=z,A[z]=k;else a:for(A=w[z],z*=v,k=y[z+c+1],l=y[z+c+1+a],x=0;x<r;++x){D=e[x];var p=v*
D;if(!(l<m[p+c+1]||m[p+c+1+a]<k)){for(var F=c+2;F<a;++F)if(y[z+F+a]<m[p+F]||m[p+F+a]<y[z+F])continue a;D=t[D];D=g?f(A,D):f(D,A);if(void 0!==D)return D}}else n(e,u,r--,z-C)},scanComplete:function(a,c,f,g,b,k,m,u,t,n,y){for(var r=0,v=2*a,x=c+a;g<b;++g){var C=g+h,B=v*g;q[r++]=k[B+c];q[r++]=-C;q[r++]=k[B+x];q[r++]=C}for(g=u;g<t;++g)C=g+1,b=v*g,q[r++]=n[b+c],q[r++]=-C;t=r>>>1;d(q,t);for(g=r=0;g<t;++g)if(b=q[2*g+1]|0,0>b)if(C=-b,C>=h)e[r++]=C-h;else a:for(--C,b=y[C],C*=v,x=n[C+c+1],B=n[C+c+1+a],u=0;u<r;++u){var A=
e[u],z=m[A];if(z===b)break;A*=v;if(!(B<k[A+c+1]||k[A+c+1+a]<x)){for(var D=c+2;D<a;++D)if(n[C+D+a]<k[A+D]||k[A+D+a]<n[C+D])continue a;z=f(z,b);if(void 0!==z)return z}}else{C=b-h;for(u=r-1;0<=u;--u)if(e[u]===C){for(D=u+1;D<r;++D)e[D-1]=e[D];break}--r}}};var g=b("typedarray-pool"),k=b("bit-twiddle"),d=b("./sort"),h=268435456,e=g.mallocInt32(1024),u=g.mallocInt32(1024),m=g.mallocInt32(1024),t=g.mallocInt32(1024),f=g.mallocInt32(1024),c=g.mallocInt32(1024),q=g.mallocDouble(8192)},{"./sort":52,"bit-twiddle":44,
"typedarray-pool":262}],54:[function(b,p,l){function n(d){return[Math.min(d[0],d[1]),Math.max(d[0],d[1])]}function g(d,e){return d[0]-e[0]||d[1]-e[1]}function k(d,e,f){return e in d?d[e]:f}var d=b("./lib/monotone"),h=b("./lib/triangulation"),e=b("./lib/delaunay"),u=b("./lib/filter");p.exports=function(b,t,f){Array.isArray(t)?(f=f||{},t=t||[]):(f=t||{},t=[]);var c=!!k(f,"delaunay",!0),q=!!k(f,"interior",!0),a=!!k(f,"exterior",!0);f=!!k(f,"infinity",!1);if(!q&&!a||0===b.length)return[];var r=d(b,t);
if(c||q!==a||f){t=h(b.length,t.map(n).sort(g));for(var m=0;m<r.length;++m){var x=r[m];t.addTriangle(x[0],x[1],x[2])}c&&e(b,t);return a?q?f?u(t,0,f):t.cells():u(t,1,f):u(t,-1)}return r}},{"./lib/delaunay":55,"./lib/filter":56,"./lib/monotone":57,"./lib/triangulation":58}],55:[function(b,p,l){function n(b,d,h,e,u,m){var k=d.opposite(e,u);if(!(0>k)){if(u<e){var f=e;e=u;u=f;f=m;m=k;k=f}d.isConstraint(e,u)||0>g(b[e],b[u],b[m],b[k])&&h.push(e,u)}}var g=b("robust-in-sphere")[4];b("binary-search-bounds");
p.exports=function(b,d){for(var h=[],e=b.length,k=d.stars,m=0;m<e;++m)for(var t=k[m],f=1;f<t.length;f+=2){var c=t[f];if(!(c<m||d.isConstraint(m,c))){for(var q=t[f-1],a=-1,r=1;r<t.length;r+=2)if(t[r-1]===c){a=t[r];break}0>a||0>g(b[m],b[c],b[q],b[a])&&h.push(m,c)}}for(;0<h.length;){c=h.pop();m=h.pop();a=q=-1;t=k[m];for(e=1;e<t.length;e+=2)f=t[e-1],r=t[e],f===c?a=r:r===c&&(q=f);0>q||0>a||0<=g(b[m],b[c],b[q],b[a])||(d.flip(m,c),n(b,d,h,q,m,a),n(b,d,h,m,a,q),n(b,d,h,a,c,q),n(b,d,h,c,q,a))}}},{"binary-search-bounds":59,
"robust-in-sphere":233}],56:[function(b,p,l){function n(d,g,e,b,k,t,f){this.cells=d;this.neighbor=g;this.flags=b;this.constraint=e;this.active=k;this.next=t;this.boundary=f}function g(d,g){return d[0]-g[0]||d[1]-g[1]||d[2]-g[2]}var k=b("binary-search-bounds");p.exports=function(d,h,e){for(var b=d.cells(),k=b.length,t=0;t<k;++t){var f=b[t],c=f[0],q=f[1],a=f[2];q<a?q<c&&(f[0]=q,f[1]=a,f[2]=c):a<c&&(f[0]=a,f[1]=c,f[2]=q)}b.sort(g);var r=Array(k);for(t=0;t<r.length;++t)r[t]=0;var v=[],x=[],C=Array(3*
k),A=Array(3*k),D=null;e&&(D=[]);a=new n(b,C,A,r,v,x,D);for(t=0;t<k;++t){f=b[t];for(var z=0;3>z;++z){c=f[z];q=f[(z+1)%3];var l=C[3*t+z]=a.locate(q,c,d.opposite(q,c)),B=A[3*t+z]=d.isConstraint(c,q);0>l&&(B?x.push(t):(v.push(t),r[t]=1),e&&D.push([q,c,-1]))}}if(0===h)return e?a.cells.concat(a.boundary):a.cells;k=1;t=a.active;f=a.next;d=a.flags;b=a.cells;c=a.constraint;for(q=a.neighbor;0<t.length||0<f.length;){for(;0<t.length;)if(r=t.pop(),d[r]!==-k)for(d[r]=k,v=0;3>v;++v)x=q[3*r+v],0<=x&&0===d[x]&&(c[3*
r+v]?f.push(x):(t.push(x),d[x]=k));r=f;f=t;t=r;f.length=0;k=-k}for(t=k=0;t<b.length;++t)d[t]===h&&(b[k++]=b[t]);b.length=k;return e?b.concat(a.boundary):b};n.prototype.locate=function(){var d=[0,0,0];return function(h,e,b){var m=h,u=e,f=b;e<b?e<h&&(m=e,u=b,f=h):b<h&&(m=b,u=h,f=e);if(0>m)return-1;d[0]=m;d[1]=u;d[2]=f;return k.eq(this.cells,d,g)}}()},{"binary-search-bounds":59}],57:[function(b,p,l){function n(d,e,f,c,g){this.a=d;this.b=e;this.idx=f;this.lowerIds=c;this.upperIds=g}function g(d,e,f,c){this.a=
d;this.b=e;this.type=f;this.idx=c}function k(d,e){var f=d.a[0]-e.a[0]||d.a[1]-e.a[1]||d.type-e.type;return f||0!==d.type&&(f=u(d.a,d.b,e.b))?f:d.idx-e.idx}function d(d,e){return u(d.a,d.b,e)}function h(d,e){var f;return(f=d.a[0]<e.a[0]?u(d.a,d.b,e.a):u(e.b,e.a,d.a))?f:(f=e.b[0]<d.b[0]?u(d.a,d.b,e.b):u(e.b,e.a,d.b))||d.idx-e.idx}var e=b("binary-search-bounds"),u=b("robust-orientation")[3];p.exports=function(b,t){for(var f=b.length,c=t.length,q=[],a=0;a<f;++a)q.push(new g(b[a],null,0,a));for(a=0;a<
c;++a){var r=t[a];f=b[r[0]];r=b[r[1]];f[0]<r[0]?q.push(new g(f,r,2,a),new g(r,f,1,a)):f[0]>r[0]&&q.push(new g(r,f,2,a),new g(f,r,1,a))}q.sort(k);a=q[0].a[0]-(1+Math.abs(q[0].a[0]))*Math.pow(2,-52);t=[new n([a,1],[a,0],-1,[],[],[],[])];c=[];a=0;for(f=q.length;a<f;++a){var m=q[a];r=m.type;if(0===r){r=c;var x=t,C=b,A=m.a;m=m.idx;for(var D=e.lt(x,A,d),z=e.gt(x,A,d);D<z;++D){for(var l=x[D],B=l.lowerIds,y=B.length;1<y&&0<u(C[B[y-2]],C[B[y-1]],A);)r.push([B[y-1],B[y-2],m]),--y;B.length=y;B.push(m);l=l.upperIds;
for(y=l.length;1<y&&0>u(C[l[y-2]],C[l[y-1]],A);)r.push([l[y-2],l[y-1],m]),--y;l.length=y;l.push(m)}}else 2===r?(r=t,x=m,C=e.le(r,x,h),A=r[C],m=A.upperIds,z=m[m.length-1],A.upperIds=[z],r.splice(C+1,0,new n(x.a,x.b,x.idx,[z],m))):(r=t,x=m,C=x.a,x.a=x.b,x.b=C,x=e.eq(r,x,h),r[x-1].upperIds=r[x].upperIds,r.splice(x,1))}return c}},{"binary-search-bounds":59,"robust-orientation":235}],58:[function(b,p,l){function n(d,g){this.stars=d;this.edges=g}function g(d,g,e){for(var h=1,b=d.length;h<b;h+=2)if(d[h-
1]===g&&d[h]===e){d[h-1]=d[b-2];d[h]=d[b-1];d.length=b-2;break}}var k=b("binary-search-bounds");p.exports=function(d,g){for(var e=Array(d),h=0;h<d;++h)e[h]=[];return new n(e,g)};b=n.prototype;b.isConstraint=function(){function d(d,g){return d[0]-g[0]||d[1]-g[1]}var g=[0,0];return function(e,h){g[0]=Math.min(e,h);g[1]=Math.max(e,h);return 0<=k.eq(this.edges,g,d)}}();b.removeTriangle=function(d,h,e){var b=this.stars;g(b[d],h,e);g(b[h],e,d);g(b[e],d,h)};b.addTriangle=function(d,g,e){var h=this.stars;
h[d].push(g,e);h[g].push(e,d);h[e].push(d,g)};b.opposite=function(d,g){g=this.stars[g];for(var e=1,h=g.length;e<h;e+=2)if(g[e]===d)return g[e-1];return-1};b.flip=function(d,g){var e=this.opposite(d,g),h=this.opposite(g,d);this.removeTriangle(d,g,e);this.removeTriangle(g,d,h);this.addTriangle(d,h,e);this.addTriangle(g,e,h)};b.edges=function(){for(var d=this.stars,g=[],e=0,b=d.length;e<b;++e)for(var k=d[e],t=0,f=k.length;t<f;t+=2)g.push([k[t],k[t+1]]);return g};b.cells=function(){for(var d=this.stars,
g=[],e=0,b=d.length;e<b;++e)for(var k=d[e],t=0,f=k.length;t<f;t+=2){var c=k[t],q=k[t+1];e<Math.min(c,q)&&g.push([e,c,q])}return g}},{"binary-search-bounds":59}],59:[function(b,p,l){function n(g,d,h,e,b){g=["function ",g,"(a,l,h,",e.join(","),"){",b?"":"var i=",h?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];b?0>d.indexOf("c")?g.push(";if(x===y){return m}else if(x<=y){"):g.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):g.push(";if(",d,"){i=m;");h?g.push("l=m+1}else{h=m-1}"):g.push("h=m-1}else{l=m+1}");
g.push("}");b?g.push("return -1};"):g.push("return i};");return g.join("")}function g(g,d,h,e){return(new Function([n("A","x"+g+"y",d,["y"],e),n("P","c(x,y)"+g+"0",d,["y","c"],e),"function dispatchBsearch",h,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",h].join("")))()}p.exports={ge:g(">=",!1,"GE"),gt:g(">",!1,"GT"),lt:g("<",!0,"LT"),le:g("<=",!0,"LE"),
eq:g("-",!0,"EQ",!0)}},{}],60:[function(b,p,l){p.exports=function(b){for(var g=1,k=1;k<b.length;++k)for(var d=0;d<k;++d)if(b[k]<b[d])g=-g;else if(b[d]===b[k])return 0;return g}},{}],61:[function(b,p,l){function n(d,g){for(var e=0,h=d.length,f=0;f<h;++f)e+=d[f]*g[f];return e}function g(e){var g=e.length;if(0===g)return[];for(var b=d([e.length+1,e.length+1],1),k=d([e.length+1],1),f=b[g][g]=0;f<g;++f){for(var c=0;c<=f;++c)b[c][f]=b[f][c]=2*n(e[f],e[c]);k[f]=n(e[f],e[f])}e=h(b,k);b=0;k=e[g+1];for(f=0;f<
k.length;++f)b+=k[f];var q=Array(g);for(f=0;f<g;++f){k=e[f];var a=0;for(c=0;c<k.length;++c)a+=k[c];q[f]=a/b}return q}function k(e){if(0===e.length)return[];for(var h=e[0].length,b=d([h]),k=g(e),f=0;f<e.length;++f)for(var c=0;c<h;++c)b[c]+=e[f][c]*k[f];return b}var d=b("dup"),h=b("robust-linear-solve");k.barycenetric=g;p.exports=k},{dup:91,"robust-linear-solve":234}],62:[function(b,p,l){p.exports=function(g){for(var b=n(g),d=0,h=0;h<g.length;++h)for(var e=g[h],u=0;u<b.length;++u)d+=Math.pow(e[u]-b[u],
2);return Math.sqrt(d/g.length)};var n=b("circumcenter")},{circumcenter:61}],63:[function(b,p,l){p.exports=function(b,g,k){return g<k?b<g?g:b>k?k:b:b<k?k:b>g?g:b}},{}],64:[function(b,p,l){function n(a){a=x(a);return[A(a,-Infinity),A(a,Infinity)]}function g(a){for(var c=Array(a.length),d=0;d<a.length;++d){var f=a[d];c[d]=[A(f[0],-Infinity),A(f[1],-Infinity),A(f[0],Infinity),A(f[1],Infinity)]}return c}function k(c,d,f){var e=[];q(f,function(f,g){var h=d[f],b=d[g];h[0]!==b[0]&&h[0]!==b[1]&&h[1]!==b[0]&&
h[1]!==b[1]&&a(c[h[0]],c[h[1]],c[b[0]],c[b[1]])&&e.push([f,g])});return e}function d(c,d,f,e){var g=[];q(f,e,function(f,e){var h=d[f];if(h[0]!==e&&h[1]!==e){var b=c[e];a(c[h[0]],c[h[1]],b,b)&&g.push([f,e])}});return g}function h(a,c,d,f,e){var g,h=a.map(function(a){return[r(a[0]),r(a[1])]});for(g=0;g<d.length;++g){var b=d[g];var q=b[0];b=b[1];var k=c[q],m=c[b];if(k=D(C(a[k[0]]),C(a[k[1]]),C(a[m[0]]),C(a[m[1]])))m=a.length,a.push([x(k[0]),x(k[1])]),h.push(k),f.push([q,m],[b,m])}f.sort(function(a,c){if(a[0]!==
c[0])return a[0]-c[0];a=h[a[1]];c=h[c[1]];return v(a[0],c[0])||v(a[1],c[1])});for(g=f.length-1;0<=g;--g){b=f[g];q=b[0];k=c[q];m=k[0];d=k[1];var t=a[m],u=a[d];0>(t[0]-u[0]||t[1]-u[1])&&(t=m,m=d,d=t);k[0]=m;m=k[1]=b[1];var n;for(e&&(n=k[2]);0<g&&f[g-1][0]===q;)b=f[--g],b=b[1],e?c.push([m,b,n]):c.push([m,b]),m=b;e?c.push([m,d,n]):c.push([m,d])}return h}function e(a,d,f){f=d.length;for(var e=new c(f),g=[],h=0;h<d.length;++h){var b=d[h],r=n(b[0]);b=n(b[1]);g.push([A(r[0],-Infinity),A(b[0],-Infinity),A(r[1],
Infinity),A(b[1],Infinity)])}q(g,function(a,c){e.link(a,c)});r=!0;d=Array(f);for(h=0;h<f;++h)g=e.find(h),g!==h&&(r=!1,a[g]=[Math.min(a[h][0],a[g][0]),Math.min(a[h][1],a[g][1])]);if(r)return null;for(h=r=0;h<f;++h)g=e.find(h),g===h?(d[h]=r,a[r++]=a[h]):d[h]=-1;a.length=r;for(h=0;h<f;++h)0>d[h]&&(d[h]=d[e.find(h)]);return d}function u(a,c){return a[0]-c[0]||a[1]-c[1]}function m(a,c){var d=a[0]-c[0]||a[1]-c[1];return d?d:a[2]<c[2]?-1:a[2]>c[2]?1:0}function t(a,c,d){if(0!==a.length){if(c)for(var f=0;f<
a.length;++f){var e=a[f],g=c[e[0]],h=c[e[1]];e[0]=Math.min(g,h);e[1]=Math.max(g,h)}else for(f=0;f<a.length;++f)e=a[f],g=e[0],h=e[1],e[0]=Math.min(g,h),e[1]=Math.max(g,h);d?a.sort(m):a.sort(u);for(f=c=1;f<a.length;++f)if(e=a[f-1],g=a[f],g[0]!==e[0]||g[1]!==e[1]||d&&g[2]!==e[2])a[c++]=g;a.length=c}}function f(a,c,f){for(var b=Array(c.length),q=0;q<c.length;++q){var r=c[q],m=a[r[0]];r=a[r[1]];b[q]=[A(Math.min(m[0],r[0]),-Infinity),A(Math.min(m[1],r[1]),-Infinity),A(Math.max(m[0],r[0]),Infinity),A(Math.max(m[1],
r[1]),Infinity)]}q=k(a,c,b);m=g(a);b=d(a,c,b,m);r=h(a,c,q,b,f);a=e(a,r,m);t(c,a,f);return a?!0:0<q.length||0<b.length}p.exports=function(a,c,d){if(d){var h=c;for(var b=Array(c.length),q=0;q<c.length;++q){var r=c[q];b[q]=[r[0],r[1],d[q]]}c=b}q=c;r=!!d;b=e(a,[],g(a));t(q,b,r);for(b=!!b;f(a,c,!!d);)b=!0;if(d&&b)for(h.length=0,q=d.length=0;q<c.length;++q)r=c[q],h.push([r[0],r[1]]),d.push(r[2]);return b};var c=b("union-find"),q=b("box-intersect"),a=b("robust-segment-intersect"),r=b("big-rat"),v=b("big-rat/cmp"),
x=b("big-rat/to-float"),C=b("rat-vec"),A=b("nextafter"),D=b("./lib/rat-seg-intersect")},{"./lib/rat-seg-intersect":65,"big-rat":30,"big-rat/cmp":28,"big-rat/to-float":42,"box-intersect":47,nextafter:201,"rat-vec":224,"robust-segment-intersect":238,"union-find":263}],65:[function(b,p,l){function n(e,f){return d(g(e[0],f[1]),g(e[1],f[0]))}p.exports=function(d,f,c,g){f=e(f,d);var a=e(g,c);g=n(f,a);if(0===h(g))return null;c=e(d,c);c=n(a,c);c=k(c,g);f=m(f,c);return u(d,f)};var g=b("big-rat/mul"),k=b("big-rat/div"),
d=b("big-rat/sub"),h=b("big-rat/sign"),e=b("rat-vec/sub"),u=b("rat-vec/add"),m=b("rat-vec/muls")},{"big-rat/div":29,"big-rat/mul":39,"big-rat/sign":40,"big-rat/sub":41,"rat-vec/add":223,"rat-vec/muls":225,"rat-vec/sub":226}],66:[function(b,p,l){p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,
42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,
122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,
255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,
178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,
25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],
rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,
130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],67:[function(b,p,l){var n=b("color-rgba"),g=b("clamp"),k=b("dtype");p.exports=function(d,h){"float"!==h&&h||(h="array");"uint"===h&&(h="uint8");"uint_clamped"===h&&(h="uint8_clamped");var e=k(h),b=new e(4);if(d instanceof e){if(Array.isArray(d))return d.slice();b.set(d);return b}h="uint8"!==h&&"uint8_clamped"!==h;if(d instanceof Uint8Array||d instanceof Uint8ClampedArray)return b[0]=
d[0],b[1]=d[1],b[2]=d[2],b[3]=null!=d[3]?d[3]:255,h&&(b[0]/=255,b[1]/=255,b[2]/=255,b[3]/=255),b;d.length&&"string"!==typeof d||(d=n(d),d[0]/=255,d[1]/=255,d[2]/=255);h?(b[0]=d[0],b[1]=d[1],b[2]=d[2],b[3]=null!=d[3]?d[3]:1):(b[0]=g(Math.round(255*d[0]),0,255),b[1]=g(Math.round(255*d[1]),0,255),b[2]=g(Math.round(255*d[2]),0,255),b[3]=null==d[3]?255:g(Math.floor(255*d[3]),0,255));return b}},{clamp:63,"color-rgba":69,dtype:90}],68:[function(b,p,l){(function(n){var g=b("color-name"),k=b("is-plain-obj"),
d=b("defined");p.exports=function(e){var b,m=[],t=1;if("string"===typeof e)if(g[e]){m=g[e].slice();var f="rgb"}else if("transparent"===e)t=0,f="rgb",m=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var c=e.slice(1),q=c.length;t=1;4>=q?(m=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===q&&(t=parseInt(c[3]+c[3],16)/255)):(m=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===q&&(t=parseInt(c[6]+c[7],16)/255));m[0]||(m[0]=0);m[1]||(m[1]=0);m[2]||(m[2]=0);
f="rgb"}else(b=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e))?(e=b[1],f=c=e.replace(/a$/,""),q="cmyk"===c?4:"gray"===c?1:3,m=b[2].trim().split(/\s*,\s*/).map(function(a,d){if(/%$/.test(a)){if(d===q)return parseFloat(a)/100;if("rgb"===c)return 255*parseFloat(a)/100}else if("h"===c[d]&&!/deg$/.test(a)&&void 0!==h[a])return h[a];return parseFloat(a)}),e===c&&m.push(1),t=void 0===m[q]?1:m[q],m=m.slice(0,q)):10<e.length&&/[0-9](?:\s|\/)/.test(e)&&(m=e.match(/([0-9]+)/g).map(function(a){return parseFloat(a)}),
f=e.match(/([a-z])/ig).join("").toLowerCase());else if("number"===typeof e)f="rgb",m=[e>>>16,(e&65280)>>>8,e&255];else if(k(e))b=d(e.r,e.red,e.R,null),null!==b?(f="rgb",m=[b,d(e.g,e.green,e.G),d(e.b,e.blue,e.B)]):(f="hsl",m=[d(e.h,e.hue,e.H),d(e.s,e.saturation,e.S),d(e.l,e.lightness,e.L,e.b,e.brightness)]),t=d(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(t/=100);else if(Array.isArray(e)||n.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))m=[e[0],e[1],e[2]],f="rgb",t=4===e.length?e[3]:1;return{space:f,
values:m,alpha:t}};var h={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"color-name":66,defined:87,"is-plain-obj":183}],69:[function(b,p,l){var n=b("color-parse"),g=b("color-space/hsl"),k=b("clamp");p.exports=function(d){if("string"!==typeof d)throw Error("Argument should be a string");var h=n(d);if(!h.space)return[];d=Array(3);d[0]=k(h.values[0],0,255);d[1]=k(h.values[1],
0,255);d[2]=k(h.values[2],0,255);"h"===h.space[0]&&(d=g.rgb(d));d.push(k(h.alpha,0,1));return d}},{clamp:63,"color-parse":68,"color-space/hsl":70}],70:[function(b,p,l){b=b("./rgb");p.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(b){var g=b[0]/360,k=b[1]/100;b=b[2]/100;if(0===k){var d=255*b;return[d,d,d]}k=.5>b?b*(1+k):b+k-b*k;b=2*b-k;var h=[0,0,0];for(var e=0;3>e;e++)d=g+1/3*-(e-1),0>d?d++:1<d&&d--,d=1>6*d?b+6*(k-b)*d:1>2*d?k:
2>3*d?b+(k-b)*(2/3-d)*6:b,h[e]=255*d;return h}};b.hsl=function(b){var g=b[0]/255,k=b[1]/255,d=b[2]/255;b=Math.min(g,k,d);var h=Math.max(g,k,d),e=h-b,u;h===b?u=0:g===h?u=(k-d)/e:k===h?u=2+(d-g)/e:d===h&&(u=4+(g-k)/e);u=Math.min(60*u,360);0>u&&(u+=360);g=(b+h)/2;return[u,100*(h===b?0:.5>=g?e/(h+b):e/(2-h-b)),100*g]}},{"./rgb":71}],71:[function(b,p,l){p.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],72:[function(b,p,l){p.exports={jet:[{index:0,rgb:[0,
0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,
0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,
0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,
93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,
10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},
{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,
200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},
{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,
18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},
{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],
bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,
rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,
rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,
105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,
rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,
146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,
89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,
rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,
rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],73:[function(b,p,l){function n(d){return[d[0]/255,d[1]/255,d[2]/255,d[3]]}function g(d){for(var e,g="#",h=0;3>h;++h)e=d[h],e=e.toString(16),g+=("00"+e).substr(e.length);return g}function k(d){return"rgba("+d.join(",")+")"}var d=b("./colorScale"),h=b("lerp");p.exports=function(e){var b,m;e||(e={});var t=(e.nshades||72)-1;var f=e.format||"hex";(b=e.colormap)||(b=
"jet");if("string"===typeof b){b=b.toLowerCase();if(!d[b])throw Error(b+" not a supported colorscale");var c=d[b]}else if(Array.isArray(b))c=b.slice();else throw Error("unsupported colormap option",b);if(c.length>t)throw Error(b+" map requires nshades to be at least size "+c.length);var q=Array.isArray(e.alpha)?2!==e.alpha.length?[1,1]:e.alpha.slice():"number"===typeof e.alpha?[e.alpha,e.alpha]:[1,1];e=c.map(function(a){return Math.round(a.index*t)});q[0]=Math.min(Math.max(q[0],0),1);q[1]=Math.min(Math.max(q[1],
0),1);var a=c.map(function(a,d){a=c[d].index;d=c[d].rgb.slice();if(4===d.length&&0<=d[3]&&1>=d[3])return d;d[3]=q[0]+(q[1]-q[0])*a;return d});var r=[];for(m=0;m<e.length-1;++m){var v=e[m+1]-e[m];b=a[m];var x=a[m+1];for(var C=0;C<v;C++){var A=C/v;r.push([Math.round(h(b[0],x[0],A)),Math.round(h(b[1],x[1],A)),Math.round(h(b[2],x[2],A)),h(b[3],x[3],A)])}}r.push(c[c.length-1].rgb.concat(q[1]));"hex"===f?r=r.map(g):"rgbaString"===f?r=r.map(k):"float"===f&&(r=r.map(n));return r}},{"./colorScale":72,lerp:184}],
74:[function(b,p,l){function n(g,b,k){var f=d(g[0],-b[0]);g=d(g[1],-b[1]);var c=d(k[0],-b[0]);b=d(k[1],-b[1]);f=e(h(f,c),h(g,b));return 0<=f[f.length-1]}p.exports=function(d,e,h,f){var c=g(e,h,f);if(0===c){c=k(g(d,e,h));var b=k(g(d,e,f));return c===b?0===c&&(h=n(d,e,h),d=n(d,e,f),h!==d)?h?1:-1:0:0===b?0<c?-1:n(d,e,f)?-1:1:0===c?0<b?1:n(d,e,h)?1:-1:k(b-c)}b=g(d,e,h);return 0<b?0<c&&0<g(d,e,f)?1:-1:0>b?0<c||0<g(d,e,f)?1:-1:0<g(d,e,f)?1:n(d,e,h)?1:-1};var g=b("robust-orientation"),k=b("signum"),d=b("two-sum"),
h=b("robust-product"),e=b("robust-sum")},{"robust-orientation":235,"robust-product":236,"robust-sum":240,signum:241,"two-sum":261}],75:[function(b,p,l){function n(g,d){return g-d}p.exports=function(b,d){var h=b.length,e=b.length-d.length;if(e)return e;switch(h){case 0:return 0;case 1:return b[0]-d[0];case 2:return b[0]+b[1]-d[0]-d[1]||g(b[0],b[1])-g(d[0],d[1]);case 3:h=b[0]+b[1];var k=d[0]+d[1];if(e=h+b[2]-(k+d[2]))return e;e=g(b[0],b[1]);var m=g(d[0],d[1]);return g(e,b[2])-g(m,d[2])||g(e+b[2],h)-
g(m+d[2],k);case 4:e=b[0];h=b[1];k=b[2];b=b[3];m=d[0];var t=d[1],f=d[2];d=d[3];return e+h+k+b-(m+t+f+d)||g(e,h,k,b)-g(m,t,f,d,m)||g(e+h,e+k,e+b,h+k,h+b,k+b)-g(m+t,m+f,m+d,t+f,t+d,f+d)||g(e+h+k,e+h+b,e+k+b,h+k+b)-g(m+t+f,m+t+d,m+f+d,t+f+d);default:b=b.slice().sort(n);d=d.slice().sort(n);for(k=0;k<h;++k)if(e=b[k]-d[k])return e;return 0}};var g=Math.min},{}],76:[function(b,p,l){var n=b("compare-cell"),g=b("cell-orientation");p.exports=function(b,d){return n(b,d)||g(b)-g(d)}},{"cell-orientation":60,"compare-cell":75}],
77:[function(b,p,l){var n=b("./lib/ch1d"),g=b("./lib/ch2d"),k=b("./lib/chnd");p.exports=function(d){var h=d.length;if(0===h)return[];if(1===h)return[[0]];h=d[0].length;return 0===h?[]:1===h?n(d):2===h?g(d):k(d,h)}},{"./lib/ch1d":78,"./lib/ch2d":79,"./lib/chnd":80}],78:[function(b,p,l){p.exports=function(b){for(var g=0,k=0,d=1;d<b.length;++d)b[d][0]<b[g][0]&&(g=d),b[d][0]>b[k][0]&&(k=d);return g<k?[[g],[k]]:g>k?[[k],[g]]:[[g]]}},{}],79:[function(b,p,l){p.exports=function(g){g=n(g);var b=g.length;if(2>=
b)return[];for(var d=Array(b),h=g[b-1],e=0;e<b;++e){var u=g[e];d[e]=[h,u];h=u}return d};var n=b("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":191}],80:[function(b,p,l){p.exports=function(b,d){try{return n(b,!0)}catch(q){var h=g(b);if(h.length<=d)return[];d=b.length;for(var e=Array(d),k=0;k<h.length;++k)e[k]=b[h[k]];var m=h.length;for(k=0;k<d;++k)0>h.indexOf(k)&&(e[m++]=b[k]);b=n(e,!0);d=b.length;e=h.length;for(k=0;k<d;++k){m=b[k];for(var t=0;t<m.length;++t){var f=m[t];if(f<e)m[t]=h[f];else{f-=
e;for(var c=0;c<e;++c)f>=h[c]&&(f+=1);m[t]=f}}}return b}};var n=b("incremental-convex-hull"),g=b("affine-hull")},{"affine-hull":22,"incremental-convex-hull":176}],81:[function(b,p,l){p.exports=function(b,g,k,d,h,e){var n=h-1,m=h*h,t=n*n,f=(1+2*h)*t;t*=h;h=m*(3-2*h);n*=m;if(b.length){e||(e=Array(b.length));for(m=b.length-1;0<=m;--m)e[m]=f*b[m]+t*g[m]+h*k[m]+n*d[m];return e}return f*b+t*g+h*k+n*d};p.exports.derivative=function(b,g,k,d,h,e){var n=6*h*h-6*h,m=3*h*h-4*h+1,t=-6*h*h+6*h;h=3*h*h-2*h;if(b.length){e||
(e=Array(b.length));for(var f=b.length-1;0<=f;--f)e[f]=n*b[f]+m*g[f]+t*k[f]+h*d[f];return e}return n*b+m*g+t*k[f]+h*d}},{}],82:[function(b,p,l){function n(){this.argTypes=[];this.shimArgs=[];this.arrayArgs=[];this.arrayBlockIndices=[];this.scalarArgs=[];this.offsetArgs=[];this.offsetArgIndex=[];this.indexArgs=[];this.shapeArgs=[];this.funcName="";this.post=this.body=this.pre=null;this.debug=!1}var g=b("./lib/thunk.js");p.exports=function(b){var d=new n;d.pre=b.pre;d.body=b.body;d.post=b.post;var h=
b.args.slice(0);d.argTypes=h;for(var e=0;e<h.length;++e){var k=h[e];if("array"===k||"object"===typeof k&&k.blockIndices){d.argTypes[e]="array";d.arrayArgs.push(e);d.arrayBlockIndices.push(k.blockIndices?k.blockIndices:0);d.shimArgs.push("array"+e);if(e<d.pre.args.length&&0<d.pre.args[e].count)throw Error("cwise: pre() block may not reference array args");if(e<d.post.args.length&&0<d.post.args[e].count)throw Error("cwise: post() block may not reference array args");}else if("scalar"===k)d.scalarArgs.push(e),
d.shimArgs.push("scalar"+e);else if("index"===k){d.indexArgs.push(e);if(e<d.pre.args.length&&0<d.pre.args[e].count)throw Error("cwise: pre() block may not reference array index");if(e<d.body.args.length&&d.body.args[e].lvalue)throw Error("cwise: body() block may not write to array index");if(e<d.post.args.length&&0<d.post.args[e].count)throw Error("cwise: post() block may not reference array index");}else if("shape"===k){d.shapeArgs.push(e);if(e<d.pre.args.length&&d.pre.args[e].lvalue)throw Error("cwise: pre() block may not write to array shape");
if(e<d.body.args.length&&d.body.args[e].lvalue)throw Error("cwise: body() block may not write to array shape");if(e<d.post.args.length&&d.post.args[e].lvalue)throw Error("cwise: post() block may not write to array shape");}else if("object"===typeof k&&k.offset)d.argTypes[e]="offset",d.offsetArgs.push({array:k.array,offset:k.offset}),d.offsetArgIndex.push(e);else throw Error("cwise: Unknown argument type "+h[e]);}if(0>=d.arrayArgs.length)throw Error("cwise: No array arguments specified");if(d.pre.args.length>
h.length)throw Error("cwise: Too many arguments in pre() block");if(d.body.args.length>h.length)throw Error("cwise: Too many arguments in body() block");if(d.post.args.length>h.length)throw Error("cwise: Too many arguments in post() block");d.debug=!!b.printCode||!!b.debug;d.funcName=b.funcName||"cwise";d.blockSize=b.blockSize||64;return g(d)}},{"./lib/thunk.js":84}],83:[function(b,p,l){function n(d,g,b){var e=d.length,f=g.arrayArgs.length;g=0<g.indexArgs.length;var c=[],h=[],a=0,r,k;for(r=0;r<e;++r)h.push(["i",
r,"=0"].join(""));for(k=0;k<f;++k)for(r=0;r<e;++r){var m=a;a=d[r];0===r?h.push(["d",k,"s",r,"=t",k,"p",a].join("")):h.push(["d",k,"s",r,"=(t",k,"p",a,"-s",m,"*t",k,"p",m,")"].join(""))}0<h.length&&c.push("var "+h.join(","));for(r=e-1;0<=r;--r)a=d[r],c.push(["for(i",r,"=0;i",r,"<s",a,";++i",r,"){"].join(""));c.push(b);for(r=0;r<e;++r){m=a;a=d[r];for(k=0;k<f;++k)c.push(["p",k,"+=d",k,"s",r].join(""));g&&(0<r&&c.push(["index[",m,"]-=s",m].join("")),c.push(["++index[",a,"]"].join("")));c.push("}")}return c.join("\n")}
function g(d,g,h,b){for(var f=g.length,c=h.arrayArgs.length,e=h.blockSize,a=0<h.indexArgs.length,r=[],k=0;k<c;++k)r.push(["var offset",k,"=p",k].join(""));for(k=d;k<f;++k)r.push(["for(var j"+k+"=SS[",g[k],"]|0;j",k,">0;){"].join("")),r.push(["if(j",k,"<",e,"){"].join("")),r.push(["s",g[k],"=j",k].join("")),r.push(["j",k,"=0"].join("")),r.push(["}else{s",g[k],"=",e].join("")),r.push(["j",k,"-=",e,"}"].join("")),a&&r.push(["index[",g[k],"]=j",k].join(""));for(k=0;k<c;++k){e=["offset"+k];for(a=d;a<f;++a)e.push(["j",
a,"*t",k,"p",g[a]].join(""));r.push(["p",k,"=(",e.join("+"),")"].join(""))}r.push(n(g,h,b));for(k=d;k<f;++k)r.push("}");return r.join("\n")}function k(d,g,h){for(var e=d.body,f=[],c=[],b=0;b<d.args.length;++b){var a=d.args[b];if(!(0>=a.count)){var r=new RegExp(a.name,"g"),k="",m=g.arrayArgs.indexOf(b);switch(g.argTypes[b]){case "offset":var n=g.offsetArgIndex.indexOf(b);m=g.offsetArgs[n].array;k="+q"+n;case "array":k="p"+m+k;var u="l"+b;n="a"+m;if(0===g.arrayBlockIndices[m])1===a.count?"generic"===
h[m]?a.lvalue?(f.push(["var ",u,"=",n,".get(",k,")"].join("")),e=e.replace(r,u),c.push([n,".set(",k,",",u,")"].join(""))):e=e.replace(r,[n,".get(",k,")"].join("")):e=e.replace(r,[n,"[",k,"]"].join("")):"generic"===h[m]?(f.push(["var ",u,"=",n,".get(",k,")"].join("")),e=e.replace(r,u),a.lvalue&&c.push([n,".set(",k,",",u,")"].join(""))):(f.push(["var ",u,"=",n,"[",k,"]"].join("")),e=e.replace(r,u),a.lvalue&&c.push([n,"[",k,"]=",u].join("")));else{r=[a.name];a=[k];for(k=0;k<Math.abs(g.arrayBlockIndices[m]);k++)r.push("\\s*\\[([^\\]]+)\\]"),
a.push("$"+(k+1)+"*t"+m+"b"+k);r=new RegExp(r.join(""),"g");k=a.join("+");if("generic"===h[m])throw Error("cwise: Generic arrays not supported in combination with blocks!");e=e.replace(r,[n,"[",k,"]"].join(""))}break;case "scalar":e=e.replace(r,"Y"+g.scalarArgs.indexOf(b));break;case "index":e=e.replace(r,"index");break;case "shape":e=e.replace(r,"shape")}}}return[f.join("\n"),e,c.join("\n")].join("\n").trim()}function d(d){for(var e=Array(d.length),g=!0,b=0;b<d.length;++b){var f=d[b],c=f.match(/\d+/);
c=c?c[0]:"";0===f.charAt(0)?e[b]="u"+f.charAt(1)+c:e[b]=f.charAt(0)+c;0<b&&(g=g&&e[b]===e[b-1])}return g?e[0]:e.join("")}var h=b("uniq");p.exports=function(e,b){for(var m=b[1].length-Math.abs(e.arrayBlockIndices[0])|0,t=Array(e.arrayArgs.length),f=Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)f[c]=b[2*c],t[c]=b[2*c+1];var q=[],a=[],r=[],v=[],u=[];for(c=0;c<e.arrayArgs.length;++c){0>e.arrayBlockIndices[c]?(r.push(0),v.push(m),q.push(m),a.push(m+e.arrayBlockIndices[c])):(r.push(e.arrayBlockIndices[c]),
v.push(e.arrayBlockIndices[c]+m),q.push(0),a.push(e.arrayBlockIndices[c]));for(var C=[],A=0;A<t[c].length;A++)r[c]<=t[c][A]&&t[c][A]<v[c]&&C.push(t[c][A]-r[c]);u.push(C)}a=["SS"];v=["'use strict'"];C=[];for(A=0;A<m;++A)C.push(["s",A,"=SS[",A,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){a.push("a"+c);a.push("t"+c);a.push("p"+c);for(A=0;A<m;++A)C.push(["t",c,"p",A,"=t",c,"[",r[c]+A,"]"].join(""));for(A=0;A<Math.abs(e.arrayBlockIndices[c]);++A)C.push(["t",c,"b",A,"=t",c,"[",q[c]+A,"]"].join(""))}for(c=
0;c<e.scalarArgs.length;++c)a.push("Y"+c);0<e.shapeArgs.length&&C.push("shape=SS.slice(0)");if(0<e.indexArgs.length){A=Array(m);for(c=0;c<m;++c)A[c]="0";C.push(["index=[",A.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){q=e.offsetArgs[c];r=[];for(A=0;A<q.offset.length;++A)0!==q.offset[A]&&(1===q.offset[A]?r.push(["t",q.array,"p",A].join("")):r.push([q.offset[A],"*t",q.array,"p",A].join("")));0===r.length?C.push("q"+c+"=0"):C.push(["q",c,"=",r.join("+")].join(""))}c=h([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));
C=C.concat(c);0<C.length&&v.push("var "+C.join(","));for(c=0;c<e.arrayArgs.length;++c)v.push("p"+c+"|=0");3<e.pre.body.length&&v.push(k(e.pre,e,f));c=k(e.body,e,f);a:for(A=0,C=u[0].length;A<C;){for(q=1;q<u.length;++q)if(u[q][A]!==u[0][A])break a;++A}A<m?v.push(g(A,u[0],e,c)):v.push(n(u[0],e,c));3<e.post.body.length&&v.push(k(e.post,e,f));e.debug&&console.log("-----Generated cwise routine for ",b,":\n"+v.join("\n")+"\n----------");e=[e.funcName||"unnamed","_cwise_loop_",t[0].join("s"),"m",A,d(f)].join("");
return(new Function(["function ",e,"(",a.join(","),"){",v.join("\n"),"} return ",e].join("")))()}},{uniq:264}],84:[function(b,p,l){var n=b("./compile.js");p.exports=function(g){var b=["'use strict'","var CACHED={}"],d=[];b.push(["return function ",g.funcName+"_cwise_thunk","(",g.shimArgs.join(","),"){"].join(""));for(var h=[],e=[],u=[["array",g.arrayArgs[0],".shape.slice(",Math.max(0,g.arrayBlockIndices[0]),0>g.arrayBlockIndices[0]?","+g.arrayBlockIndices[0]+")":")"].join("")],m=[],t=[],f=0;f<g.arrayArgs.length;++f){var c=
g.arrayArgs[f];d.push(["t",c,"=array",c,".dtype,r",c,"=array",c,".order"].join(""));h.push("t"+c);h.push("r"+c);e.push("t"+c);e.push("r"+c+".join()");u.push("array"+c+".data");u.push("array"+c+".stride");u.push("array"+c+".offset|0");0<f&&(m.push("array"+g.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(g.arrayBlockIndices[0])-Math.abs(g.arrayBlockIndices[f]))),t.push("array"+g.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,g.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+
Math.max(0,g.arrayBlockIndices[f])+"]"))}1<g.arrayArgs.length&&(b.push("if (!("+m.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),b.push("for(var shapeIndex=array"+g.arrayArgs[0]+".shape.length-"+Math.abs(g.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),b.push("if (!("+t.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),b.push("}"));for(f=0;f<g.scalarArgs.length;++f)u.push("scalar"+g.scalarArgs[f]);d.push(["type=[",e.join(","),
"].join()"].join(""));d.push("proc=CACHED[type]");b.push("var "+d.join(","));b.push(["if(!proc){CACHED[type]=proc=compile([",h.join(","),"])}return proc(",u.join(","),")}"].join(""));g.debug&&console.log("-----Generated thunk:\n"+b.join("\n")+"\n----------");return(new Function("compile",b.join("\n")))(n.bind(void 0,g))}},{"./compile.js":83}],85:[function(b,p,l){p.exports=b("cwise-compiler")},{"cwise-compiler":82}],86:[function(b,p,l){!function(){function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||
a.document&&a||a.defaultView)}function g(a,c){return a<c?-1:a>c?1:a>=c?0:NaN}function k(a){return null===a?NaN:+a}function d(a){return!isNaN(a)}function h(a){return{left:function(c,d,f,e){3>arguments.length&&(f=0);4>arguments.length&&(e=c.length);for(;f<e;){var g=f+e>>>1;0>a(c[g],d)?f=g+1:e=g}return f},right:function(c,d,f,e){3>arguments.length&&(f=0);4>arguments.length&&(e=c.length);for(;f<e;){var g=f+e>>>1;0<a(c[g],d)?e=g:f=g+1}return f}}}function e(a){return a.length}function u(a,c){for(var d in c)Object.defineProperty(a.prototype,
d,{value:c[d],enumerable:!1})}function m(){this._=Object.create(null)}function t(a){return"__proto__"===(a+="")||"\x00"===a[0]?"\x00"+a:a}function f(a){return"\x00"===(a+="")[0]?a.slice(1):a}function c(a){return t(a)in this._}function q(a){return(a=t(a))in this._&&delete this._[a]}function a(){var a=[],c;for(c in this._)a.push(f(c));return a}function r(){var a=0,c;for(c in this._)++a;return a}function v(){for(var a in this._)return!1;return!0}function x(){this._=Object.create(null)}function C(a){return a}
function A(a,c,d){return function(){var f=d.apply(c,arguments);return f===c?a:f}}function D(a,c){if(c in a)return c;c=c.charAt(0).toUpperCase()+c.slice(1);for(var d=0,f=ce.length;d<f;++d){var e=ce[d]+c;if(e in a)return e}}function z(){}function l(){}function B(a){function c(){for(var c=d,f=-1,e=c.length,g;++f<e;)(g=c[f].on)&&g.apply(this,arguments);return a}var d=[],f=new m;c.on=function(c,e){var g=f.get(c),b;if(2>arguments.length)return g&&g.on;g&&(g.on=null,d=d.slice(0,b=d.indexOf(g)).concat(d.slice(b+
1)),f.remove(c));e&&d.push(f.set(c,{on:e}));return a};return c}function y(){I.event.preventDefault()}function w(){for(var a=I.event,c;c=a.sourceEvent;)a=c;return a}function G(a){for(var c=new l,d=0,f=arguments.length;++d<f;)c[arguments[d]]=B(c);c.of=function(d,f){return function(e){try{var g=e.sourceEvent=I.event;e.target=a;I.event=e;c[e.type].apply(d,f)}finally{I.event=g}}};return c}function E(a){fc(a,Fa);return a}function J(a){return"function"===typeof a?a:function(){return bd(a,this)}}function K(a){return"function"===
typeof a?a:function(){return cd(a,this)}}function H(a,c){function d(){this.removeAttribute(a)}function f(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,c)}function g(){this.setAttributeNS(a.space,a.local,c)}function b(){var d=c.apply(this,arguments);null==d?this.removeAttribute(a):this.setAttribute(a,d)}function h(){var d=c.apply(this,arguments);null==d?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,d)}a=I.ns.qualify(a);return null==c?a.local?
f:d:"function"===typeof c?a.local?h:b:a.local?g:e}function L(a){return new RegExp("(?:^|\\s+)"+I.requote(a)+"(?:\\s+|$)","g")}function N(a,c){function d(){for(var d=-1;++d<e;)a[d](this,c)}function f(){for(var d=-1,f=c.apply(this,arguments);++d<e;)a[d](this,f)}a=(a+"").trim().split(/^|\s+/).map(M);var e=a.length;return"function"===typeof c?f:d}function M(a){var c=L(a);return function(d,f){if(e=d.classList)return f?e.add(a):e.remove(a);var e=d.getAttribute("class")||"";f?(c.lastIndex=0,c.test(e)||d.setAttribute("class",
(e+" "+a).trim().replace(/\s+/g," "))):d.setAttribute("class",e.replace(c," ").trim().replace(/\s+/g," "))}}function Z(a,c,d){function f(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,c,d)}function g(){var f=c.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,d)}return null==c?f:"function"===typeof c?g:e}function Q(a,c){function d(){delete this[a]}function f(){this[a]=c}function e(){var d=c.apply(this,arguments);null==d?delete this[a]:this[a]=
d}return null==c?d:"function"===typeof c?e:f}function P(a){function c(){var c=this.ownerDocument,d=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===d&&"http://www.w3.org/1999/xhtml"===c.documentElement.namespaceURI?c.createElement(a):c.createElementNS(d,a)}function d(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===typeof a?a:(a=I.ns.qualify(a)).local?d:c}function U(){var a=this.parentNode;a&&a.removeChild(this)}function aa(a){return function(){return gc(this,
a)}}function W(a){arguments.length||(a=g);return function(c,d){return c&&d?a(c.__data__,d.__data__):!c-!d}}function R(a,c){for(var d=0,f=a.length;d<f;d++)for(var e=a[d],g=0,b=e.length,h;g<b;g++)(h=e[g])&&c(h,g,d);return a}function T(a){fc(a,hb);return a}function ea(a){var c,d;return function(f,e,g){f=a[g].update;var b=f.length;g!=d&&(d=g,c=0);for(e>=c&&(c=e+1);!(e=f[c])&&++c<b;);return e}}function S(a,c,d){function f(){var c=this[b];c&&(this.removeEventListener(a,c,c.$),delete this[b])}function e(){var e=
r(c,db(arguments));f.call(this);this.addEventListener(a,this[b]=e,e.$=d);e._=c}function g(){var c=new RegExp("^__on([^.]+)"+I.requote(a)+"$"),d,f;for(f in this)if(d=f.match(c)){var e=this[f];this.removeEventListener(d[1],e,e.$);delete this[f]}}var b="__on"+a,h=a.indexOf("."),r=V;0<h&&(a=a.slice(0,h));var q=dd.get(a);q&&(a=q,r=ba);return h?c?e:f:c?z:g}function V(a,c){return function(d){var f=I.event;I.event=d;c[0]=this.__data__;try{a.apply(this,c)}finally{I.event=f}}}function ba(a,c){var d=V(a,c);
return function(a){var c=a.relatedTarget;c&&(c===this||c.compareDocumentPosition(this)&8)||d.call(this,a)}}function ja(a){var c=".dragsuppress-"+ ++ng,d="click"+c,f=I.select(b(a)).on("touchmove"+c,y).on("dragstart"+c,y).on("selectstart"+c,y);null==ub&&(ub="onselectstart"in a?!1:D(a.style,"userSelect"));if(ub){var e=(a&&(a.ownerDocument||a.document||a).documentElement).style,g=e[ub];e[ub]="none"}return function(a){f.on(c,null);ub&&(e[ub]=g);if(a){var b=function(){f.on(d,null)};f.on(d,function(){y();
b()},!0);setTimeout(b,0)}}}function X(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var f=d.createSVGPoint();if(0>ed&&(d=b(a),d.scrollX||d.scrollY)){d=I.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var e=d[0][0].getScreenCTM();ed=!(e.f||e.e);d.remove()}ed?(f.x=c.pageX,f.y=c.pageY):(f.x=c.clientX,f.y=c.clientY);f=f.matrixTransform(a.getScreenCTM().inverse());return[f.x,f.y]}f=a.getBoundingClientRect();
return[c.clientX-f.left-a.clientLeft,c.clientY-f.top-a.clientTop]}function na(){return I.event.changedTouches[0].identifier}function oa(a,c,d){return(c[0]-a[0])*(d[1]-a[1])-(c[1]-a[1])*(d[0]-a[0])}function Aa(a){return 1<a?0:-1>a?va:Math.acos(a)}function ka(a){return 1<a?Ia:-1>a?-Ia:Math.asin(a)}function Y(a){return((a=Math.exp(a))+1/a)/2}function ca(a){return(a=Math.sin(a/2))*a}function la(){}function sa(a,c,d){return this instanceof sa?void(this.h=+a,this.s=+c,this.l=+d):2>arguments.length?a instanceof
sa?new sa(a.h,a.s,a.l):Ga(""+a,O,sa):new sa(a,c,d)}function da(a,c,d){function f(a){360<a?a-=360:0>a&&(a+=360);return 60>a?g+(e-g)*a/60:180>a?e:240>a?g+(e-g)*(240-a)/60:g}a=isNaN(a)?0:0>(a%=360)?a+360:a;c=isNaN(c)?0:0>c?0:1<c?1:c;d=0>d?0:1<d?1:d;var e=.5>=d?d*(1+c):d+c-d*c;var g=2*d-e;return new ia(Math.round(255*f(a+120)),Math.round(255*f(a)),Math.round(255*f(a-120)))}function pa(a,c,d){return this instanceof pa?void(this.h=+a,this.c=+c,this.l=+d):2>arguments.length?a instanceof pa?new pa(a.h,a.c,
a.l):a instanceof fa?qa(a.l,a.a,a.b):qa((a=Pa((a=I.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new pa(a,c,d)}function ya(a,c,d){isNaN(a)&&(a=0);isNaN(c)&&(c=0);return new fa(d,Math.cos(a*=wa)*c,Math.sin(a)*c)}function fa(a,c,d){return this instanceof fa?void(this.l=+a,this.a=+c,this.b=+d):2>arguments.length?a instanceof fa?new fa(a.l,a.a,a.b):a instanceof pa?ya(a.h,a.c,a.l):Pa((a=ia(a)).r,a.g,a.b):new fa(a,c,d)}function ha(a,c,d){a=(a+16)/116;d=a-d/200;c=ra(a+c/500)*de;a=ra(a)*ee;d=ra(d)*fe;return new ia(za(3.2404542*
c-1.5371385*a-.4985314*d),za(-.969266*c+1.8760108*a+.041556*d),za(.0556434*c-.2040259*a+1.0572252*d))}function qa(a,c,d){return 0<a?new pa(Math.atan2(d,c)*Ha,Math.sqrt(c*c+d*d),a):new pa(NaN,NaN,a)}function ra(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function Da(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function za(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ia(a,c,d){return this instanceof ia?void(this.r=~~a,this.g=~~c,this.b=~~d):2>arguments.length?
a instanceof ia?new ia(a.r,a.g,a.b):Ga(""+a,ia,da):new ia(a,c,d)}function ta(a){return new ia(a>>16,a>>8&255,a&255)+""}function ua(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function Ga(a,c,d){var f=0,e=0,g=0,b;if(b=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase())){var h=b[2].split(",");switch(b[1]){case "hsl":return d(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case "rgb":return c(Sa(h[0]),Sa(h[1]),Sa(h[2]))}}if(d=hc.get(a))return c(d.r,d.g,d.b);null==a||
"#"!==a.charAt(0)||isNaN(d=parseInt(a.slice(1),16))||(4===a.length?(f=(d&3840)>>4,f|=f>>4,e=d&240,e|=e>>4,g=d&15,g|=g<<4):7===a.length&&(f=(d&16711680)>>16,e=(d&65280)>>8,g=d&255));return c(f,e,g)}function O(a,c,d){var f=Math.min(a/=255,c/=255,d/=255),e=Math.max(a,c,d),g=e-f,b=(e+f)/2;g?(f=.5>b?g/(e+f):g/(2-e-f),a=60*(a==e?(c-d)/g+(c<d?6:0):c==e?(d-a)/g+2:(a-c)/g+4)):(a=NaN,f=0<b&&1>b?0:a);return new sa(a,f,b)}function Pa(a,c,d){a=Va(a);c=Va(c);d=Va(d);var f=Da((.4124564*a+.3575761*c+.1804375*d)/
de),e=Da((.2126729*a+.7151522*c+.072175*d)/ee);a=Da((.0193339*a+.119192*c+.9503041*d)/fe);return fa(116*e-16,500*(f-e),200*(e-a))}function Va(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Sa(a){var c=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*c):c}function Ca(a){return"function"===typeof a?a:function(){return a}}function Na(a){return function(c,d,f){2===arguments.length&&"function"===typeof d&&(f=d,d=null);return Ka(c,d,a,f)}}function Ka(a,c,d,f){function e(){var a=
r.status,c;if(c=!a)c=(c=r.responseType)&&"text"!==c?r.response:r.responseText;if(c||200<=a&&300>a||304===a){try{var f=d.call(g,r)}catch(mg){b.error.call(g,mg);return}b.load.call(g,f)}else b.error.call(g,r)}var g={},b=I.dispatch("beforesend","progress","load","error"),h={},r=new XMLHttpRequest,q=null;!this.XDomainRequest||"withCredentials"in r||!/^(http(s)?:)?\/\//.test(a)||(r=new XDomainRequest);"onload"in r?r.onload=r.onerror=e:r.onreadystatechange=function(){3<r.readyState&&e()};r.onprogress=function(a){var c=
I.event;I.event=a;try{b.progress.call(g,r)}finally{I.event=c}};g.header=function(a,c){a=(a+"").toLowerCase();if(2>arguments.length)return h[a];null==c?delete h[a]:h[a]=c+"";return g};g.mimeType=function(a){if(!arguments.length)return c;c=null==a?null:a+"";return g};g.responseType=function(a){if(!arguments.length)return q;q=a;return g};g.response=function(a){d=a;return g};["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(db(arguments)))}});g.send=function(d,f,e){2===
arguments.length&&"function"===typeof f&&(e=f,f=null);r.open(d,a,!0);null==c||"accept"in h||(h.accept=c+",*/*");if(r.setRequestHeader)for(var k in h)r.setRequestHeader(k,h[k]);null!=c&&r.overrideMimeType&&r.overrideMimeType(c);null!=q&&(r.responseType=q);if(null!=e)g.on("error",e).on("load",function(a){e(null,a)});b.beforesend.call(g,r);r.send(null==f?null:f);return g};g.abort=function(){r.abort();return g};I.rebind(g,b,"on");return null==f?g:g.get(Oa(f))}function Oa(a){return 1===a.length?function(c,
d){a(null==c?d:null)}:a}function Ba(a,c,d){var f=arguments.length;2>f&&(c=0);3>f&&(d=Date.now());f={c:a,t:d+c,n:null};ic?ic.n=f:jc=f;ic=f;kc||(lc=clearTimeout(lc),kc=1,ge($a));return f}function $a(){var a=Eb();a=Fb()-a;24<a?(isFinite(a)&&(clearTimeout(lc),lc=setTimeout($a,a)),kc=0):(kc=1,ge($a))}function Eb(){for(var a=Date.now(),c=jc;c;)a>=c.t&&c.c(a-c.t)&&(c.c=null),c=c.n;return a}function Fb(){for(var a,c=jc,d=Infinity;c;)c.c?(c.t<d&&(d=c.t),c=(a=c).n):c=a?a.n=c.n:jc=c.n;ic=a;return d}function Wa(a,
c){return c-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function mc(a){var c=a.decimal,d=a.thousands,f=a.grouping,e=a.currency,g=f&&d?function(a,c){for(var e=a.length,g=[],b=0,h=f[0],r=0;0<e&&0<h;){r+h+1>c&&(h=Math.max(1,c-r));g.push(a.substring(e-=h,e+h));if((r+=h+1)>c)break;h=f[b=(b+1)%f.length]}return g.reverse().join(d)}:C;return function(a){a=he.exec(a);var d=a[1]||" ",f=a[2]||">",b=a[3]||"-",h=a[4]||"",r=a[5],q=+a[6],k=a[7],m=a[8],v=a[9],n=1,t="",u="",x=!1,Ea=!0;m&&(m=+m.substring(1));if(r||"0"===
d&&"="===f)r=d="0",f="=";switch(v){case "n":k=!0;v="g";break;case "%":n=100;u="%";v="f";break;case "p":n=100;u="%";v="r";break;case "b":case "o":case "x":case "X":"#"===h&&(t="0"+v.toLowerCase());case "c":Ea=!1;case "d":x=!0;m=0;break;case "s":n=-1,v="r"}"$"===h&&(t=e[0],u=e[1]);"r"!=v||m||(v="g");if(null!=m)if("g"==v)m=Math.max(1,Math.min(21,m));else if("e"==v||"f"==v)m=Math.max(0,Math.min(20,m));v=og.get(v)||ib;var C=r&&k;return function(a){var e=u;if(x&&a%1)return"";var h=0>a||0===a&&0>1/a?(a=
-a,"-"):"-"===b?"":b;0>n?(e=I.formatPrefix(a,m),a=e.scale(a),e=e.symbol+u):a*=n;a=v(a,m);var w=a.lastIndexOf(".");if(0>w)if(w=Ea?a.lastIndexOf("e"):-1,0>w){var A=a;a=""}else A=a.substring(0,w),a=a.substring(w);else A=a.substring(0,w),a=c+a.substring(w+1);!r&&k&&(A=g(A,Infinity));w=t.length+A.length+a.length+(C?0:h.length);var B=w<q?Array(w=q-w+1).join(d):"";C&&(A=g(B+A,B.length?q-a.length:Infinity));h+=t;a=A+a;return("<"===f?h+a+B:">"===f?B+h+a:"^"===f?B.substring(0,w>>=1)+h+a+B.substring(w):h+(C?
a:B+a))+e}}}function ib(a){return a+""}function Ta(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ma(a,c,d){function f(c){var d=a(c),f=g(d,1);return c-d<f-c?d:f}function e(d){c(d=a(new Qa(d-1)),1);return d}function g(a,d){c(a=new Qa(+a),d);return a}function b(a,f,g){a=e(a);var b=[];if(1<g)for(;a<f;)d(a)%g||b.push(new Date(+a)),c(a,1);else for(;a<f;)b.push(new Date(+a)),c(a,1);return b}a.floor=a;a.round=f;a.ceil=e;a.offset=g;a.range=b;var h=a.utc=mb(a);h.floor=
h;h.round=mb(f);h.ceil=mb(e);h.offset=mb(g);h.range=function(a,c,d){try{Qa=Ta;var f=new Ta;f._=a;return b(f,c,d)}finally{Qa=Date}};return a}function mb(a){return function(c,d){try{Qa=Ta;var f=new Ta;f._=c;return a(f,d)._}finally{Qa=Date}}}function fd(a){function c(a){function c(c){for(var d=[],e=-1,g=0,b,h;++e<f;)if(37===a.charCodeAt(e)){d.push(a.slice(g,e));null!=(b=ie[g=a.charAt(++e)])&&(g=a.charAt(++e));if(h=A[g])g=h(c,null==b?"e"===g?" ":"0":b);d.push(g);g=e+1}d.push(a.slice(g,e));return d.join("")}
var f=a.length;c.parse=function(c){var f={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(f,a,c,0)!=c.length)return null;"p"in f&&(f.H=f.H%12+12*f.p);c=null!=f.Z&&Qa!==Ta;var e=new (c?Ta:Qa);"j"in f?e.setFullYear(f.y,0,f.j):"W"in f||"U"in f?("w"in f||(f.w="W"in f?1:0),e.setFullYear(f.y,0,1),e.setFullYear(f.y,0,"W"in f?(f.w+6)%7+7*f.W-(e.getDay()+5)%7:f.w+7*f.U-(e.getDay()+6)%7)):e.setFullYear(f.y,f.m,f.d);e.setHours(f.H+(f.Z/100|0),f.M+f.Z%100,f.S,f.L);return c?e._:e};c.toString=function(){return a};
return c}function d(a,c,d,f){for(var e,g=0,b=c.length,h=d.length;g<b;){if(f>=h)return-1;e=c.charCodeAt(g++);if(37===e){if(e=c.charAt(g++),e=B[e in ie?c.charAt(g++):e],!e||0>(f=e(a,d,f)))return-1}else if(e!=d.charCodeAt(f++))return-1}return f}var f=a.dateTime,e=a.date,g=a.time,b=a.periods,h=a.days,r=a.shortDays,q=a.months,k=a.shortMonths;c.utc=function(a){function d(a){try{Qa=Ta;var c=new Qa;c._=a;return f(c)}finally{Qa=Date}}var f=c(a);d.parse=function(a){try{Qa=Ta;var c=f.parse(a);return c&&c._}finally{Qa=
Date}};d.toString=f.toString;return d};c.multi=c.utc.multi=pg;var m=I.map(),v=oc(h),n=pc(h),t=oc(r),u=pc(r),x=oc(q),Ea=pc(q),C=oc(k),w=pc(k);b.forEach(function(a,c){m.set(a.toLowerCase(),c)});var A={a:function(a){return r[a.getDay()]},A:function(a){return h[a.getDay()]},b:function(a){return k[a.getMonth()]},B:function(a){return q[a.getMonth()]},c:c(f),d:function(a,c){return Ra(a.getDate(),c,2)},e:function(a,c){return Ra(a.getDate(),c,2)},H:function(a,c){return Ra(a.getHours(),c,2)},I:function(a,c){return Ra(a.getHours()%
12||12,c,2)},j:function(a,c){return Ra(1+ma.dayOfYear(a),c,3)},L:function(a,c){return Ra(a.getMilliseconds(),c,3)},m:function(a,c){return Ra(a.getMonth()+1,c,2)},M:function(a,c){return Ra(a.getMinutes(),c,2)},p:function(a){return b[+(12<=a.getHours())]},S:function(a,c){return Ra(a.getSeconds(),c,2)},U:function(a,c){return Ra(ma.sundayOfYear(a),c,2)},w:function(a){return a.getDay()},W:function(a,c){return Ra(ma.mondayOfYear(a),c,2)},x:c(e),X:c(g),y:function(a,c){return Ra(a.getFullYear()%100,c,2)},
Y:function(a,c){return Ra(a.getFullYear()%1E4,c,4)},Z:qg,"%":function(){return"%"}},B={a:function(a,c,d){t.lastIndex=0;return(c=t.exec(c.slice(d)))?(a.w=u.get(c[0].toLowerCase()),d+c[0].length):-1},A:function(a,c,d){v.lastIndex=0;return(c=v.exec(c.slice(d)))?(a.w=n.get(c[0].toLowerCase()),d+c[0].length):-1},b:function(a,c,d){C.lastIndex=0;return(c=C.exec(c.slice(d)))?(a.m=w.get(c[0].toLowerCase()),d+c[0].length):-1},B:function(a,c,d){x.lastIndex=0;return(c=x.exec(c.slice(d)))?(a.m=Ea.get(c[0].toLowerCase()),
d+c[0].length):-1},c:function(a,c,f){return d(a,A.c.toString(),c,f)},d:je,e:je,H:ke,I:ke,j:rg,L:sg,m:tg,M:ug,p:function(a,c,d){c=m.get(c.slice(d,d+=2).toLowerCase());return null==c?-1:(a.p=c,d)},S:vg,U:wg,w:xg,W:yg,x:function(a,c,f){return d(a,A.x.toString(),c,f)},X:function(a,c,f){return d(a,A.X.toString(),c,f)},y:zg,Y:Ag,Z:Bg,"%":Cg};return c}function Ra(a,c,d){var f=0>a?"-":"";a=(f?-a:a)+"";var e=a.length;return f+(e<d?Array(d-e+1).join(c)+a:a)}function oc(a){return new RegExp("^(?:"+a.map(I.requote).join("|")+
")","i")}function pc(a){for(var c=new m,d=-1,f=a.length;++d<f;)c.set(a[d].toLowerCase(),d);return c}function xg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+1)))?(a.w=+c[0],d+c[0].length):-1}function wg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d)))?(a.U=+c[0],d+c[0].length):-1}function yg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d)))?(a.W=+c[0],d+c[0].length):-1}function Ag(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+4)))?(a.y=+c[0],d+c[0].length):-1}function zg(a,c,d){Ja.lastIndex=
0;if(c=Ja.exec(c.slice(d,d+2))){var f=+c[0];a=(a.y=f+(68<f?1900:2E3),d+c[0].length)}else a=-1;return a}function Bg(a,c,d){return/^[+-]\d{4}$/.test(c=c.slice(d,d+5))?(a.Z=-c,d+5):-1}function tg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+2)))?(a.m=c[0]-1,d+c[0].length):-1}function je(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+2)))?(a.d=+c[0],d+c[0].length):-1}function rg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+3)))?(a.j=+c[0],d+c[0].length):-1}function ke(a,c,d){Ja.lastIndex=
0;return(c=Ja.exec(c.slice(d,d+2)))?(a.H=+c[0],d+c[0].length):-1}function ug(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+2)))?(a.M=+c[0],d+c[0].length):-1}function vg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+2)))?(a.S=+c[0],d+c[0].length):-1}function sg(a,c,d){Ja.lastIndex=0;return(c=Ja.exec(c.slice(d,d+3)))?(a.L=+c[0],d+c[0].length):-1}function qg(a){var c=a.getTimezoneOffset();a=0<c?"-":"+";var d=xa(c)/60|0;c=xa(c)%60;return a+Ra(d,"0",2)+Ra(c,"0",2)}function Cg(a,c,d){le.lastIndex=
0;return(a=le.exec(c.slice(d,d+1)))?d+a[0].length:-1}function pg(a){for(var c=a.length,d=-1;++d<c;)a[d][0]=this(a[d][0]);return function(c){for(var d=0,f=a[d];!f[1](c);)f=a[++d];return f[0](c)}}function gd(){}function me(a,c,d){var f=d.s=a+c,e=f-a;d.t=a-(f-e)+(c-e)}function qc(a,c){if(a&&ne.hasOwnProperty(a.type))ne[a.type](a,c)}function hd(a,c,d){var f=-1;d=a.length-d;for(c.lineStart();++f<d;){var e=a[f];c.point(e[0],e[1],e[2])}c.lineEnd()}function oe(a,c){var d=-1,f=a.length;for(c.polygonStart();++d<
f;)hd(a[d],c,1);c.polygonEnd()}function Dg(){function a(a,c){a*=wa;c=c*wa/2+va/4;var d=a-f,b=0<=d?1:-1;d*=b;var h=Math.cos(c);c=Math.sin(c);var r=g*c;vb.add(Math.atan2(r*b*Math.sin(d),e*h+r*Math.cos(d)));f=a;e=h;g=c}var c,d,f,e,g;Xa.point=function(b,h){Xa.point=a;f=(c=b)*wa;e=Math.cos(h=(d=h)*wa/2+va/4);g=Math.sin(h)};Xa.lineEnd=function(){a(c,d)}}function wb(a){var c=a[0];a=a[1];var d=Math.cos(a);return[d*Math.cos(c),d*Math.sin(c),Math.sin(a)]}function rc(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}
function Gb(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]}function id(a,c){a[0]+=c[0];a[1]+=c[1];a[2]+=c[2]}function sc(a,c){return[a[0]*c,a[1]*c,a[2]*c]}function tc(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=c;a[1]/=c;a[2]/=c}function uc(a){return[Math.atan2(a[1],a[0]),ka(a[2])]}function vc(a,c){return 1E-6>xa(a[0]-c[0])&&1E-6>xa(a[1]-c[1])}function jd(a,c){a*=wa;var d=Math.cos(c*=wa);Rb(d*Math.cos(a),d*Math.sin(a),Math.sin(c))}function Rb(a,c,d){++Sb;xb+=
(a-xb)/Sb;yb+=(c-yb)/Sb;jb+=(d-jb)/Sb}function pe(){function a(a,e){a*=wa;var g=Math.cos(e*=wa),b=g*Math.cos(a);a=g*Math.sin(a);e=Math.sin(e);var h=Math.atan2(Math.sqrt((h=d*e-f*a)*h+(h=f*b-c*e)*h+(h=c*a-d*b)*h),c*b+d*a+f*e);wc+=h;nb+=h*(c+(c=b));ob+=h*(d+(d=a));eb+=h*(f+(f=e));Rb(c,d,f)}var c,d,f;ab.point=function(e,g){e*=wa;var b=Math.cos(g*=wa);c=b*Math.cos(e);d=b*Math.sin(e);f=Math.sin(g);ab.point=a;Rb(c,d,f)}}function qe(){ab.point=jd}function Eg(){function a(a,c){a*=wa;var d=Math.cos(c*=wa),
b=d*Math.cos(a);a=d*Math.sin(a);c=Math.sin(c);d=e*c-g*a;var h=g*b-f*c,r=f*a-e*b,q=Math.sqrt(d*d+h*h+r*r),k=f*b+e*a+g*c,m=q&&-Aa(k)/q;q=Math.atan2(q,k);Hb+=m*d;Ib+=m*h;pb+=m*r;wc+=q;nb+=q*(f+(f=b));ob+=q*(e+(e=a));eb+=q*(g+(g=c));Rb(f,e,g)}var c,d,f,e,g;ab.point=function(b,h){c=b;d=h;ab.point=a;b*=wa;var r=Math.cos(h*=wa);f=r*Math.cos(b);e=r*Math.sin(b);g=Math.sin(h);Rb(f,e,g)};ab.lineEnd=function(){a(c,d);ab.lineEnd=qe;ab.point=jd}}function re(a,c){function d(d,f){return d=a(d,f),c(d[0],d[1])}a.invert&&
c.invert&&(d.invert=function(d,f){return d=c.invert(d,f),d&&a.invert(d[0],d[1])});return d}function Tb(){return!0}function se(a,c,d,f,e){var g=[],b=[];a.forEach(function(a){if(!(0>=(c=a.length-1))){var c,d=a[0],f=a[c];if(vc(d,f)){e.lineStart();for(f=0;f<c;++f)e.point((d=a[f])[0],d[1]);e.lineEnd()}else c=new xc(d,a,null,!0),d=new xc(d,null,c,!1),c.o=d,g.push(c),b.push(d),c=new xc(f,a,null,!1),d=new xc(f,null,c,!0),c.o=d,g.push(c),b.push(d)}});b.sort(c);te(g);te(b);if(g.length){a=0;c=d;for(d=b.length;a<
d;++a)b[a].e=c=!c;c=g[0];for(var h,r;;){for(var q=c,k=!0;q.v;)if((q=q.n)===c)return;h=q.z;e.lineStart();do{q.v=q.o.v=!0;if(q.e){if(k)for(a=0,d=h.length;a<d;++a)e.point((r=h[a])[0],r[1]);else f(q.x,q.n.x,1,e);q=q.n}else{if(k)for(h=q.p.z,a=h.length-1;0<=a;--a)e.point((r=h[a])[0],r[1]);else f(q.x,q.p.x,-1,e);q=q.p}q=q.o;h=q.z;k=!k}while(!q.v);e.lineEnd()}}}function te(a){if(c=a.length){for(var c,d=0,f=a[0],e;++d<c;)f.n=e=a[d],e.p=f,f=e;f.n=e=a[0];e.p=f}}function xc(a,c,d,f){this.x=a;this.z=c;this.o=
d;this.e=f;this.v=!1;this.n=this.p=null}function ue(a,c,d,f){return function(e,g){function b(c,d){var f=e(c,d);a(c=f[0],d=f[1])&&g.point(c,d)}function h(a,c){a=e(a,c);n.point(a[0],a[1])}function r(){u.point=h;n.lineStart()}function q(){u.point=b;n.lineEnd()}function k(a,c){B.push([a,c]);a=e(a,c);C.point(a[0],a[1])}function m(){C.lineStart();B=[]}function v(){k(B[0][0],B[0][1]);C.lineEnd();var a=C.clean(),c=Ea.buffer(),d=c.length;B.pop();A.push(B);B=null;if(d)if(a&1){a=c[0];d=a.length-1;c=-1;var f;
if(0<d){w||(g.polygonStart(),w=!0);for(g.lineStart();++c<d;)g.point((f=a[c])[0],f[1]);g.lineEnd()}}else 1<d&&a&2&&c.push(c.pop().concat(c.shift())),x.push(c.filter(Fg))}var n=c(g),t=e.invert(f[0],f[1]),u={point:b,lineStart:r,lineEnd:q,polygonStart:function(){u.point=k;u.lineStart=m;u.lineEnd=v;x=[];A=[]},polygonEnd:function(){u.point=b;u.lineStart=r;u.lineEnd=q;x=I.merge(x);var a=t;var c=A;var f=a[0],e=a[1],h=[Math.sin(f),-Math.cos(f),0],k=0,m=0;vb.reset();for(var v=0,n=c.length;v<n;++v){var Ea=c[v],
C=Ea.length;if(C){var B=Ea[0],D=B[0];a=B[1]/2+va/4;for(var z=Math.sin(a),l=Math.cos(a),y=1;;){y===C&&(y=0);a=Ea[y];var G=a[0],E=a[1]/2+va/4,L=Math.sin(E);E=Math.cos(E);var gb=G-D,p=0<=gb?1:-1,K=p*gb,H=K>va;z*=L;vb.add(Math.atan2(z*p*Math.sin(K),l*E+z*Math.cos(K)));k+=H?gb+p*Ya:gb;H^D>=f^G>=f&&(B=Gb(wb(B),wb(a)),tc(B),D=Gb(h,B),tc(D),D=(H^0<=gb?-1:1)*ka(D[2]),e>D||e===D&&(B[0]||B[1]))&&(m+=H^0<=gb?1:-1);if(!y++)break;D=G;z=L;l=E;B=a}}}c=(-1E-6>k||1E-6>k&&-1E-6>vb)^m&1;x.length?(w||(g.polygonStart(),
w=!0),se(x,Gg,c,d,g)):c&&(w||(g.polygonStart(),w=!0),g.lineStart(),d(null,null,1,g),g.lineEnd());w&&(g.polygonEnd(),w=!1);x=A=null},sphere:function(){g.polygonStart();g.lineStart();d(null,null,1,g);g.lineEnd();g.polygonEnd()}},x,Ea=ve(),C=c(Ea),w=!1,A,B;return u}}function Fg(a){return 1<a.length}function ve(){var a=[],c;return{lineStart:function(){a.push(c=[])},point:function(a,d){c.push([a,d])},lineEnd:z,buffer:function(){var d=a;a=[];c=null;return d},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}
function Gg(a,c){return(0>(a=a.x)[0]?a[1]-Ia-1E-6:Ia-a[1])-(0>(c=c.x)[0]?c[1]-Ia-1E-6:Ia-c[1])}function Hg(a){function c(a,c){return Math.cos(a)*Math.cos(c)>e}function d(a,c,d){var f=wb(a),g=wb(c),b=[1,0,0];g=Gb(f,g);var h=rc(g,g);f=g[0];var r=h-f*f;if(!r)return!d&&a;h=e*h/r;r=-e*f/r;f=Gb(b,g);b=sc(b,h);g=sc(g,r);id(b,g);g=rc(b,f);h=rc(f,f);r=g*g-h*(rc(b,b)-1);if(!(0>r)){var q=Math.sqrt(r);r=sc(f,(-g-q)/h);id(r,b);r=uc(r);if(!d)return r;d=a[0];var k=c[0];a=a[1];c=c[1];if(k<d){var m=d;d=k;k=m}var v=
k-d,n=1E-6>xa(v-va);!n&&c<a&&(m=a,a=c,c=m);if(n||1E-6>v?n?0<a+c^r[1]<(1E-6>xa(r[0]-d)?a:c):a<=r[1]&&r[1]<=c:v>va^(d<=r[0]&&r[0]<=k))return c=sc(f,(-g+q)/h),id(c,b),[r,uc(c)]}}function f(c,d){var f=g?a:va-a,e=0;c<-f?e|=1:c>f&&(e|=2);d<-f?e|=4:d>f&&(e|=8);return e}var e=Math.cos(a),g=0<e,b=1E-6<xa(e),h=kd(a,6*wa);return ue(c,function(a){var e,h,r,q,k;return{lineStart:function(){q=r=!1;k=1},point:function(m,v){var n=[m,v],t=c(m,v);v=g?t?0:f(m,v):t?f(m+(0>m?va:-va),v):0;!e&&(q=r=t)&&a.lineStart();t!==
r&&(m=d(e,n),vc(e,m)||vc(n,m))&&(n[0]+=1E-6,n[1]+=1E-6,t=c(n[0],n[1]));if(t!==r)k=0,t?(a.lineStart(),m=d(n,e),a.point(m[0],m[1])):(m=d(e,n),a.point(m[0],m[1]),a.lineEnd()),e=m;else if(b&&e&&g^t){var u;v&h||!(u=d(n,e,!0))||(k=0,g?(a.lineStart(),a.point(u[0][0],u[0][1]),a.point(u[1][0],u[1][1]),a.lineEnd()):(a.point(u[1][0],u[1][1]),a.lineEnd(),a.lineStart(),a.point(u[0][0],u[0][1])))}!t||e&&vc(e,n)||a.point(n[0],n[1]);e=n;r=t;h=v},lineEnd:function(){r&&a.lineEnd();e=null},clean:function(){return k|
(q&&r)<<1}}},h,g?[0,-a]:[-va,a-va])}function we(a,c,d,f){return function(e){var g=e.a,b=e.b,h=g.x;g=g.y;var r=0,q=1,k=b.x-h;b=b.y-g;var m=a-h;if(k||!(0<m)){m/=k;if(0>k){if(m<r)return;m<q&&(q=m)}else if(0<k){if(m>q)return;m>r&&(r=m)}m=d-h;if(k||!(0>m)){m/=k;if(0>k){if(m>q)return;m>r&&(r=m)}else if(0<k){if(m<r)return;m<q&&(q=m)}m=c-g;if(b||!(0<m)){m/=b;if(0>b){if(m<r)return;m<q&&(q=m)}else if(0<b){if(m>q)return;m>r&&(r=m)}m=f-g;if(b||!(0>m)){m/=b;if(0>b){if(m>q)return;m>r&&(r=m)}else if(0<b){if(m<r)return;
m<q&&(q=m)}0<r&&(e.a={x:h+r*k,y:g+r*b});1>q&&(e.b={x:h+q*k,y:g+q*b});return e}}}}}}function xe(a,c,d,f){function e(f,e){return 1E-6>xa(f[0]-a)?0<e?0:3:1E-6>xa(f[0]-d)?0<e?2:1:1E-6>xa(f[1]-c)?0<e?1:0:0<e?3:2}function g(a,c){return b(a.x,c.x)}function b(a,c){var d=e(a,1),f=e(c,1);return d!==f?d-f:0===d?c[1]-a[1]:1===d?a[0]-c[0]:2===d?a[1]-c[1]:c[0]-a[0]}return function(h){function r(g,h,r,q){var k=0,m=0;if(null==g||(k=e(g,r))!==(m=e(h,r))||0>b(g,h)^0<r){do q.point(0===k||3===k?a:d,1<k?f:c);while((k=
(k+r+4)%4)!==m)}else q.point(h[0],h[1])}function q(e,g){a<=e&&e<=d&&c<=g&&g<=f&&h.point(e,g)}function k(e,g){e=Math.max(-1E9,Math.min(1E9,e));g=Math.max(-1E9,Math.min(1E9,g));var b=a<=e&&e<=d&&c<=g&&g<=f;u&&x.push([e,g]);if(l)C=e,w=g,A=b,l=!1,b&&(h.lineStart(),h.point(e,g));else if(b&&z)h.point(e,g);else{var r={a:{x:B,y:D},b:{x:e,y:g}};n(r)?(z||(h.lineStart(),h.point(r.a.x,r.a.y)),h.point(r.b.x,r.b.y),b||h.lineEnd(),y=!1):b&&(h.lineStart(),h.point(e,g),y=!1)}B=e;D=g;z=b}var m=h,v=ve(),n=we(a,c,d,
f),t,u,x,Ea={point:q,lineStart:function(){Ea.point=k;u&&u.push(x=[]);l=!0;z=!1;B=D=NaN},lineEnd:function(){t&&(k(C,w),A&&z&&v.rejoin(),t.push(v.buffer()));Ea.point=q;z&&h.lineEnd()},polygonStart:function(){h=v;t=[];u=[];y=!0},polygonEnd:function(){h=m;t=I.merge(t);var c=[a,f];for(var d=0,e=u.length,b=c[1],q=0;q<e;++q)for(var k=1,v=u[q],n=v.length,Ea=v[0],C;k<n;++k)C=v[k],Ea[1]<=b?C[1]>b&&0<oa(Ea,C,c)&&++d:C[1]<=b&&0>oa(Ea,C,c)&&--d,Ea=C;c=0!==d;d=y&&c;e=t.length;if(d||e)h.polygonStart(),d&&(h.lineStart(),
r(null,null,1,h),h.lineEnd()),e&&se(t,g,c,r,h),h.polygonEnd();t=u=x=null}},C,w,A,B,D,z,l,y;return Ea}}function ld(a){var c=0,d=va/3,f=md(a);a=f(c,d);a.parallels=function(a){return arguments.length?f(c=a[0]*va/180,d=a[1]*va/180):[c/va*180,d/va*180]};return a}function ye(a,c){function d(a,c){c=Math.sqrt(e-2*f*Math.sin(c))/f;return[c*Math.sin(a*=f),g-c*Math.cos(a)]}a=Math.sin(a);var f=(a+Math.sin(c))/2,e=1+a*(2*f-a),g=Math.sqrt(e)/f;d.invert=function(a,c){c=g-c;return[Math.atan2(a,c)/f,ka((e-(a*a+c*
c)*f*f)/(2*f))]};return d}function Ig(){function a(a,c){nd+=e*a-f*c;f=a;e=c}var c,d,f,e;qb.point=function(g,b){qb.point=a;c=f=g;d=e=b};qb.lineEnd=function(){a(c,d)}}function Jg(){function a(a,c){b.push("M",a,",",c,g)}function c(a,c){b.push("M",a,",",c);h.point=d}function d(a,c){b.push("L",a,",",c)}function f(){h.point=a}function e(){b.push("Z")}var g=ze(4.5),b=[],h={point:a,lineStart:function(){h.point=c},lineEnd:f,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=f;h.point=a},
pointRadius:function(a){g=ze(a);return h},result:function(){if(b.length){var a=b.join("");b=[];return a}}};return h}function ze(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function zb(a,c){xb+=a;yb+=c;++jb}function Ae(){function a(a,f){var e=a-c,g=f-d;e=Math.sqrt(e*e+g*g);nb+=e*(c+a)/2;ob+=e*(d+f)/2;eb+=e;zb(c=a,d=f)}var c,d;bb.point=function(f,e){bb.point=a;zb(c=f,d=e)}}function Be(){bb.point=zb}function Kg(){function a(a,c){var d=a-f,g=c-e;d=Math.sqrt(d*d+g*g);
nb+=d*(f+a)/2;ob+=d*(e+c)/2;eb+=d;d=e*a-f*c;Hb+=d*(f+a);Ib+=d*(e+c);pb+=3*d;zb(f=a,e=c)}var c,d,f,e;bb.point=function(g,b){bb.point=a;zb(c=f=g,d=e=b)};bb.lineEnd=function(){a(c,d)}}function Lg(a){function c(c,d){a.moveTo(c+b,d);a.arc(c,d,b,0,Ya)}function d(c,d){a.moveTo(c,d);h.point=f}function f(c,d){a.lineTo(c,d)}function e(){h.point=c}function g(){a.closePath()}var b=4.5,h={point:c,lineStart:function(){h.point=d},lineEnd:e,polygonStart:function(){h.lineEnd=g},polygonEnd:function(){h.lineEnd=e;h.point=
c},pointRadius:function(a){b=a;return h},result:z};return h}function Ce(a){function c(a){return(h?f:d)(a)}function d(c){return De(c,function(d,f){d=a(d,f);c.point(d[0],d[1])})}function f(c){function d(d,f){d=a(d,f);c.point(d[0],d[1])}function f(){C=NaN;z.point=g;c.lineStart()}function g(d,f){var g=wb([d,f]);f=a(d,f);e(C,w,Ea,B,A,D,C=f[0],w=f[1],Ea=d,B=g[0],A=g[1],D=g[2],h,c);c.point(C,w)}function b(){z.point=d;c.lineEnd()}function r(){f();z.point=q;z.lineEnd=k}function q(a,c){g(m=a,c);v=C;n=w;t=B;
u=A;x=D;z.point=g}function k(){e(C,w,Ea,B,A,D,v,n,m,t,u,x,h,c);z.lineEnd=b;b()}var m,v,n,t,u,x,Ea,C,w,B,A,D,z={point:d,lineStart:f,lineEnd:b,polygonStart:function(){c.polygonStart();z.lineStart=r},polygonEnd:function(){c.polygonEnd();z.lineStart=f}};return z}function e(c,d,f,h,r,q,k,m,v,n,t,u,x,Ea){var C=k-c,w=m-d,B=C*C+w*w;if(B>4*g&&x--){var A=h+n,D=r+t,z=q+u,l=Math.sqrt(A*A+D*D+z*z),y=Math.asin(z/=l),G=1E-6>xa(xa(z)-1)||1E-6>xa(f-v)?(f+v)/2:Math.atan2(D,A),E=a(G,y);y=E[0];E=E[1];var L=y-c,gb=E-
d,p=w*L-C*gb;if(p*p/B>g||.3<xa((C*L+w*gb)/B-.5)||h*n+r*t+q*u<b)e(c,d,f,h,r,q,y,E,G,A/=l,D/=l,z,x,Ea),Ea.point(y,E),e(y,E,G,A,D,z,k,m,v,n,t,u,x,Ea)}}var g=.5,b=Math.cos(30*wa),h=16;c.precision=function(a){if(!arguments.length)return Math.sqrt(g);h=0<(g=a*a)&&16;return c};return c}function Mg(a){var c=Ce(function(c,d){return a([c*Ha,d*Ha])});return function(a){return Ee(c(a))}}function Fe(a){this.stream=a}function De(a,c){return{point:c,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},
lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function rb(a){return md(function(){return a})()}function md(a){function c(a){a=h(a[0]*wa,a[1]*wa);return[a[0]*q+Ea,w-a[1]*q]}function d(a){return(a=h.invert((a[0]-Ea)/q,(w-a[1])/q))&&[a[0]*Ha,a[1]*Ha]}function f(){h=re(b=od(t,u,x),g);var a=g(v,n);Ea=k-a[0]*q;w=m+a[1]*q;return e()}function e(){l&&(l.valid=!1,l=null);return c}var g,b,h,r=Ce(function(a,c){a=g(a,c);return[a[0]*q+Ea,w-a[1]*
q]}),q=150,k=480,m=250,v=0,n=0,t=0,u=0,x=0,Ea,w,A=Ge,B=C,D=null,z=null,l;c.stream=function(a){l&&(l.valid=!1);l=Ee(A(b,r(B(a))));l.valid=!0;return l};c.clipAngle=function(a){if(!arguments.length)return D;A=null==a?(D=a,Ge):Hg((D=+a)*wa);return e()};c.clipExtent=function(a){if(!arguments.length)return z;B=(z=a)?xe(a[0][0],a[0][1],a[1][0],a[1][1]):C;return e()};c.scale=function(a){if(!arguments.length)return q;q=+a;return f()};c.translate=function(a){if(!arguments.length)return[k,m];k=+a[0];m=+a[1];
return f()};c.center=function(a){if(!arguments.length)return[v*Ha,n*Ha];v=a[0]%360*wa;n=a[1]%360*wa;return f()};c.rotate=function(a){if(!arguments.length)return[t*Ha,u*Ha,x*Ha];t=a[0]%360*wa;u=a[1]%360*wa;x=2<a.length?a[2]%360*wa:0;return f()};I.rebind(c,r,"precision");return function(){g=a.apply(this,arguments);c.invert=g.invert&&d;return f()}}function Ee(a){return De(a,function(c,d){a.point(c*wa,d*wa)})}function Ub(a,c){return[a,c]}function He(a,c){return[a>va?a-Ya:a<-va?a+Ya:a,c]}function od(a,
c,d){return a?c||d?re(Ie(a),Je(c,d)):Ie(a):c||d?Je(c,d):He}function Ke(a){return function(c,d){return c+=a,[c>va?c-Ya:c<-va?c+Ya:c,d]}}function Ie(a){var c=Ke(a);c.invert=Ke(-a);return c}function Je(a,c){function d(a,c){var d=Math.cos(c),h=Math.cos(a)*d;a=Math.sin(a)*d;c=Math.sin(c);d=c*f+h*e;return[Math.atan2(a*g-d*b,h*f-c*e),ka(d*g+a*b)]}var f=Math.cos(a),e=Math.sin(a),g=Math.cos(c),b=Math.sin(c);d.invert=function(a,c){var d=Math.cos(c),h=Math.cos(a)*d;a=Math.sin(a)*d;c=Math.sin(c);d=c*g-a*b;return[Math.atan2(a*
g+c*b,h*f+d*e),ka(d*f-h*e)]};return d}function kd(a,c){var d=Math.cos(a),f=Math.sin(a);return function(e,g,b,h){var r=b*c;if(null!=e){if(e=Le(d,e),g=Le(d,g),0<b?e<g:e>g)e+=b*Ya}else e=a+b*Ya,g=a-.5*r;for(var q;0<b?e>g:e<g;e-=r)h.point((q=uc([d,-f*Math.cos(e),-f*Math.sin(e)]))[0],q[1])}}function Le(a,c){c=wb(c);c[0]-=a;tc(c);a=Aa(-c[1]);return((0>-c[2]?-a:a)+2*Math.PI-1E-6)%(2*Math.PI)}function Me(a,c,d){var f=I.range(a,c-1E-6,d).concat(c);return function(a){return f.map(function(c){return[a,c]})}}
function Ne(a,c,d){var f=I.range(a,c-1E-6,d).concat(c);return function(a){return f.map(function(c){return[c,a]})}}function pd(a){return a.source}function qd(a){return a.target}function Ng(a,c,d,f){var e=Math.cos(c),g=Math.sin(c),b=Math.cos(f),h=Math.sin(f),r=e*Math.cos(a),q=e*Math.sin(a),k=b*Math.cos(d),m=b*Math.sin(d),v=2*Math.asin(Math.sqrt(ca(f-c)+e*b*ca(d-a))),n=1/Math.sin(v);d=v?function(a){var c=Math.sin(a*=v)*n;a=Math.sin(v-a)*n;var d=a*r+c*k,f=a*q+c*m;return[Math.atan2(f,d)*Ha,Math.atan2(a*
g+c*h,Math.sqrt(d*d+f*f))*Ha]}:function(){return[a*Ha,c*Ha]};d.distance=v;return d}function Vb(a,c){function d(c,d){var f=Math.cos(d),e=a(Math.cos(c)*f);return[e*f*Math.sin(c),e*Math.sin(d)]}d.invert=function(a,d){var f=Math.sqrt(a*a+d*d),e=c(f),g=Math.sin(e);return[Math.atan2(a*g,f*Math.cos(e)),Math.asin(f&&d*g/f)]};return d}function Oe(a,c){function d(a,c){0<g?c<-Ia+1E-6&&(c=-Ia+1E-6):c>Ia-1E-6&&(c=Ia-1E-6);c=g/Math.pow(Math.tan(va/4+c/2),e);return[c*Math.sin(e*a),g-c*Math.cos(e*a)]}var f=Math.cos(a),
e=a===c?Math.sin(a):Math.log(f/Math.cos(c))/Math.log(Math.tan(va/4+c/2)/Math.tan(va/4+a/2)),g=f*Math.pow(Math.tan(va/4+a/2),e)/e;if(!e)return yc;d.invert=function(a,c){c=g-c;return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(g/((0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)),1/e))-Ia]};return d}function Pe(a,c){function d(a,c){c=g-c;return[c*Math.sin(e*a),g-c*Math.cos(e*a)]}var f=Math.cos(a),e=a===c?Math.sin(a):(f-Math.cos(c))/(c-a),g=f/e+a;if(1E-6>xa(e))return Ub;d.invert=function(a,c){c=g-c;return[Math.atan2(a,
c)/e,g-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+c*c)]};return d}function yc(a,c){return[a,Math.log(Math.tan(va/4+c/2))]}function Qe(a){var c=rb(a),d=c.scale,f=c.translate,e=c.clipExtent,g;c.scale=function(){var a=d.apply(c,arguments);return a===c?g?c.clipExtent(null):c:a};c.translate=function(){var a=f.apply(c,arguments);return a===c?g?c.clipExtent(null):c:a};c.clipExtent=function(a){var b=e.apply(c,arguments);if(b===c){if(g=null==a){var h=va*d(),r=f();e([[r[0]-h,r[1]-h],[r[0]+h,r[1]+h]])}}else g&&(b=null);
return b};return c.clipExtent(null)}function rd(a,c){return[Math.log(Math.tan(va/4+c/2)),-a]}function Jb(a){return a[0]}function Wb(a){return a[1]}function Re(a){for(var c=a.length,d=[0,1],f=2,e=2;e<c;e++){for(;1<f&&0>=oa(a[d[f-2]],a[d[f-1]],a[e]);)--f;d[f++]=e}return d.slice(0,f)}function Og(a,c){return a[0]-c[0]||a[1]-c[1]}function sd(a,c,d){return(d[0]-c[0])*(a[1]-c[1])<(d[1]-c[1])*(a[0]-c[0])}function td(a,c,d,f){var e=a[0],g=d[0],b=c[0]-e,h=f[0]-g;a=a[1];d=d[1];c=c[1]-a;f=f[1]-d;g=(h*(a-d)-f*
(e-g))/(f*b-h*c);return[e+g*b,a+g*c]}function Se(a){var c=a[0];a=a[a.length-1];return!(c[0]-a[0]||c[1]-a[1])}function Pg(){zc(this);this.edge=this.site=this.circle=null}function Te(a){var c=Ue.pop()||new Pg;c.site=a;return c}function ud(a){Kb(a);Lb.remove(a);Ue.push(a);zc(a)}function Ve(a,c){var d=a.site,f=d.x,e=d.y,g=e-c;if(!g)return f;a=a.P;if(!a)return-Infinity;d=a.site;a=d.x;d=d.y;c=d-c;if(!c)return a;var b=a-f,h=1/g-1/c,r=b/c;return h?(-r+Math.sqrt(r*r-2*h*(b*b/(-2*c)-d+c/2+e-g/2)))/h+f:(f+a)/
2}function We(a){this.site=a;this.edges=[]}function Xe(a,c){return c.angle-a.angle}function Qg(){zc(this);this.x=this.y=this.arc=this.site=this.cy=null}function Mb(a){var c=a.P,d=a.N;if(c&&d){var f=c.site;c=a.site;var e=d.site;if(f!==e){d=c.x;var g=c.y,b=f.x-d,h=f.y-g;f=e.x-d;e=e.y-g;var r=2*(b*e-h*f);if(!(-1E-12<=r)){var q=b*b+h*h,k=f*f+e*e;h=(e*q-h*k)/r;b=(b*k-f*q)/r;e=b+g;g=Ye.pop()||new Qg;g.arc=a;g.site=c;g.x=h+d;g.y=e+Math.sqrt(h*h+b*b);g.cy=e;a.circle=g;a=null;for(c=Xb._;c;)if(g.y<c.y||g.y===
c.y&&g.x<=c.x)if(c.L)c=c.L;else{a=c.P;break}else if(c.R)c=c.R;else{a=c;break}Xb.insert(a,g);a||(vd=g)}}}}function Kb(a){var c=a.circle;c&&(c.P||(vd=c.N),Xb.remove(c),Ye.push(c),zc(c),a.circle=null)}function Rg(a,c){var d=a.b;if(d)return!0;var f=a.a;d=c[0][0];var e=c[1][0],g=c[0][1];c=c[1][1];var b=a.l,h=a.r,r=b.x;b=b.y;var q=h.x;h=h.y;var k=(r+q)/2;if(h===b){if(k<d||k>=e)return;if(r>q){if(!f)f={x:k,y:g};else if(f.y>=c)return;d={x:k,y:c}}else{if(!f)f={x:k,y:c};else if(f.y<g)return;d={x:k,y:g}}}else{var m=
(r-q)/(h-b);k=(b+h)/2-m*k;if(-1>m||1<m)if(r>q){if(!f)f={x:(g-k)/m,y:g};else if(f.y>=c)return;d={x:(c-k)/m,y:c}}else{if(!f)f={x:(c-k)/m,y:c};else if(f.y<g)return;d={x:(g-k)/m,y:g}}else if(b<h){if(!f)f={x:d,y:m*d+k};else if(f.x>=e)return;d={x:e,y:m*e+k}}else{if(!f)f={x:e,y:m*e+k};else if(f.x<d)return;d={x:d,y:m*d+k}}}a.a=f;a.b=d;return!0}function Ze(a,c){this.l=a;this.r=c;this.a=this.b=null}function Yb(a,c,d,f){var e=new Ze(a,c);Nb.push(e);d&&Ac(e,a,c,d);f&&Ac(e,c,a,f);Ab[a.i].edges.push(new Bc(e,a,
c));Ab[c.i].edges.push(new Bc(e,c,a));return e}function Sg(a,c,d){a=new Ze(a,null);a.a=c;a.b=d;Nb.push(a);return a}function Ac(a,c,d,f){a.a||a.b?a.l===d?a.b=f:a.a=f:(a.a=f,a.l=c,a.r=d)}function Bc(a,c,d){var f=a.a,e=a.b;this.edge=a;this.site=c;this.angle=d?Math.atan2(d.y-c.y,d.x-c.x):a.l===c?Math.atan2(e.x-f.x,f.y-e.y):Math.atan2(f.x-e.x,e.y-f.y)}function wd(){this._=null}function zc(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Zb(a,c){var d=c.R,f=c.U;f?f.L===c?f.L=d:f.R=d:a._=d;d.U=f;c.U=d;c.R=d.L;c.R&&
(c.R.U=c);d.L=c}function $b(a,c){var d=c.L,f=c.U;f?f.L===c?f.L=d:f.R=d:a._=d;d.U=f;c.U=d;c.L=d.R;c.L&&(c.L.U=c);d.R=c}function $e(a){for(;a.L;)a=a.L;return a}function xd(a,c){var d=a.sort(Tg).pop(),f;Nb=[];Ab=Array(a.length);Lb=new wd;for(Xb=new wd;;){var e=vd;if(d&&(!e||d.y<e.y||d.y===e.y&&d.x<e.x)){if(d.x!==f||d.y!==g){Ab[d.i]=new We(d);var g=f=void 0;e=d;for(var b=e.x,h=e.y,r=Lb._;r;){var q=Ve(r,h)-b;if(1E-6<q)r=r.L;else{var k=r;var m=h;var v=k.N;v?m=Ve(v,m):(k=k.site,m=k.y===m?k.x:Infinity);m=
b-m;if(1E-6<m){if(!r.R){g=r;break}r=r.R}else{-1E-6<q?(g=r.P,f=r):-1E-6<m?(g=r,f=r.N):g=f=r;break}}}q=Te(e);Lb.insert(g,q);if(g||f)if(g===f)Kb(g),f=Te(g.site),Lb.insert(q,f),q.edge=f.edge=Yb(g.site,q.site),Mb(g),Mb(f);else if(f){Kb(g);Kb(f);b=g.site;r=b.x;m=b.y;k=e.x-r;v=e.y-m;h=f.site;var n=h.x-r,t=h.y-m,u=2*(k*t-v*n),x=k*k+v*v,C=n*n+t*t;r={x:(t*x-v*C)/u+r,y:(k*C-n*x)/u+m};Ac(f.edge,b,h,r);q.edge=Yb(b,e,null,r);f.edge=Yb(e,h,null,r);Mb(g);Mb(f)}else q.edge=Yb(g.site,q.site);f=d.x;g=d.y}d=a.pop()}else if(e){h=
e.arc;e=h.circle;b=e.x;r=e.cy;e={x:b,y:r};k=h.P;m=h.N;q=[h];ud(h);for(h=k;h.circle&&1E-6>xa(b-h.circle.x)&&1E-6>xa(r-h.circle.cy);)k=h.P,q.unshift(h),ud(h),h=k;q.unshift(h);Kb(h);for(k=m;k.circle&&1E-6>xa(b-k.circle.x)&&1E-6>xa(r-k.circle.cy);)m=k.N,q.push(k),ud(k),k=m;q.push(k);Kb(k);r=q.length;for(b=1;b<r;++b)k=q[b],h=q[b-1],Ac(k.edge,h.site,k.site,e);h=q[0];k=q[r-1];k.edge=Yb(h.site,k.site,null,e);Mb(h);Mb(k)}else break}if(c){a=Nb;d=we(c[0][0],c[0][1],c[1][0],c[1][1]);for(f=a.length;f--;)if(g=
a[f],!Rg(g,c)||!d(g)||1E-6>xa(g.a.x-g.b.x)&&1E-6>xa(g.a.y-g.b.y))g.a=g.b=null,a.splice(f,1);a=c[0][0];d=c[1][0];f=c[0][1];c=c[1][1];b=Ab;for(h=b.length;h--;)if((r=b[h])&&r.prepare())for(k=r.edges,v=k.length,m=0;m<v;)if(n=k[m].end(),e=n.x,q=n.y,t=k[++m%v].start(),g=t.x,t=t.y,1E-6<xa(e-g)||1E-6<xa(q-t))k.splice(m,0,new Bc(Sg(r.site,n,1E-6>xa(e-a)&&1E-6<c-q?{x:a,y:1E-6>xa(g-a)?t:c}:1E-6>xa(q-c)&&1E-6<d-e?{x:1E-6>xa(t-c)?g:d,y:c}:1E-6>xa(e-d)&&1E-6<q-f?{x:d,y:1E-6>xa(g-d)?t:f}:1E-6>xa(q-f)&&1E-6<e-a?
{x:1E-6>xa(t-f)?g:a,y:f}:null),r.site,null)),++v}c={cells:Ab,edges:Nb};Lb=Xb=Nb=Ab=null;return c}function Tg(a,c){return c.y-a.y||c.x-a.x}function Ug(a){return a.x}function Vg(a){return a.y}function af(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ac(a,c,d,f,e,g){if(!a(c,d,f,e,g)){var b=.5*(d+e),h=.5*(f+g);c=c.nodes;c[0]&&ac(a,c[0],d,f,b,h);c[1]&&ac(a,c[1],b,f,e,h);c[2]&&ac(a,c[2],d,h,b,g);c[3]&&ac(a,c[3],b,h,e,g)}}function Wg(a,c,d,f,e,g,b){var h=Infinity,r;(function nc(a,q,k,m,v){if(!(q>
g||k>b||m<f||v<e)){if(n=a.point){var n,t=c-a.x,u=d-a.y;t=t*t+u*u;t<h&&(t=Math.sqrt(h=t),f=c-t,e=d-t,g=c+t,b=d+t,r=n)}n=a.nodes;t=.5*(q+m);u=.5*(k+v);for(var x=(d>=u)<<1|c>=t,C=x+4;x<C;++x)if(a=n[x&3])switch(x&3){case 0:nc(a,q,k,t,u);break;case 1:nc(a,t,k,m,u);break;case 2:nc(a,q,u,t,v);break;case 3:nc(a,t,u,m,v)}}})(a,f,e,g,b);return r}function yd(a,c){a=I.rgb(a);c=I.rgb(c);var d=a.r,f=a.g,e=a.b,g=c.r-d,b=c.g-f,h=c.b-e;return function(a){return"#"+ua(Math.round(d+g*a))+ua(Math.round(f+b*a))+ua(Math.round(e+
h*a))}}function bf(a,c){var d={},f={},e;for(e in a)e in c?d[e]=Bb(a[e],c[e]):f[e]=a[e];for(e in c)e in a||(f[e]=c[e]);return function(a){for(e in d)f[e]=d[e](a);return f}}function kb(a,c){a=+a;c=+c;return function(d){return a*(1-d)+c*d}}function cf(a,c){var d=zd.lastIndex=Ad.lastIndex=0,f,e,g,b=-1,h=[],r=[];a+="";for(c+="";(f=zd.exec(a))&&(e=Ad.exec(c));)(g=e.index)>d&&(g=c.slice(d,g),h[b]?h[b]+=g:h[++b]=g),(f=f[0])===(e=e[0])?h[b]?h[b]+=e:h[++b]=e:(h[++b]=null,r.push({i:b,x:kb(f,e)})),d=Ad.lastIndex;
d<c.length&&(g=c.slice(d),h[b]?h[b]+=g:h[++b]=g);return 2>h.length?r[0]?(c=r[0].x,function(a){return c(a)+""}):function(){return c}:(c=r.length,function(a){for(var d=0,f;d<c;++d)h[(f=r[d]).i]=f.x(a);return h.join("")})}function Bb(a,c){for(var d=I.interpolators.length,f;0<=--d&&!(f=I.interpolators[d](a,c)););return f}function Cc(a,c){var d=[],f=[],e=a.length,g=c.length,b=Math.min(a.length,c.length),h;for(h=0;h<b;++h)d.push(Bb(a[h],c[h]));for(;h<e;++h)f[h]=a[h];for(;h<g;++h)f[h]=c[h];return function(a){for(h=
0;h<b;++h)f[h]=d[h](a);return f}}function Xg(a){return function(c){return 0>=c?0:1<=c?1:a(c)}}function df(a){return function(c){return 1-a(1-c)}}function ef(a){return function(c){return.5*(.5>c?a(2*c):2-a(2-2*c))}}function Yg(a){return a*a}function Zg(a){return a*a*a}function $g(a){if(0>=a)return 0;if(1<=a)return 1;var c=a*a,d=c*a;return 4*(.5>a?d:3*(a-c)+d-.75)}function ah(a){return 1-Math.cos(a*Ia)}function bh(a){return Math.pow(2,10*(a-1))}function ch(a){return 1-Math.sqrt(1-a*a)}function dh(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function ff(a,c){c-=a;return function(d){return Math.round(a+c*d)}}function gf(a){var c=[a.a,a.b],d=[a.c,a.d],f=hf(c),e=c[0]*d[0]+c[1]*d[1],g=-e;d[0]+=g*c[0];d[1]+=g*c[1];g=hf(d)||0;c[0]*d[1]<d[0]*c[1]&&(c[0]*=-1,c[1]*=-1,f*=-1,e*=-1);this.rotate=(f?Math.atan2(c[1],c[0]):Math.atan2(-d[0],d[1]))*Ha;this.translate=[a.e,a.f];this.scale=[f,g];this.skew=g?Math.atan2(e,g)*Ha:0}
function hf(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);c&&(a[0]/=c,a[1]/=c);return c}function Ob(a){return a.length?a.pop()+",":""}function eh(a,c,d,f){a[0]!==c[0]||a[1]!==c[1]?(d=d.push("translate(",null,",",null,")"),f.push({i:d-4,x:kb(a[0],c[0])},{i:d-2,x:kb(a[1],c[1])})):(c[0]||c[1])&&d.push("translate("+c+")")}function fh(a,c,d,f){a!==c?(180<a-c?c+=360:180<c-a&&(a+=360),f.push({i:d.push(Ob(d)+"rotate(",null,")")-2,x:kb(a,c)})):c&&d.push(Ob(d)+"rotate("+c+")")}function gh(a,c,d,f){a!==c?f.push({i:d.push(Ob(d)+
"skewX(",null,")")-2,x:kb(a,c)}):c&&d.push(Ob(d)+"skewX("+c+")")}function hh(a,c,d,f){a[0]!==c[0]||a[1]!==c[1]?(d=d.push(Ob(d)+"scale(",null,",",null,")"),f.push({i:d-4,x:kb(a[0],c[0])},{i:d-2,x:kb(a[1],c[1])})):1===c[0]&&1===c[1]||d.push(Ob(d)+"scale("+c+")")}function jf(a,c){var d=[],f=[];a=I.transform(a);c=I.transform(c);eh(a.translate,c.translate,d,f);fh(a.rotate,c.rotate,d,f);gh(a.skew,c.skew,d,f);hh(a.scale,c.scale,d,f);a=c=null;return function(a){for(var c=-1,e=f.length,g;++c<e;)d[(g=f[c]).i]=
g.x(a);return d.join("")}}function ih(a,c){c=(c-=a=+a)||1/c;return function(d){return(d-a)/c}}function jh(a,c){c=(c-=a=+a)||1/c;return function(d){return Math.max(0,Math.min(1,(d-a)/c))}}function kh(a){var c=a.source;a=a.target;var d=a;if(c===d)var f=c;else{f=kf(c);d=kf(d);for(var e=f.pop(),g=d.pop(),h=null;e===g;)h=e,e=f.pop(),g=d.pop();f=h}for(d=[c];c!==f;)c=c.parent,d.push(c);for(c=d.length;a!==f;)d.splice(c,0,a),a=a.parent;return d}function kf(a){for(var c=[],d=a.parent;null!=d;)c.push(a),a=d,
d=d.parent;c.push(a);return c}function lh(a){a.fixed|=2}function mh(a){a.fixed&=-7}function nh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function oh(a){a.fixed&=-5}function lf(a,c,d){var f=0,e=0;a.charge=0;if(!a.leaf)for(var g=a.nodes,h=g.length,b=-1,r;++b<h;)r=g[b],null!=r&&(lf(r,c,d),a.charge+=r.charge,f+=r.charge*r.cx,e+=r.charge*r.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),c*=d[a.point.index],a.charge+=a.pointCharge=c,f+=c*a.point.x,e+=c*a.point.y);a.cx=f/a.charge;a.cy=
e/a.charge}function bc(a,c){I.rebind(a,c,"sort","children","value");a.nodes=a;a.links=ph;return a}function cc(a,c){for(var d=[a];null!=(a=d.pop());)if(c(a),(e=a.children)&&(f=e.length))for(var f,e;0<=--f;)d.push(e[f])}function fb(a,c){for(var d=[a],f=[];null!=(a=d.pop());)if(f.push(a),(g=a.children)&&(e=g.length)){a=-1;for(var e,g;++a<e;)d.push(g[a])}for(;null!=(a=f.pop());)c(a)}function qh(a){return a.children}function rh(a){return a.value}function sh(a,c){return c.value-a.value}function ph(a){return I.merge(a.map(function(a){return(a.children||
[]).map(function(c){return{source:a,target:c}})}))}function th(a){return a.x}function uh(a){return a.y}function vh(a,c,d){a.y0=c;a.y=d}function Bd(a){return I.range(a.length)}function Cd(a){var c=-1;a=a[0].length;for(var d=[];++c<a;)d[c]=0;return d}function wh(a){for(var c=1,d=0,f=a[0][1],e,g=a.length;c<g;++c)(e=a[c][1])>f&&(d=c,f=e);return d}function xh(a){return a.reduce(yh,0)}function yh(a,c){return a+c[1]}function zh(a,c){return mf(a,Math.ceil(Math.log(c.length)/Math.LN2+1))}function mf(a,c){var d=
-1,f=+a[0];a=(a[1]-f)/c;for(var e=[];++d<=c;)e[d]=a*d+f;return e}function Ah(a){return[I.min(a),I.max(a)]}function Bh(a,c){return a.value-c.value}function Dd(a,c){var d=a._pack_next;a._pack_next=c;c._pack_prev=a;c._pack_next=d;d._pack_prev=c}function nf(a,c){a._pack_next=c;c._pack_prev=a}function of(a,c){var d=c.x-a.x,f=c.y-a.y;a=a.r+c.r;return.999*a*a>d*d+f*f}function pf(a){function c(a){f=Math.min(a.x-a.r,f);e=Math.max(a.x+a.r,e);g=Math.min(a.y-a.r,g);h=Math.max(a.y+a.r,h)}if((d=a.children)&&(k=
d.length)){var d,f=Infinity,e=-Infinity,g=Infinity,h=-Infinity,b,r,q,k;d.forEach(Ch);var m=d[0];m.x=-m.r;m.y=0;c(m);if(1<k){var v=d[1];v.x=v.r;v.y=0;c(v);if(2<k){var n=d[2];qf(m,v,n);c(n);Dd(m,n);m._pack_prev=n;Dd(n,v);v=m._pack_next;for(b=3;b<k;b++){qf(m,v,n=d[b]);var t=0,u=1,x=1;for(r=v._pack_next;r!==v;r=r._pack_next,u++)if(of(r,n)){t=1;break}if(1==t)for(q=m._pack_prev;q!==r._pack_prev&&!of(q,n);q=q._pack_prev,x++);t?(u<x||u==x&&v.r<m.r?nf(m,v=r):nf(m=q,v),b--):(Dd(m,n),v=n,c(n))}}}m=(f+e)/2;v=
(g+h)/2;for(b=r=0;b<k;b++)n=d[b],n.x-=m,n.y-=v,r=Math.max(r,n.r+Math.sqrt(n.x*n.x+n.y*n.y));a.r=r;d.forEach(Dh)}}function Ch(a){a._pack_next=a._pack_prev=a}function Dh(a){delete a._pack_next;delete a._pack_prev}function rf(a,c,d,f){var e=a.children;a.x=c+=f*a.x;a.y=d+=f*a.y;a.r*=f;if(e){a=-1;for(var g=e.length;++a<g;)rf(e[a],c,d,f)}}function qf(a,c,d){var f=a.r+d.r,e=c.x-a.x,g=c.y-a.y;if(f&&(e||g)){var h=c.r+d.r,b=e*e+g*g;h*=h;f*=f;c=.5+(f-h)/(2*b);h=Math.sqrt(Math.max(0,2*h*(f+b)-(f-=b)*f-h*h))/
(2*b);d.x=a.x+c*e+h*g;d.y=a.y+c*g-h*e}else d.x=a.x+f,d.y=a.y}function sf(a,c){return a.parent==c.parent?1:2}function Ed(a){var c=a.children;return c.length?c[0]:a.t}function Fd(a){var c=a.children,d;return(d=c.length)?c[d-1]:a.t}function Eh(a){return 1+I.max(a,function(a){return a.y})}function Fh(a){return a.reduce(function(a,c){return a+c.x},0)/a.length}function tf(a){var c=a.children;return c&&c.length?tf(c[0]):a}function uf(a){var c=a.children,d;return c&&(d=c.length)?uf(c[d-1]):a}function Gd(a){return{x:a.x,
y:a.y,dx:a.dx,dy:a.dy}}function vf(a,c){var d=a.x+c[3],f=a.y+c[0],e=a.dx-c[1]-c[3];a=a.dy-c[0]-c[2];0>e&&(d+=e/2,e=0);0>a&&(f+=a/2,a=0);return{x:d,y:f,dx:e,dy:a}}function Pb(a){var c=a[0];a=a[a.length-1];return c<a?[c,a]:[a,c]}function Dc(a){return a.rangeExtent?a.rangeExtent():Pb(a.range())}function Gh(a,c,d,f){var e=d(a[0],a[1]),g=f(c[0],c[1]);return function(a){return g(e(a))}}function Ec(a,c){var d=0,f=a.length-1,e=a[d],g=a[f];if(g<e){var h=d;d=f;f=h;h=e;e=g;g=h}a[d]=c.floor(e);a[f]=c.ceil(g);
return a}function wf(a){return a?{floor:function(c){return Math.floor(c/a)*a},ceil:function(c){return Math.ceil(c/a)*a}}:Hh}function Ih(a,c,d,f){var e=[],g=[],h=0,b=Math.min(a.length,c.length)-1;a[b]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());for(;++h<=b;)e.push(d(a[h-1],a[h])),g.push(f(c[h-1],c[h]));return function(c){var d=I.bisect(a,c,1,b)-1;return g[d](e[d](c))}}function xf(a,c,d,f){function e(){var e=2<Math.min(a.length,c.length)?Ih:Gh,r=f?jh:ih;h=e(a,c,r,d);b=e(c,a,r,Bb);return g}function g(a){return h(a)}
var h,b;g.invert=function(a){return b(a)};g.domain=function(c){if(!arguments.length)return a;a=c.map(Number);return e()};g.range=function(a){if(!arguments.length)return c;c=a;return e()};g.rangeRound=function(a){return g.range(a).interpolate(ff)};g.clamp=function(a){if(!arguments.length)return f;f=a;return e()};g.interpolate=function(a){if(!arguments.length)return d;d=a;return e()};g.ticks=function(c){return I.range.apply(I,sb(a,c))};g.tickFormat=function(c,d){return Hd(a,c,d)};g.nice=function(c){yf(a,
c);return e()};g.copy=function(){return xf(a,c,d,f)};return e()}function Id(a,c){return I.rebind(a,c,"range","rangeRound","interpolate","clamp")}function yf(a,c){Ec(a,wf(sb(a,c)[2]));Ec(a,wf(sb(a,c)[2]));return a}function sb(a,c){null==c&&(c=10);a=Pb(a);var d=a[1]-a[0],f=Math.pow(10,Math.floor(Math.log(d/c)/Math.LN10));c=c/d*f;.15>=c?f*=10:.35>=c?f*=5:.75>=c&&(f*=2);a[0]=Math.ceil(a[0]/f)*f;a[1]=Math.floor(a[1]/f)*f+.5*f;a[2]=f;return a}function Hd(a,c,d){a=sb(a,c);if(d){c=he.exec(d);c.shift();if("s"===
c[8]){var f=I.formatPrefix(Math.max(xa(a[0]),xa(a[1])));c[7]||(c[7]="."+Fc(f.scale(a[2])));c[8]="f";d=I.format(c.join(""));return function(a){return d(f.scale(a))+f.symbol}}c[7]||(c[7]="."+Jh(c[8],a));d=c.join("")}else d=",."+Fc(a[2])+"f";return I.format(d)}function Fc(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Jh(a,c){var d=Fc(c[2]);return a in Kh?Math.abs(d-Fc(Math.max(xa(c[0]),xa(c[1]))))+ +("e"!==a):d-2*("%"===a)}function zf(a,c,d,f){function e(a){return(d?Math.log(0>a?0:a):-Math.log(0<
a?0:-a))/Math.log(c)}function g(a){return d?Math.pow(c,a):-Math.pow(c,-a)}function h(c){return a(e(c))}h.invert=function(c){return g(a.invert(c))};h.domain=function(c){if(!arguments.length)return f;d=0<=c[0];a.domain((f=c.map(Number)).map(e));return h};h.base=function(d){if(!arguments.length)return c;c=+d;a.domain(f.map(e));return h};h.nice=function(){var c=Ec(f.map(e),d?Math:Lh);a.domain(c);f=c.map(g);return h};h.ticks=function(){var a=Pb(f),h=[],b=a[0];a=a[1];var r=Math.floor(e(b)),q=Math.ceil(e(a)),
k=c%1?2:c;if(isFinite(q-r)){if(d){for(;r<q;r++)for(var m=1;m<k;m++)h.push(g(r)*m);h.push(g(r))}else for(h.push(g(r));r++<q;)for(m=k-1;0<m;m--)h.push(g(r)*m);for(r=0;h[r]<b;r++);for(q=h.length;h[q-1]>a;q--);h=h.slice(r,q)}return h};h.tickFormat=function(a,d){if(!arguments.length)return Af;2>arguments.length?d=Af:"function"!==typeof d&&(d=I.format(d));var f=Math.max(1,c*a/h.ticks().length);return function(a){var h=a/g(Math.round(e(a)));h*c<c-.5&&(h*=c);return h<=f?d(a):""}};h.copy=function(){return zf(a.copy(),
c,d,f)};return Id(h,a)}function Bf(a,c,d){function f(c){return a(e(c))}var e=Gc(c),g=Gc(1/c);f.invert=function(c){return g(a.invert(c))};f.domain=function(c){if(!arguments.length)return d;a.domain((d=c.map(Number)).map(e));return f};f.ticks=function(a){return I.range.apply(I,sb(d,a))};f.tickFormat=function(a,c){return Hd(d,a,c)};f.nice=function(a){return f.domain(yf(d,a))};f.exponent=function(h){if(!arguments.length)return c;e=Gc(c=h);g=Gc(1/c);a.domain(d.map(e));return f};f.copy=function(){return Bf(a.copy(),
c,d)};return Id(f,a)}function Gc(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}}function Cf(a,c){function d(d){return g[((e.get(d)||("range"===c.t?e.set(d,a.push(d)):NaN))-1)%g.length]}function f(c,d){return I.range(a.length).map(function(a){return c+d*a})}var e,g,h;d.domain=function(f){if(!arguments.length)return a;a=[];e=new m;for(var g=-1,h=f.length,b;++g<h;)e.has(b=f[g])||e.set(b,a.push(b));return d[c.t].apply(d,c.a)};d.range=function(a){if(!arguments.length)return g;g=a;h=0;
c={t:"range",a:arguments};return d};d.rangePoints=function(e,b){2>arguments.length&&(b=0);var r=e[0],q=e[1];q=2>a.length?(r=(r+q)/2,0):(q-r)/(a.length-1+b);g=f(r+q*b/2,q);h=0;c={t:"rangePoints",a:arguments};return d};d.rangeRoundPoints=function(e,b){2>arguments.length&&(b=0);var r=e[0],q=e[1],k=2>a.length?(r=q=Math.round((r+q)/2),0):(q-r)/(a.length-1+b)|0;g=f(r+Math.round(k*b/2+(q-r-(a.length-1+b)*k)/2),k);h=0;c={t:"rangeRoundPoints",a:arguments};return d};d.rangeBands=function(e,b,r){2>arguments.length&&
(b=0);3>arguments.length&&(r=b);var q=e[1]<e[0],k=e[q-0],m=(e[1-q]-k)/(a.length-b+2*r);g=f(k+m*r,m);q&&g.reverse();h=m*(1-b);c={t:"rangeBands",a:arguments};return d};d.rangeRoundBands=function(e,b,r){2>arguments.length&&(b=0);3>arguments.length&&(r=b);var q=e[1]<e[0],k=e[q-0],m=e[1-q],v=Math.floor((m-k)/(a.length-b+2*r));g=f(k+Math.round((m-k-(a.length-b)*v)/2),v);q&&g.reverse();h=Math.round(v*(1-b));c={t:"rangeRoundBands",a:arguments};return d};d.rangeBand=function(){return h};d.rangeExtent=function(){return Pb(c.a[0])};
d.copy=function(){return Cf(a,c)};return d.domain(a)}function Df(a,c){function f(){var d=0,f=c.length;for(h=[];++d<f;)h[d-1]=I.quantile(a,d/f);return e}function e(a){if(!isNaN(a=+a))return c[I.bisect(h,a)]}var h;e.domain=function(c){if(!arguments.length)return a;a=c.map(k).filter(d).sort(g);return f()};e.range=function(a){if(!arguments.length)return c;c=a;return f()};e.quantiles=function(){return h};e.invertExtent=function(d){d=c.indexOf(d);return 0>d?[NaN,NaN]:[0<d?h[d-1]:a[0],d<h.length?h[d]:a[a.length-
1]]};e.copy=function(){return Df(a,c)};return f()}function Ef(a,c,d){function f(c){return d[Math.max(0,Math.min(h,Math.floor(g*(c-a))))]}function e(){g=d.length/(c-a);h=d.length-1;return f}var g,h;f.domain=function(d){if(!arguments.length)return[a,c];a=+d[0];c=+d[d.length-1];return e()};f.range=function(a){if(!arguments.length)return d;d=a;return e()};f.invertExtent=function(c){c=d.indexOf(c);c=0>c?NaN:c/g+a;return[c,c+1/g]};f.copy=function(){return Ef(a,c,d)};return e()}function Ff(a,c){function d(d){if(d<=
d)return c[I.bisect(a,d)]}d.domain=function(c){if(!arguments.length)return a;a=c;return d};d.range=function(a){if(!arguments.length)return c;c=a;return d};d.invertExtent=function(d){d=c.indexOf(d);return[a[d-1],a[d]]};d.copy=function(){return Ff(a,c)};return d}function Gf(a){function c(a){return+a}c.invert=c;c.domain=c.range=function(d){if(!arguments.length)return a;a=d.map(c);return c};c.ticks=function(c){return I.range.apply(I,sb(a,c))};c.tickFormat=function(c,d){return Hd(a,c,d)};c.copy=function(){return Gf(a)};
return c}function Mh(){return 0}function Nh(a){return a.innerRadius}function Oh(a){return a.outerRadius}function Hf(a){return a.startAngle}function If(a){return a.endAngle}function Ph(a){return a&&a.padAngle}function Hc(a,c,d,f){return 0<(a-d)*c-(c-f)*a?0:1}function Ic(a,c,d,f,e){var g=a[0]-c[0],h=a[1]-c[1];e=(e?f:-f)/Math.sqrt(g*g+h*h);h*=e;g*=-e;var b=a[0]+h,r=a[1]+g,q=c[0]+h,k=c[1]+g;a=(b+q)/2;c=(r+k)/2;e=q-b;var m=k-r,v=e*e+m*m;f=d-f;k=b*k-q*r;var n=(0>m?-1:1)*Math.sqrt(Math.max(0,f*f*v-k*k));
b=(k*m-e*n)/v;r=(-k*e-m*n)/v;q=(k*m+e*n)/v;e=(-k*e+m*n)/v;m=b-a;v=r-c;a=q-a;c=e-c;m*m+v*v>a*a+c*c&&(b=q,r=e);return[[b-h,r-g],[b*d/f,r*d/f]]}function Jf(a){function c(c){function h(){r.push("M",g(a(q),b))}for(var r=[],q=[],k=-1,m=c.length,v,n=Ca(d),t=Ca(f);++k<m;)e.call(this,v=c[k],k)?q.push([+n.call(this,v,k),+t.call(this,v,k)]):q.length&&(h(),q=[]);q.length&&h();return r.length?r.join(""):null}var d=Jb,f=Wb,e=Tb,g=cb,h=g.key,b=.7;c.x=function(a){if(!arguments.length)return d;d=a;return c};c.y=function(a){if(!arguments.length)return f;
f=a;return c};c.defined=function(a){if(!arguments.length)return e;e=a;return c};c.interpolate=function(a){if(!arguments.length)return h;h="function"===typeof a?g=a:(g=Jd.get(a)||cb).key;return c};c.tension=function(a){if(!arguments.length)return b;b=a;return c};return c}function cb(a){return 1<a.length?a.join("L"):a+"Z"}function Kf(a){return a.join("L")+"Z"}function Kd(a){for(var c=0,d=a.length,f=a[0],e=[f[0],",",f[1]];++c<d;)e.push("V",(f=a[c])[1],"H",f[0]);return e.join("")}function Ld(a){for(var c=
0,d=a.length,f=a[0],e=[f[0],",",f[1]];++c<d;)e.push("H",(f=a[c])[0],"V",f[1]);return e.join("")}function Jc(a,c){if(1>c.length||a.length!=c.length&&a.length!=c.length+2)return cb(a);var d=a.length!=c.length,f="",e=a[0],g=a[1],h=c[0],b=h,r=1;d&&(f+="Q"+(g[0]-2*h[0]/3)+","+(g[1]-2*h[1]/3)+","+g[0]+","+g[1],e=a[1],r=2);if(1<c.length)for(b=c[1],g=a[r],r++,f+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(g[0]-b[0])+","+(g[1]-b[1])+","+g[0]+","+g[1],e=2;e<c.length;e++,r++)g=a[r],b=c[e],f+="S"+(g[0]-b[0])+","+(g[1]-
b[1])+","+g[0]+","+g[1];d&&(a=a[r],f+="Q"+(g[0]+2*b[0]/3)+","+(g[1]+2*b[1]/3)+","+a[0]+","+a[1]);return f}function Md(a,c){var d=[];c=(1-c)/2;for(var f,e=a[0],g=a[1],h=1,b=a.length;++h<b;)f=e,e=g,g=a[h],d.push([c*(g[0]-f[0]),c*(g[1]-f[1])]);return d}function Lf(a){if(3>a.length)return cb(a);var c=1,d=a.length,f=a[0],e=f[0],g=f[1],h=[e,e,e,(f=a[1])[0]],b=[g,g,g,f[1]];e=[e,",",g,"L",Za(tb,h),",",Za(tb,b)];for(a.push(a[d-1]);++c<=d;)f=a[c],h.shift(),h.push(f[0]),b.shift(),b.push(f[1]),Nd(e,h,b);a.pop();
e.push("L",f);return e.join("")}function Za(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]}function Nd(a,c,d){a.push("C",Za(Mf,c),",",Za(Mf,d),",",Za(Nf,c),",",Za(Nf,d),",",Za(tb,c),",",Za(tb,d))}function Od(a,c){return(c[1]-a[1])/(c[0]-a[0])}function Of(a){for(var c,d=-1,f=a.length,e,g;++d<f;)c=a[d],e=c[0],g=c[1]-Ia,c[0]=e*Math.cos(g),c[1]=e*Math.sin(g);return a}function Pf(a){function c(c){function r(){v.push("M",b(a(t),m),k,q(a(n.reverse()),m),"Z")}for(var v=[],n=[],t=[],u=-1,x=c.length,C,
w=Ca(d),A=Ca(e),B=d===f?function(){return z}:Ca(f),D=e===g?function(){return l}:Ca(g),z,l;++u<x;)h.call(this,C=c[u],u)?(n.push([z=+w.call(this,C,u),l=+A.call(this,C,u)]),t.push([+B.call(this,C,u),+D.call(this,C,u)])):n.length&&(r(),n=[],t=[]);n.length&&r();return v.length?v.join(""):null}var d=Jb,f=Jb,e=0,g=Wb,h=Tb,b=cb,r=b.key,q=b,k="L",m=.7;c.x=function(a){if(!arguments.length)return f;d=f=a;return c};c.x0=function(a){if(!arguments.length)return d;d=a;return c};c.x1=function(a){if(!arguments.length)return f;
f=a;return c};c.y=function(a){if(!arguments.length)return g;e=g=a;return c};c.y0=function(a){if(!arguments.length)return e;e=a;return c};c.y1=function(a){if(!arguments.length)return g;g=a;return c};c.defined=function(a){if(!arguments.length)return h;h=a;return c};c.interpolate=function(a){if(!arguments.length)return r;r="function"===typeof a?b=a:(b=Jd.get(a)||cb).key;q=b.reverse||b;k=b.closed?"M":"L";return c};c.tension=function(a){if(!arguments.length)return m;m=a;return c};return c}function Qh(a){return a.radius}
function Qf(a){return[a.x,a.y]}function Rh(a){return function(){var c=a.apply(this,arguments),d=c[0];c=c[1]-Ia;return[d*Math.cos(c),d*Math.sin(c)]}}function Sh(){return 64}function Th(){return"circle"}function Rf(a){a=Math.sqrt(a/va);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Sf(a){return function(){var c,d,f;(c=this[a])&&(f=c[d=c.active])&&(f.timer.c=null,f.timer.t=NaN,--c.count?delete c[d]:delete this[a],c.active+=.5,f.event&&f.event.interrupt.call(this,this.__data__,
f.index))}}function dc(a,c,d){fc(a,La);a.namespace=c;a.id=d;return a}function Pd(a,c,d,f){var e=a.id,g=a.namespace;return R(a,"function"===typeof d?function(a,h,b){a[g][e].tween.set(c,f(d.call(a,a.__data__,h,b)))}:(d=f(d),function(a){a[g][e].tween.set(c,d)}))}function Uh(a){null==a&&(a="");return function(){this.textContent=a}}function Qd(a){return null==a?"__transition__":"__transition_"+a+"__"}function Kc(a,c,d,f,e){function g(a){var c=q.delay;u.t=c+t;if(c<=a)return h(a-c);u.c=h}function h(d){var e=
r.active,g=r[e];g&&(g.timer.c=null,g.timer.t=NaN,--r.count,delete r[e],g.event&&g.event.interrupt.call(a,a.__data__,g.index));for(var h in r)+h<f&&(e=r[h],e.timer.c=null,e.timer.t=NaN,--r.count,delete r[h]);u.c=b;Ba(function(){u.c&&b(d||1)&&(u.c=null,u.t=NaN);return 1},0,t);r.active=f;q.event&&q.event.start.call(a,a.__data__,c);n=[];q.tween.forEach(function(d,f){(f=f.call(a,a.__data__,c))&&n.push(f)});v=q.ease;k=q.duration}function b(e){e/=k;for(var g=v(e),h=n.length;0<h;)n[--h].call(a,g);if(1<=e)return q.event&&
q.event.end.call(a,a.__data__,c),--r.count?delete r[f]:delete a[d],1}var r=a[d]||(a[d]={active:0,count:0}),q=r[f],k,v,n;if(!q){var t=e.time;var u=Ba(g,0,t);q=r[f]={tween:new m,time:t,timer:u,delay:e.delay,duration:e.duration,ease:e.ease,index:c};e=null;++r.count}}function Vh(a,c,d){a.attr("transform",function(a){var f=c(a);return"translate("+(isFinite(f)?f:d(a))+",0)"})}function Wh(a,c,d){a.attr("transform",function(a){var f=c(a);return"translate(0,"+(isFinite(f)?f:d(a))+")"})}function Rd(a){return a.toISOString()}
function Sd(a,c,d){function f(c){return a(c)}function e(a,d){var f=(a[1]-a[0])/d,e=I.bisect(Lc,f);return e==Lc.length?[c.year,sb(a.map(function(a){return a/31536E6}),d)[2]]:e?c[f/Lc[e-1]<Lc[e]/f?e-1:e]:[Xh,sb(a,d)[2]]}f.invert=function(c){return Cb(a.invert(c))};f.domain=function(c){if(!arguments.length)return a.domain().map(Cb);a.domain(c);return f};f.nice=function(a,c){function d(d){return!isNaN(d)&&!a.range(d,Cb(+d+1),c).length}var g=f.domain(),h=Pb(g);if(h=null==a?e(h,10):"number"===typeof a&&
e(h,a))a=h[0],c=h[1];return f.domain(Ec(g,1<c?{floor:function(c){for(;d(c=a.floor(c));)c=Cb(c-1);return c},ceil:function(c){for(;d(c=a.ceil(c));)c=Cb(+c+1);return c}}:a))};f.ticks=function(a,c){var d=Pb(f.domain()),g=null==a?e(d,10):"number"===typeof a?e(d,a):!a.range&&[{range:a},c];g&&(a=g[0],c=g[1]);return a.range(d[0],Cb(+d[1]+1),1>c?1:c)};f.tickFormat=function(){return d};f.copy=function(){return Sd(a.copy(),c,d)};return Id(f,a)}function Cb(a){return new Date(a)}function Yh(a){return JSON.parse(a.responseText)}
function Zh(a){var c=Ua.createRange();c.selectNode(Ua.body);return c.createContextualFragment(a.responseText)}var I={version:"3.5.17"},Tf=[].slice,db=function(a){return Tf.call(a)},Ua=this.document;if(Ua)try{db(Ua.documentElement.childNodes)[0].nodeType}catch(Ea){db=function(a){for(var c=a.length,d=Array(c);c--;)d[c]=a[c];return d}}Date.now||(Date.now=function(){return+new Date});if(Ua)try{Ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(Ea){var Mc=this.Element.prototype,$h=Mc.setAttribute,
ai=Mc.setAttributeNS,Uf=this.CSSStyleDeclaration.prototype,bi=Uf.setProperty;Mc.setAttribute=function(a,c){$h.call(this,a,c+"")};Mc.setAttributeNS=function(a,c,d){ai.call(this,a,c,d+"")};Uf.setProperty=function(a,c,d){bi.call(this,a,c+"",d)}}I.ascending=g;I.descending=function(a,c){return c<a?-1:c>a?1:c>=a?0:NaN};I.min=function(a,c){var d=-1,f=a.length,e;if(1===arguments.length){for(;++d<f;)if(null!=(e=a[d])&&e>=e){var g=e;break}for(;++d<f;)null!=(e=a[d])&&g>e&&(g=e)}else{for(;++d<f;)if(null!=(e=
c.call(a,a[d],d))&&e>=e){g=e;break}for(;++d<f;)null!=(e=c.call(a,a[d],d))&&g>e&&(g=e)}return g};I.max=function(a,c){var d=-1,f=a.length,e;if(1===arguments.length){for(;++d<f;)if(null!=(e=a[d])&&e>=e){var g=e;break}for(;++d<f;)null!=(e=a[d])&&e>g&&(g=e)}else{for(;++d<f;)if(null!=(e=c.call(a,a[d],d))&&e>=e){g=e;break}for(;++d<f;)null!=(e=c.call(a,a[d],d))&&e>g&&(g=e)}return g};I.extent=function(a,c){var d=-1,f=a.length,e,g;if(1===arguments.length){for(;++d<f;)if(null!=(e=a[d])&&e>=e){var h=g=e;break}for(;++d<
f;)null!=(e=a[d])&&(h>e&&(h=e),g<e&&(g=e))}else{for(;++d<f;)if(null!=(e=c.call(a,a[d],d))&&e>=e){h=g=e;break}for(;++d<f;)null!=(e=c.call(a,a[d],d))&&(h>e&&(h=e),g<e&&(g=e))}return[h,g]};I.sum=function(a,c){var d=0,f=a.length,e,g=-1;if(1===arguments.length)for(;++g<f;)isNaN(e=+a[g])||(d+=e);else for(;++g<f;)isNaN(e=+c.call(a,a[g],g))||(d+=e);return d};I.mean=function(a,c){var d=0,f=a.length,e,g=-1,h=f;if(1===arguments.length)for(;++g<f;)isNaN(e=k(a[g]))?--h:d+=e;else for(;++g<f;)isNaN(e=k(c.call(a,
a[g],g)))?--h:d+=e;if(h)return d/h};I.quantile=function(a,c){var d=(a.length-1)*c+1;c=Math.floor(d);var f=+a[c-1];return(d-=c)?f+d*(a[c]-f):f};I.median=function(a,c){var d=[],f=a.length,e,h=-1;if(1===arguments.length)for(;++h<f;)isNaN(e=k(a[h]))||d.push(e);else for(;++h<f;)isNaN(e=k(c.call(a,a[h],h)))||d.push(e);if(d.length)return I.quantile(d.sort(g),.5)};I.variance=function(a,c){var d=a.length,f=0,e,g=0,h=-1,b=0;if(1===arguments.length)for(;++h<d;){if(!isNaN(e=k(a[h]))){var r=e-f;f+=r/++b;g+=r*
(e-f)}}else for(;++h<d;)isNaN(e=k(c.call(a,a[h],h)))||(r=e-f,f+=r/++b,g+=r*(e-f));if(1<b)return g/(b-1)};I.deviation=function(){var a=I.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Vf=h(g);I.bisectLeft=Vf.left;I.bisect=I.bisectRight=Vf.right;I.bisector=function(a){return h(1===a.length?function(c,d){return g(a(c),d)}:a)};I.shuffle=function(a,c,d){3>(f=arguments.length)&&(d=a.length,2>f&&(c=0));for(var f=d-c,e,g;f;)g=Math.random()*f--|0,e=a[f+c],a[f+c]=a[g+c],a[g+c]=e;return a};I.permute=
function(a,c){for(var d=c.length,f=Array(d);d--;)f[d]=a[c[d]];return f};I.pairs=function(a){for(var c=0,d=a.length-1,f=a[0],e=Array(0>d?0:d);c<d;)e[c]=[f,f=a[++c]];return e};I.transpose=function(a){if(!(h=a.length))return[];for(var c=-1,d=I.min(a,e),f=Array(d);++c<d;)for(var g=-1,h,b=f[c]=Array(h);++g<h;)b[g]=a[g][c];return f};I.zip=function(){return I.transpose(arguments)};I.keys=function(a){var c=[],d;for(d in a)c.push(d);return c};I.values=function(a){var c=[],d;for(d in a)c.push(a[d]);return c};
I.entries=function(a){var c=[],d;for(d in a)c.push({key:d,value:a[d]});return c};I.merge=function(a){var c=a.length;var d=-1;for(var f=0,e,g;++d<c;)f+=a[d].length;for(e=Array(f);0<=--c;)for(g=a[c],d=g.length;0<=--d;)e[--f]=g[d];return e};var xa=Math.abs;I.range=function(a,c,d){3>arguments.length&&(d=1,2>arguments.length&&(c=a,a=0));if(Infinity===(c-a)/d)throw Error("infinite range");var f=[];var e=xa(d);for(var g=1;e*g%1;)g*=10;e=g;g=-1;var h;a*=e;c*=e;d*=e;if(0>d)for(;(h=a+d*++g)>c;)f.push(h/e);
else for(;(h=a+d*++g)<c;)f.push(h/e);return f};I.map=function(a,c){var d=new m;if(a instanceof m)a.forEach(function(a,c){d.set(a,c)});else if(Array.isArray(a)){var f=-1,e=a.length,g;if(1===arguments.length)for(;++f<e;)d.set(f,a[f]);else for(;++f<e;)d.set(c.call(a,g=a[f],f),g)}else for(f in a)d.set(f,a[f]);return d};u(m,{has:c,get:function(a){return this._[t(a)]},set:function(a,c){return this._[t(a)]=c},remove:q,keys:a,values:function(){var a=[],c;for(c in this._)a.push(this._[c]);return a},entries:function(){var a=
[],c;for(c in this._)a.push({key:f(c),value:this._[c]});return a},size:r,empty:v,forEach:function(a){for(var c in this._)a.call(this,f(c),this._[c])}});I.nest=function(){function a(c,e,b){if(b>=f.length)return h?h.call(d,e):g?e.sort(g):e;for(var r=-1,q=e.length,k=f[b++],v,n,t=new m,u;++r<q;)(u=t.get(v=k(n=e[r])))?u.push(n):t.set(v,[n]);c?(n=c(),e=function(d,f){n.set(d,a(c,f,b))}):(n={},e=function(d,f){n[d]=a(c,f,b)});t.forEach(e);return n}function c(a,d){if(d>=f.length)return a;var g=[],h=e[d++];
a.forEach(function(a,f){g.push({key:a,values:c(f,d)})});return h?g.sort(function(a,c){return h(a.key,c.key)}):g}var d={},f=[],e=[],g,h;d.map=function(c,d){return a(d,c,0)};d.entries=function(d){return c(a(I.map,d,0),0)};d.key=function(a){f.push(a);return d};d.sortKeys=function(a){e[f.length-1]=a;return d};d.sortValues=function(a){g=a;return d};d.rollup=function(a){h=a;return d};return d};I.set=function(a){var c=new x;if(a)for(var d=0,f=a.length;d<f;++d)c.add(a[d]);return c};u(x,{has:c,add:function(a){this._[t(a+=
"")]=!0;return a},remove:q,values:a,size:r,empty:v,forEach:function(a){for(var c in this._)a.call(this,f(c))}});I.behavior={};I.rebind=function(a,c){for(var d=1,f=arguments.length,e;++d<f;)a[e=arguments[d]]=A(a,c,c[e]);return a};var ce="webkit ms moz Moz o O".split(" ");I.dispatch=function(){for(var a=new l,c=-1,d=arguments.length;++c<d;)a[arguments[c]]=B(a);return a};l.prototype.on=function(a,c){var d=a.indexOf("."),f="";0<=d&&(f=a.slice(d+1),a=a.slice(0,d));if(a)return 2>arguments.length?this[a].on(f):
this[a].on(f,c);if(2===arguments.length){if(null==c)for(a in this)if(this.hasOwnProperty(a))this[a].on(f,null);return this}};I.event=null;I.requote=function(a){return a.replace(ci,"\\$&")};var ci=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fc={}.__proto__?function(a,c){a.__proto__=c}:function(a,c){for(var d in c)a[d]=c[d]},bd=function(a,c){return c.querySelector(a)},cd=function(a,c){return c.querySelectorAll(a)},gc=function(a,c){var d=a.matches||a[D(a,"matchesSelector")];gc=function(a,c){return d.call(a,c)};
return gc(a,c)};"function"===typeof Sizzle&&(bd=function(a,c){return Sizzle(a,c)[0]||null},cd=Sizzle,gc=Sizzle.matchesSelector);I.selection=function(){return I.select(Ua.documentElement)};var Fa=I.selection.prototype=[];Fa.select=function(a){var c=[],d,f,e,g;a=J(a);for(var h=-1,b=this.length;++h<b;){c.push(d=[]);d.parentNode=(e=this[h]).parentNode;for(var r=-1,q=e.length;++r<q;)(g=e[r])?(d.push(f=a.call(g,g.__data__,r,h)),f&&"__data__"in g&&(f.__data__=g.__data__)):d.push(null)}return E(c)};Fa.selectAll=
function(a){var c=[],d,f;a=K(a);for(var e=-1,g=this.length;++e<g;)for(var h=this[e],b=-1,r=h.length;++b<r;)if(f=h[b])c.push(d=db(a.call(f,f.__data__,b,e))),d.parentNode=f;return E(c)};var Td={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};I.ns={prefix:Td,qualify:function(a){var c=a.indexOf(":"),d=a;0<=c&&"xmlns"!==(d=a.slice(0,c))&&(a=a.slice(c+1));return Td.hasOwnProperty(d)?
{space:Td[d],local:a}:a}};Fa.attr=function(a,c){if(2>arguments.length){if("string"===typeof a){var d=this.node();a=I.ns.qualify(a);return a.local?d.getAttributeNS(a.space,a.local):d.getAttribute(a)}for(c in a)this.each(H(c,a[c]));return this}return this.each(H(a,c))};Fa.classed=function(a,c){if(2>arguments.length){if("string"===typeof a){var d=this.node(),f=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(c=d.classList)for(;++e<f;){if(!c.contains(a[e]))return!1}else for(c=d.getAttribute("class");++e<
f;)if(!L(a[e]).test(c))return!1;return!0}for(c in a)this.each(N(c,a[c]));return this}return this.each(N(a,c))};Fa.style=function(a,c,d){var f=arguments.length;if(3>f){if("string"!==typeof a){2>f&&(c="");for(d in a)this.each(Z(d,a[d],c));return this}if(2>f)return f=this.node(),b(f).getComputedStyle(f,null).getPropertyValue(a);d=""}return this.each(Z(a,c,d))};Fa.property=function(a,c){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(c in a)this.each(Q(c,a[c]));return this}return this.each(Q(a,
c))};Fa.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var c=a.apply(this,arguments);this.textContent=null==c?"":c}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};Fa.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var c=a.apply(this,arguments);this.innerHTML=null==c?"":c}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Fa.append=function(a){a=
P(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};Fa.insert=function(a,c){a=P(a);c=J(c);return this.select(function(){return this.insertBefore(a.apply(this,arguments),c.apply(this,arguments)||null)})};Fa.remove=function(){return this.each(U)};Fa.data=function(a,c){function d(a,d){var f,e=a.length,g=d.length,h=Math.min(e,g),k=Array(g),v=Array(g),n=Array(e),t,u;if(c){h=new m;var x=Array(e),C;for(f=-1;++f<e;)if(t=a[f])h.has(C=c.call(t,t.__data__,f))?n[f]=t:h.set(C,
t),x[f]=C;for(f=-1;++f<g;)(t=h.get(C=c.call(d,u=d[f],f)))?!0!==t&&(k[f]=t,t.__data__=u):v[f]={__data__:u},h.set(C,!0);for(f=-1;++f<e;)f in x&&!0!==h.get(x[f])&&(n[f]=a[f])}else{for(f=-1;++f<h;)t=a[f],u=d[f],t?(t.__data__=u,k[f]=t):v[f]={__data__:u};for(;f<g;++f)v[f]={__data__:d[f]};for(;f<e;++f)n[f]=a[f]}v.update=k;v.parentNode=k.parentNode=n.parentNode=a.parentNode;b.push(v);r.push(k);q.push(n)}var f=-1,e=this.length,g,h;if(!arguments.length){for(a=Array(e=(g=this[0]).length);++f<e;)if(h=g[f])a[f]=
h.__data__;return a}var b=T([]),r=E([]),q=E([]);if("function"===typeof a)for(;++f<e;)d(g=this[f],a.call(g,g.parentNode.__data__,f));else for(;++f<e;)d(g=this[f],a);r.enter=function(){return b};r.exit=function(){return q};return r};Fa.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Fa.filter=function(a){var c=[],d,f,e;"function"!==typeof a&&(a=aa(a));for(var g=0,h=this.length;g<h;g++){c.push(d=[]);d.parentNode=(f=this[g]).parentNode;for(var b=0,r=f.length;b<
r;b++)(e=f[b])&&a.call(e,e.__data__,b,g)&&d.push(e)}return E(c)};Fa.order=function(){for(var a=-1,c=this.length;++a<c;)for(var d=this[a],f=d.length-1,e=d[f],g;0<=--f;)if(g=d[f])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this};Fa.sort=function(a){a=W.apply(this,arguments);for(var c=-1,d=this.length;++c<d;)this[c].sort(a);return this.order()};Fa.each=function(a){return R(this,function(c,d,f){a.call(c,c.__data__,d,f)})};Fa.call=function(a){var c=db(arguments);a.apply(c[0]=this,c);
return this};Fa.empty=function(){return!this.node()};Fa.node=function(){for(var a=0,c=this.length;a<c;a++)for(var d=this[a],f=0,e=d.length;f<e;f++){var g=d[f];if(g)return g}return null};Fa.size=function(){var a=0;R(this,function(){++a});return a};var hb=[];I.selection.enter=T;I.selection.enter.prototype=hb;hb.append=Fa.append;hb.empty=Fa.empty;hb.node=Fa.node;hb.call=Fa.call;hb.size=Fa.size;hb.select=function(a){for(var c=[],d,f,e,g,h,b=-1,r=this.length;++b<r;){e=(g=this[b]).update;c.push(d=[]);d.parentNode=
g.parentNode;for(var q=-1,k=g.length;++q<k;)(h=g[q])?(d.push(e[q]=f=a.call(g.parentNode,h.__data__,q,b)),f.__data__=h.__data__):d.push(null)}return E(c)};hb.insert=function(a,c){2>arguments.length&&(c=ea(this));return Fa.insert.call(this,a,c)};I.select=function(a){if("string"===typeof a){var c=[bd(a,Ua)];c.parentNode=Ua.documentElement}else c=[a],c.parentNode=a&&(a.ownerDocument||a.document||a).documentElement;return E([c])};I.selectAll=function(a){"string"===typeof a?(a=db(cd(a,Ua)),a.parentNode=
Ua.documentElement):(a=db(a),a.parentNode=null);return E([a])};Fa.on=function(a,c,d){var f=arguments.length;if(3>f){if("string"!==typeof a){2>f&&(c=!1);for(d in a)this.each(S(d,a[d],c));return this}if(2>f)return(f=this.node()["__on"+a])&&f._;d=!1}return this.each(S(a,c,d))};var dd=I.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ua&&dd.forEach(function(a){"on"+a in Ua&&dd.remove(a)});var ub,ng=0;I.mouse=function(a){return X(a,w())};var ed=this.navigator&&/WebKit/.test(this.navigator.userAgent)?
-1:0;I.touch=function(a,c,d){3>arguments.length&&(d=c,c=w().changedTouches);if(c)for(var f=0,e=c.length,g;f<e;++f)if((g=c[f]).identifier===d)return X(a,g)};I.behavior.drag=function(){function a(){this.on("mousedown.drag",e).on("touchstart.drag",g)}function c(a,c,e,g,h){return function(){var b=I.event.target.correspondingElement||I.event.target,r=this.parentNode,q=d.of(this,arguments),k=0,m=a(),v=".drag"+(null==m?"":"-"+m),n=I.select(e(b)).on(g+v,function(){var a=c(r,m);if(a){var d=a[0]-u[0];var f=
a[1]-u[1];k|=d|f;u=a;q({type:"drag",x:a[0]+x[0],y:a[1]+x[1],dx:d,dy:f})}}).on(h+v,function(){c(r,m)&&(n.on(g+v,null).on(h+v,null),t(k),q({type:"dragend"}))}),t=ja(b),u=c(r,m);if(f){var x=f.apply(this,arguments);x=[x.x-u[0],x.y-u[1]]}else x=[0,0];q({type:"dragstart"})}}var d=G(a,"drag","dragstart","dragend"),f=null,e=c(z,I.mouse,b,"mousemove","mouseup"),g=c(na,I.touch,C,"touchmove","touchend");a.origin=function(c){if(!arguments.length)return f;f=c;return a};return I.rebind(a,d,"on")};I.touches=function(a,
c){2>arguments.length&&(c=w().touches);return c?db(c).map(function(c){var d=X(a,c);d.identifier=c.identifier;return d}):[]};var va=Math.PI,Ya=2*va,di=Ya-1E-6,Ia=va/2,wa=va/180,Ha=180/va,ec=Math.SQRT2;I.interpolateZoom=function(a,c){var d=a[0],f=a[1],e=a[2];a=c[2];var g=c[0]-d,h=c[1]-f,b=g*g+h*h;if(1E-12>b){var r=Math.log(a/e)/ec;a=function(a){return[d+a*g,f+a*h,e*Math.exp(ec*a*r)]}}else{var q=Math.sqrt(b);c=(a*a-e*e+4*b)/(4*e*q);a=(a*a-e*e-4*b)/(4*a*q);var k=Math.log(Math.sqrt(c*c+1)-c);r=(Math.log(Math.sqrt(a*
a+1)-a)-k)/ec;a=function(a){a*=r;var c=Y(k),b=ec*a+k;var m=((b=Math.exp(2*b))-1)/(b+1);var v=k;b=((v=Math.exp(v))-1/v)/2;m=e/(2*q)*(c*m-b);return[d+m*g,f+m*h,e*c/Y(ec*a+k)]}}a.duration=1E3*r;return a};I.behavior.zoom=function(){function a(a){a.on("mousedown.zoom",k).on(Ud+".zoom",v).on("dblclick.zoom",n).on("touchstart.zoom",m)}function c(a){return[(a[0]-t.x)/t.k,(a[1]-t.y)/t.k]}function d(a){t.k=Math.max(A[0],Math.min(A[1],a))}function f(a,c){c=[c[0]*t.k+t.x,c[1]*t.k+t.y];t.x+=a[0]-c[0];t.y+=a[1]-
c[1]}function e(c,e,g,h){c.__chart__={x:t.x,y:t.y,k:t.k};d(Math.pow(2,h));f(x=e,g);c=I.select(c);0<B&&(c=c.transition().duration(B));c.call(a.event)}function g(){p&&p.domain(L.range().map(function(a){return(a-t.x)/t.k}).map(L.invert));H&&H.domain(K.range().map(function(a){return(a-t.y)/t.k}).map(K.invert))}function h(a){D++||a({type:"zoomstart"})}function r(a){g();a({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function q(a){--D||(a({type:"zoomend"}),x=null)}function k(){var a=this,d=E.of(a,arguments),
e=0,g=I.select(b(a)).on("mousemove.zoom",function(){e=1;f(I.mouse(a),k);r(d)}).on("mouseup.zoom",function(){g.on("mousemove.zoom",null).on("mouseup.zoom",null);m(e);q(d)}),k=c(I.mouse(a)),m=ja(a);Nc.call(a);h(d)}function m(){function a(){var a=I.touches(n);w=t.k;a.forEach(function(a){a.identifier in x&&(x[a.identifier]=c(a))});return a}function g(){var c=I.event.target;I.select(c).on(B,b).on(D,v);z.push(c);c=I.event.changedTouches;for(var d=0,f=c.length;d<f;++d)x[c[d].identifier]=null;d=a();f=Date.now();
1===d.length?(500>f-l&&(c=d[0],e(n,c,x[c.identifier],Math.floor(Math.log(t.k)/Math.LN2)+1),y()),l=f):1<d.length&&(c=d[0],f=d[1],d=c[0]-f[0],c=c[1]-f[1],C=d*d+c*c)}function b(){var a=I.touches(n),c;Nc.call(n);for(var e=0,g=a.length;e<g;++e,c=null){var h=a[e];if(c=x[h.identifier]){if(q)break;var b=h;var q=c}}if(c){var k=(k=h[0]-b[0])*k+(k=h[1]-b[1])*k;a=C&&Math.sqrt(k/C);b=[(b[0]+h[0])/2,(b[1]+h[1])/2];q=[(q[0]+c[0])/2,(q[1]+c[1])/2];d(a*w)}l=null;f(b,q);r(u)}function v(){if(I.event.touches.length){for(var c=
I.event.changedTouches,d=0,f=c.length;d<f;++d)delete x[c[d].identifier];for(var e in x)return void a()}I.selectAll(z).on(A,null);G.on("mousedown.zoom",k).on("touchstart.zoom",m);L();q(u)}var n=this,u=E.of(n,arguments),x={},C=0,w,A=".zoom-"+I.event.changedTouches[0].identifier,B="touchmove"+A,D="touchend"+A,z=[],G=I.select(n),L=ja(n);g();h(u);G.on("mousedown.zoom",null).on("touchstart.zoom",g)}function v(){var a=E.of(this,arguments);z?clearTimeout(z):(Nc.call(this),u=c(x=C||I.mouse(this)),h(a));z=
setTimeout(function(){z=null;q(a)},50);y();d(Math.pow(2,.002*Oc())*t.k);f(x,u);r(a)}function n(){var a=I.mouse(this),d=Math.log(t.k)/Math.LN2;e(this,a,c(a),I.event.shiftKey?Math.ceil(d)-1:Math.floor(d)+1)}var t={x:0,y:0,k:1},u,x,C,w=[960,500],A=Wf,B=250,D=0,z,l,E=G(a,"zoomstart","zoom","zoomend"),L,p,K,H;Ud||(Ud="onwheel"in Ua?(Oc=function(){return-I.event.deltaY*(I.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ua?(Oc=function(){return I.event.wheelDelta},"mousewheel"):(Oc=function(){return-I.event.detail},
"MozMousePixelScroll"));a.event=function(a){a.each(function(){var a=E.of(this,arguments),c=t;Db?I.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};h(a)}).tween("zoom:zoom",function(){var d=w[0],f=w[1],e=x?x[0]:d/2,g=x?x[1]:f/2,h=I.interpolateZoom([(e-t.x)/t.k,(g-t.y)/t.k,d/t.k],[(e-c.x)/c.k,(g-c.y)/c.k,d/c.k]);return function(c){c=h(c);var f=d/c[2];this.__chart__=t={x:e-c[0]*f,y:g-c[1]*f,k:f};r(a)}}).each("interrupt.zoom",function(){q(a)}).each("end.zoom",function(){q(a)}):
(this.__chart__=t,h(a),r(a),q(a))})};a.translate=function(c){if(!arguments.length)return[t.x,t.y];t={x:+c[0],y:+c[1],k:t.k};g();return a};a.scale=function(c){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:null};d(+c);g();return a};a.scaleExtent=function(c){if(!arguments.length)return A;A=null==c?Wf:[+c[0],+c[1]];return a};a.center=function(c){if(!arguments.length)return C;C=c&&[+c[0],+c[1]];return a};a.size=function(c){if(!arguments.length)return w;w=c&&[+c[0],+c[1]];return a};a.duration=function(c){if(!arguments.length)return B;
B=+c;return a};a.x=function(c){if(!arguments.length)return p;p=c;L=c.copy();t={x:0,y:0,k:1};return a};a.y=function(c){if(!arguments.length)return H;H=c;K=c.copy();t={x:0,y:0,k:1};return a};return I.rebind(a,E,"on")};var Wf=[0,Infinity],Oc,Ud;I.color=la;la.prototype.toString=function(){return this.rgb()+""};I.hsl=sa;var Vd=sa.prototype=new la;Vd.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new sa(this.h,this.s,this.l/a)};Vd.darker=function(a){a=Math.pow(.7,arguments.length?a:1);
return new sa(this.h,this.s,a*this.l)};Vd.rgb=function(){return da(this.h,this.s,this.l)};I.hcl=pa;var Wd=pa.prototype=new la;Wd.brighter=function(a){return new pa(this.h,this.c,Math.min(100,this.l+Pc*(arguments.length?a:1)))};Wd.darker=function(a){return new pa(this.h,this.c,Math.max(0,this.l-Pc*(arguments.length?a:1)))};Wd.rgb=function(){return ya(this.h,this.c,this.l).rgb()};I.lab=fa;var Pc=18,de=.95047,ee=1,fe=1.08883,Xd=fa.prototype=new la;Xd.brighter=function(a){return new fa(Math.min(100,this.l+
Pc*(arguments.length?a:1)),this.a,this.b)};Xd.darker=function(a){return new fa(Math.max(0,this.l-Pc*(arguments.length?a:1)),this.a,this.b)};Xd.rgb=function(){return ha(this.l,this.a,this.b)};I.rgb=ia;var Qc=ia.prototype=new la;Qc.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var c=this.r,d=this.g,f=this.b;if(!c&&!d&&!f)return new ia(30,30,30);c&&30>c&&(c=30);d&&30>d&&(d=30);f&&30>f&&(f=30);return new ia(Math.min(255,c/a),Math.min(255,d/a),Math.min(255,f/a))};Qc.darker=function(a){a=Math.pow(.7,
arguments.length?a:1);return new ia(a*this.r,a*this.g,a*this.b)};Qc.hsl=function(){return O(this.r,this.g,this.b)};Qc.toString=function(){return"#"+ua(this.r)+ua(this.g)+ua(this.b)};var hc=I.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});hc.forEach(function(a,c){hc.set(a,new ia(c>>16,c>>8&255,c&255))});I.functor=Ca;I.xhr=Na(C);I.dsv=function(a,c){function d(a,d,g){3>arguments.length&&(g=d,d=null);var h=Ka(a,
c,null==d?f:e(d),g);h.row=function(a){return arguments.length?h.response(null==(d=a)?f:e(a)):d};return h}function f(a){return d.parse(a.responseText)}function e(a){return function(c){return d.parse(c.responseText,a)}}function g(c){return c.map(h).join(a)}function h(a){return b.test(a)?'"'+a.replace(/"/g,'""')+'"':a}var b=new RegExp('["'+a+"\n]"),r=a.charCodeAt(0);d.parse=function(a,c){var f;return d.parseRows(a,function(a,d){if(f)return f(a,d-1);var e=new Function("d","return {"+a.map(function(a,
c){return JSON.stringify(a)+": d["+c+"]"}).join(",")+"}");f=c?function(a,d){return c(e(a),d)}:e})};d.parseRows=function(a,c){function d(){if(b>=h)return e;if(m)return m=!1,f;var c=b;if(34===a.charCodeAt(c)){for(var d=c;d++<h;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}b=d+2;var g=a.charCodeAt(d+1);13===g?(m=!0,10===a.charCodeAt(d+2)&&++b):10===g&&(m=!0);return a.slice(c+1,d).replace(/""/g,'"')}for(;b<h;){g=a.charCodeAt(b++);d=1;if(10===g)m=!0;else if(13===g)m=!0,10===a.charCodeAt(b)&&
(++b,++d);else if(g!==r)continue;return a.slice(c,b-d)}return a.slice(c)}for(var f={},e={},g=[],h=a.length,b=0,q=0,k,m;(k=d())!==e;){for(var v=[];k!==f&&k!==e;)v.push(k),k=d();c&&null==(v=c(v,q++))||g.push(v)}return g};d.format=function(c){if(Array.isArray(c[0]))return d.formatRows(c);var f=new x,e=[];c.forEach(function(a){for(var c in a)f.has(c)||e.push(f.add(c))});return[e.map(h).join(a)].concat(c.map(function(c){return e.map(function(a){return h(c[a])}).join(a)})).join("\n")};d.formatRows=function(a){return a.map(g).join("\n")};
return d};I.csv=I.dsv(",","text/csv");I.tsv=I.dsv("\t","text/tab-separated-values");var jc,ic,kc,lc,ge=this[D(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};I.timer=function(){Ba.apply(this,arguments)};I.timer.flush=function(){Eb();Fb()};I.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a)};var ei="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,c){var d=Math.pow(10,3*xa(8-c));return{scale:8<c?function(a){return a/d}:function(a){return a*
d},symbol:a}});I.formatPrefix=function(a,c){var d=0;if(a=+a)0>a&&(a*=-1),c&&(a=I.round(a,Wa(a,c))),d=1+Math.floor(1E-12+Math.log(a)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3)));return ei[8+d/3]};var he=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,og=I.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},
g:function(a,c){return a.toPrecision(c)},e:function(a,c){return a.toExponential(c)},f:function(a,c){return a.toFixed(c)},r:function(a,c){return(a=I.round(a,Wa(a,c))).toFixed(Math.max(0,Math.min(20,Wa(a*(1+1E-15),c))))}}),ma=I.time={},Qa=Date;Ta.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},
getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){lb.setUTCDate.apply(this._,arguments)},setDay:function(){lb.setUTCDay.apply(this._,arguments)},setFullYear:function(){lb.setUTCFullYear.apply(this._,arguments)},setHours:function(){lb.setUTCHours.apply(this._,
arguments)},setMilliseconds:function(){lb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){lb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){lb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){lb.setUTCSeconds.apply(this._,arguments)},setTime:function(){lb.setTime.apply(this._,arguments)}};var lb=Date.prototype;ma.year=Ma(function(a){a=ma.day(a);a.setMonth(0,1);return a},function(a,c){a.setFullYear(a.getFullYear()+c)},function(a){return a.getFullYear()});ma.years=
ma.year.range;ma.years.utc=ma.year.utc.range;ma.day=Ma(function(a){var c=new Qa(2E3,0);c.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return c},function(a,c){a.setDate(a.getDate()+c)},function(a){return a.getDate()-1});ma.days=ma.day.range;ma.days.utc=ma.day.utc.range;ma.dayOfYear=function(a){var c=ma.year(a);return Math.floor((a-c-6E4*(a.getTimezoneOffset()-c.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,c){c=7-c;var d=
ma[a]=Ma(function(a){(a=ma.day(a)).setDate(a.getDate()-(a.getDay()+c)%7);return a},function(a,c){a.setDate(a.getDate()+7*Math.floor(c))},function(a){var d=ma.year(a).getDay();return Math.floor((ma.dayOfYear(a)+(d+c)%7)/7)-(d!==c)});ma[a+"s"]=d.range;ma[a+"s"].utc=d.utc.range;ma[a+"OfYear"]=function(a){var d=ma.year(a).getDay();return Math.floor((ma.dayOfYear(a)+(d+c)%7)/7)}});ma.week=ma.sunday;ma.weeks=ma.sunday.range;ma.weeks.utc=ma.sunday.utc.range;ma.weekOfYear=ma.sundayOfYear;var ie={"-":"",_:" ",
0:"0"},Ja=/^\s*\d+/,le=/^%/;I.locale=function(a){return{numberFormat:mc(a),timeFormat:fd(a)}};var Xf=I.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
I.format=Xf.numberFormat;I.geo={};gd.prototype={s:0,t:0,add:function(a){me(a,this.t,Rc);me(Rc.s,this.s,this);this.s?this.t+=Rc.t:this.s=Rc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Rc=new gd;I.geo.stream=function(a,c){if(a&&Yf.hasOwnProperty(a.type))Yf[a.type](a,c);else qc(a,c)};var Yf={Feature:function(a,c){qc(a.geometry,c)},FeatureCollection:function(a,c){a=a.features;for(var d=-1,f=a.length;++d<f;)qc(a[d].geometry,c)}},ne={Sphere:function(a,c){c.sphere()},Point:function(a,
c){a=a.coordinates;c.point(a[0],a[1],a[2])},MultiPoint:function(a,c){for(var d=a.coordinates,f=-1,e=d.length;++f<e;)a=d[f],c.point(a[0],a[1],a[2])},LineString:function(a,c){hd(a.coordinates,c,0)},MultiLineString:function(a,c){a=a.coordinates;for(var d=-1,f=a.length;++d<f;)hd(a[d],c,0)},Polygon:function(a,c){oe(a.coordinates,c)},MultiPolygon:function(a,c){a=a.coordinates;for(var d=-1,f=a.length;++d<f;)oe(a[d],c)},GeometryCollection:function(a,c){a=a.geometries;for(var d=-1,f=a.length;++d<f;)qc(a[d],
c)}};I.geo.area=function(a){Sc=0;I.geo.stream(a,Xa);return Sc};var Sc,vb=new gd,Xa={sphere:function(){Sc+=4*va},point:z,lineStart:z,lineEnd:z,polygonStart:function(){vb.reset();Xa.lineStart=Dg},polygonEnd:function(){var a=2*vb;Sc+=0>a?4*va+a:a;Xa.lineStart=Xa.lineEnd=Xa.point=z}};I.geo.bounds=function(){function a(a,c){A.push(B=[k=a,v=a]);c<m&&(m=c);c>t&&(t=c)}function c(c,d){var f=wb([c*wa,d*wa]);if(C){var e=Gb(C,f);e=Gb([e[1],-e[0],0],e);tc(e);e=uc(e);var g=c-n,h=0<g?1:-1,r=e[0]*Ha*h;g=180<xa(g);
g^(h*n<r&&r<h*c)?(d=e[1]*Ha,d>t&&(t=d)):(r=(r+360)%360-180,g^(h*n<r&&r<h*c))?(d=-e[1]*Ha,d<m&&(m=d)):(d<m&&(m=d),d>t&&(t=d));g?c<n?b(k,c)>b(k,v)&&(v=c):b(c,v)>b(k,v)&&(k=c):v>=k?(c<k&&(k=c),c>v&&(v=c)):c>n?b(k,c)>b(k,v)&&(v=c):b(c,v)>b(k,v)&&(k=c)}else a(c,d);C=f;n=c}function d(){D.point=c}function f(){B[0]=k;B[1]=v;D.point=a;C=null}function e(a,d){if(C){var f=a-n;w+=180<xa(f)?f+(0<f?360:-360):f}else u=a,x=d;Xa.point(a,d);c(a,d)}function g(){Xa.lineStart()}function h(){e(u,x);Xa.lineEnd();1E-6<xa(w)&&
(k=-(v=180));B[0]=k;B[1]=v;C=null}function b(a,c){return 0>(c-=a)?c+360:c}function r(a,c){return a[0]-c[0]}function q(a,c){return c[0]<=c[1]?c[0]<=a&&a<=c[1]:a<c[0]||c[1]<a}var k,m,v,t,n,u,x,C,w,A,B,D={point:a,lineStart:d,lineEnd:f,polygonStart:function(){D.point=e;D.lineStart=g;D.lineEnd=h;w=0;Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd();D.point=a;D.lineStart=d;D.lineEnd=f;0>vb?(k=-(v=180),m=-(t=90)):1E-6<w?t=90:-1E-6>w&&(m=-90);B[0]=k;B[1]=v}};return function(a){t=v=-(k=m=Infinity);
A=[];I.geo.stream(a,D);if(a=A.length){A.sort(r);for(var c=1,d=A[0],f,e=[d];c<a;++c)f=A[c],q(f[0],d)||q(f[1],d)?(b(d[0],f[1])>b(d[0],d[1])&&(d[1]=f[1]),b(f[0],d[1])>b(d[0],d[1])&&(d[0]=f[0])):e.push(d=f);var g=-Infinity,h;a=e.length-1;c=0;for(d=e[a];c<=a;d=f,++c)f=e[c],(h=b(d[1],f[0]))>g&&(g=h,k=f[0],v=d[1])}A=B=null;return Infinity===k||Infinity===m?[[NaN,NaN],[NaN,NaN]]:[[k,m],[v,t]]}}();I.geo.centroid=function(a){Sb=wc=xb=yb=jb=nb=ob=eb=Hb=Ib=pb=0;I.geo.stream(a,ab);a=Hb;var c=Ib,d=pb,f=a*a+c*c+
d*d;return 1E-12>f&&(a=nb,c=ob,d=eb,1E-6>wc&&(a=xb,c=yb,d=jb),f=a*a+c*c+d*d,1E-12>f)?[NaN,NaN]:[Math.atan2(c,a)*Ha,ka(d/Math.sqrt(f))*Ha]};var Sb,wc,xb,yb,jb,nb,ob,eb,Hb,Ib,pb,ab={sphere:z,point:jd,lineStart:pe,lineEnd:qe,polygonStart:function(){ab.lineStart=Eg},polygonEnd:function(){ab.lineStart=pe}},Ge=ue(Tb,function(a){var c=NaN,d=NaN,f=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(g,h){var b=0<g?va:-va,r=xa(g-c);if(1E-6>xa(r-va))a.point(c,d=0<(d+h)/2?Ia:-Ia),a.point(f,d),
a.lineEnd(),a.lineStart(),a.point(b,d),a.point(g,d),e=0;else if(f!==b&&r>=va){1E-6>xa(c-f)&&(c-=1E-6*f);1E-6>xa(g-b)&&(g-=1E-6*b);r=c;var q=d,k=g,m,v,t=Math.sin(r-k);d=1E-6<xa(t)?Math.atan((Math.sin(q)*(v=Math.cos(h))*Math.sin(k)-Math.sin(h)*(m=Math.cos(q))*Math.sin(r))/(m*v*t)):(q+h)/2;a.point(f,d);a.lineEnd();a.lineStart();a.point(b,d);e=0}a.point(c=g,d=h);f=b},lineEnd:function(){a.lineEnd();c=d=NaN},clean:function(){return 2-e}}},function(a,c,d,f){null==a?(d*=Ia,f.point(-va,d),f.point(0,d),f.point(va,
d),f.point(va,0),f.point(va,-d),f.point(0,-d),f.point(-va,-d),f.point(-va,0),f.point(-va,d)):1E-6<xa(a[0]-c[0])?(a=a[0]<c[0]?va:-va,d=d*a/2,f.point(-a,d),f.point(0,d),f.point(a,d)):f.point(c[0],c[1])},[-va,-va/2]);I.geo.clipExtent=function(){var a,c,d,f,e,g,h={stream:function(a){e&&(e.valid=!1);e=g(a);e.valid=!0;return e},extent:function(b){if(!arguments.length)return[[a,c],[d,f]];g=xe(a=+b[0][0],c=+b[0][1],d=+b[1][0],f=+b[1][1]);e&&(e.valid=!1,e=null);return h}};return h.extent([[0,0],[960,500]])};
(I.geo.conicEqualArea=function(){return ld(ye)}).raw=ye;I.geo.albers=function(){return I.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};I.geo.albersUsa=function(){function a(a){var c=a[0];a=a[1];e=null;(h(c,a),e)||(b(c,a),e)||r(c,a);return e}var c=I.geo.albers(),d=I.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=I.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,g={point:function(a,c){e=[a,c]}},h,b,
r;a.invert=function(a){var e=c.scale(),g=c.translate(),h=(a[0]-g[0])/e;e=(a[1]-g[1])/e;return(.12<=e&&.234>e&&-.425<=h&&-.214>h?d:.166<=e&&.234>e&&-.214<=h&&-.115>h?f:c).invert(a)};a.stream=function(a){var e=c.stream(a),g=d.stream(a),h=f.stream(a);return{point:function(a,c){e.point(a,c);g.point(a,c);h.point(a,c)},sphere:function(){e.sphere();g.sphere();h.sphere()},lineStart:function(){e.lineStart();g.lineStart();h.lineStart()},lineEnd:function(){e.lineEnd();g.lineEnd();h.lineEnd()},polygonStart:function(){e.polygonStart();
g.polygonStart();h.polygonStart()},polygonEnd:function(){e.polygonEnd();g.polygonEnd();h.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return c.precision();c.precision(e);d.precision(e);f.precision(e);return a};a.scale=function(e){if(!arguments.length)return c.scale();c.scale(e);d.scale(.35*e);f.scale(e);return a.translate(c.translate())};a.translate=function(e){if(!arguments.length)return c.translate();var q=c.scale(),k=+e[0],m=+e[1];h=c.translate(e).clipExtent([[k-.455*q,m-.238*q],
[k+.455*q,m+.238*q]]).stream(g).point;b=d.translate([k-.307*q,m+.201*q]).clipExtent([[k-.425*q+1E-6,m+.12*q+1E-6],[k-.214*q-1E-6,m+.234*q-1E-6]]).stream(g).point;r=f.translate([k-.205*q,m+.212*q]).clipExtent([[k-.214*q+1E-6,m+.166*q+1E-6],[k-.115*q-1E-6,m+.234*q-1E-6]]).stream(g).point;return a};return a.scale(1070)};var Yd,nd,qb={point:z,lineStart:z,lineEnd:z,polygonStart:function(){nd=0;qb.lineStart=Ig},polygonEnd:function(){qb.lineStart=qb.lineEnd=qb.point=z;Yd+=xa(nd/2)}},Tc,Uc,Vc,Wc,fi={point:function(a,
c){a<Tc&&(Tc=a);a>Vc&&(Vc=a);c<Uc&&(Uc=c);c>Wc&&(Wc=c)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z},bb={point:zb,lineStart:Ae,lineEnd:Be,polygonStart:function(){bb.lineStart=Kg},polygonEnd:function(){bb.point=zb;bb.lineStart=Ae;bb.lineEnd=Be}};I.geo.path=function(){function a(a){a&&("function"===typeof d&&h.pointRadius(+d.apply(this,arguments)),b&&b.valid||(b=g(h)),I.geo.stream(a,b));return h.result()}function c(){b=null;return a}var d=4.5,f,e,g,h,b;a.area=function(a){Yd=0;I.geo.stream(a,g(qb));
return Yd};a.centroid=function(a){xb=yb=jb=nb=ob=eb=Hb=Ib=pb=0;I.geo.stream(a,g(bb));return pb?[Hb/pb,Ib/pb]:eb?[nb/eb,ob/eb]:jb?[xb/jb,yb/jb]:[NaN,NaN]};a.bounds=function(a){Vc=Wc=-(Tc=Uc=Infinity);I.geo.stream(a,g(fi));return[[Tc,Uc],[Vc,Wc]]};a.projection=function(a){if(!arguments.length)return f;g=(f=a)?a.stream||Mg(a):C;return c()};a.context=function(a){if(!arguments.length)return e;h=null==(e=a)?new Jg:new Lg(a);"function"!==typeof d&&h.pointRadius(d);return c()};a.pointRadius=function(c){if(!arguments.length)return d;
d="function"===typeof c?c:(h.pointRadius(+c),+c);return a};return a.projection(I.geo.albersUsa()).context(null)};I.geo.transform=function(a){return{stream:function(c){c=new Fe(c);for(var d in a)c[d]=a[d];return c}}};Fe.prototype={point:function(a,c){this.stream.point(a,c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
I.geo.projection=rb;I.geo.projectionMutator=md;(I.geo.equirectangular=function(){return rb(Ub)}).raw=Ub.invert=Ub;I.geo.rotation=function(a){function c(c){c=a(c[0]*wa,c[1]*wa);return c[0]*=Ha,c[1]*=Ha,c}a=od(a[0]%360*wa,a[1]*wa,2<a.length?a[2]*wa:0);c.invert=function(c){c=a.invert(c[0]*wa,c[1]*wa);return c[0]*=Ha,c[1]*=Ha,c};return c};He.invert=Ub;I.geo.circle=function(){function a(){var a="function"===typeof c?c.apply(this,arguments):c,d=od(-a[0]*wa,-a[1]*wa,0).invert,f=[];e(null,null,1,{point:function(a,
c){f.push(a=d(a,c));a[0]*=Ha;a[1]*=Ha}});return{type:"Polygon",coordinates:[f]}}var c=[0,0],d,f=6,e;a.origin=function(d){if(!arguments.length)return c;c=d;return a};a.angle=function(c){if(!arguments.length)return d;e=kd((d=+c)*wa,f*wa);return a};a.precision=function(c){if(!arguments.length)return f;e=kd(d*wa,(f=+c)*wa);return a};return a.angle(90)};I.geo.distance=function(a,c){var d=(c[0]-a[0])*wa,f=a[1]*wa,e=c[1]*wa;c=Math.cos(d);a=Math.sin(f);f=Math.cos(f);var g=Math.sin(e);e=Math.cos(e);var h;
return Math.atan2(Math.sqrt((h=e*Math.sin(d))*h+(h=f*g-a*e*c)*h),a*g+f*e*c)};I.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return I.range(Math.ceil(g/v)*v,e,v).map(x).concat(I.range(Math.ceil(q/t)*t,r,t).map(C)).concat(I.range(Math.ceil(f/k)*k,d,k).filter(function(a){return 1E-6<xa(a%v)}).map(n)).concat(I.range(Math.ceil(b/m)*m,h,m).filter(function(a){return 1E-6<xa(a%t)}).map(u))}var d,f,e,g,h,b,r,q,k=10,m=k,v=90,t=360,n,u,x,C,w=2.5;a.lines=function(){return c().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[x(g).concat(C(r).slice(1),x(e).reverse().slice(1),C(q).reverse().slice(1))]}};a.extent=function(c){return arguments.length?a.majorExtent(c).minorExtent(c):a.minorExtent()};a.majorExtent=function(c){if(!arguments.length)return[[g,q],[e,r]];g=+c[0][0];e=+c[1][0];q=+c[0][1];r=+c[1][1];g>e&&(c=g,g=e,e=c);q>r&&(c=q,q=r,r=c);return a.precision(w)};a.minorExtent=function(c){if(!arguments.length)return[[f,b],[d,h]];f=+c[0][0];d=+c[1][0];
b=+c[0][1];h=+c[1][1];f>d&&(c=f,f=d,d=c);b>h&&(c=b,b=h,h=c);return a.precision(w)};a.step=function(c){return arguments.length?a.majorStep(c).minorStep(c):a.minorStep()};a.majorStep=function(c){if(!arguments.length)return[v,t];v=+c[0];t=+c[1];return a};a.minorStep=function(c){if(!arguments.length)return[k,m];k=+c[0];m=+c[1];return a};a.precision=function(c){if(!arguments.length)return w;w=+c;n=Me(b,h,90);u=Ne(f,d,w);x=Me(q,r,90);C=Ne(g,e,w);return a};return a.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,
-80.000001],[180,80.000001]])};I.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[d||c.apply(this,arguments),e||f.apply(this,arguments)]}}var c=pd,d,f=qd,e;a.distance=function(){return I.geo.distance(d||c.apply(this,arguments),e||f.apply(this,arguments))};a.source=function(f){if(!arguments.length)return c;c=f;d="function"===typeof f?null:f;return a};a.target=function(c){if(!arguments.length)return f;f=c;e="function"===typeof c?null:c;return a};a.precision=function(){return arguments.length?
a:0};return a};I.geo.interpolate=function(a,c){return Ng(a[0]*wa,a[1]*wa,c[0]*wa,c[1]*wa)};I.geo.length=function(a){Zd=0;I.geo.stream(a,Qb);return Zd};var Zd,Qb={sphere:z,point:z,lineStart:function(){function a(a,e){var g=Math.sin(e*=wa);e=Math.cos(e);var h=xa((a*=wa)-c),b=Math.cos(h);Zd+=Math.atan2(Math.sqrt((h=e*Math.sin(h))*h+(h=f*g-d*e*b)*h),d*g+f*e*b);c=a;d=g;f=e}var c,d,f;Qb.point=function(e,g){c=e*wa;d=Math.sin(g*=wa);f=Math.cos(g);Qb.point=a};Qb.lineEnd=function(){Qb.point=Qb.lineEnd=z}},
lineEnd:z,polygonStart:z,polygonEnd:z},Zf=Vb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(I.geo.azimuthalEqualArea=function(){return rb(Zf)}).raw=Zf;var $f=Vb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},C);(I.geo.azimuthalEquidistant=function(){return rb($f)}).raw=$f;(I.geo.conicConformal=function(){return ld(Oe)}).raw=Oe;(I.geo.conicEquidistant=function(){return ld(Pe)}).raw=Pe;var ag=Vb(function(a){return 1/a},Math.atan);(I.geo.gnomonic=function(){return rb(ag)}).raw=
ag;yc.invert=function(a,c){return[a,2*Math.atan(Math.exp(c))-Ia]};(I.geo.mercator=function(){return Qe(yc)}).raw=yc;var bg=Vb(function(){return 1},Math.asin);(I.geo.orthographic=function(){return rb(bg)}).raw=bg;var cg=Vb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(I.geo.stereographic=function(){return rb(cg)}).raw=cg;rd.invert=function(a,c){return[-c,2*Math.atan(Math.exp(a))-Ia]};(I.geo.transverseMercator=function(){var a=Qe(rd),c=a.center,d=a.rotate;a.center=function(a){return a?
c([-a[1],a[0]]):(a=c(),[a[1],-a[0]])};a.rotate=function(a){return a?d([a[0],a[1],2<a.length?a[2]+90:90]):(a=d(),[a[0],a[1],a[2]-90])};return d([0,0,90])}).raw=rd;I.geom={};I.geom.hull=function(a){function c(a){if(3>a.length)return[];var c=Ca(d),e=Ca(f),g,h=a.length,b=[],r=[];for(g=0;g<h;g++)b.push([+c.call(this,a[g],g),+e.call(this,a[g],g),g]);b.sort(Og);for(g=0;g<h;g++)r.push([b[g][0],-b[g][1]]);c=Re(b);r=Re(r);e=r[0]===c[0];h=r[r.length-1]===c[c.length-1];var q=[];for(g=c.length-1;0<=g;--g)q.push(a[b[c[g]][2]]);
for(g=+e;g<r.length-h;++g)q.push(a[b[r[g]][2]]);return q}var d=Jb,f=Wb;if(arguments.length)return c(a);c.x=function(a){return arguments.length?(d=a,c):d};c.y=function(a){return arguments.length?(f=a,c):f};return c};I.geom.polygon=function(a){fc(a,Xc);return a};var Xc=I.geom.polygon.prototype=[];Xc.area=function(){for(var a=-1,c=this.length,d,f=this[c-1],e=0;++a<c;)d=f,f=this[a],e+=d[1]*f[0]-d[0]*f[1];return.5*e};Xc.centroid=function(a){var c=-1,d=this.length,f=0,e=0,g=this[d-1];for(arguments.length||
(a=-1/(6*this.area()));++c<d;){var h=g;g=this[c];var b=h[0]*g[1]-g[0]*h[1];f+=(h[0]+g[0])*b;e+=(h[1]+g[1])*b}return[f*a,e*a]};Xc.clip=function(a){for(var c,d=Se(a),f=-1,e=this.length-Se(this),g,h,b=this[e-1],r,q,k;++f<e;){c=a.slice();a.length=0;r=this[f];q=c[(h=c.length-d)-1];for(g=-1;++g<h;)k=c[g],sd(k,b,r)?(sd(q,b,r)||a.push(td(q,k,b,r)),a.push(k)):sd(q,b,r)&&a.push(td(q,k,b,r)),q=k;d&&a.push(a[0]);b=r}return a};var Nb,Ab,Lb,Ue=[],vd,Xb,Ye=[];We.prototype.prepare=function(){for(var a=this.edges,
c=a.length,d;c--;)d=a[c].edge,d.b&&d.a||a.splice(c,1);a.sort(Xe);return a.length};Bc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};wd.prototype={insert:function(a,c){var d;if(a){c.P=a;if(c.N=a.N)a.N.P=c;a.N=c;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=c}else a.R=c;var f=a}else this._?(a=$e(this._),c.P=null,c.N=a,a.P=a.L=c,f=a):(c.P=c.N=null,this._=c,f=null);c.L=c.R=null;c.U=f;c.C=!0;for(a=c;f&&f.C;)c=
f.U,f===c.L?(d=c.R)&&d.C?(f.C=d.C=!1,c.C=!0,a=c):(a===f.R&&(Zb(this,f),a=f,f=a.U),f.C=!1,c.C=!0,$b(this,c)):(d=c.L)&&d.C?(f.C=d.C=!1,c.C=!0,a=c):(a===f.L&&($b(this,f),a=f,f=a.U),f.C=!1,c.C=!0,Zb(this,c)),f=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var c=a.U,d=a.L,f=a.R;var e=d?f?$e(f):d:f;c?c.L===a?c.L=e:c.R=e:this._=e;if(d&&f){var g=e.C;e.C=a.C;e.L=d;d.U=e;e!==f?(c=e.U,e.U=a.U,a=e.R,c.L=a,e.R=f,f.U=e):(e.U=c,c=e,a=e.R)}else g=a.C,a=e;a&&(a.U=c);if(!g)if(a&&
a.C)a.C=!1;else{do{if(a===this._)break;if(a===c.L){if(a=c.R,a.C&&(a.C=!1,c.C=!0,Zb(this,c),a=c.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,$b(this,a),a=c.R);a.C=c.C;c.C=a.R.C=!1;Zb(this,c);a=this._;break}}else if(a=c.L,a.C&&(a.C=!1,c.C=!0,$b(this,c),a=c.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Zb(this,a),a=c.L);a.C=c.C;c.C=a.L.C=!1;$b(this,c);a=this._;break}a.C=!0;a=c;c=c.U}while(!a.C);a&&(a.C=!1)}}};I.geom.voronoi=function(a){function c(a){var c=Array(a.length),f=b[0][0],
e=b[0][1],g=b[1][0],h=b[1][1];xd(d(a),b).cells.forEach(function(d,b){var r=d.edges;d=d.site;(c[b]=r.length?r.map(function(a){a=a.start();return[a.x,a.y]}):d.x>=f&&d.x<=g&&d.y>=e&&d.y<=h?[[f,h],[g,h],[g,e],[f,e]]:[]).point=a[b]});return c}function d(a){return a.map(function(a,c){return{x:1E-6*Math.round(g(a,c)/1E-6),y:1E-6*Math.round(h(a,c)/1E-6),i:c}})}var f=Jb,e=Wb,g=f,h=e,b=Yc;if(a)return c(a);c.links=function(a){return xd(d(a)).edges.filter(function(a){return a.l&&a.r}).map(function(c){return{source:a[c.l.i],
target:a[c.r.i]}})};c.triangles=function(a){var c=[];xd(d(a)).cells.forEach(function(d,f){var e=d.site;d=d.edges.sort(Xe);var g=-1,h=d.length,b=d[h-1].edge;for(b=b.l===e?b.r:b.l;++g<h;){var r=b;b=d[g].edge;b=b.l===e?b.r:b.l;f<r.i&&f<b.i&&0>(e.x-b.x)*(r.y-e.y)-(e.x-r.x)*(b.y-e.y)&&c.push([a[f],a[r.i],a[b.i]])}});return c};c.x=function(a){return arguments.length?(g=Ca(f=a),c):f};c.y=function(a){return arguments.length?(h=Ca(e=a),c):e};c.clipExtent=function(a){if(!arguments.length)return b===Yc?null:
b;b=null==a?Yc:a;return c};c.size=function(a){return arguments.length?c.clipExtent(a&&[[0,0],a]):b===Yc?null:b&&b[1]};return c};var Yc=[[-1E6,-1E6],[1E6,1E6]];I.geom.delaunay=function(a){return I.geom.voronoi().triangles(a)};I.geom.quadtree=function(a,c,d,f,e){function g(a){function g(a,c,d,f,e,g,h,b){if(!isNaN(d)&&!isNaN(f))if(a.leaf){var r=a.x,k=a.y;if(null!=r){if(!(.01>xa(r-d)+xa(k-f))){var m=a.point;a.x=a.y=a.point=null;q(a,m,r,k,e,g,h,b)}q(a,c,d,f,e,g,h,b)}else a.x=d,a.y=f,a.point=c}else q(a,
c,d,f,e,g,h,b)}function q(a,c,d,f,e,h,b,r){var q=.5*(e+b),k=.5*(h+r),m=d>=q,v=f>=k,t=v<<1|m;a.leaf=!1;a=a.nodes[t]||(a.nodes[t]=af());m?e=q:b=q;v?h=k:r=k;g(a,c,d,f,e,h,b,r)}var k=Ca(h),m=Ca(b),v;if(null!=c){var t=c;var n=d;var u=f;var x=e}else{u=x=-(t=n=Infinity);var C=[];var w=[];var A=a.length;if(r)for(v=0;v<A;++v){var B=a[v];B.x<t&&(t=B.x);B.y<n&&(n=B.y);B.x>u&&(u=B.x);B.y>x&&(x=B.y);C.push(B.x);w.push(B.y)}else for(v=0;v<A;++v){var D=+k(B=a[v],v);B=+m(B,v);D<t&&(t=D);B<n&&(n=B);D>u&&(u=D);B>x&&
(x=B);C.push(D);w.push(B)}}D=u-t;B=x-n;D>B?x=n+D:u=t+B;var z=af();z.add=function(a){g(z,a,+k(a,++v),+m(a,v),t,n,u,x)};z.visit=function(a){ac(a,z,t,n,u,x)};z.find=function(a){return Wg(z,a[0],a[1],t,n,u,x)};v=-1;if(null==c){for(;++v<A;)g(z,a[v],C[v],w[v],t,n,u,x);--v}else a.forEach(z.add);C=w=a=B=null;return z}var h=Jb,b=Wb,r;if(r=arguments.length)return h=Ug,b=Vg,3===r&&(e=d,f=c,d=c=0),g(a);g.x=function(a){return arguments.length?(h=a,g):h};g.y=function(a){return arguments.length?(b=a,g):b};g.extent=
function(a){if(!arguments.length)return null==c?null:[[c,d],[f,e]];null==a?c=d=f=e=null:(c=+a[0][0],d=+a[0][1],f=+a[1][0],e=+a[1][1]);return g};g.size=function(a){if(!arguments.length)return null==c?null:[f-c,e-d];null==a?c=d=f=e=null:(c=d=0,f=+a[0],e=+a[1]);return g};return g};I.interpolateRgb=yd;I.interpolateObject=bf;I.interpolateNumber=kb;I.interpolateString=cf;var zd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ad=new RegExp(zd.source,"g");I.interpolate=Bb;I.interpolators=[function(a,c){var d=
typeof c;return("string"===d?hc.has(c.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(c)?yd:cf:c instanceof la?yd:Array.isArray(c)?Cc:"object"===d&&isNaN(c)?bf:kb)(a,c)}];I.interpolateArray=Cc;var dg=function(){return C},gi=I.map({linear:dg,poly:function(a){return function(c){return Math.pow(c,a)}},quad:function(){return Yg},cubic:function(){return Zg},sin:function(){return ah},exp:function(){return bh},circle:function(){return ch},elastic:function(a,c){2>arguments.length&&(c=.45);if(arguments.length)var d=
c/Ya*Math.asin(1/a);else a=1,d=c/4;return function(f){return 1+a*Math.pow(2,-10*f)*Math.sin((f-d)*Ya/c)}},back:function(a){a||(a=1.70158);return function(c){return c*c*((a+1)*c-a)}},bounce:function(){return dh}}),hi=I.map({"in":C,out:df,"in-out":ef,"out-in":function(a){return ef(df(a))}});I.ease=function(a){var c=a.indexOf("-"),d=0<=c?a.slice(0,c):a;c=0<=c?a.slice(c+1):"in";d=gi.get(d)||dg;c=hi.get(c)||C;return Xg(c(d.apply(null,Tf.call(arguments,1))))};I.interpolateHcl=function(a,c){a=I.hcl(a);c=
I.hcl(c);var d=a.h,f=a.c,e=a.l,g=c.h-d,h=c.c-f,b=c.l-e;isNaN(h)&&(h=0,f=isNaN(f)?c.c:f);isNaN(g)?(g=0,d=isNaN(d)?c.h:d):180<g?g-=360:-180>g&&(g+=360);return function(a){return ya(d+g*a,f+h*a,e+b*a)+""}};I.interpolateHsl=function(a,c){a=I.hsl(a);c=I.hsl(c);var d=a.h,f=a.s,e=a.l,g=c.h-d,h=c.s-f,b=c.l-e;isNaN(h)&&(h=0,f=isNaN(f)?c.s:f);isNaN(g)?(g=0,d=isNaN(d)?c.h:d):180<g?g-=360:-180>g&&(g+=360);return function(a){return da(d+g*a,f+h*a,e+b*a)+""}};I.interpolateLab=function(a,c){a=I.lab(a);c=I.lab(c);
var d=a.l,f=a.a,e=a.b,g=c.l-d,h=c.a-f,b=c.b-e;return function(a){return ha(d+g*a,f+h*a,e+b*a)+""}};I.interpolateRound=ff;I.transform=function(a){var c=Ua.createElementNS(I.ns.prefix.svg,"g");return(I.transform=function(a){if(null!=a){c.setAttribute("transform",a);var d=c.transform.baseVal.consolidate()}return new gf(d?d.matrix:ii)})(a)};gf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ii={a:1,b:0,c:0,d:1,e:0,
f:0};I.interpolateTransform=jf;I.layout={};I.layout.bundle=function(){return function(a){for(var c=[],d=-1,f=a.length;++d<f;)c.push(kh(a[d]));return c}};I.layout.chord=function(){function a(){var a={},d=[],m=I.range(h),v=[],t,n;f=[];e=[];var u=0;for(t=-1;++t<h;){var x=0;for(n=-1;++n<h;)x+=g[t][n];d.push(x);v.push(I.range(h));u+=x}r&&m.sort(function(a,c){return r(d[a],d[c])});q&&v.forEach(function(a,c){a.sort(function(a,d){return q(g[c][a],g[c][d])})});u=(Ya-b*h)/u;x=0;for(t=-1;++t<h;){var C=x;for(n=
-1;++n<h;){var w=m[t],B=v[w][n],A=g[w][B],D=x,z=x+=A*u;a[w+"-"+B]={index:w,subindex:B,startAngle:D,endAngle:z,value:A}}e[w]={index:w,startAngle:C,endAngle:x,value:d[w]};x+=b}for(t=-1;++t<h;)for(n=t-1;++n<h;)m=a[t+"-"+n],v=a[n+"-"+t],(m.value||v.value)&&f.push(m.value<v.value?{source:v,target:m}:{source:m,target:v});k&&c()}function c(){f.sort(function(a,c){return k((a.source.value+a.target.value)/2,(c.source.value+c.target.value)/2)})}var d={},f,e,g,h,b=0,r,q,k;d.matrix=function(a){if(!arguments.length)return g;
h=(g=a)&&g.length;f=e=null;return d};d.padding=function(a){if(!arguments.length)return b;b=a;f=e=null;return d};d.sortGroups=function(a){if(!arguments.length)return r;r=a;f=e=null;return d};d.sortSubgroups=function(a){if(!arguments.length)return q;q=a;f=null;return d};d.sortChords=function(a){if(!arguments.length)return k;k=a;f&&c();return d};d.chords=function(){f||a();return f};d.groups=function(){e||a();return e};return d};I.layout.force=function(){function a(a){return function(c,d,f,e){if(c.point!==
a){f=c.cx-a.x;var g=c.cy-a.y;d=e-d;e=f*f+g*g;if(d*d/n<e)return e<v&&(d=c.charge/e,a.px-=f*d,a.py-=g*d),!0;c.point&&e&&e<v&&(d=c.pointCharge/e,a.px-=f*d,a.py-=g*d)}return!c.charge}}function c(a){a.px=I.event.x;a.py=I.event.y;d.resume()}var d={},f=I.dispatch("start","tick","end"),e,g=[1,1],h,b,r=.9,q=ji,k=ki,m=-30,v=li,t=.1,n=.64,u=[],x=[],w,B,A;d.tick=function(){if(.005>(b*=.99))return e=null,f.end({type:"end",alpha:b=0}),!0;var c=u.length,d=x.length,h,q;for(h=0;h<d;++h){var k=x[h];var v=k.source;
var n=k.target;var C=n.x-v.x;var D=n.y-v.y;if(q=C*C+D*D)q=b*B[h]*((q=Math.sqrt(q))-w[h])/q,C*=q,D*=q,n.x-=C*(q=v.weight+n.weight?v.weight/(v.weight+n.weight):.5),n.y-=D*q,v.x+=C*(q=1-q),v.y+=D*q}if(q=b*t)if(C=g[0]/2,D=g[1]/2,h=-1,q)for(;++h<c;)k=u[h],k.x+=(C-k.x)*q,k.y+=(D-k.y)*q;if(m)for(lf(d=I.geom.quadtree(u),b,A),h=-1;++h<c;)(k=u[h]).fixed||d.visit(a(k));for(h=-1;++h<c;)k=u[h],k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*r,k.y-=(k.py-(k.py=k.y))*r);f.tick({type:"tick",alpha:b})};d.nodes=
function(a){if(!arguments.length)return u;u=a;return d};d.links=function(a){if(!arguments.length)return x;x=a;return d};d.size=function(a){if(!arguments.length)return g;g=a;return d};d.linkDistance=function(a){if(!arguments.length)return q;q="function"===typeof a?a:+a;return d};d.distance=d.linkDistance;d.linkStrength=function(a){if(!arguments.length)return k;k="function"===typeof a?a:+a;return d};d.friction=function(a){if(!arguments.length)return r;r=+a;return d};d.charge=function(a){if(!arguments.length)return m;
m="function"===typeof a?a:+a;return d};d.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(v);v=a*a;return d};d.gravity=function(a){if(!arguments.length)return t;t=+a;return d};d.theta=function(a){if(!arguments.length)return Math.sqrt(n);n=a*a;return d};d.alpha=function(a){if(!arguments.length)return b;a=+a;b?0<a?b=a:(e.c=null,e.t=NaN,e=null,f.end({type:"end",alpha:b=0})):0<a&&(f.start({type:"start",alpha:b=a}),e=Ba(d.tick));return d};d.start=function(){function a(a,d){if(!r){r=Array(f);
for(h=0;h<f;++h)r[h]=[];for(h=0;h<e;++h){var g=x[h];r[g.source.index].push(g.target);r[g.target.index].push(g.source)}}g=r[c];for(var h=-1,b=g.length,q;++h<b;)if(!isNaN(q=g[h][a]))return q;return Math.random()*d}var c,f=u.length,e=x.length,h=g[0],b=g[1],r,v;for(c=0;c<f;++c)(v=u[c]).index=c,v.weight=0;for(c=0;c<e;++c)v=x[c],"number"==typeof v.source&&(v.source=u[v.source]),"number"==typeof v.target&&(v.target=u[v.target]),++v.source.weight,++v.target.weight;for(c=0;c<f;++c)v=u[c],isNaN(v.x)&&(v.x=
a("x",h)),isNaN(v.y)&&(v.y=a("y",b)),isNaN(v.px)&&(v.px=v.x),isNaN(v.py)&&(v.py=v.y);w=[];if("function"===typeof q)for(c=0;c<e;++c)w[c]=+q.call(this,x[c],c);else for(c=0;c<e;++c)w[c]=q;B=[];if("function"===typeof k)for(c=0;c<e;++c)B[c]=+k.call(this,x[c],c);else for(c=0;c<e;++c)B[c]=k;A=[];if("function"===typeof m)for(c=0;c<f;++c)A[c]=+m.call(this,u[c],c);else for(c=0;c<f;++c)A[c]=m;return d.resume()};d.resume=function(){return d.alpha(.1)};d.stop=function(){return d.alpha(0)};d.drag=function(){h||
(h=I.behavior.drag().origin(C).on("dragstart.force",lh).on("drag.force",c).on("dragend.force",mh));if(!arguments.length)return h;this.on("mouseover.force",nh).on("mouseout.force",oh).call(h)};return I.rebind(d,f,"on")};var ji=20,ki=1,li=Infinity;I.layout.hierarchy=function(){function a(e){var g=[e],h=[],b;for(e.depth=0;null!=(b=g.pop());)if(h.push(b),(q=d.call(a,b,b.depth))&&(r=q.length)){for(var r,q,k;0<=--r;)g.push(k=q[r]),k.parent=b,k.depth=b.depth+1;f&&(b.value=0);b.children=q}else f&&(b.value=
+f.call(a,b,b.depth)||0),delete b.children;fb(e,function(a){var d,e;c&&(d=a.children)&&d.sort(c);f&&(e=a.parent)&&(e.value+=a.value)});return h}var c=sh,d=qh,f=rh;a.sort=function(d){if(!arguments.length)return c;c=d;return a};a.children=function(c){if(!arguments.length)return d;d=c;return a};a.value=function(c){if(!arguments.length)return f;f=c;return a};a.revalue=function(c){f&&(cc(c,function(a){a.children&&(a.value=0)}),fb(c,function(c){var d;c.children||(c.value=+f.call(a,c,c.depth)||0);if(d=c.parent)d.value+=
c.value}));return c};return a};I.layout.partition=function(){function a(c,d,f,e){var g=c.children;c.x=d;c.y=c.depth*e;c.dx=f;c.dy=e;if(g&&(b=g.length)){var h=-1,b,r;for(f=c.value?f/c.value:0;++h<b;)a(r=g[h],d,c=r.value*f,e),d+=c}}function c(a){a=a.children;var d=0;if(a&&(e=a.length))for(var f=-1,e;++f<e;)d=Math.max(d,c(a[f]));return 1+d}function d(d,g){d=f.call(this,d,g);a(d[0],0,e[0],e[1]/c(d[0]));return d}var f=I.layout.hierarchy(),e=[1,1];d.size=function(a){if(!arguments.length)return e;e=a;return d};
return bc(d,f)};I.layout.pie=function(){function a(h){var b=h.length,r=h.map(function(d,f){return+c.call(a,d,f)}),q=+("function"===typeof f?f.apply(this,arguments):f),k=("function"===typeof e?e.apply(this,arguments):e)-q,m=Math.min(Math.abs(k)/b,+("function"===typeof g?g.apply(this,arguments):g)),v=m*(0>k?-1:1),t=I.sum(r),n=t?(k-b*v)/t:0;b=I.range(b);var u=[],x;null!=d&&b.sort(d===eg?function(a,c){return r[c]-r[a]}:function(a,c){return d(h[a],h[c])});b.forEach(function(a){u[a]={data:h[a],value:x=
r[a],startAngle:q,endAngle:q+=x*n+v,padAngle:m}});return u}var c=Number,d=eg,f=0,e=Ya,g=0;a.value=function(d){if(!arguments.length)return c;c=d;return a};a.sort=function(c){if(!arguments.length)return d;d=c;return a};a.startAngle=function(c){if(!arguments.length)return f;f=c;return a};a.endAngle=function(c){if(!arguments.length)return e;e=c;return a};a.padAngle=function(c){if(!arguments.length)return g;g=c;return a};return a};var eg={};I.layout.stack=function(){function a(b,r){if(!(v=b.length))return b;
var q=b.map(function(d,f){return c.call(a,d,f)}),k=q.map(function(c){return c.map(function(c,d){return[g.call(a,c,d),h.call(a,c,d)]})}),m=d.call(a,k,r);q=I.permute(q,m);k=I.permute(k,m);r=f.call(a,k,r);m=q[0].length;var v,t,n,u;for(n=0;n<m;++n)for(e.call(a,q[0][n],u=r[n],k[0][n][1]),t=1;t<v;++t)e.call(a,q[t][n],u+=k[t-1][n][1],k[t][n][1]);return b}var c=C,d=Bd,f=Cd,e=vh,g=th,h=uh;a.values=function(d){if(!arguments.length)return c;c=d;return a};a.order=function(c){if(!arguments.length)return d;d="function"===
typeof c?c:mi.get(c)||Bd;return a};a.offset=function(c){if(!arguments.length)return f;f="function"===typeof c?c:ni.get(c)||Cd;return a};a.x=function(c){if(!arguments.length)return g;g=c;return a};a.y=function(c){if(!arguments.length)return h;h=c;return a};a.out=function(c){if(!arguments.length)return e;e=c;return a};return a};var mi=I.map({"inside-out":function(a){var c=a.length,d=a.map(wh),f=a.map(xh),e=I.range(c).sort(function(a,c){return d[a]-d[c]}),g=0,h=0,b=[],r=[];for(a=0;a<c;++a){var q=e[a];
g<h?(g+=f[q],b.push(q)):(h+=f[q],r.push(q))}return r.reverse().concat(b)},reverse:function(a){return I.range(a.length).reverse()},"default":Bd}),ni=I.map({silhouette:function(a){var c=a.length,d=a[0].length,f=[],e=0,g,h,b,r=[];for(h=0;h<d;++h){for(b=g=0;g<c;g++)b+=a[g][h][1];b>e&&(e=b);f.push(b)}for(h=0;h<d;++h)r[h]=(e-f[h])/2;return r},wiggle:function(a){var c=a.length,d=a[0],f=d.length,e,g,h,b,r,q,k,m=[];m[0]=q=k=0;for(g=1;g<f;++g){for(h=e=0;e<c;++e)h+=a[e][g][1];var v=e=0;for(r=d[g][0]-d[g-1][0];e<
c;++e){var t=0;for(b=(a[e][g][1]-a[e][g-1][1])/(2*r);t<e;++t)b+=(a[t][g][1]-a[t][g-1][1])/r;v+=b*a[e][g][1]}m[g]=q-=h?v/h*r:0;q<k&&(k=q)}for(g=0;g<f;++g)m[g]-=k;return m},expand:function(a){var c=a.length,d=a[0].length,f=1/c,e,g,h,b=[];for(g=0;g<d;++g){for(h=e=0;e<c;e++)h+=a[e][g][1];if(h)for(e=0;e<c;e++)a[e][g][1]/=h;else for(e=0;e<c;e++)a[e][g][1]=f}for(g=0;g<d;++g)b[g]=0;return b},zero:Cd});I.layout.histogram=function(){function a(a,g){var h=[],b=a.map(d,this),r=f.call(this,b,g),q=e.call(this,
r,b,g);g=-1;for(var k=b.length,m=q.length-1,v=c?1:1/k;++g<m;){var t=h[g]=[];t.dx=q[g+1]-(t.x=q[g]);t.y=0}if(0<m)for(g=-1;++g<k;)t=b[g],t>=r[0]&&t<=r[1]&&(t=h[I.bisect(q,t,1,m)-1],t.y+=v,t.push(a[g]));return h}var c=!0,d=Number,f=Ah,e=zh;a.value=function(c){if(!arguments.length)return d;d=c;return a};a.range=function(c){if(!arguments.length)return f;f=Ca(c);return a};a.bins=function(c){if(!arguments.length)return e;e="number"===typeof c?function(a){return mf(a,c)}:Ca(c);return a};a.frequency=function(d){if(!arguments.length)return c;
c=!!d;return a};return a};I.layout.pack=function(){function a(a,g){a=c.call(this,a,g);g=a[0];var h=f[0],b=f[1],r=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};g.x=g.y=0;fb(g,function(a){a.r=+r(a.value)});fb(g,pf);if(d){var q=d*(e?1:Math.max(2*g.r/h,2*g.r/b))/2;fb(g,function(a){a.r+=q});fb(g,pf);fb(g,function(a){a.r-=q})}rf(g,h/2,b/2,e?1:1/Math.max(2*g.r/h,2*g.r/b));return a}var c=I.layout.hierarchy().sort(Bh),d=0,f=[1,1],e;a.size=function(c){if(!arguments.length)return f;f=c;return a};
a.radius=function(c){if(!arguments.length)return e;e=null==c||"function"===typeof c?c:+c;return a};a.padding=function(c){if(!arguments.length)return d;d=+c;return a};return bc(a,c)};I.layout.tree=function(){function a(a,q){a=g.call(this,a,q);q=a[0];var k=c(q);fb(k,d);k.parent.m=-k.z;cc(k,f);if(r)cc(q,e);else{var m=q,v=q,t=q;cc(q,function(a){a.x<m.x&&(m=a);a.x>v.x&&(v=a);a.depth>t.depth&&(t=a)});var n=h(m,v)/2-m.x,u=b[0]/(v.x+h(v,m)/2+n),x=b[1]/(t.depth||1);cc(q,function(a){a.x=(a.x+n)*u;a.y=a.depth*
x})}return a}function c(a){a={A:null,children:[a]};for(var c=[a],d;null!=(d=c.pop());)for(var f=d.children,e,g=0,h=f.length;g<h;++g)c.push((f[g]=e={_:f[g],parent:d,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return a.children[0]}function d(a){var c=a.children,d=a.parent.children,f=a.i?d[a.i-1]:null;if(c.length){for(var e=0,g=0,b=a.children,r=b.length,q;0<=--r;)q=b[r],q.z+=e,q.m+=e,e+=q.s+(g+=q.c);c=(c[0].z+c[c.length-1].z)/2;f?(a.z=f.z+h(a._,f._),a.m=
a.z-c):a.z=c}else f&&(a.z=f.z+h(a._,f._));c=a.parent;d=a.parent.A||d[0];if(f){g=e=a;b=e.parent.children[0];r=e.m;q=g.m;for(var k=f.m,m=b.m,v;f=Fd(f),e=Ed(e),f&&e;){b=Ed(b);g=Fd(g);g.a=a;v=f.z+k-e.z-r+h(f._,e._);if(0<v){var t=f.a.parent===a.parent?f.a:d,n=a,u=v,x=u/(n.i-t.i);n.c-=x;n.s+=u;t.c+=x;n.z+=u;n.m+=u;r+=v;q+=v}k+=f.m;r+=e.m;m+=b.m;q+=g.m}f&&!Fd(g)&&(g.t=f,g.m+=k-q);e&&!Ed(b)&&(b.t=e,b.m+=r-m,d=a)}c.A=d}function f(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=b[0];a.y=a.depth*
b[1]}var g=I.layout.hierarchy().sort(null).value(null),h=sf,b=[1,1],r=null;a.separation=function(c){if(!arguments.length)return h;h=c;return a};a.size=function(c){if(!arguments.length)return r?null:b;r=null==(b=c)?e:null;return a};a.nodeSize=function(c){if(!arguments.length)return r?b:null;r=null==(b=c)?null:e;return a};return bc(a,g)};I.layout.cluster=function(){function a(a,g){a=c.call(this,a,g);var h=a[0],b,r=0;fb(h,function(a){var c=a.children;c&&c.length?(a.x=Fh(c),a.y=Eh(c)):(a.x=b?r+=d(a,b):
0,a.y=0,b=a)});g=tf(h);var q=uf(h),k=g.x-d(g,q)/2,m=q.x+d(q,g)/2;fb(h,e?function(a){a.x=(a.x-h.x)*f[0];a.y=(h.y-a.y)*f[1]}:function(a){a.x=(a.x-k)/(m-k)*f[0];a.y=(1-(h.y?a.y/h.y:1))*f[1]});return a}var c=I.layout.hierarchy().sort(null).value(null),d=sf,f=[1,1],e=!1;a.separation=function(c){if(!arguments.length)return d;d=c;return a};a.size=function(c){if(!arguments.length)return e?null:f;e=null==(f=c);return a};a.nodeSize=function(c){if(!arguments.length)return e?f:null;e=null!=(f=c);return a};return bc(a,
c)};I.layout.treemap=function(){function a(a,c){for(var d=-1,f=a.length,e,g;++d<f;)g=(e=a[d]).value*(0>c?0:c),e.area=isNaN(g)||0>=g?0:g}function c(d){var e=d.children;if(e&&e.length){var g=q(d),h=[],b=e.slice(),r=Infinity,k,m="slice"===v?g.dx:"dice"===v?g.dy:"slice-dice"===v?d.depth&1?g.dy:g.dx:Math.min(g.dx,g.dy);a(b,g.dx*g.dy/d.value);for(h.area=0;0<(d=b.length);){h.push(d=b[d-1]);h.area+=d.area;if(!(d="squarify"!==v)){d=m;for(var n=h.area,u=0,x=Infinity,C=-1,w=h.length;++C<w;)if(k=h[C].area)k<
x&&(x=k),k>u&&(u=k);n*=n;d*=d;d=(k=n?Math.max(d*u*t/n,n/(d*x*t)):Infinity)<=r}d?(b.pop(),r=k):(h.area-=h.pop().area,f(h,m,g,!1),m=Math.min(g.dx,g.dy),h.length=h.area=0,r=Infinity)}h.length&&(f(h,m,g,!0),h.length=h.area=0);e.forEach(c)}}function d(c){var e=c.children;if(e&&e.length){var g=q(c),h=e.slice(),b=[];a(h,g.dx*g.dy/c.value);for(b.area=0;c=h.pop();)b.push(c),b.area+=c.area,null!=c.z&&(f(b,c.z?g.dx:g.dy,g,!h.length),b.length=b.area=0);e.forEach(d)}}function f(a,c,d,f){var e=-1,g=a.length,b=
d.x,r=d.y,q=c?h(a.area/c):0;if(c==d.dx){if(f||q>d.dy)q=d.dy;for(;++e<g;){var k=a[e];k.x=b;k.y=r;k.dy=q;b+=k.dx=Math.min(d.x+d.dx-b,q?h(k.area/q):0)}k.z=!0;k.dx+=d.x+d.dx-b;d.y+=q;d.dy-=q}else{if(f||q>d.dx)q=d.dx;for(;++e<g;)k=a[e],k.x=b,k.y=r,k.dx=q,r+=k.dy=Math.min(d.y+d.dy-r,q?h(k.area/q):0);k.z=!1;k.dy+=d.y+d.dy-r;d.x+=q;d.dx-=q}}function e(f){f=m||g(f);var e=f[0];e.x=e.y=0;e.value?(e.dx=b[0],e.dy=b[1]):e.dx=e.dy=0;m&&g.revalue(e);a([e],e.dx*e.dy/e.value);(m?d:c)(e);k&&(m=f);return f}var g=I.layout.hierarchy(),
h=Math.round,b=[1,1],r=null,q=Gd,k=!1,m,v="squarify",t=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return b;b=a;return e};e.padding=function(a){function c(c){var d=a.call(e,c,c.depth);return null==d?Gd(c):vf(c,"number"===typeof d?[d,d,d,d]:d)}function d(c){return vf(c,a)}if(!arguments.length)return r;var f;q=null==(r=a)?Gd:"function"===(f=typeof a)?c:"number"===f?(a=[a,a,a,a],d):d;return e};e.round=function(a){if(!arguments.length)return h!=Number;h=a?Math.round:Number;return e};e.sticky=
function(a){if(!arguments.length)return k;k=a;m=null;return e};e.ratio=function(a){if(!arguments.length)return t;t=a;return e};e.mode=function(a){if(!arguments.length)return v;v=a+"";return e};return bc(e,g)};I.random={normal:function(a,c){var d=arguments.length;2>d&&(c=1);1>d&&(a=0);return function(){do{var d=2*Math.random()-1;var f=2*Math.random()-1;f=d*d+f*f}while(!f||1<f);return a+c*d*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(){var a=I.random.normal.apply(I,arguments);return function(){return Math.exp(a())}},
bates:function(a){var c=I.random.irwinHall(a);return function(){return c()/a}},irwinHall:function(a){return function(){for(var c=0,d=0;d<a;d++)c+=Math.random();return c}}};I.scale={};var Hh={floor:C,ceil:C};I.scale.linear=function(){return xf([0,1],[0,1],Bb,!1)};var Kh={s:1,g:1,p:1,r:1,e:1};I.scale.log=function(){return zf(I.scale.linear().domain([0,1]),10,!0,[1,10])};var Af=I.format(".0e"),Lh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};I.scale.pow=function(){return Bf(I.scale.linear(),
1,[0,1])};I.scale.sqrt=function(){return I.scale.pow().exponent(.5)};I.scale.ordinal=function(){return Cf([],{t:"range",a:[[]]})};I.scale.category10=function(){return I.scale.ordinal().range(oi)};I.scale.category20=function(){return I.scale.ordinal().range(pi)};I.scale.category20b=function(){return I.scale.ordinal().range(qi)};I.scale.category20c=function(){return I.scale.ordinal().range(ri)};var oi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ta),pi=[2062260,
11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ta),qi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ta),ri=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,
6513507,9868950,12434877,14277081].map(ta);I.scale.quantile=function(){return Df([],[])};I.scale.quantize=function(){return Ef(0,1,[0,1])};I.scale.threshold=function(){return Ff([.5],[0,1])};I.scale.identity=function(){return Gf([0,1])};I.svg={};I.svg.arc=function(){function a(){var a=Math.max(0,+d.apply(this,arguments)),q=Math.max(0,+f.apply(this,arguments)),k=h.apply(this,arguments)-Ia,m=b.apply(this,arguments)-Ia,v=Math.abs(m-k),t=k>m?0:1;if(q<a){var n=q;q=a;a=n}if(v>=di)return c(q,t)+(a?c(a,1-
t):"")+"Z";var u,x=0,C=0,w=[];if(u=(+r.apply(this,arguments)||0)/2){var B=g===Zc?Math.sqrt(a*a+q*q):+g.apply(this,arguments);t||(C*=-1);q&&(C=ka(B/q*Math.sin(u)));a&&(x=ka(B/a*Math.sin(u)))}if(q){B=q*Math.cos(k+C);u=q*Math.sin(k+C);var A=q*Math.cos(m-C);var D=q*Math.sin(m-C);var z=Math.abs(m-k-2*C)<=va?0:1;C&&Hc(B,u,A,D)===t^z&&(A=(k+m)/2,B=q*Math.cos(A),u=q*Math.sin(A),A=D=null)}else B=u=0;if(a){C=a*Math.cos(m-x);var l=a*Math.sin(m-x);var y=a*Math.cos(k+x);var G=a*Math.sin(k+x);var E=Math.abs(k-
m+2*x)<=va?0:1;x&&Hc(C,l,y,G)===1-t^E&&(y=(k+m)/2,C=a*Math.cos(y),l=a*Math.sin(y),y=G=null)}else C=l=0;1E-6<v&&.001<(n=Math.min(Math.abs(q-a)/2,+e.apply(this,arguments)))?(z=a<q^t?0:1,E=k=n,v<va&&(v=null==y?[C,l]:null==A?[B,u]:td([B,u],[y,G],[A,D],[C,l]),E=B-v[0],k=u-v[1],m=A-v[0],x=D-v[1],k=1/Math.sin(Math.acos((E*m+k*x)/(Math.sqrt(E*E+k*k)*Math.sqrt(m*m+x*x)))/2),v=Math.sqrt(v[0]*v[0]+v[1]*v[1]),E=Math.min(n,(a-v)/(k-1)),k=Math.min(n,(q-v)/(k+1))),null!=A?(v=Ic(null==y?[C,l]:[y,G],[B,u],q,k,t),
m=Ic([A,D],[C,l],q,k,t),n===k?w.push("M",v[0],"A",k,",",k," 0 0,",z," ",v[1],"A",q,",",q," 0 ",1-t^Hc(v[1][0],v[1][1],m[1][0],m[1][1]),",",t," ",m[1],"A",k,",",k," 0 0,",z," ",m[0]):w.push("M",v[0],"A",k,",",k," 0 1,",z," ",m[0])):w.push("M",B,",",u),null!=y?(q=Ic([B,u],[y,G],a,-E,t),A=Ic([C,l],null==A?[B,u]:[A,D],a,-E,t),n===E?w.push("L",A[0],"A",E,",",E," 0 0,",z," ",A[1],"A",a,",",a," 0 ",t^Hc(A[1][0],A[1][1],q[1][0],q[1][1]),",",1-t," ",q[1],"A",E,",",E," 0 0,",z," ",q[0]):w.push("L",A[0],"A",
E,",",E," 0 0,",z," ",q[0])):w.push("L",C,",",l)):(w.push("M",B,",",u),null!=A&&w.push("A",q,",",q," 0 ",z,",",t," ",A,",",D),w.push("L",C,",",l),null!=y&&w.push("A",a,",",a," 0 ",E,",",1-t," ",y,",",G));w.push("Z");return w.join("")}function c(a,c){return"M0,"+a+"A"+a+","+a+" 0 1,"+c+" 0,"+-a+"A"+a+","+a+" 0 1,"+c+" 0,"+a}var d=Nh,f=Oh,e=Mh,g=Zc,h=Hf,b=If,r=Ph;a.innerRadius=function(c){if(!arguments.length)return d;d=Ca(c);return a};a.outerRadius=function(c){if(!arguments.length)return f;f=Ca(c);
return a};a.cornerRadius=function(c){if(!arguments.length)return e;e=Ca(c);return a};a.padRadius=function(c){if(!arguments.length)return g;g=c==Zc?Zc:Ca(c);return a};a.startAngle=function(c){if(!arguments.length)return h;h=Ca(c);return a};a.endAngle=function(c){if(!arguments.length)return b;b=Ca(c);return a};a.padAngle=function(c){if(!arguments.length)return r;r=Ca(c);return a};a.centroid=function(){var a=(+d.apply(this,arguments)+ +f.apply(this,arguments))/2,c=(+h.apply(this,arguments)+ +b.apply(this,
arguments))/2-Ia;return[Math.cos(c)*a,Math.sin(c)*a]};return a};var Zc="auto";I.svg.line=function(){return Jf(C)};var Jd=I.map({linear:cb,"linear-closed":Kf,step:function(a){for(var c=0,d=a.length,f=a[0],e=[f[0],",",f[1]];++c<d;)e.push("H",(f[0]+(f=a[c])[0])/2,"V",f[1]);1<d&&e.push("H",f[0]);return e.join("")},"step-before":Kd,"step-after":Ld,basis:Lf,"basis-open":function(a){if(4>a.length)return cb(a);for(var c=[],d=-1,f=a.length,e,g=[0],h=[0];3>++d;)e=a[d],g.push(e[0]),h.push(e[1]);c.push(Za(tb,
g)+","+Za(tb,h));for(--d;++d<f;)e=a[d],g.shift(),g.push(e[0]),h.shift(),h.push(e[1]),Nd(c,g,h);return c.join("")},"basis-closed":function(a){for(var c,d=-1,f=a.length,e=f+4,g,h=[],b=[];4>++d;)g=a[d%f],h.push(g[0]),b.push(g[1]);c=[Za(tb,h),",",Za(tb,b)];for(--d;++d<e;)g=a[d%f],h.shift(),h.push(g[0]),b.shift(),b.push(g[1]),Nd(c,h,b);return c.join("")},bundle:function(a,c){var d=a.length-1;if(d)for(var f=a[0][0],e=a[0][1],g=a[d][0]-f,h=a[d][1]-e,b=-1,r,q;++b<=d;)r=a[b],q=b/d,r[0]=c*r[0]+(1-c)*(f+q*g),
r[1]=c*r[1]+(1-c)*(e+q*h);return Lf(a)},cardinal:function(a,c){return 3>a.length?cb(a):a[0]+Jc(a,Md(a,c))},"cardinal-open":function(a,c){return 4>a.length?cb(a):a[1]+Jc(a.slice(1,-1),Md(a,c))},"cardinal-closed":function(a,c){return 3>a.length?Kf(a):a[0]+Jc((a.push(a[0]),a),Md([a[a.length-2]].concat(a,[a[1]]),c))},monotone:function(a){if(3>a.length)a=cb(a);else{var c=a[0],d=[],f;var e=0;var g=a.length-1;var h=[];var b=a[1];for(f=h[0]=Od(a[0],b);++e<g;)h[e]=(f+(f=Od(b,b=a[e+1])))/2;h[e]=f;for(var r=
-1,q=a.length-1;++r<q;)e=Od(a[r],a[r+1]),1E-6>xa(e)?h[r]=h[r+1]=0:(g=h[r]/e,b=h[r+1]/e,f=g*g+b*b,9<f&&(f=3*e/Math.sqrt(f),h[r]=f*g,h[r+1]=f*b));for(r=-1;++r<=q;)f=(a[Math.min(q,r+1)][0]-a[Math.max(0,r-1)][0])/(6*(1+h[r]*h[r])),d.push([f||0,h[r]*f||0]);a=c+Jc(a,d)}return a}});Jd.forEach(function(a,c){c.key=a;c.closed=/-closed$/.test(a)});var Mf=[0,2/3,1/3,0],Nf=[0,1/3,2/3,0],tb=[0,1/6,2/3,1/6];I.svg.line.radial=function(){var a=Jf(Of);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};Kd.reverse=
Ld;Ld.reverse=Kd;I.svg.area=function(){return Pf(C)};I.svg.area.radial=function(){var a=Pf(Of);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a};I.svg.chord=function(){function a(a,g){var h=c(this,f,a,g);a=c(this,e,a,g);return"M"+h.p0+d(h.r,h.p1,h.a1-h.a0)+(h.a0==a.a0&&h.a1==a.a1?"Q 0,0 "+h.p0:"Q 0,0 "+a.p0+d(a.r,a.p1,a.a1-a.a0)+("Q 0,0 "+h.p0))+"Z"}function c(a,c,d,f){var e=
c.call(a,d,f);c=g.call(a,e,f);d=h.call(a,e,f)-Ia;a=b.call(a,e,f)-Ia;return{r:c,a0:d,a1:a,p0:[c*Math.cos(d),c*Math.sin(d)],p1:[c*Math.cos(a),c*Math.sin(a)]}}function d(a,c,d){return"A"+a+","+a+" 0 "+ +(d>va)+",1 "+c}var f=pd,e=qd,g=Qh,h=Hf,b=If;a.radius=function(c){if(!arguments.length)return g;g=Ca(c);return a};a.source=function(c){if(!arguments.length)return f;f=Ca(c);return a};a.target=function(c){if(!arguments.length)return e;e=Ca(c);return a};a.startAngle=function(c){if(!arguments.length)return h;
h=Ca(c);return a};a.endAngle=function(c){if(!arguments.length)return b;b=Ca(c);return a};return a};I.svg.diagonal=function(){function a(a,e){var g=c.call(this,a,e);a=d.call(this,a,e);e=(g.y+a.y)/2;g=[g,{x:g.x,y:e},{x:a.x,y:e},a];g=g.map(f);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var c=pd,d=qd,f=Qf;a.source=function(d){if(!arguments.length)return c;c=Ca(d);return a};a.target=function(c){if(!arguments.length)return d;d=Ca(c);return a};a.projection=function(c){if(!arguments.length)return f;f=c;return a};
return a};I.svg.diagonal.radial=function(){var a=I.svg.diagonal(),c=Qf,d=a.projection;a.projection=function(a){return arguments.length?d(Rh(c=a)):c};return a};I.svg.symbol=function(){function a(a,f){return(fg.get(c.call(this,a,f))||Rf)(d.call(this,a,f))}var c=Th,d=Sh;a.type=function(d){if(!arguments.length)return c;c=Ca(d);return a};a.size=function(c){if(!arguments.length)return d;d=Ca(c);return a};return a};var fg=I.map({circle:Rf,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+
"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*gg));var c=a*gg;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/$c);var c=a*$c/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(a){a=Math.sqrt(a/$c);var c=a*$c/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});I.svg.symbolTypes=
fg.keys();var $c=Math.sqrt(3),gg=Math.tan(30*wa);Fa.transition=function(a){var c=Db||++hg;a=Qd(a);for(var d=[],f,e,g=ad||{time:Date.now(),ease:$g,delay:0,duration:250},h=-1,b=this.length;++h<b;){d.push(f=[]);for(var r=this[h],q=-1,k=r.length;++q<k;)(e=r[q])&&Kc(e,q,a,c,g),f.push(e)}return dc(d,a,c)};Fa.interrupt=function(a){return this.each(null==a?Nc:Sf(Qd(a)))};var Nc=Sf(Qd()),La=[],hg=0,Db,ad;La.call=Fa.call;La.empty=Fa.empty;La.node=Fa.node;La.size=Fa.size;I.transition=function(a,c){return a&&
a.transition?Db?a.transition(c):a:I.selection().transition(a)};I.transition.prototype=La;La.select=function(a){var c=this.id,d=this.namespace,f=[],e,g,h;a=J(a);for(var b=-1,r=this.length;++b<r;){f.push(e=[]);for(var q=this[b],k=-1,m=q.length;++k<m;)(h=q[k])&&(g=a.call(h,h.__data__,k,b))?("__data__"in h&&(g.__data__=h.__data__),Kc(g,k,d,c,h[d][c]),e.push(g)):e.push(null)}return dc(f,d,c)};La.selectAll=function(a){var c=this.id,d=this.namespace,f=[],e,g;a=K(a);for(var h=-1,b=this.length;++h<b;)for(var r=
this[h],q=-1,k=r.length;++q<k;)if(e=r[q]){var m=e[d][c];var v=a.call(e,e.__data__,q,h);f.push(e=[]);for(var t=-1,n=v.length;++t<n;)(g=v[t])&&Kc(g,t,d,c,m),e.push(g)}return dc(f,d,c)};La.filter=function(a){var c=[],d,f;"function"!==typeof a&&(a=aa(a));for(var e=0,g=this.length;e<g;e++){c.push(d=[]);var h=this[e];for(var b=0,r=h.length;b<r;b++)(f=h[b])&&a.call(f,f.__data__,b,e)&&d.push(f)}return dc(c,this.namespace,this.id)};La.tween=function(a,c){var d=this.id,f=this.namespace;return 2>arguments.length?
this.node()[f][d].tween.get(a):R(this,null==c?function(c){c[f][d].tween.remove(a)}:function(e){e[f][d].tween.set(a,c)})};La.attr=function(a,c){function d(){this.removeAttribute(b)}function f(){this.removeAttributeNS(b.space,b.local)}function e(a){return null==a?d:(a+="",function(){var c=this.getAttribute(b),d;return c!==a&&(d=h(c,a),function(a){this.setAttribute(b,d(a))})})}function g(a){return null==a?f:(a+="",function(){var c=this.getAttributeNS(b.space,b.local),d;return c!==a&&(d=h(c,a),function(a){this.setAttributeNS(b.space,
b.local,d(a))})})}if(2>arguments.length){for(c in a)this.attr(c,a[c]);return this}var h="transform"==a?jf:Bb,b=I.ns.qualify(a);return Pd(this,"attr."+a,c,b.local?g:e)};La.attrTween=function(a,c){function d(a,d){var f=c.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function f(a,d){var f=c.call(this,a,d,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=I.ns.qualify(a);return this.tween("attr."+a,e.local?
f:d)};La.style=function(a,c,d){function f(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!==typeof a){2>e&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return Pd(this,"style."+a,c,function(c){return null==c?f:(c+="",function(){var f=b(this).getComputedStyle(this,null).getPropertyValue(a),e;return f!==c&&(e=Bb(f,c),function(c){this.style.setProperty(a,e(c),d)})})})};La.styleTween=function(a,c,d){3>arguments.length&&(d="");return this.tween("style."+a,function(f,
e){var g=c.call(this,f,e,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(c){this.style.setProperty(a,g(c),d)}})};La.text=function(a){return Pd(this,"text",a,Uh)};La.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var c;2>this[a].count&&(c=this.parentNode)&&c.removeChild(this)})};La.ease=function(a){var c=this.id,d=this.namespace;if(1>arguments.length)return this.node()[d][c].ease;"function"!==typeof a&&(a=I.ease.apply(I,arguments));return R(this,
function(f){f[d][c].ease=a})};La.delay=function(a){var c=this.id,d=this.namespace;return 1>arguments.length?this.node()[d][c].delay:R(this,"function"===typeof a?function(f,e,g){f[d][c].delay=+a.call(f,f.__data__,e,g)}:(a=+a,function(f){f[d][c].delay=a}))};La.duration=function(a){var c=this.id,d=this.namespace;return 1>arguments.length?this.node()[d][c].duration:R(this,"function"===typeof a?function(f,e,g){f[d][c].duration=Math.max(1,a.call(f,f.__data__,e,g))}:(a=Math.max(1,a),function(f){f[d][c].duration=
a}))};La.each=function(a,c){var d=this.id,f=this.namespace;if(2>arguments.length){var e=ad,g=Db;try{Db=d,R(this,function(c,e,g){ad=c[f][d];a.call(c,c.__data__,e,g)})}finally{ad=e,Db=g}}else R(this,function(e){e=e[f][d];(e.event||(e.event=I.dispatch("start","end","interrupt"))).on(a,c)});return this};La.transition=function(){for(var a=this.id,c=++hg,d=this.namespace,f=[],e,g,h,b,r=0,q=this.length;r<q;r++){f.push(e=[]);g=this[r];for(var k=0,m=g.length;k<m;k++){if(h=g[k])b=h[d][a],Kc(h,k,d,c,{time:b.time,
ease:b.ease,delay:b.delay+b.duration,duration:b.duration});e.push(h)}}return dc(f,d,c)};I.svg.axis=function(){function a(a){a.each(function(){var a=I.select(this),q=this.__chart__||c,k=this.__chart__=c.copy(),m=null==b?k.ticks?k.ticks.apply(k,h):k.domain():b,v=null==r?k.tickFormat?k.tickFormat.apply(k,h):C:r,t=a.selectAll(".tick").data(m,k);m=t.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6);var n=I.transition(t.exit()).style("opacity",1E-6).remove(),u=I.transition(t.order()).style("opacity",
1),x=Math.max(f,0)+g,w=Dc(k);a=a.selectAll(".domain").data([0]);a=(a.enter().append("path").attr("class","domain"),I.transition(a));m.append("line");m.append("text");var B=m.select("line"),A=u.select("line");t=t.select("text").text(v);var D=m.select("text"),z=u.select("text"),l="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d){v=Vh;var y="x";var G="y";var E="x2";var L="y2";t.attr("dy",0>l?"0em":".71em").style("text-anchor","middle");a.attr("d","M"+w[0]+","+l*e+"V0H"+w[1]+"V"+l*e)}else v=Wh,y=
"y",G="x",E="y2",L="x2",t.attr("dy",".32em").style("text-anchor",0>l?"end":"start"),a.attr("d","M"+l*e+","+w[0]+"H0V"+w[1]+"H"+l*e);B.attr(L,l*f);D.attr(G,l*x);A.attr(E,0).attr(L,l*f);z.attr(y,0).attr(G,l*x);if(k.rangeBand){var p=k,K=p.rangeBand()/2;q=k=function(a){return p(a)+K}}else q.rangeBand?q=k:n.call(v,k,q);m.call(v,q,k);u.call(v,k,k)})}var c=I.scale.linear(),d=ig,f=6,e=6,g=3,h=[10],b=null,r;a.scale=function(d){if(!arguments.length)return c;c=d;return a};a.orient=function(c){if(!arguments.length)return d;
d=c in si?c+"":ig;return a};a.ticks=function(){if(!arguments.length)return h;h=db(arguments);return a};a.tickValues=function(c){if(!arguments.length)return b;b=c;return a};a.tickFormat=function(c){if(!arguments.length)return r;r=c;return a};a.tickSize=function(c){var d=arguments.length;if(!d)return f;f=+c;e=+arguments[d-1];return a};a.innerTickSize=function(c){if(!arguments.length)return f;f=+c;return a};a.outerTickSize=function(c){if(!arguments.length)return e;e=+c;return a};a.tickPadding=function(c){if(!arguments.length)return g;
g=+c;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var ig="bottom",si={top:1,right:1,bottom:1,left:1};I.svg.brush=function(){function a(g){g.each(function(){var g=I.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),b=g.selectAll(".background").data([0]);b.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class",
"extent").style("cursor","move");var q=g.selectAll(".resize").data(u,C);q.exit().remove();q.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return ti[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");q.style("display",a.empty()?"none":null);g=I.transition(g);b=I.transition(b);h&&(q=Dc(h),b.attr("x",q[0]).attr("width",
q[1]-q[0]),d(g));r&&(q=Dc(r),b.attr("y",q[0]).attr("height",q[1]-q[0]),f(g));c(g)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+q[+/e$/.test(a)]+","+k[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",q[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",q[1]-q[0])}function f(a){a.select(".extent").attr("y",k[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function e(){function e(){var a=I.mouse(C),e=!1;J&&(a[0]+=J[0],
a[1]+=J[1]);G||(I.event.altKey?(L||(L=[(q[0]+q[1])/2,(k[0]+k[1])/2]),p[0]=q[+(a[0]<L[0])],p[1]=k[+(a[1]<L[1])]):L=null);z&&u(a,h,0)&&(d(A),e=!0);l&&u(a,r,1)&&(f(A),e=!0);e&&(c(A),B({type:"brush",mode:G?"move":"resize"}))}function u(a,c,d){var f=Dc(c);c=f[0];var e=f[1];f=p[d];var g=d?k:q,h=g[1]-g[0];G&&(c-=f,e-=h+f);a=(d?n:t)?Math.max(c,Math.min(e,a[d])):a[d];G?c=(a+=f)+h:(L&&(f=Math.max(c,Math.min(e,2*L[d]-a))),f<a?(c=a,a=f):c=f);if(g[0]!=a||g[1]!=c)return d?v=null:m=null,g[0]=a,g[1]=c,!0}function x(){e();
A.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null);I.select("body").style("cursor",null);K.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);E();B({type:"brushend"})}var C=this,w=I.select(I.event.target),B=g.of(C,arguments),A=I.select(C),D=w.datum(),z=!/^(n|s)$/.test(D)&&h,l=!/^(e|w)$/.test(D)&&r,G=w.classed("extent"),E=ja(C),L,p=I.mouse(C),K=I.select(b(C)).on("keydown.brush",
function(){32==I.event.keyCode&&(G||(L=null,p[0]-=q[1],p[1]-=k[1],G=2),y())}).on("keyup.brush",function(){32==I.event.keyCode&&2==G&&(p[0]+=q[1],p[1]+=k[1],G=0,y())});if(I.event.changedTouches)K.on("touchmove.brush",e).on("touchend.brush",x);else K.on("mousemove.brush",e).on("mouseup.brush",x);A.interrupt().selectAll("*").interrupt();if(G)p[0]=q[0]-p[0],p[1]=k[0]-p[1];else if(D){var H=+/w$/.test(D);D=+/^n/.test(D);var J=[q[1-H]-p[0],k[1-D]-p[1]];p[0]=q[H];p[1]=k[D]}else I.event.altKey&&(L=p.slice());
A.style("pointer-events","none").selectAll(".resize").style("display",null);I.select("body").style("cursor",w.style("cursor"));B({type:"brushstart"});e()}var g=G(a,"brushstart","brush","brushend"),h=null,r=null,q=[0,0],k=[0,0],m,v,t=!0,n=!0,u=$d[0];a.event=function(a){a.each(function(){var a=g.of(this,arguments),c={x:q,y:k,i:m,j:v},d=this.__chart__||c;this.__chart__=c;Db?I.select(this).transition().each("start.brush",function(){m=d.i;v=d.j;q=d.x;k=d.y;a({type:"brushstart"})}).tween("brush:brush",
function(){var d=Cc(q,c.x),f=Cc(k,c.y);m=v=null;return function(e){q=c.x=d(e);k=c.y=f(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){m=c.i;v=c.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};a.x=function(c){if(!arguments.length)return h;h=c;u=$d[!h<<1|!r];return a};a.y=function(c){if(!arguments.length)return r;r=c;u=$d[!h<<1|!r];return a};a.clamp=function(c){if(!arguments.length)return h&&
r?[t,n]:h?t:r?n:null;h&&r?(t=!!c[0],n=!!c[1]):h?t=!!c:r&&(n=!!c);return a};a.extent=function(c){if(!arguments.length){if(h)if(m){var d=m[0];var f=m[1]}else if(d=q[0],f=q[1],h.invert&&(d=h.invert(d),f=h.invert(f)),f<d){var e=d;d=f;f=e}if(r)if(v){var g=v[0];var b=v[1]}else g=k[0],b=k[1],r.invert&&(g=r.invert(g),b=r.invert(b)),b<g&&(e=g,g=b,b=e);return h&&r?[[d,g],[f,b]]:h?[d,f]:r&&[g,b]}h&&(d=c[0],f=c[1],r&&(d=d[0],f=f[0]),m=[d,f],h.invert&&(d=h(d),f=h(f)),f<d&&(e=d,d=f,f=e),d!=q[0]||f!=q[1])&&(q=[d,
f]);r&&(g=c[0],b=c[1],h&&(g=g[1],b=b[1]),v=[g,b],r.invert&&(g=r(g),b=r(b)),b<g&&(e=g,g=b,b=e),g!=k[0]||b!=k[1])&&(k=[g,b]);return a};a.clear=function(){a.empty()||(q=[0,0],k=[0,0],m=v=null);return a};a.empty=function(){return!!h&&q[0]==q[1]||!!r&&k[0]==k[1]};return I.rebind(a,g,"on")};var ti={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$d=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],ae=ma.format=Xf.timeFormat,
jg=ae.utc,kg=jg("%Y-%m-%dT%H:%M:%S.%LZ");ae.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Rd:kg;Rd.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Rd.toString=kg.toString;ma.second=Ma(function(a){return new Qa(1E3*Math.floor(a/1E3))},function(a,c){a.setTime(a.getTime()+1E3*Math.floor(c))},function(a){return a.getSeconds()});ma.seconds=ma.second.range;ma.seconds.utc=ma.second.utc.range;ma.minute=Ma(function(a){return new Qa(6E4*Math.floor(a/6E4))},function(a,c){a.setTime(a.getTime()+
6E4*Math.floor(c))},function(a){return a.getMinutes()});ma.minutes=ma.minute.range;ma.minutes.utc=ma.minute.utc.range;ma.hour=Ma(function(a){var c=a.getTimezoneOffset()/60;return new Qa(36E5*(Math.floor(a/36E5-c)+c))},function(a,c){a.setTime(a.getTime()+36E5*Math.floor(c))},function(a){return a.getHours()});ma.hours=ma.hour.range;ma.hours.utc=ma.hour.utc.range;ma.month=Ma(function(a){a=ma.day(a);a.setDate(1);return a},function(a,c){a.setMonth(a.getMonth()+c)},function(a){return a.getMonth()});ma.months=
ma.month.range;ma.months.utc=ma.month.utc.range;var Lc=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],be=[[ma.second,1],[ma.second,5],[ma.second,15],[ma.second,30],[ma.minute,1],[ma.minute,5],[ma.minute,15],[ma.minute,30],[ma.hour,1],[ma.hour,3],[ma.hour,6],[ma.hour,12],[ma.day,1],[ma.day,2],[ma.week,1],[ma.month,1],[ma.month,3],[ma.year,1]],ui=ae.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],
["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Tb]]),Xh={range:function(a,c,d){return I.range(Math.ceil(a/d)*d,+c,d).map(Cb)},floor:C,ceil:C};be.year=ma.year;ma.scale=function(){return Sd(I.scale.linear(),be,ui)};var lg=be.map(function(a){return[a[0].utc,a[1]]}),vi=jg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],
[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Tb]]);lg.year=ma.year.utc;ma.scale.utc=function(){return Sd(I.scale.linear(),lg,vi)};I.text=Na(function(a){return a.responseText});I.json=function(a,c){return Ka(a,"application/json",Yh,c)};I.html=function(a,
c){return Ka(a,"text/html",Zh,c)};I.xml=Na(function(a){return a.responseXML});"object"===typeof p&&p.exports?p.exports=I:this.d3=I}()},{}],87:[function(b,p,l){p.exports=function(){for(var b=0;b<arguments.length;b++)if(void 0!==arguments[b])return arguments[b]}},{}],88:[function(b,p,l){function n(d,g){this.point=d;this.index=g}function g(d,g){d=d.point;g=g.point;for(var e=d.length,h=0;h<e;++h){var f=g[h]-d[h];if(f)return f}return 0}function k(d,g,h){if(1===d)return h?[[-1,0]]:[];g=g.map(function(c,
d){return[c[0],d]});g.sort(function(c,d){return c[0]-d[0]});for(var e=Array(d-1),f=1;f<d;++f)e[f-1]=[g[f-1][1],g[f][1]];h&&e.push([-1,e[0][1]],[e[d-1][1],-1]);return e}var d=b("incremental-convex-hull"),h=b("uniq");p.exports=function(e,b){var m=e.length;if(0===m)return[];var t=e[0].length;if(1>t)return[];if(1===t)return k(m,e,b);for(var f=Array(m),c=1,q=0;q<m;++q){for(var a=e[q],r=Array(t+1),v=0,u=0;u<t;++u){var C=a[u];r[u]=C;v+=C*C}r[t]=v;f[q]=new n(r,q);c=Math.max(v,c)}h(f,g);m=f.length;e=Array(m+
t+1);var A=Array(m+t+1);a=Array(t+1);for(q=0;q<=t;++q)a[q]=0;a[t]=(t+1)*(t+1)*c;e[0]=a.slice();A[0]=-1;for(q=0;q<=t;++q)r=a.slice(),r[q]=1,e[q+1]=r,A[q+1]=-1;for(q=0;q<m;++q)c=f[q],e[q+t+1]=c.point,A[q+t+1]=c.index;m=d(e,!1);m=b?m.filter(function(a){for(var c=0,d=0;d<=t;++d){var f=A[a[d]];if(0>f&&2<=++c)return!1;a[d]=f}return!0}):m.filter(function(a){for(var c=0;c<=t;++c){var d=A[a[c]];if(0>d)return!1;a[c]=d}return!0});if(t&1)for(q=0;q<m.length;++q)c=m[q],r=c[0],c[0]=c[1],c[1]=r;return m}},{"incremental-convex-hull":176,
uniq:264}],89:[function(b,p,l){(function(b){var g=!1;if("undefined"!==typeof Float64Array){var k=new Float64Array(1),d=new Uint32Array(k.buffer);k[0]=1;g=!0;1072693248===d[1]?(p.exports=function(e){k[0]=e;return[d[0],d[1]]},p.exports.pack=function(e,g){d[0]=e;d[1]=g;return k[0]},p.exports.lo=function(e){k[0]=e;return d[0]},p.exports.hi=function(e){k[0]=e;return d[1]}):1072693248===d[0]?(p.exports=function(e){k[0]=e;return[d[1],d[0]]},p.exports.pack=function(e,g){d[1]=e;d[0]=g;return k[0]},p.exports.lo=
function(e){k[0]=e;return d[1]},p.exports.hi=function(e){k[0]=e;return d[0]}):g=!1}if(!g){var h=new b(8);p.exports=function(d){h.writeDoubleLE(d,0,!0);return[h.readUInt32LE(0,!0),h.readUInt32LE(4,!0)]};p.exports.pack=function(d,g){h.writeUInt32LE(d,0,!0);h.writeUInt32LE(g,4,!0);return h.readDoubleLE(0,!0)};p.exports.lo=function(d){h.writeDoubleLE(d,0,!0);return h.readUInt32LE(0,!0)};p.exports.hi=function(d){h.writeDoubleLE(d,0,!0);return h.readUInt32LE(4,!0)}}p.exports.sign=function(d){return p.exports.hi(d)>>>
31};p.exports.exponent=function(d){return(p.exports.hi(d)<<1>>>21)-1023};p.exports.fraction=function(d){var e=p.exports.lo(d);d=p.exports.hi(d);var g=d&1048575;d&2146435072&&(g+=1048576);return[e,g]};p.exports.denormalized=function(d){return!(p.exports.hi(d)&2146435072)}}).call(this,b("buffer").Buffer)},{buffer:4}],90:[function(b,p,l){p.exports=function(b){switch(b){case "int8":return Int8Array;case "int16":return Int16Array;case "int32":return Int32Array;case "uint8":return Uint8Array;case "uint16":return Uint16Array;
case "uint32":return Uint32Array;case "float32":return Float32Array;case "float64":return Float64Array;case "array":return Array;case "uint8_clamped":return Uint8ClampedArray}}},{}],91:[function(b,p,l){function n(g,b,d){var h=g[d]|0;if(0>=h)return[];var e=Array(h),k;if(d===g.length-1)for(k=0;k<h;++k)e[k]=b;else for(k=0;k<h;++k)e[k]=n(g,b,d+1);return e}p.exports=function(g,b){"undefined"===typeof b&&(b=0);switch(typeof g){case "number":if(0<g){g|=0;var d;var h=Array(g);for(d=0;d<g;++d)h[d]=b;return h}break;
case "object":if("number"===typeof g.length)return n(g,b,0)}return[]}},{}],92:[function(b,p,l){p.exports=function(g,b){var d=g.length;if("number"!==typeof b){for(var h=b=0;h<d;++h){var e=g[h];b=Math.max(b,e[0],e[1])}b=(b|0)+1}b|=0;var k=Array(b);for(h=0;h<b;++h)k[h]=[];for(h=0;h<d;++h)e=g[h],k[e[0]].push(e[1]),k[e[1]].push(e[0]);for(g=0;g<b;++g)n(k[g],function(d,e){return d-e});return k};var n=b("uniq")},{uniq:264}],93:[function(b,p,l){(function(n,g){(function(g,d){"object"===typeof l&&"undefined"!==
typeof p?p.exports=d():g.ES6Promise=d()})(this,function(){function k(){return function(){return n.nextTick(m)}}function d(){return function(){Q(m)}}function h(){var a=0,c=new W(m),d=document.createTextNode("");c.observe(d,{characterData:!0});return function(){d.data=a=++a%2}}function e(){var a=new MessageChannel;a.port1.onmessage=m;return function(){return a.port2.postMessage(0)}}function u(){var a=setTimeout;return function(){return a(m,1)}}function m(){for(var a=0;a<Z;a+=2)(0,T[a])(T[a+1]),T[a]=
void 0,T[a+1]=void 0;Z=0}function t(){try{var a=b("vertx");Q=a.runOnLoop||a.runOnContext;return d()}catch(ka){return u()}}function f(a,c){var d=arguments,f=this,e=new this.constructor(q);void 0===e[S]&&p(e);var g=f._state;g?function(){var a=d[g-1];U(function(){return G(g,e,a,f._result)})}():B(f,e,a,c);return e}function c(a){if(a&&"object"===typeof a&&a.constructor===this)return a;var c=new this(q);A(c,a);return c}function q(){}function a(a){try{return a.then}catch(ka){return X.error=ka,X}}function r(a,
c,d,f){try{a.call(c,d,f)}catch(la){return la}}function v(a,c,d){U(function(a){var f=!1,e=r(d,c,function(d){f||(f=!0,c!==d?A(a,d):z(a,d))},function(c){f||(f=!0,l(a,c))},"Settle: "+(a._label||" unknown promise"));!f&&e&&(f=!0,l(a,e))},a)}function x(a,c){c._state===ba?z(a,c._result):c._state===ja?l(a,c._result):B(c,void 0,function(c){return A(a,c)},function(c){return l(a,c)})}function C(a,d,e){d.constructor===a.constructor&&e===f&&d.constructor.resolve===c?x(a,d):e===X?l(a,X.error):void 0===e?z(a,d):
"function"===typeof e?v(a,d,e):z(a,d)}function A(c,d){c===d?l(c,new TypeError("You cannot resolve a promise with itself")):"function"===typeof d||"object"===typeof d&&null!==d?C(c,d,a(d)):z(c,d)}function D(a){a._onerror&&a._onerror(a._result);y(a)}function z(a,c){a._state===V&&(a._result=c,a._state=ba,0!==a._subscribers.length&&U(y,a))}function l(a,c){a._state===V&&(a._state=ja,a._result=c,U(D,a))}function B(a,c,d,f){var e=a._subscribers,g=e.length;a._onerror=null;e[g]=c;e[g+ba]=d;e[g+ja]=f;0===g&&
a._state&&U(y,a)}function y(a){var c=a._subscribers,d=a._state;if(0!==c.length){for(var f,e,g=a._result,h=0;h<c.length;h+=3)f=c[h],e=c[h+d],f?G(d,f,e,g):e(g);a._subscribers.length=0}}function w(){this.error=null}function G(a,c,d,f){var e="function"===typeof d,g=void 0,h=void 0,b=void 0,r=void 0;if(e){try{g=d(f)}catch(fa){na.error=fa,g=na}g===na?(r=!0,h=g.error,g=null):b=!0;if(c===g){l(c,new TypeError("A promises callback cannot return that same promise."));return}}else g=f,b=!0;c._state===V&&(e&&
b?A(c,g):r?l(c,h):a===ba?z(c,g):a===ja&&l(c,g))}function E(a,c){try{c(function(c){A(a,c)},function(c){l(a,c)})}catch(Y){l(a,Y)}}function p(a){a[S]=oa++;a._state=void 0;a._result=void 0;a._subscribers=[]}function K(a,c){this._instanceConstructor=a;this.promise=new a(q);this.promise[S]||p(this.promise);M(c)?(this._input=c,this._remaining=this.length=c.length,this._result=Array(this.length),0===this.length?z(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&
z(this.promise,this._result))):l(this.promise,Error("Array Methods must be provided an Array"))}function H(a){this[S]=oa++;this._result=this._state=void 0;this._subscribers=[];if(q!==a){if("function"!==typeof a)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(this instanceof H)E(this,a);else throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}}function L(){var a=
void 0;if("undefined"!==typeof g)a=g;else if("undefined"!==typeof self)a=self;else try{a=Function("return this")()}catch(ca){throw Error("polyfill failed because global object is unavailable in this environment");}var c=a.Promise;if(c){var d=null;try{d=Object.prototype.toString.call(c.resolve())}catch(ca){}if("[object Promise]"===d&&!c.cast)return}a.Promise=H}var N=void 0,M=N=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},Z=0,Q=void 0,P=void 0,
U=function(a,c){T[Z]=a;T[Z+1]=c;Z+=2;2===Z&&(P?P(m):ea())},aa=(N="undefined"!==typeof window?window:void 0)||{},W=aa.MutationObserver||aa.WebKitMutationObserver;aa="undefined"===typeof self&&"undefined"!==typeof n&&"[object process]"==={}.toString.call(n);var R="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,T=Array(1E3),ea=void 0;ea=aa?k():W?h():R?e():void 0===N&&"function"===typeof b?t():u();var S=Math.random().toString(36).substring(16),
V=void 0,ba=1,ja=2,X=new w,na=new w,oa=0;K.prototype._enumerate=function(){for(var a=this.length,c=this._input,d=0;this._state===V&&d<a;d++)this._eachEntry(c[d],d)};K.prototype._eachEntry=function(d,e){var g=this._instanceConstructor,h=g.resolve;h===c?(h=a(d),h===f&&d._state!==V?this._settledAt(d._state,e,d._result):"function"!==typeof h?(this._remaining--,this._result[e]=d):g===H?(g=new g(q),C(g,d,h),this._willSettleAt(g,e)):this._willSettleAt(new g(function(a){return a(d)}),e)):this._willSettleAt(h(d),
e)};K.prototype._settledAt=function(a,c,d){var f=this.promise;f._state===V&&(this._remaining--,a===ja?l(f,d):this._result[c]=d);0===this._remaining&&z(f,this._result)};K.prototype._willSettleAt=function(a,c){var d=this;B(a,void 0,function(a){return d._settledAt(ba,c,a)},function(a){return d._settledAt(ja,c,a)})};H.all=function(a){return(new K(this,a)).promise};H.race=function(a){var c=this;return M(a)?new c(function(d,f){for(var e=a.length,g=0;g<e;g++)c.resolve(a[g]).then(d,f)}):new c(function(a,
c){return c(new TypeError("You must pass an array to race."))})};H.resolve=c;H.reject=function(a){var c=new this(q);l(c,a);return c};H._setScheduler=function(a){P=a};H._setAsap=function(a){U=a};H._asap=U;H.prototype={constructor:H,then:f,"catch":function(a){return this.then(null,a)}};L();H.polyfill=L;return H.Promise=H})}).call(this,b("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:8}],94:[function(b,p,l){p.exports=function(b,
g,k){g=g||0;k=k||1;return[[b[12]+b[0],b[13]+b[1],b[14]+b[2],b[15]+b[3]],[b[12]-b[0],b[13]-b[1],b[14]-b[2],b[15]-b[3]],[b[12]+b[4],b[13]+b[5],b[14]+b[6],b[15]+b[7]],[b[12]-b[4],b[13]-b[5],b[14]-b[6],b[15]-b[7]],[g*b[12]+b[8],g*b[13]+b[9],g*b[14]+b[10],g*b[15]+b[11]],[k*b[12]-b[8],k*b[13]-b[9],k*b[14]-b[10],k*b[15]-b[11]]]}},{}],95:[function(b,p,l){p.exports=function(b){var g=typeof b;if("string"===g){g=b;b=+b;var k;if(k=0===b)a:{k=g.length;for(var d,h=0;h<k;h++)if(d=g.charCodeAt(h),(9>d||13<d)&&32!==
d&&133!==d&&160!==d&&5760!==d&&6158!==d&&(8192>d||8205<d)&&8232!==d&&8233!==d&&8239!==d&&8287!==d&&8288!==d&&12288!==d&&65279!==d){k=!1;break a}k=!0}if(k)return!1}else if("number"!==g)return!1;return 1>b-b}},{}],96:[function(b,p,l){function n(d,g,h){return Math.min(g,Math.max(d,h))}function g(d,g,h){this.dimension=d.length;this.bounds=[Array(this.dimension),Array(this.dimension)];for(var e=0;e<this.dimension;++e)this.bounds[0][e]=-Infinity,this.bounds[1][e]=Infinity;this._state=d.slice().reverse();
this._velocity=g.slice().reverse();this._time=[h];this._scratch=[d.slice(),d.slice(),d.slice(),d.slice(),d.slice()]}function k(d){for(var e=Array(d),g=0;g<d;++g)e[g]=0;return e}p.exports=function(d,h,b){switch(arguments.length){case 0:return new g([0],[0],0);case 1:if("number"===typeof d){var e=k(d);return new g(e,e,0)}return new g(d,k(d.length),0);case 2:if("number"===typeof h)return e=k(d.length),new g(d,e,+h);b=0;case 3:if(d.length!==h.length)throw Error("state and velocity lengths must match");
return new g(d,h,b)}};var d=b("cubic-hermite"),h=b("binary-search-bounds");b=g.prototype;b.flush=function(d){d=h.gt(this._time,d)-1;0>=d||(this._time.splice(0,d),this._state.splice(0,d*this.dimension),this._velocity.splice(0,d*this.dimension))};b.curve=function(e){var g=this._time,b=g.length,k=h.le(g,e),f=this._scratch[0],c=this._state,q=this._velocity,a=this.dimension,r=this.bounds;if(0>k){var v=a-1;for(g=0;g<a;++g,--v)f[g]=c[v]}else if(k>=b-1)for(v=c.length-1,e-=g[b-1],g=0;g<a;++g,--v)f[g]=c[v]+
e*q[v];else{v=a*(k+1)-1;b=g[k];k=g[k+1]-b||1;var x=this._scratch[1],C=this._scratch[2],A=this._scratch[3],D=this._scratch[4],z=!0;for(g=0;g<a;++g,--v)x[g]=c[v],A[g]=q[v]*k,C[g]=c[v+a],D[g]=q[v+a]*k,z=z&&x[g]===C[g]&&A[g]===D[g]&&0===A[g];if(z)for(g=0;g<a;++g)f[g]=x[g];else d(x,A,C,D,(e-b)/k,f)}c=r[0];r=r[1];for(g=0;g<a;++g)f[g]=n(c[g],r[g],f[g]);return f};b.dcurve=function(e){var g=this._time,b=g.length,k=h.le(g,e),f=this._scratch[0],c=this._state,q=this._velocity,a=this.dimension;if(k>=b-1)for(b=
c.length-1,g=0;g<a;++g,--b)f[g]=q[b];else{b=a*(k+1)-1;var r=g[k];k=g[k+1]-r||1;var v=this._scratch[1],n=this._scratch[2],C=this._scratch[3],A=this._scratch[4],D=!0;for(g=0;g<a;++g,--b)v[g]=c[b],C[g]=q[b]*k,n[g]=c[b+a],A[g]=q[b+a]*k,D=D&&v[g]===n[g]&&C[g]===A[g]&&0===C[g];if(D)for(g=0;g<a;++g)f[g]=0;else for(d.derivative(v,C,n,A,(e-r)/k,f),g=0;g<a;++g)f[g]/=k}return f};b.lastT=function(){var d=this._time;return d[d.length-1]};b.stable=function(){for(var d=this._velocity,g=d.length,h=this.dimension-
1;0<=h;--h)if(d[--g])return!1;return!0};b.jump=function(d){var e=this.lastT(),g=this.dimension;if(!(d<e||arguments.length!==g+1)){var h=this._state,f=this._velocity,c=h.length-this.dimension,b=this.bounds,a=b[0];b=b[1];this._time.push(e,d);for(e=0;2>e;++e)for(var r=0;r<g;++r)h.push(h[c++]),f.push(0);this._time.push(d);for(r=g;0<r;--r)h.push(n(a[r-1],b[r-1],arguments[r])),f.push(0)}};b.push=function(d){var e=this.lastT(),g=this.dimension;if(!(d<e||arguments.length!==g+1)){var h=this._state,f=this._velocity,
c=h.length-this.dimension,b=d-e,a=this.bounds;e=a[0];a=a[1];b=1E-6<b?1/b:0;for(this._time.push(d);0<g;--g){var r=n(e[g-1],a[g-1],arguments[g]);h.push(r);f.push((r-h[c++])*b)}}};b.set=function(d){var e=this.dimension;if(!(d<this.lastT()||arguments.length!==e+1)){var g=this._state,h=this._velocity,f=this.bounds,c=f[0];f=f[1];for(this._time.push(d);0<e;--e)g.push(n(c[e-1],f[e-1],arguments[e])),h.push(0)}};b.move=function(d){var e=this.lastT(),g=this.dimension;if(!(d<=e||arguments.length!==g+1)){var h=
this._state,f=this._velocity,c=h.length-this.dimension,b=this.bounds,a=b[0];b=b[1];e=d-e;e=1E-6<e?1/e:0;for(this._time.push(d);0<g;--g){var r=arguments[g];h.push(n(a[g-1],b[g-1],h[c++]+r));f.push(r*e)}}};b.idle=function(d){var e=this.lastT();if(!(d<e)){var g=this.dimension,h=this._state,f=this._velocity,c=h.length-g,b=this.bounds,a=b[0];b=b[1];e=d-e;this._time.push(d);for(d=g-1;0<=d;--d)h.push(n(a[d],b[d],h[c]+e*f[c])),f.push(0),c+=1}}},{"binary-search-bounds":43,"cubic-hermite":81}],97:[function(b,
p,l){function n(c,a,d,f,e,g){this._color=c;this.key=a;this.value=d;this.left=f;this.right=e;this._count=g}function g(c){return new n(c._color,c.key,c.value,c.left,c.right,c._count)}function k(c,a){return new n(c,a.key,a.value,a.left,a.right,a._count)}function d(c){c._count=1+(c.left?c.left._count:0)+(c.right?c.right._count:0)}function h(c,a){this._compare=c;this.root=a}function e(c,a){if(a.left){var d=e(c,a.left);if(d)return d}if(d=c(a.key,a.value))return d;if(a.right)return e(c,a.right)}function u(c,
a,d,f){if(0>=a(c,f.key)){if(f.left){var e=u(c,a,d,f.left);if(e)return e}if(e=d(f.key,f.value))return e}if(f.right)return u(c,a,d,f.right)}function m(c,a,d,f,e){var g=d(c,e.key),h=d(a,e.key);if(0>=g&&(e.left&&(g=m(c,a,d,f,e.left))||0<h&&(g=f(e.key,e.value))))return g;if(0<h&&e.right)return m(c,a,d,f,e.right)}function t(c,a){this.tree=c;this._stack=a}function f(c,a){c.key=a.key;c.value=a.value;c.left=a.left;c.right=a.right;c._color=a._color;c._count=a._count}function c(c,a){return c<a?-1:c>a?1:0}p.exports=
function(d){return new h(d||c,null)};b=h.prototype;Object.defineProperty(b,"keys",{get:function(){var c=[];this.forEach(function(a,d){c.push(a)});return c}});Object.defineProperty(b,"values",{get:function(){var c=[];this.forEach(function(a,d){c.push(d)});return c}});Object.defineProperty(b,"length",{get:function(){return this.root?this.root._count:0}});b.insert=function(c,a){for(var f=this._compare,e=this.root,g=[],b=[];e;){var q=f(c,e.key);g.push(e);b.push(q);e=0>=q?e.left:e.right}g.push(new n(0,
c,a,null,null,1));for(c=g.length-2;0<=c;--c)e=g[c],g[c]=0>=b[c]?new n(e._color,e.key,e.value,g[c+1],e.right,e._count+1):new n(e._color,e.key,e.value,e.left,g[c+1],e._count+1);for(c=g.length-1;1<c;--c){b=g[c-1];e=g[c];if(1===b._color||1===e._color)break;a=g[c-2];if(a.left===b)if(b.left===e)if((q=a.right)&&0===q._color)b._color=1,a.right=k(1,q),a._color=0,--c;else{a._color=0;a.left=b.right;b._color=1;b.right=a;g[c-2]=b;g[c-1]=e;d(a);d(b);3<=c&&(c=g[c-3],c.left===a?c.left=b:c.right=b);break}else if((q=
a.right)&&0===q._color)b._color=1,a.right=k(1,q),a._color=0,--c;else{b.right=e.left;a._color=0;a.left=e.right;e._color=1;e.left=b;e.right=a;g[c-2]=e;g[c-1]=b;d(a);d(b);d(e);3<=c&&(c=g[c-3],c.left===a?c.left=e:c.right=e);break}else if(b.right===e)if((q=a.left)&&0===q._color)b._color=1,a.left=k(1,q),a._color=0,--c;else{a._color=0;a.right=b.left;b._color=1;b.left=a;g[c-2]=b;g[c-1]=e;d(a);d(b);3<=c&&(c=g[c-3],c.right===a?c.right=b:c.left=b);break}else if((q=a.left)&&0===q._color)b._color=1,a.left=k(1,
q),a._color=0,--c;else{b.left=e.right;a._color=0;a.right=e.left;e._color=1;e.right=b;e.left=a;g[c-2]=e;g[c-1]=b;d(a);d(b);d(e);3<=c&&(c=g[c-3],c.right===a?c.right=e:c.left=e);break}}g[0]._color=1;return new h(f,g[0])};b.forEach=function(c,a,d){if(this.root)switch(arguments.length){case 1:return e(c,this.root);case 2:return u(a,this._compare,c,this.root);case 3:if(!(0<=this._compare(a,d)))return m(a,d,this._compare,c,this.root)}};Object.defineProperty(b,"begin",{get:function(){for(var c=[],a=this.root;a;)c.push(a),
a=a.left;return new t(this,c)}});Object.defineProperty(b,"end",{get:function(){for(var c=[],a=this.root;a;)c.push(a),a=a.right;return new t(this,c)}});b.at=function(c){if(0>c)return new t(this,[]);for(var a=this.root,d=[];;){d.push(a);if(a.left){if(c<a.left._count){a=a.left;continue}c-=a.left._count}if(!c)return new t(this,d);--c;if(a.right){if(c>=a.right._count)break;a=a.right}else break}return new t(this,[])};b.ge=function(c){for(var a=this._compare,d=this.root,f=[],e=0;d;){var g=a(c,d.key);f.push(d);
0>=g&&(e=f.length);d=0>=g?d.left:d.right}f.length=e;return new t(this,f)};b.gt=function(c){for(var a=this._compare,d=this.root,f=[],e=0;d;){var g=a(c,d.key);f.push(d);0>g&&(e=f.length);d=0>g?d.left:d.right}f.length=e;return new t(this,f)};b.lt=function(c){for(var a=this._compare,d=this.root,f=[],e=0;d;){var g=a(c,d.key);f.push(d);0<g&&(e=f.length);d=0>=g?d.left:d.right}f.length=e;return new t(this,f)};b.le=function(c){for(var a=this._compare,d=this.root,f=[],e=0;d;){var g=a(c,d.key);f.push(d);0<=
g&&(e=f.length);d=0>g?d.left:d.right}f.length=e;return new t(this,f)};b.find=function(c){for(var a=this._compare,d=this.root,f=[];d;){var e=a(c,d.key);f.push(d);if(0===e)return new t(this,f);d=0>=e?d.left:d.right}return new t(this,[])};b.remove=function(c){return(c=this.find(c))?c.remove():this};b.get=function(c){for(var a=this._compare,d=this.root;d;){var f=a(c,d.key);if(0===f)return d.value;d=0>=f?d.left:d.right}};b=t.prototype;Object.defineProperty(b,"valid",{get:function(){return 0<this._stack.length}});
Object.defineProperty(b,"node",{get:function(){return 0<this._stack.length?this._stack[this._stack.length-1]:null},enumerable:!0});b.clone=function(){return new t(this.tree,this._stack.slice())};b.remove=function(){var c=this._stack;if(0===c.length)return this.tree;var a=Array(c.length),e=c[c.length-1];a[a.length-1]=new n(e._color,e.key,e.value,e.left,e.right,e._count);for(var b=c.length-2;0<=b;--b)e=c[b],a[b]=e.left===c[b+1]?new n(e._color,e.key,e.value,a[b+1],e.right,e._count):new n(e._color,e.key,
e.value,e.left,a[b+1],e._count);e=a[a.length-1];if(e.left&&e.right){c=a.length;for(e=e.left;e.right;)a.push(e),e=e.right;b=a[c-1];a.push(new n(e._color,b.key,b.value,e.left,e.right,e._count));a[c-1].key=e.key;a[c-1].value=e.value;for(b=a.length-2;b>=c;--b)e=a[b],a[b]=new n(e._color,e.key,e.value,e.left,a[b+1],e._count);a[c-1].left=a[c]}e=a[a.length-1];if(0===e._color)for(b=a[a.length-2],b.left===e?b.left=null:b.right===e&&(b.right=null),a.pop(),b=0;b<a.length;++b)a[b]._count--;else if(e.left||e.right)for(e.left?
f(e,e.left):e.right&&f(e,e.right),e._color=1,b=0;b<a.length-1;++b)a[b]._count--;else{if(1===a.length)return new h(this.tree._compare,null);for(b=0;b<a.length;++b)a[b]._count--;b=a[a.length-2];for(var m,t,u,D=a.length-1;0<=D;--D){c=a[D];if(0===D){c._color=1;break}m=a[D-1];if(m.left===c){t=m.right;if(t.right&&0===t.right._color){t=m.right=g(t);u=t.right=g(t.right);m.right=t.left;t.left=m;t.right=u;t._color=m._color;c._color=1;m._color=1;u._color=1;d(m);d(t);if(1<D){var z=a[D-2];z.left===m?z.left=t:
z.right=t}a[D-1]=t;break}else if(t.left&&0===t.left._color){t=m.right=g(t);u=t.left=g(t.left);m.right=u.left;t.left=u.right;u.left=m;u.right=t;u._color=m._color;m._color=1;t._color=1;c._color=1;d(m);d(t);d(u);1<D&&(z=a[D-2],z.left===m?z.left=u:z.right=u);a[D-1]=u;break}if(1===t._color)if(0===m._color){m._color=1;m.right=k(0,t);break}else m.right=k(0,t);else t=g(t),m.right=t.left,t.left=m,t._color=m._color,m._color=0,d(m),d(t),1<D&&(z=a[D-2],z.left===m?z.left=t:z.right=t),a[D-1]=t,a[D]=m,D+1<a.length?
a[D+1]=c:a.push(c),D+=2}else{t=m.left;if(t.left&&0===t.left._color){t=m.left=g(t);u=t.left=g(t.left);m.left=t.right;t.right=m;t.left=u;t._color=m._color;c._color=1;m._color=1;u._color=1;d(m);d(t);1<D&&(z=a[D-2],z.right===m?z.right=t:z.left=t);a[D-1]=t;break}else if(t.right&&0===t.right._color){t=m.left=g(t);u=t.right=g(t.right);m.left=u.right;t.right=u.left;u.right=m;u.left=t;u._color=m._color;m._color=1;t._color=1;c._color=1;d(m);d(t);d(u);1<D&&(z=a[D-2],z.right===m?z.right=u:z.left=u);a[D-1]=u;
break}if(1===t._color)if(0===m._color){m._color=1;m.left=k(0,t);break}else m.left=k(0,t);else t=g(t),m.left=t.right,t.right=m,t._color=m._color,m._color=0,d(m),d(t),1<D&&(z=a[D-2],z.right===m?z.right=t:z.left=t),a[D-1]=t,a[D]=m,D+1<a.length?a[D+1]=c:a.push(c),D+=2}}b.left===e?b.left=null:b.right=null}return new h(this.tree._compare,a[0])};Object.defineProperty(b,"key",{get:function(){if(0<this._stack.length)return this._stack[this._stack.length-1].key},enumerable:!0});Object.defineProperty(b,"value",
{get:function(){if(0<this._stack.length)return this._stack[this._stack.length-1].value},enumerable:!0});Object.defineProperty(b,"index",{get:function(){var c=0,a=this._stack;if(0===a.length)return(c=this.tree.root)?c._count:0;a[a.length-1].left&&(c=a[a.length-1].left._count);for(var d=a.length-2;0<=d;--d)a[d+1]===a[d].right&&(++c,a[d].left&&(c+=a[d].left._count));return c},enumerable:!0});b.next=function(){var c=this._stack;if(0!==c.length){var a=c[c.length-1];if(a.right)for(a=a.right;a;)c.push(a),
a=a.left;else for(c.pop();0<c.length&&c[c.length-1].right===a;)a=c[c.length-1],c.pop()}};Object.defineProperty(b,"hasNext",{get:function(){var c=this._stack;if(0===c.length)return!1;if(c[c.length-1].right)return!0;for(var a=c.length-1;0<a;--a)if(c[a-1].left===c[a])return!0;return!1}});b.update=function(c){var a=this._stack;if(0===a.length)throw Error("Can't update empty node!");var d=Array(a.length),f=a[a.length-1];d[d.length-1]=new n(f._color,f.key,c,f.left,f.right,f._count);for(c=a.length-2;0<=
c;--c)f=a[c],d[c]=f.left===a[c+1]?new n(f._color,f.key,f.value,d[c+1],f.right,f._count):new n(f._color,f.key,f.value,f.left,d[c+1],f._count);return new h(this.tree._compare,d[0])};b.prev=function(){var c=this._stack;if(0!==c.length){var a=c[c.length-1];if(a.left)for(a=a.left;a;)c.push(a),a=a.right;else for(c.pop();0<c.length&&c[c.length-1].left===a;)a=c[c.length-1],c.pop()}};Object.defineProperty(b,"hasPrev",{get:function(){var c=this._stack;if(0===c.length)return!1;if(c[c.length-1].left)return!0;
for(var a=c.length-1;0<a;--a)if(c[a-1].right===c[a])return!0;return!1}})},{}],98:[function(b,p,l){function n(d){if(0>d)return Number("0/0");for(var g=k[0],e=k.length-1;0<e;--e)g+=k[e]/(d+e);e=d+4.7421875+.5;return.5*Math.log(2*Math.PI)+(d+.5)*Math.log(e)-e+Math.log(g)-Math.log(d)}var g=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9.984369578019572E-6,1.5056327351493116E-7],k=[.9999999999999971,57.15623566586292,
-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];p.exports=function e(b){if(.5>b)return Math.PI/(Math.sin(Math.PI*b)*e(1-b));if(100<b)return Math.exp(n(b));--b;for(var h=g[0],k=1;9>k;k++)h+=g[k]/(b+k);k=b+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(k,b+.5)*Math.exp(-k)*h};p.exports.log=
n},{}],99:[function(b,p,l){p.exports=function(b,g){if("string"!==typeof b)throw new TypeError("must specify type string");g=g||{};if("undefined"===typeof document&&!g.canvas)return null;var k=g.canvas||document.createElement("canvas");"number"===typeof g.width&&(k.width=g.width);"number"===typeof g.height&&(k.height=g.height);var d;try{var h=[b];0===b.indexOf("webgl")&&h.push("experimental-"+b);for(b=0;b<h.length;b++)if(d=k.getContext(h[b],g))return d}catch(e){d=null}return d||null}},{}],100:[function(b,
p,l){function n(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a}function g(a){this.gl=a;this.pixelRatio=1;this.bounds=[[-10,-10,-10],[10,10,10]];this.ticks=[[],[],[]];this.autoTicks=!0;this.tickSpacing=[1,1,1];this.tickEnable=[!0,!0,!0];this.tickFont=["sans-serif","sans-serif","sans-serif"];this.tickSize=[12,12,12];this.tickAngle=[0,0,0];this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.tickPad=[10,10,10];this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]};this.labels=["x","y","z"];this.labelEnable=
[!0,!0,!0];this.labelFont="sans-serif";this.labelSize=[20,20,20];this.labelAngle=[0,0,0];this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.labelPad=[10,10,10];this.lineEnable=[!0,!0,!0];this.lineMirror=[!1,!1,!1];this.lineWidth=[1,1,1];this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.lineTickEnable=[!0,!0,!0];this.lineTickMirror=[!1,!1,!1];this.lineTickLength=[0,0,0];this.lineTickWidth=[1,1,1];this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.gridEnable=[!0,!0,!0];this.gridWidth=[1,1,
1];this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.zeroEnable=[!0,!0,!0];this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.zeroLineWidth=[2,2,2];this.backgroundEnable=[!1,!1,!1];this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]];this._firstInit=!0;this._lines=this._text=null;this._background=e(a)}function k(){this.primalOffset=[0,0,0];this.primalMinor=[0,0,0];this.mirrorOffset=[0,0,0];this.mirrorMinor=[0,0,0]}p.exports=function(a,c){a=new g(a);a.update(c);return a};var d=b("./lib/text.js"),
h=b("./lib/lines.js"),e=b("./lib/background.js"),u=b("./lib/cube.js"),m=b("./lib/ticks.js"),t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);b=g.prototype;b.update=function(a){function c(c,d,f){if(f in a){var e=a[f],g=this[f],b;(c?Array.isArray(e)&&Array.isArray(e[0]):Array.isArray(e))?this[f]=b=[d(e[0]),d(e[1]),d(e[2])]:this[f]=b=[d(e),d(e),d(e)];for(c=0;3>c;++c)if(b[c]!==g[c])return!0}return!1}a=a||{};var f=c.bind(this,!1,Number),e=c.bind(this,!1,Boolean),g=c.bind(this,!1,String),b=c.bind(this,
!0,function(a){if(Array.isArray(a)){if(3===a.length)return[+a[0],+a[1],+a[2],1];if(4===a.length)return[+a[0],+a[1],+a[2],+a[3]]}return[0,0,0,1]}),r=!1,q=!1;if("bounds"in a){var k=a.bounds,v=0;for(;2>v;++v)for(var t=0;3>t;++t)k[v][t]!==this.bounds[v][t]&&(q=!0),this.bounds[v][t]=k[v][t]}if("ticks"in a){var n=a.ticks;r=!0;this.autoTicks=!1;for(v=0;3>v;++v)this.tickSpacing[v]=0}else f("tickSpacing")&&(q=this.autoTicks=!0);this._firstInit&&("ticks"in a||"tickSpacing"in a||(this.autoTicks=!0),r=q=!0,this._firstInit=
!1);q&&this.autoTicks&&(n=m.create(this.bounds,this.tickSpacing),r=!0);if(r){for(v=0;3>v;++v)n[v].sort(function(a,c){return a.x-c.x});m.equal(n,this.ticks)?r=!1:this.ticks=n}e("tickEnable");g("tickFont")&&(r=!0);f("tickSize");f("tickAngle");f("tickPad");b("tickColor");n=g("labels");g("labelFont")&&(n=!0);e("labelEnable");f("labelSize");f("labelPad");b("labelColor");e("lineEnable");e("lineMirror");f("lineWidth");b("lineColor");e("lineTickEnable");e("lineTickMirror");f("lineTickLength");f("lineTickWidth");
b("lineTickColor");e("gridEnable");f("gridWidth");b("gridColor");e("zeroEnable");b("zeroLineColor");f("zeroLineWidth");e("backgroundEnable");b("backgroundColor");this._text?this._text&&(n||r)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=d(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont);this._lines&&r&&(this._lines.dispose(),this._lines=null);this._lines||(this._lines=h(this.gl,this.bounds,this.ticks))};var f=[new k,new k,new k],
c=[0,0,0],q={model:t,view:t,projection:t};b.isOpaque=function(){return!0};b.isTransparent=function(){return!1};b.drawTransparent=function(a){};var a=[0,0,0],r=[0,0,0],v=[0,0,0];b.draw=function(d){d=d||q;var e=this.gl,g=d.model||t,b=d.view||t,h=d.projection||t;d=this.bounds;var k=u(g,b,h,d),m=k.cubeEdges,x=k.axis;e=this.pixelRatio*(h[3]*b[12]+h[7]*b[13]+h[11]*b[14]+h[15]*b[15])/e.drawingBufferHeight;for(k=0;3>k;++k)this.lastCubeProps.cubeEdges[k]=m[k],this.lastCubeProps.axis[k]=x[k];for(k=0;3>k;++k){var w=
f[k],l=k,E=this.bounds,p=x,K=w.primalOffset,H=w.primalMinor,L=w.mirrorOffset;w=w.mirrorMinor;for(var N=m[l],M=0;3>M;++M)if(l!==M){var Z=K,Q=L,P=H,U=w;N&1<<M&&(Z=L,Q=K,P=w,U=H);Z[M]=E[0][M];Q[M]=E[1][M];0<p[M]?(P[M]=-1,U[M]=0):(P[M]=0,U[M]=1)}}for(k=0;3>k;++k)c[k]=this.backgroundEnable[k]?x[k]:0;this._background.draw(g,b,h,d,c,this.backgroundColor);this._lines.bind(g,b,h,this);for(k=0;3>k;++k){l=[0,0,0];l[k]=0<x[k]?d[1][k]:d[0][k];for(m=0;2>m;++m)E=(k+1+m)%3,p=(k+1+(m^1))%3,this.gridEnable[E]&&this._lines.drawGrid(E,
p,this.bounds,l,this.gridColor[E],this.gridWidth[E]*this.pixelRatio);for(m=0;2>m;++m)E=(k+1+m)%3,p=(k+1+(m^1))%3,this.zeroEnable[p]&&0>=d[0][p]&&0<=d[1][p]&&this._lines.drawZero(E,p,this.bounds,l,this.zeroLineColor[p],this.zeroLineWidth[p]*this.pixelRatio)}for(k=0;3>k;++k){this.lineEnable[k]&&this._lines.drawAxisLine(k,this.bounds,f[k].primalOffset,this.lineColor[k],this.lineWidth[k]*this.pixelRatio);this.lineMirror[k]&&this._lines.drawAxisLine(k,this.bounds,f[k].mirrorOffset,this.lineColor[k],this.lineWidth[k]*
this.pixelRatio);x=n(a,f[k].primalMinor);l=n(r,f[k].mirrorMinor);E=this.lineTickLength;for(m=0;3>m;++m)p=e/g[5*m],x[m]=x[m]*E[m]*p,l[m]=l[m]*E[m]*p;this.lineTickEnable[k]&&this._lines.drawAxisTicks(k,f[k].primalOffset,x,this.lineTickColor[k],this.lineTickWidth[k]*this.pixelRatio);this.lineTickMirror[k]&&this._lines.drawAxisTicks(k,f[k].mirrorOffset,l,this.lineTickColor[k],this.lineTickWidth[k]*this.pixelRatio)}this._lines.unbind();this._text.bind(g,b,h,this.pixelRatio);for(k=0;3>k;++k){b=f[k].primalMinor;
h=n(v,f[k].primalOffset);for(m=0;3>m;++m)this.lineTickEnable[k]&&(h[m]+=e*b[m]*Math.max(this.lineTickLength[m],0)/g[5*m]);if(this.tickEnable[k]){for(m=0;3>m;++m)h[m]+=e*b[m]*this.tickPad[m]/g[5*m];this._text.drawTicks(k,this.tickSize[k],this.tickAngle[k],h,this.tickColor[k])}if(this.labelEnable[k]){for(m=0;3>m;++m)h[m]+=e*b[m]*this.labelPad[m]/g[5*m];h[k]+=.5*(d[0][k]+d[1][k]);this._text.drawLabel(k,this.labelSize[k],this.labelAngle[k],h,this.labelColor[k])}}this._text.unbind()};b.dispose=function(){this._text.dispose();
this._lines.dispose();this._background.dispose();this.gl=this._background=this._text=this._lines=null}},{"./lib/background.js":101,"./lib/cube.js":102,"./lib/lines.js":103,"./lib/text.js":105,"./lib/ticks.js":106}],101:[function(b,p,l){function n(d,e,g,b){this.gl=d;this.buffer=e;this.vao=g;this.shader=b}p.exports=function(b){for(var e=[],h=[],m=0,t=0;3>t;++t)for(var f=(t+1)%3,c=(t+2)%3,q=[0,0,0],a=[0,0,0],r=-1;1>=r;r+=2){h.push(m,m+2,m+1,m+1,m+2,m+3);q[t]=r;a[t]=r;for(var v=-1;1>=v;v+=2){q[f]=v;for(var x=
-1;1>=x;x+=2)q[c]=x,e.push(q[0],q[1],q[2],a[0],a[1],a[2]),m+=1}v=f;f=c;c=v}e=g(b,new Float32Array(e));h=g(b,new Uint16Array(h),b.ELEMENT_ARRAY_BUFFER);h=k(b,[{buffer:e,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:e,type:b.FLOAT,size:3,offset:12,stride:24}],h);m=d(b);m.attributes.position.location=0;m.attributes.normal.location=1;return new n(b,e,h,m)};var g=b("gl-buffer"),k=b("gl-vao"),d=b("./shaders").bg;b=n.prototype;b.draw=function(d,e,g,b,k,f){for(var c=!1,h=0;3>h;++h)c=c||k[h];c&&(c=this.gl,
c.enable(c.POLYGON_OFFSET_FILL),c.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:d,view:e,projection:g,bounds:b,enable:k,colors:f},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),c.disable(c.POLYGON_OFFSET_FILL))};b.dispose=function(){this.vao.dispose();this.buffer.dispose();this.shader.dispose()}},{"./shaders":104,"gl-buffer":108,"gl-vao":157}],102:[function(b,p,l){p.exports=function(b,v,x,C){g(h,v,b);g(h,x,h);for(v=b=0;2>v;++v)for(m[2]=C[v][2],x=0;2>x;++x){m[1]=
C[x][1];for(var r=0;2>r;++r){m[0]=C[r][0];for(var D=e[b],l=m,p=h,B=0;4>B;++B){D[B]=p[12+B];for(var y=0;3>y;++y)D[B]+=l[y]*p[4*y+B]}b+=1}}C=-1;for(v=0;8>v;++v){b=e[v][3];for(x=0;3>x;++x)u[v][x]=e[v][x]/b;0>b&&(0>C?C=v:u[v][2]<u[C][2]&&(C=v))}if(0>C)for(v=C=0;3>v;++v){x=(v+2)%3;b=(v+1)%3;D=r=-1;for(l=0;2>l;++l)p=l<<v,B=p+(l<<x)+(1-l<<b),y=p+(1-l<<x)+(l<<b),0>d(u[p],u[B],u[y],t)||(l?r=1:D=1);if(!(0>r||0>D))for(l=0;2>l;++l){p=l<<v;B=p+(l<<x)+(1-l<<b);y=p+(1-l<<x)+(l<<b);a:{p=[e[p],e[B],e[y],e[p+(1<<x)+
(1<<b)]];for(y=0;y<f.length;++y)if(p=k.positive(p,f[y]),3>p.length){p=0;break a}y=p[0];B=y[0]/y[3];var w=y[1]/y[3],G=0;for(y=1;y+1<p.length;++y){var E=p[y],J=p[y+1];G+=Math.abs((E[0]/E[3]-B)*(J[1]/J[3]-w)-(E[1]/E[3]-w)*(J[0]/J[3]-B))}p=G}l?r=p:D=p}D>r&&(C|=1<<v)}x=7^C;l=-1;for(v=0;8>v;++v)v!==C&&v!==x&&(0>l?l=v:u[l][1]>u[v][1]&&(l=v));r=-1;for(v=0;3>v;++v)p=l^1<<v,p!==C&&p!==x&&(0>r&&(r=p),b=u[p],b[0]<u[r][0]&&(r=p));D=-1;for(v=0;3>v;++v)p=l^1<<v,p!==C&&p!==x&&p!==r&&(0>D&&(D=p),b=u[p],b[0]>u[D][0]&&
(D=p));b=c;b[0]=b[1]=b[2]=0;b[n.log2(r^l)]=l&r;b[n.log2(l^D)]=l&D;v=D^7;v===C||v===x?(v=r^7,b[n.log2(D^v)]=v&D):b[n.log2(r^v)]=v&r;b=q;for(v=0;3>v;++v)b[v]=C&1<<v?-1:1;return a};var n=b("bit-twiddle"),g=b("gl-mat4/multiply");b("gl-mat4/invert");var k=b("split-polygon"),d=b("robust-orientation"),h=Array(16),e=Array(8),u=Array(8),m=Array(3),t=[0,0,0];(function(){for(var a=0;8>a;++a)e[a]=[1,1,1,1],u[a]=[1,1,1]})();var f=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]],c=[1,
1,1],q=[0,0,0],a={cubeEdges:c,axis:q}},{"bit-twiddle":44,"gl-mat4/invert":123,"gl-mat4/multiply":125,"robust-orientation":235,"split-polygon":252}],103:[function(b,p,l){function n(c){c[0]=c[1]=c[2]=0;return c}function g(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];return c}function k(c,a,d,f,e,g,b,h){this.gl=c;this.vertBuffer=a;this.vao=d;this.shader=f;this.tickCount=e;this.tickOffset=g;this.gridCount=b;this.gridOffset=h}p.exports=function(c,a,f){var g=[];a=[0,0,0];var b=[0,0,0],r=[0,0,0],q=[0,0,0];g.push(0,
0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var m=0;3>m;++m){for(var t=g.length/3|0,n=0;n<f[m].length;++n){var u=+f[m][n].x;g.push(u,0,1,u,1,1,u,0,-1,u,0,-1,u,1,1,u,1,-1)}u=g.length/3|0;a[m]=t;b[m]=u-t;t=g.length/3|0;for(n=0;n<f[m].length;++n)u=+f[m][n].x,g.push(u,0,1,u,1,1,u,0,-1,u,0,-1,u,1,1,u,1,-1);u=g.length/3|0;r[m]=t;q[m]=u-t}f=d(c,new Float32Array(g));g=h(c,[{buffer:f,type:c.FLOAT,size:3,stride:0,offset:0}]);m=e(c);m.attributes.position.location=0;return new k(c,f,g,m,b,a,q,r)};var d=b("gl-buffer"),
h=b("gl-vao"),e=b("./shaders").line,u=[0,0,0],m=[0,0,0],t=[0,0,0],f=[0,0,0],c=[1,1];b=k.prototype;b.bind=function(d,a,f){this.shader.bind();this.shader.uniforms.model=d;this.shader.uniforms.view=a;this.shader.uniforms.projection=f;c[0]=this.gl.drawingBufferWidth;c[1]=this.gl.drawingBufferHeight;this.shader.uniforms.screenShape=c;this.vao.bind()};b.unbind=function(){this.vao.unbind()};b.drawAxisLine=function(c,a,d,e,b){var h=n(m);this.shader.uniforms.majorAxis=m;h[c]=a[1][c]-a[0][c];this.shader.uniforms.minorAxis=
h;d=g(f,d);d[c]+=a[0][c];this.shader.uniforms.offset=d;this.shader.uniforms.lineWidth=b;this.shader.uniforms.color=e;a=n(t);a[(c+2)%3]=1;this.shader.uniforms.screenAxis=a;this.vao.draw(this.gl.TRIANGLES,6);a=n(t);a[(c+1)%3]=1;this.shader.uniforms.screenAxis=a;this.vao.draw(this.gl.TRIANGLES,6)};b.drawAxisTicks=function(c,a,d,f,e){if(this.tickCount[c]){var g=n(u);g[c]=1;this.shader.uniforms.majorAxis=g;this.shader.uniforms.offset=a;this.shader.uniforms.minorAxis=d;this.shader.uniforms.color=f;this.shader.uniforms.lineWidth=
e;a=n(t);a[c]=1;this.shader.uniforms.screenAxis=a;this.vao.draw(this.gl.TRIANGLES,this.tickCount[c],this.tickOffset[c])}};b.drawGrid=function(c,a,d,e,b,h){if(this.gridCount[c]){var r=n(m);r[a]=d[1][a]-d[0][a];this.shader.uniforms.minorAxis=r;e=g(f,e);e[a]+=d[0][a];this.shader.uniforms.offset=e;a=n(u);a[c]=1;this.shader.uniforms.majorAxis=a;a=n(t);a[c]=1;this.shader.uniforms.screenAxis=a;this.shader.uniforms.lineWidth=h;this.shader.uniforms.color=b;this.vao.draw(this.gl.TRIANGLES,this.gridCount[c],
this.gridOffset[c])}};b.drawZero=function(c,a,d,e,b,h){var r=n(m);this.shader.uniforms.majorAxis=r;r[c]=d[1][c]-d[0][c];this.shader.uniforms.minorAxis=r;e=g(f,e);e[c]+=d[0][c];this.shader.uniforms.offset=e;c=n(t);c[a]=1;this.shader.uniforms.screenAxis=c;this.shader.uniforms.lineWidth=h;this.shader.uniforms.color=b;this.vao.draw(this.gl.TRIANGLES,6)};b.dispose=function(){this.vao.dispose();this.vertBuffer.dispose();this.shader.dispose()}},{"./shaders":104,"gl-buffer":108,"gl-vao":157}],104:[function(b,
p,l){p=b("glslify");var n=b("gl-shader"),g=p(["#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),
k=p(["precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);l.line=function(d){return n(d,g,k,null,[{name:"position",type:"vec3"}])};var d=p(["#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}"]),
h=p(["precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);l.text=function(e){return n(e,d,h,null,[{name:"position",type:"vec3"}])};var e=p(["#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}"]),
u=p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);l.bg=function(d){return n(d,e,u,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":144,glslify:173}],105:[function(b,p,l){(function(n){function g(c,d,a,f){this.gl=c;this.shader=d;this.buffer=a;this.vao=
f;this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}p.exports=function(c,f,a,b,h,m){var r=k(c),q=d(c,[{buffer:r,size:3}]),t=e(c);t.attributes.position.location=0;c=new g(c,t,r,q);c.update(f,a,b,h,m);return c};var k=b("gl-buffer"),d=b("gl-vao"),h=b("vectorize-text"),e=b("./shaders").text;n=window||n.global||{};var u=n.__TEXT_CACHE||{};n.__TEXT_CACHE={};n=g.prototype;var m=[0,0];n.bind=function(c,d,a,f){this.vao.bind();this.shader.bind();var e=this.shader.uniforms;e.model=c;e.view=
d;e.projection=a;e.pixelScale=f;m[0]=this.gl.drawingBufferWidth;m[1]=this.gl.drawingBufferHeight;this.shader.uniforms.resolution=m};n.unbind=function(){this.vao.unbind()};n.update=function(c,d,a,f,e){function g(a,c,d,f){var e=u[d];e||(e=u[d]={});var g=e[c];if(!g){g=e;d={triangles:!0,font:d,textAlign:"center",textBaseline:"middle"};try{var r=h(c,d)}catch(Z){console.warn("error vectorizing text:",Z),r={cells:[],positions:[]}}g=g[c]=r}c=(f||12)/12;f=g.positions;g=g.cells;r=0;for(d=g.length;r<d;++r){e=
g[r];for(var k=2;0<=k;--k){var q=f[e[k]];b.push(c*q[0],-c*q[1],a)}}}for(var b=[],r=[0,0,0],k=[0,0,0],q=[0,0,0],m=[0,0,0],t=0;3>t;++t){q[t]=b.length/3|0;g(.5*(c[0][t]+c[1][t]),d[t],a);m[t]=(b.length/3|0)-q[t];r[t]=b.length/3|0;for(var v=0;v<f[t].length;++v)f[t][v].text&&g(f[t][v].x,f[t][v].text,f[t][v].font||e,f[t][v].fontSize||12);k[t]=(b.length/3|0)-r[t]}this.buffer.update(b);this.tickOffset=r;this.tickCount=k;this.labelOffset=q;this.labelCount=m};var t=[0,0,0];n.drawTicks=function(c,d,a,f,e){this.tickCount[c]&&
(t[0]=t[1]=t[2]=0,t[c]=1,this.shader.uniforms.axis=t,this.shader.uniforms.color=e,this.shader.uniforms.angle=a,this.shader.uniforms.scale=d,this.shader.uniforms.offset=f,this.vao.draw(this.gl.TRIANGLES,this.tickCount[c],this.tickOffset[c]))};var f=[0,0,0];n.drawLabel=function(c,d,a,e,g){this.labelCount[c]&&(this.shader.uniforms.axis=f,this.shader.uniforms.color=g,this.shader.uniforms.angle=a,this.shader.uniforms.scale=d,this.shader.uniforms.offset=e,this.vao.draw(this.gl.TRIANGLES,this.labelCount[c],
this.labelOffset[c]))};n.dispose=function(){this.shader.dispose();this.vao.dispose();this.buffer.dispose()}}).call(this,b("_process"))},{"./shaders":104,_process:8,"gl-buffer":108,"gl-vao":157,"vectorize-text":265}],106:[function(b,p,l){function n(g,b){var d=g+"",h=d.indexOf("."),e=0;0<=h&&(e=d.length-h-1);d=Math.pow(10,e);g=Math.round(g*b*d);b=g+"";if(0<=b.indexOf("e"))return b;b=g/d;d=g%d;0>g?(b=-Math.ceil(b)|0,d=-d|0):(b=Math.floor(b)|0,d|=0);b=""+b;0>g&&(b="-"+b);if(e){for(d=""+d;d.length<e;)d=
"0"+d;return b+"."+d}return b}l.create=function(g,b){for(var d=[],h=0;3>h;++h){for(var e=[],k=0;k*b[h]<=g[1][h];++k)e.push({x:k*b[h],text:n(b[h],k)});for(k=-1;k*b[h]>=g[0][h];--k)e.push({x:k*b[h],text:n(b[h],k)});d.push(e)}return d};l.equal=function(g,b){for(var d=0;3>d;++d){if(g[d].length!==b[d].length)return!1;for(var h=0;h<g[d].length;++h){var e=g[d][h],k=b[d][h];if(e.x!==k.x||e.text!==k.text||e.font!==k.font||e.fontColor!==k.fontColor||e.fontSize!==k.fontSize||e.dx!==k.dx||e.dy!==k.dy)return!1}}return!0}},
{}],107:[function(b,p,l){function n(a,c,d){this.lo=a;this.hi=c;this.pixelsPerDataUnit=d}p.exports=function(b,v,n,C,A){var r=v.model||m,x=v.view||m;v=v.projection||m;b=b.bounds;A=A||d(r,x,v,b);A=A.axis;h(t,x,r);h(t,v,t);r=q;for(x=0;3>x;++x)r[x].lo=Infinity,r[x].hi=-Infinity,r[x].pixelsPerDataUnit=Infinity;v=g(e(t,t));e(t,t);for(var l=0;3>l;++l){var B=(l+1)%3,y=(l+2)%3,w=a;x=0;a:for(;2>x;++x){var G=[];if(0>A[l]!==!!x){w[l]=b[x][l];for(var E=0;2>E;++E){w[B]=b[E^x][B];for(var p=0;2>p;++p)w[y]=b[p^E^x][y],
G.push(w.slice())}for(E=0;E<v.length;++E){if(0===G.length)continue a;G=k.positive(G,v[E])}for(E=0;E<G.length;++E){y=G[E];p=a;var K=t;for(var H=y,L=n,N=C,M=0;3>M;++M){for(var Z=f,Q=c,P=0;3>P;++P)Q[P]=Z[P]=H[P];Q[3]=Z[3]=1;Q[M]+=1;u(Q,Q,K);0>Q[3]&&(p[M]=Infinity);--Z[M];u(Z,Z,K);0>Z[3]&&(p[M]=Infinity);P=(Z[0]/Z[3]-Q[0]/Q[3])*L;Z=(Z[1]/Z[3]-Q[1]/Q[3])*N;p[M]=.25*Math.sqrt(P*P+Z*Z)}K=p;for(p=0;3>p;++p)r[p].lo=Math.min(r[p].lo,y[p]),r[p].hi=Math.max(r[p].hi,y[p]),p!==l&&(r[p].pixelsPerDataUnit=Math.min(r[p].pixelsPerDataUnit,
Math.abs(K[p])))}}}}return r};var g=b("extract-frustum-planes"),k=b("split-polygon"),d=b("./lib/cube.js"),h=b("gl-mat4/multiply"),e=b("gl-mat4/transpose"),u=b("gl-vec4/transformMat4"),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),t=new Float32Array(16),f=[0,0,0,1],c=[0,0,0,1],q=[new n(Infinity,-Infinity,Infinity),new n(Infinity,-Infinity,Infinity),new n(Infinity,-Infinity,Infinity)],a=[0,0,0]},{"./lib/cube.js":102,"extract-frustum-planes":94,"gl-mat4/multiply":125,"gl-mat4/transpose":133,
"gl-vec4/transformMat4":163,"split-polygon":252}],108:[function(b,p,l){function n(d,e,f,c,g){this.gl=d;this.type=e;this.handle=f;this.length=c;this.usage=g}function g(d,e,f,c,g,a){var b=g.length*g.BYTES_PER_ELEMENT;if(0>a)return d.bufferData(e,g,c),b;if(b+a>f)throw Error("gl-buffer: If resizing buffer, must not specify offset");d.bufferSubData(e,a,g);return f}function k(e,g){g=d.malloc(e.length,g);for(var f=e.length,c=0;c<f;++c)g[c]=e[c];return g}var d=b("typedarray-pool"),h=b("ndarray-ops"),e=b("ndarray"),
u="uint8 uint8_clamped uint16 uint32 int8 int16 int32 float32".split(" ");b=n.prototype;b.bind=function(){this.gl.bindBuffer(this.type,this.handle)};b.unbind=function(){this.gl.bindBuffer(this.type,null)};b.dispose=function(){this.gl.deleteBuffer(this.handle)};b.update=function(b,t){"number"!==typeof t&&(t=-1);this.bind();if("object"===typeof b&&"undefined"!==typeof b.shape){var f=b.dtype;0>u.indexOf(f)&&(f="float32");this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(f=gl.getExtension("OES_element_index_uint")&&
"uint16"!==f?"uint32":"uint16");var c;if(c=f===b.dtype)a:{c=b.stride;for(var q=1,a=c.length-1;0<=a;--a){if(c[a]!==q){c=!1;break a}q*=b.shape[a]}c=!0}c?this.length=0===b.offset&&b.data.length===b.shape[0]?g(this.gl,this.type,this.length,this.usage,b.data,t):g(this.gl,this.type,this.length,this.usage,b.data.subarray(b.offset,b.shape[0]),t):(f=d.malloc(b.size,f),c=e(f,b.shape),h.assign(c,b),this.length=0>t?g(this.gl,this.type,this.length,this.usage,f,t):g(this.gl,this.type,this.length,this.usage,f.subarray(0,
b.size),t),d.free(f))}else if(Array.isArray(b))f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?k(b,"uint16"):k(b,"float32"),this.length=0>t?g(this.gl,this.type,this.length,this.usage,f,t):g(this.gl,this.type,this.length,this.usage,f.subarray(0,b.length),t),d.free(f);else if("object"===typeof b&&"number"===typeof b.length)this.length=g(this.gl,this.type,this.length,this.usage,b,t);else if("number"===typeof b||void 0===b){if(0<=t)throw Error("gl-buffer: Cannot specify offset when resizing buffer");b|=0;
0>=b&&(b=1);this.gl.bufferData(this.type,b|0,this.usage);this.length=b}else throw Error("gl-buffer: Invalid data type");};p.exports=function(d,e,f,c){f=f||d.ARRAY_BUFFER;c=c||d.DYNAMIC_DRAW;if(f!==d.ARRAY_BUFFER&&f!==d.ELEMENT_ARRAY_BUFFER)throw Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(c!==d.DYNAMIC_DRAW&&c!==d.STATIC_DRAW&&c!==d.STREAM_DRAW)throw Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");
var g=d.createBuffer();d=new n(d,f,g,0,c);d.update(e);return d}},{ndarray:200,"ndarray-ops":197,"typedarray-pool":262}],109:[function(b,p,l){p.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",
775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",
2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",
3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",
9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",
32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",
33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34E3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",
34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",
34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",
34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",
35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",
35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",
36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",
36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],110:[function(b,p,l){var n=b("./1.0/numbers");p.exports=function(g){return n[g]}},{"./1.0/numbers":109}],
111:[function(b,p,l){function n(d,f,c,e){this.gl=d;this.shader=e;this.buffer=f;this.vao=c;this.pixelRatio=1;this.bounds=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]];this.clipBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.lineWidth=[1,1,1];this.capSize=[10,10,10];this.lineCount=[0,0,0];this.lineOffset=[0,0,0];this.opacity=1}function g(d,f){for(var c=0;3>c;++c)d[0][c]=Math.min(d[0][c],f[c]),d[1][c]=Math.max(d[1][c],f[c])}function k(d,f,c,e){e=m[e];for(var a=
0;a<e.length;++a){var g=e[a];d.push(f[0],f[1],f[2],c[0],c[1],c[2],c[3],g[0],g[1],g[2])}return e.length}p.exports=function(g){var f=g.gl,c=d(f),b=h(f,[{buffer:c,type:f.FLOAT,size:3,offset:0,stride:40},{buffer:c,type:f.FLOAT,size:4,offset:12,stride:40},{buffer:c,type:f.FLOAT,size:3,offset:28,stride:40}]),a=e(f);a.attributes.position.location=0;a.attributes.color.location=1;a.attributes.offset.location=2;f=new n(f,c,b,a);f.update(g);return f};var d=b("gl-buffer"),h=b("gl-vao"),e=b("./shaders/index"),
u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];b=n.prototype;b.isOpaque=function(){return 1<=this.opacity};b.isTransparent=function(){return 1>this.opacity};b.drawTransparent=b.draw=function(d){var f=this.gl,c=this.shader.uniforms;this.shader.bind();var e=c.view=d.view||u,a=c.projection=d.projection||u;c.model=d.model||u;c.clipBounds=this.clipBounds;c.opacity=this.opacity;d=this.pixelRatio*(a[3]*e[12]+a[7]*e[13]+a[11]*e[14]+a[15]*e[15])/f.drawingBufferHeight;this.vao.bind();for(e=0;3>e;++e)f.lineWidth(this.lineWidth[e]),
c.capSize=this.capSize[e]*d,this.lineCount[e]&&f.drawArrays(f.LINES,this.lineOffset[e],this.lineCount[e]);this.vao.unbind()};var m=function(){for(var d=Array(3),f=0;3>f;++f){for(var c=[],e=1;2>=e;++e)for(var a=-1;1>=a;a+=2){var g=[0,0,0];g[(e+f)%3]=a;c.push(g)}d[f]=c}return d}();b.update=function(d){d=d||{};"lineWidth"in d&&(this.lineWidth=d.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth]));"capSize"in d&&(this.capSize=d.capSize,Array.isArray(this.capSize)||
(this.capSize=[this.capSize,this.capSize,this.capSize]));"opacity"in d&&(this.opacity=d.opacity);var f=d.color||[[0,0,0],[0,0,0],[0,0,0]],c=d.position;d=d.error;Array.isArray(f[0])||(f=[f,f,f]);if(c&&d){var e=[],a=c.length,b=0;this.bounds=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]];this.lineCount=[0,0,0];for(var h=0;3>h;++h){this.lineOffset[h]=b;var m=0;a:for(;m<a;++m){for(var t=c[m],n=0;3>n;++n)if(isNaN(t[n])||!isFinite(t[n]))continue a;n=d[m];var u=f[h];Array.isArray(u[0])&&(u=
f[m]);3===u.length&&(u=[u[0],u[1],u[2],1]);if(!isNaN(n[0][h])&&!isNaN(n[1][h])){if(0>n[0][h]){var l=t.slice();l[h]+=n[0][h];e.push(t[0],t[1],t[2],u[0],u[1],u[2],u[3],0,0,0,l[0],l[1],l[2],u[0],u[1],u[2],u[3],0,0,0);g(this.bounds,l);b+=2+k(e,l,u,h)}0<n[1][h]&&(l=t.slice(),l[h]+=n[1][h],e.push(t[0],t[1],t[2],u[0],u[1],u[2],u[3],0,0,0,l[0],l[1],l[2],u[0],u[1],u[2],u[3],0,0,0),g(this.bounds,l),b+=2+k(e,l,u,h))}}this.lineCount[h]=b-this.lineOffset[h]}this.buffer.update(e)}};b.dispose=function(){this.shader.dispose();
this.buffer.dispose();this.vao.dispose()}},{"./shaders/index":112,"gl-buffer":108,"gl-vao":157}],112:[function(b,p,l){l=b("glslify");var n=b("gl-shader"),g=l(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),
k=l(["precision mediump float;\n#define GLSLIFY 1\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(fragPosition, clipBounds[0])) || any(greaterThan(fragPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = opacity * fragColor;\n}"]);p.exports=function(d){return n(d,g,k,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":144,glslify:173}],
113:[function(b,p,l){function n(a){var c=a.getParameter(a.FRAMEBUFFER_BINDING),d=a.getParameter(a.RENDERBUFFER_BINDING);a=a.getParameter(a.TEXTURE_BINDING_2D);return[c,d,a]}function g(a,c){a.bindFramebuffer(a.FRAMEBUFFER,c[0]);a.bindRenderbuffer(a.RENDERBUFFER,c[1]);a.bindTexture(a.TEXTURE_2D,c[2])}function k(d){switch(d){case c:throw Error("gl-fbo: Framebuffer unsupported");case q:throw Error("gl-fbo: Framebuffer incomplete attachment");case a:throw Error("gl-fbo: Framebuffer incomplete dimensions");
case r:throw Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw Error("gl-fbo: Framebuffer failed for unspecified reason");}}function d(a,c,d,f,e,g){if(!f)return null;c=t(a,c,d,e,f);c.magFilter=a.NEAREST;c.minFilter=a.NEAREST;c.mipSamples=1;c.bind();a.framebufferTexture2D(a.FRAMEBUFFER,g,a.TEXTURE_2D,c.handle,0);return c}function h(a,c,d,f,e){var g=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,g);a.renderbufferStorage(a.RENDERBUFFER,f,c,d);a.framebufferRenderbuffer(a.FRAMEBUFFER,
e,a.RENDERBUFFER,g);return g}function e(a){var c=n(a.gl),e=a.gl,b=a.handle=e.createFramebuffer(),r=a._shape[0],q=a._shape[1],m=a.color.length,t=a._ext,v=a._useStencil,u=a._useDepth,l=a._colorType;e.bindFramebuffer(e.FRAMEBUFFER,b);for(b=0;b<m;++b)a.color[b]=d(e,r,q,l,e.RGBA,e.COLOR_ATTACHMENT0+b);0===m?(a._color_rb=h(e,r,q,e.RGBA4,e.COLOR_ATTACHMENT0),t&&t.drawBuffersWEBGL(f[0])):1<m&&t.drawBuffersWEBGL(f[m]);(m=e.getExtension("WEBGL_depth_texture"))?v?a.depth=d(e,r,q,m.UNSIGNED_INT_24_8_WEBGL,e.DEPTH_STENCIL,
e.DEPTH_STENCIL_ATTACHMENT):u&&(a.depth=d(e,r,q,e.UNSIGNED_SHORT,e.DEPTH_COMPONENT,e.DEPTH_ATTACHMENT)):u&&v?a._depth_rb=h(e,r,q,e.DEPTH_STENCIL,e.DEPTH_STENCIL_ATTACHMENT):u?a._depth_rb=h(e,r,q,e.DEPTH_COMPONENT16,e.DEPTH_ATTACHMENT):v&&(a._depth_rb=h(e,r,q,e.STENCIL_INDEX,e.STENCIL_ATTACHMENT));r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE){a._destroyed=!0;e.bindFramebuffer(e.FRAMEBUFFER,null);e.deleteFramebuffer(a.handle);a.handle=null;a.depth&&(a.depth.dispose(),a.depth=
null);a._depth_rb&&(e.deleteRenderbuffer(a._depth_rb),a._depth_rb=null);for(b=0;b<a.color.length;++b)a.color[b].dispose(),a.color[b]=null;a._color_rb&&(e.deleteRenderbuffer(a._color_rb),a._color_rb=null);g(e,c);k(r)}g(e,c)}function u(a,c,d,f,g,b,h,r){this.gl=a;this._shape=[c|0,d|0];this._destroyed=!1;this._ext=r;this.color=Array(g);for(a=0;a<g;++a)this.color[a]=null;this._depth_rb=this.depth=this._color_rb=null;this._colorType=f;this._useDepth=b;this._useStencil=h;var k=this;c=[c|0,d|0];Object.defineProperties(c,
{0:{get:function(){return k._shape[0]},set:function(a){return k.width=a}},1:{get:function(){return k._shape[1]},set:function(a){return k.height=a}}});this._shapeVector=c;e(this)}function m(a,c,d){if(a._destroyed)throw Error("gl-fbo: Can't resize destroyed FBO");if(a._shape[0]!==c||a._shape[1]!==d){var f=a.gl,e=f.getParameter(f.MAX_RENDERBUFFER_SIZE);if(0>c||c>e||0>d||d>e)throw Error("gl-fbo: Can't resize FBO, invalid dimensions");a._shape[0]=c;a._shape[1]=d;c=n(f);for(d=0;d<a.color.length;++d)a.color[d].shape=
a._shape;a._color_rb&&(f.bindRenderbuffer(f.RENDERBUFFER,a._color_rb),f.renderbufferStorage(f.RENDERBUFFER,f.RGBA4,a._shape[0],a._shape[1]));a.depth&&(a.depth.shape=a._shape);a._depth_rb&&(f.bindRenderbuffer(f.RENDERBUFFER,a._depth_rb),a._useDepth&&a._useStencil?f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,a._shape[0],a._shape[1]):a._useDepth?f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,a._shape[0],a._shape[1]):a._useStencil&&f.renderbufferStorage(f.RENDERBUFFER,f.STENCIL_INDEX,
a._shape[0],a._shape[1]));f.bindFramebuffer(f.FRAMEBUFFER,a.handle);d=f.checkFramebufferStatus(f.FRAMEBUFFER);d!==f.FRAMEBUFFER_COMPLETE&&(a.dispose(),g(f,c),k(d));g(f,c)}}var t=b("gl-texture2d");p.exports=function(d,e,g,b){c||(c=d.FRAMEBUFFER_UNSUPPORTED,q=d.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=d.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,r=d.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var h=d.getExtension("WEBGL_draw_buffers");if(!f&&h){var k=d.getParameter(h.MAX_COLOR_ATTACHMENTS_WEBGL);f=Array(k+1);for(var m=
0;m<=k;++m){for(var t=Array(k),n=0;n<m;++n)t[n]=d.COLOR_ATTACHMENT0+n;for(n=m;n<k;++n)t[n]=d.NONE;f[m]=t}}Array.isArray(e)&&(b=g,g=e[1]|0,e=e[0]|0);if("number"!==typeof e)throw Error("gl-fbo: Missing shape parameter");k=d.getParameter(d.MAX_RENDERBUFFER_SIZE);if(0>e||e>k||0>g||g>k)throw Error("gl-fbo: Parameters are too large for FBO");b=b||{};k=1;if("color"in b){k=Math.max(b.color|0,0);if(0>k)throw Error("gl-fbo: Must specify a nonnegative number of colors");if(1<k){if(!h)throw Error("gl-fbo: Multiple draw buffer extension not supported");
if(k>d.getParameter(h.MAX_COLOR_ATTACHMENTS_WEBGL))throw Error("gl-fbo: Context does not support "+k+" draw buffers");}}m=d.UNSIGNED_BYTE;t=d.getExtension("OES_texture_float");if(b.float&&0<k){if(!t)throw Error("gl-fbo: Context does not support floating point textures");m=d.FLOAT}else b.preferFloat&&0<k&&t&&(m=d.FLOAT);t=!0;"depth"in b&&(t=!!b.depth);n=!1;"stencil"in b&&(n=!!b.stencil);return new u(d,e,g,m,k,t,n,h)};var f=null,c,q,a,r;b=u.prototype;Object.defineProperties(b,{shape:{get:function(){return this._destroyed?
[0,0]:this._shapeVector},set:function(a){Array.isArray(a)||(a=[a|0,a|0]);if(2!==a.length)throw Error("gl-fbo: Shape vector must be length 2");var c=a[0]|0;a=a[1]|0;m(this,c,a);return[c,a]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(a){a|=0;m(this,a,this._shape[1]);return a},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(a){a|=0;m(this,this._shape[0],a);return a},enumerable:!1}});b.bind=function(){if(!this._destroyed){var a=
this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.handle);a.viewport(0,0,this._shape[0],this._shape[1])}};b.dispose=function(){if(!this._destroyed){this._destroyed=!0;var a=this.gl;a.deleteFramebuffer(this.handle);this.handle=null;this.depth&&(this.depth.dispose(),this.depth=null);this._depth_rb&&(a.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var c=0;c<this.color.length;++c)this.color[c].dispose(),this.color[c]=null;this._color_rb&&(a.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},
{"gl-texture2d":153}],114:[function(b,p,l){var n=b("sprintf-js").sprintf,g=b("gl-constants/lookup"),k=b("glsl-shader-name"),d=b("add-line-numbers");p.exports=function(b,e,u){var h=k(e)||"of unknown name (see npm glsl-shader-name)",t="unknown type";void 0!==u&&(t=u===g.FRAGMENT_SHADER?"fragment":"vertex");u=n("Error compiling %s shader %s:\n",t,h);h=n("%s%s",u,b);var f=b.split("\n");b={};for(t=0;t<f.length;t++){var c=f[t];if(""!==c&&"\x00"!==c){var q=parseInt(c.split(":")[2]);if(isNaN(q))throw Error(n("Could not parse error: %s",
c));b[q]=c}}e=d(e).split("\n");for(t=0;t<e.length;t++)if(b[t+3]||b[t+2]||b[t+1])u+=e[t]+"\n",b[t+1]&&(f=b[t+1],f=f.substr(f.split(":",3).join(":").length+1).trim(),u+=n("^^^ %s\n\n",f));return{long:u.trim(),short:h.trim()}}},{"add-line-numbers":21,"gl-constants/lookup":110,"glsl-shader-name":165,"sprintf-js":253}],115:[function(b,p,l){p=b("glslify");var n=b("gl-shader"),g=p(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvoid main() {\n  vec4 projected = projection * view * model * vec4(position, 1.0);\n  vec4 tangentClip = projection * view * model * vec4(nextPosition - position, 0.0);\n  vec2 tangent = normalize(screenShape * tangentClip.xy);\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(tangent.y, -tangent.x) / screenShape;\n\n  gl_Position = vec4(projected.xy + projected.w * offset, projected.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),
k=p(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),
d=p(["precision mediump float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1540259130(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if(any(lessThan(worldPosition, clipBounds[0])) || any(greaterThan(worldPosition, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId/255.0, encode_float_1540259130(pixelArcLength).xyz);\n}"]),
h=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];l.createShader=function(d){return n(d,g,k,null,h)};l.createPickShader=function(e){return n(e,g,d,null,h)}},{"gl-shader":144,glslify:173}],116:[function(b,p,l){function n(a){for(var c=[[-1E6,-1E6,-1E6],[1E6,1E6,1E6]],d=0;3>d;++d)c[0][d]=Math.max(a[0][d],c[0][d]),c[1][d]=Math.min(a[1][d],c[1][d]);return c}function g(a,c,d,f){this.arcLength=a;
this.position=c;this.index=d;this.dataCoordinate=f}function k(a,c,d,f,e,g){this.gl=a;this.shader=c;this.pickShader=d;this.buffer=f;this.vao=e;this.clipBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.points=[];this.arcLength=[];this.vertexCount=0;this.bounds=[[0,0,0],[0,0,0]];this.pickId=0;this.lineWidth=1;this.texture=g;this.opacity=this.dashScale=1;this.dirty=!0;this.pixelRatio=1}p.exports=function(a){var g=a.gl||a.scene&&a.scene.gl,b=f(g);b.attributes.position.location=
0;b.attributes.nextPosition.location=1;b.attributes.arcLength.location=2;b.attributes.lineWidth.location=3;b.attributes.color.location=4;var q=c(g);q.attributes.position.location=0;q.attributes.nextPosition.location=1;q.attributes.arcLength.location=2;q.attributes.lineWidth.location=3;q.attributes.color.location=4;for(var m=d(g),n=h(g,[{buffer:m,size:3,offset:0,stride:48},{buffer:m,size:3,offset:12,stride:48},{buffer:m,size:1,offset:24,stride:48},{buffer:m,size:1,offset:28,stride:48},{buffer:m,size:4,
offset:32,stride:48}]),u=t(Array(1024),[256,1,4]),l=0;1024>l;++l)u.data[l]=255;u=e(g,u);u.wrap=g.REPEAT;g=new k(g,b,q,m,n,u);g.update(a);return g};var d=b("gl-buffer"),h=b("gl-vao"),e=b("gl-texture2d"),u=b("glsl-read-float"),m=b("binary-search-bounds"),t=b("ndarray");b=b("./lib/shaders");var f=b.createShader,c=b.createPickShader,q=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];b=k.prototype;b.isTransparent=function(){return 1>this.opacity};b.isOpaque=function(){return 1<=this.opacity};b.pickSlots=1;b.setPickBase=
function(a){this.pickId=a};b.drawTransparent=b.draw=function(a){var c=this.gl,d=this.shader,f=this.vao;d.bind();d.uniforms={model:a.model||q,view:a.view||q,projection:a.projection||q,clipBounds:n(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[c.drawingBufferWidth,c.drawingBufferHeight],pixelRatio:this.pixelRatio};f.bind();f.draw(c.TRIANGLE_STRIP,this.vertexCount);f.unbind()};b.drawPick=function(a){var c=
this.gl,d=this.pickShader,f=this.vao;d.bind();d.uniforms={model:a.model||q,view:a.view||q,projection:a.projection||q,pickId:this.pickId,clipBounds:n(this.clipBounds),screenShape:[c.drawingBufferWidth,c.drawingBufferHeight],pixelRatio:this.pixelRatio};f.bind();f.draw(c.TRIANGLE_STRIP,this.vertexCount);f.unbind()};b.update=function(a){var c;this.dirty=!0;var d=!!a.connectGaps;"dashScale"in a&&(this.dashScale=a.dashScale);"opacity"in a&&(this.opacity=+a.opacity);var f=a.position||a.positions;if(f){var e=
a.color||a.colors||[0,0,0,1],g=a.lineWidth||1,b=[],h=[],k=[],q=0,n=0,u=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]],l=!1;var p=1;a:for(;p<f.length;++p){var J=f[p-1],K=f[p];h.push(q);k.push(J.slice());for(c=0;3>c;++c){if(isNaN(J[c])||isNaN(K[c])||!isFinite(J[c])||!isFinite(K[c])){if(!d&&0<b.length){for(l=0;24>l;++l)b.push(b[b.length-12]);n+=2;l=!0}continue a}u[0][c]=Math.min(u[0][c],J[c],K[c]);u[1][c]=Math.max(u[1][c],J[c],K[c])}if(Array.isArray(e[0])){var H=e[p-1];var L=e[p]}else H=
L=e;3===H.length&&(H=[H[0],H[1],H[2],1]);3===L.length&&(L=[L[0],L[1],L[2],1]);var N=Array.isArray(g)?g[p-1]:g;var M=q;c=q;for(var Z=q=0;3>Z;++Z){var Q=J[Z]-K[Z];q+=Q*Q}q=c+Math.sqrt(q);if(l){for(c=0;2>c;++c)b.push(J[0],J[1],J[2],K[0],K[1],K[2],M,N,H[0],H[1],H[2],H[3]);n+=2;l=!1}b.push(J[0],J[1],J[2],K[0],K[1],K[2],M,N,H[0],H[1],H[2],H[3],J[0],J[1],J[2],K[0],K[1],K[2],M,-N,H[0],H[1],H[2],H[3],K[0],K[1],K[2],J[0],J[1],J[2],q,-N,L[0],L[1],L[2],L[3],K[0],K[1],K[2],J[0],J[1],J[2],q,N,L[0],L[1],L[2],L[3]);
n+=4}this.buffer.update(b);h.push(q);k.push(f[f.length-1].slice());this.bounds=u;this.vertexCount=n;this.points=k;this.arcLength=h;if("dashes"in a){a=a.dashes.slice();a.unshift(0);for(p=1;p<a.length;++p)a[p]=a[p-1]+a[p];d=t(Array(1024),[256,1,4]);for(p=0;256>p;++p){for(c=0;4>c;++c)d.set(p,0,c,0);m.le(a,a[a.length-1]*p/255)&1?d.set(p,0,0,0):d.set(p,0,0,255)}this.texture.setPixels(d)}}};b.dispose=function(){this.shader.dispose();this.vao.dispose();this.buffer.dispose()};b.pick=function(a){if(!a||a.id!==
this.pickId)return null;a=u(a.value[0],a.value[1],a.value[2],0);var c=m.le(this.arcLength,a);if(0>c)return null;if(c===this.arcLength.length-1)return new g(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),c);for(var d=this.points[c],f=this.points[Math.min(c+1,this.points.length-1)],e=(a-this.arcLength[c])/(this.arcLength[c+1]-this.arcLength[c]),b=1-e,h=[0,0,0],k=0;3>k;++k)h[k]=b*d[k]+e*f[k];c=Math.min(.5>e?c:c+1,this.points.length-1);return new g(a,h,c,this.points[c])}},
{"./lib/shaders":115,"binary-search-bounds":43,"gl-buffer":108,"gl-texture2d":153,"gl-vao":157,"glsl-read-float":164,ndarray:200}],117:[function(b,p,l){p.exports=function(b){var g=new Float32Array(16);g[0]=b[0];g[1]=b[1];g[2]=b[2];g[3]=b[3];g[4]=b[4];g[5]=b[5];g[6]=b[6];g[7]=b[7];g[8]=b[8];g[9]=b[9];g[10]=b[10];g[11]=b[11];g[12]=b[12];g[13]=b[13];g[14]=b[14];g[15]=b[15];return g}},{}],118:[function(b,p,l){p.exports=function(){var b=new Float32Array(16);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=
0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}},{}],119:[function(b,p,l){p.exports=function(b){var g=b[0],k=b[1],d=b[2],h=b[3],e=b[4],n=b[5],m=b[6],t=b[7],f=b[8],c=b[9],q=b[10],a=b[11],r=b[12],v=b[13],x=b[14];b=b[15];return(g*n-k*e)*(q*b-a*x)-(g*m-d*e)*(c*b-a*v)+(g*t-h*e)*(c*x-q*v)+(k*m-d*n)*(f*b-a*r)-(k*t-h*n)*(f*x-q*r)+(d*t-h*m)*(f*v-c*r)}},{}],120:[function(b,p,l){p.exports=function(b,g){var k=g[0],d=g[1],h=g[2];g=g[3];var e=k+k,n=d+d,m=h+h;k*=e;var t=d*e;d*=n;
var f=h*e,c=h*n;h*=m;e*=g;n*=g;g*=m;b[0]=1-d-h;b[1]=t+g;b[2]=f-n;b[3]=0;b[4]=t-g;b[5]=1-k-h;b[6]=c+e;b[7]=0;b[8]=f+n;b[9]=c-e;b[10]=1-k-d;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}},{}],121:[function(b,p,l){p.exports=function(b,g,k){var d=g[0],h=g[1],e=g[2],n=g[3],m=d+d,t=h+h,f=e+e;g=d*m;var c=d*t;d*=f;var q=h*t;h*=f;e*=f;m*=n;t*=n;n*=f;b[0]=1-(q+e);b[1]=c+n;b[2]=d-t;b[3]=0;b[4]=c-n;b[5]=1-(g+e);b[6]=h+m;b[7]=0;b[8]=d+t;b[9]=h-m;b[10]=1-(g+q);b[11]=0;b[12]=k[0];b[13]=k[1];b[14]=k[2];b[15]=
1;return b}},{}],122:[function(b,p,l){p.exports=function(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}},{}],123:[function(b,p,l){p.exports=function(b,g){var k=g[0],d=g[1],h=g[2],e=g[3],n=g[4],m=g[5],t=g[6],f=g[7],c=g[8],q=g[9],a=g[10],r=g[11],v=g[12],x=g[13],C=g[14];g=g[15];var l=k*m-d*n,D=k*t-h*n,z=k*f-e*n,p=d*t-h*m,B=d*f-e*m,y=h*f-e*t,w=c*x-q*v,G=c*C-a*v,E=c*g-r*v,J=q*C-a*x,K=q*g-r*x,H=a*g-r*C,L=l*H-D*K+z*J+p*E-
B*G+y*w;if(!L)return null;L=1/L;b[0]=(m*H-t*K+f*J)*L;b[1]=(h*K-d*H-e*J)*L;b[2]=(x*y-C*B+g*p)*L;b[3]=(a*B-q*y-r*p)*L;b[4]=(t*E-n*H-f*G)*L;b[5]=(k*H-h*E+e*G)*L;b[6]=(C*z-v*y-g*D)*L;b[7]=(c*y-a*z+r*D)*L;b[8]=(n*K-m*E+f*w)*L;b[9]=(d*E-k*K-e*w)*L;b[10]=(v*B-x*z+g*l)*L;b[11]=(q*z-c*B-r*l)*L;b[12]=(m*G-n*J-t*w)*L;b[13]=(k*J-d*G+h*w)*L;b[14]=(x*D-v*p-C*l)*L;b[15]=(c*p-q*D+a*l)*L;return b}},{}],124:[function(b,p,l){var n=b("./identity");p.exports=function(g,b,d,h){var e=b[0],k=b[1];b=b[2];var m=h[0];var t=
h[1];var f=h[2];var c=d[0];h=d[1];var q=d[2];if(1E-6>Math.abs(e-c)&&1E-6>Math.abs(k-h)&&1E-6>Math.abs(b-q))return n(g);d=e-c;h=k-h;c=b-q;var a=1/Math.sqrt(d*d+h*h+c*c);d*=a;h*=a;c*=a;q=t*c-f*h;f=f*d-m*c;m=m*h-t*d;(a=Math.sqrt(q*q+f*f+m*m))?(a=1/a,q*=a,f*=a,m*=a):m=f=q=0;t=h*m-c*f;var r=c*q-d*m;var v=d*f-h*q;(a=Math.sqrt(t*t+r*r+v*v))?(a=1/a,t*=a,r*=a,v*=a):v=r=t=0;g[0]=q;g[1]=t;g[2]=d;g[3]=0;g[4]=f;g[5]=r;g[6]=h;g[7]=0;g[8]=m;g[9]=v;g[10]=c;g[11]=0;g[12]=-(q*e+f*k+m*b);g[13]=-(t*e+r*k+v*b);g[14]=
-(d*e+h*k+c*b);g[15]=1;return g}},{"./identity":122}],125:[function(b,p,l){p.exports=function(b,g,k){var d=g[0],h=g[1],e=g[2],n=g[3],m=g[4],t=g[5],f=g[6],c=g[7],q=g[8],a=g[9],r=g[10],v=g[11],x=g[12],C=g[13],l=g[14];g=g[15];var D=k[0],p=k[1],F=k[2],B=k[3];b[0]=D*d+p*m+F*q+B*x;b[1]=D*h+p*t+F*a+B*C;b[2]=D*e+p*f+F*r+B*l;b[3]=D*n+p*c+F*v+B*g;D=k[4];p=k[5];F=k[6];B=k[7];b[4]=D*d+p*m+F*q+B*x;b[5]=D*h+p*t+F*a+B*C;b[6]=D*e+p*f+F*r+B*l;b[7]=D*n+p*c+F*v+B*g;D=k[8];p=k[9];F=k[10];B=k[11];b[8]=D*d+p*m+F*q+B*x;
b[9]=D*h+p*t+F*a+B*C;b[10]=D*e+p*f+F*r+B*l;b[11]=D*n+p*c+F*v+B*g;D=k[12];p=k[13];F=k[14];B=k[15];b[12]=D*d+p*m+F*q+B*x;b[13]=D*h+p*t+F*a+B*C;b[14]=D*e+p*f+F*r+B*l;b[15]=D*n+p*c+F*v+B*g;return b}},{}],126:[function(b,p,l){p.exports=function(b,g,k,d,h){g=1/Math.tan(g/2);var e=1/(d-h);b[0]=g/k;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=(h+d)*e;b[11]=-1;b[12]=0;b[13]=0;b[14]=2*h*d*e;b[15]=0;return b}},{}],127:[function(b,p,l){p.exports=function(b,g,k,d){var h=d[0],e=d[1];d=d[2];
var n=Math.sqrt(h*h+e*e+d*d);if(1E-6>Math.abs(n))return null;n=1/n;h*=n;e*=n;d*=n;var m=Math.sin(k);var t=Math.cos(k);var f=1-t;k=g[0];n=g[1];var c=g[2];var q=g[3];var a=g[4];var r=g[5];var v=g[6];var x=g[7];var C=g[8];var l=g[9];var D=g[10];var p=g[11];var F=h*h*f+t;var B=e*h*f+d*m;var y=d*h*f-e*m;var w=h*e*f-d*m;var G=e*e*f+t;var E=d*e*f+h*m;var J=h*d*f+e*m;h=e*d*f-h*m;e=d*d*f+t;b[0]=k*F+a*B+C*y;b[1]=n*F+r*B+l*y;b[2]=c*F+v*B+D*y;b[3]=q*F+x*B+p*y;b[4]=k*w+a*G+C*E;b[5]=n*w+r*G+l*E;b[6]=c*w+v*G+D*
E;b[7]=q*w+x*G+p*E;b[8]=k*J+a*h+C*e;b[9]=n*J+r*h+l*e;b[10]=c*J+v*h+D*e;b[11]=q*J+x*h+p*e;g!==b&&(b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);return b}},{}],128:[function(b,p,l){p.exports=function(b,g,k){var d=Math.sin(k);k=Math.cos(k);var h=g[4],e=g[5],n=g[6],m=g[7],t=g[8],f=g[9],c=g[10],q=g[11];g!==b&&(b[0]=g[0],b[1]=g[1],b[2]=g[2],b[3]=g[3],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[4]=h*k+t*d;b[5]=e*k+f*d;b[6]=n*k+c*d;b[7]=m*k+q*d;b[8]=t*k-h*d;b[9]=f*k-e*d;b[10]=c*k-n*d;b[11]=q*k-
m*d;return b}},{}],129:[function(b,p,l){p.exports=function(b,g,k){var d=Math.sin(k);k=Math.cos(k);var h=g[0],e=g[1],n=g[2],m=g[3],t=g[8],f=g[9],c=g[10],q=g[11];g!==b&&(b[4]=g[4],b[5]=g[5],b[6]=g[6],b[7]=g[7],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[0]=h*k-t*d;b[1]=e*k-f*d;b[2]=n*k-c*d;b[3]=m*k-q*d;b[8]=h*d+t*k;b[9]=e*d+f*k;b[10]=n*d+c*k;b[11]=m*d+q*k;return b}},{}],130:[function(b,p,l){p.exports=function(b,g,k){var d=Math.sin(k);k=Math.cos(k);var h=g[0],e=g[1],n=g[2],m=g[3],t=g[4],f=g[5],
c=g[6],q=g[7];g!==b&&(b[8]=g[8],b[9]=g[9],b[10]=g[10],b[11]=g[11],b[12]=g[12],b[13]=g[13],b[14]=g[14],b[15]=g[15]);b[0]=h*k+t*d;b[1]=e*k+f*d;b[2]=n*k+c*d;b[3]=m*k+q*d;b[4]=t*k-h*d;b[5]=f*k-e*d;b[6]=c*k-n*d;b[7]=q*k-m*d;return b}},{}],131:[function(b,p,l){p.exports=function(b,g,k){var d=k[0],h=k[1];k=k[2];b[0]=g[0]*d;b[1]=g[1]*d;b[2]=g[2]*d;b[3]=g[3]*d;b[4]=g[4]*h;b[5]=g[5]*h;b[6]=g[6]*h;b[7]=g[7]*h;b[8]=g[8]*k;b[9]=g[9]*k;b[10]=g[10]*k;b[11]=g[11]*k;b[12]=g[12];b[13]=g[13];b[14]=g[14];b[15]=g[15];
return b}},{}],132:[function(b,p,l){p.exports=function(b,g,k){var d=k[0],h=k[1];k=k[2];if(g===b)b[12]=g[0]*d+g[4]*h+g[8]*k+g[12],b[13]=g[1]*d+g[5]*h+g[9]*k+g[13],b[14]=g[2]*d+g[6]*h+g[10]*k+g[14],b[15]=g[3]*d+g[7]*h+g[11]*k+g[15];else{var e=g[0];var n=g[1];var m=g[2];var t=g[3];var f=g[4];var c=g[5];var q=g[6];var a=g[7];var r=g[8];var v=g[9];var x=g[10];var C=g[11];b[0]=e;b[1]=n;b[2]=m;b[3]=t;b[4]=f;b[5]=c;b[6]=q;b[7]=a;b[8]=r;b[9]=v;b[10]=x;b[11]=C;b[12]=e*d+f*h+r*k+g[12];b[13]=n*d+c*h+v*k+g[13];
b[14]=m*d+q*h+x*k+g[14];b[15]=t*d+a*h+C*k+g[15]}return b}},{}],133:[function(b,p,l){p.exports=function(b,g){if(b===g){var k=g[1],d=g[2],h=g[3],e=g[6],n=g[7],m=g[11];b[1]=g[4];b[2]=g[8];b[3]=g[12];b[4]=k;b[6]=g[9];b[7]=g[13];b[8]=d;b[9]=e;b[11]=g[14];b[12]=h;b[13]=n;b[14]=m}else b[0]=g[0],b[1]=g[4],b[2]=g[8],b[3]=g[12],b[4]=g[1],b[5]=g[5],b[6]=g[9],b[7]=g[13],b[8]=g[2],b[9]=g[6],b[10]=g[10],b[11]=g[14],b[12]=g[3],b[13]=g[7],b[14]=g[11],b[15]=g[15];return b}},{}],134:[function(b,p,l){function n(d,g){for(var e=
[0,0,0,0],b=0;4>b;++b)for(var h=0;4>h;++h)e[h]+=d[4*b+h]*g[b];return e}var g=b("barycentric"),k=b("polytope-closest-point/lib/closest_point_2d.js");p.exports=function(d,b,e,u,m,t){if(1===d.length)return[0,d[0].slice()];for(var f=Array(d.length),c=0;c<d.length;++c){var h=c,a=d[c],r=t;a=n(m,n(u,n(e,[a[0],a[1],a[2],1])));for(var v=0;3>v;++v)a[v]/=a[3];f[h]=[.5*r[0]*(1+a[0]),.5*r[1]*(1-a[1])]}e=0;u=Infinity;for(c=0;c<f.length;++c){for(t=m=0;2>t;++t)m+=Math.pow(f[c][t]-b[t],2);m<u&&(u=m,e=c)}if(2===f.length){for(m=
u=c=0;2>m;++m)c+=Math.pow(b[m]-f[0][m],2),u+=Math.pow(b[m]-f[1][m],2);c=Math.sqrt(c);u=Math.sqrt(u);b=1E-6>c+u?[1,0]:[u/(c+u),c/(u+c)]}else 3===f.length?(c=[0,0],k(f[0],f[1],f[2],b,c),b=g(f,c)):b=[];for(c=f=0;3>c;++c){if(-.001>b[c]||1.0001<b[c])return null;f+=b[c]}if(.001<Math.abs(f-1))return null;f=[0,0,0];for(c=0;c<d.length;++c)for(u=d[c],m=b[c],t=0;3>t;++t)f[t]+=m*u[t];return[e,f,b]}},{barycentric:26,"polytope-closest-point/lib/closest_point_2d.js":221}],135:[function(b,p,l){var n=b("glslify");
b=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec4 m_position  = model * vec4(position, 1.0);\n  vec4 t_position  = view * m_position;\n  gl_Position      = projection * t_position;\n  f_color          = color;\n  f_normal         = normal;\n  f_data           = position;\n  f_eyeDirection   = eyePosition   - position;\n  f_lightDirection = lightPosition - position;\n  f_uv             = uv;\n}"]);
p=n(["precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n  \n  if(!gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = cookTorranceSpecular(L, V, N, roughness, fresnel);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}"]);
var g=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),k=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(f_data, clipBounds[0])) || \n     any(greaterThan(f_data, clipBounds[1]))) {\n    discard;\n  }\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),
d=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),
h=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5,0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),e=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),
u=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(f_position, clipBounds[0])) || \n     any(greaterThan(f_position, clipBounds[1]))) {\n    discard;\n  }\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),m=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || \n     any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),
t=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]);n=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor,1);\n}\n"]);l.meshShader={vertex:b,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]};
l.wireShader={vertex:g,fragment:k,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]};l.pointShader={vertex:d,fragment:h,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]};l.pickShader={vertex:e,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]};l.pointPickShader={vertex:m,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},
{name:"id",type:"vec4"}]};l.contourShader={vertex:t,fragment:n,attributes:[{name:"position",type:"vec3"}]}},{glslify:173}],136:[function(b,p,l){function n(a,c,d,f,e,b,g,h,k,r,q,m,t,v,n,u,x,C,l,A,D,p,z,ja,X,na,oa){this.gl=a;this.cells=[];this.positions=[];this.intensity=[];this.texture=c;this.dirty=!0;this.triShader=d;this.lineShader=f;this.pointShader=e;this.pickShader=b;this.pointPickShader=g;this.contourShader=h;this.trianglePositions=k;this.triangleColors=q;this.triangleNormals=t;this.triangleUVs=
m;this.triangleIds=r;this.triangleVAO=v;this.triangleCount=0;this.lineWidth=1;this.edgePositions=n;this.edgeColors=x;this.edgeUVs=C;this.edgeIds=u;this.edgeVAO=l;this.edgeCount=0;this.pointPositions=A;this.pointColors=p;this.pointUVs=z;this.pointSizes=ja;this.pointIds=D;this.pointVAO=X;this.pointCount=0;this.contourLineWidth=1;this.contourPositions=na;this.contourVAO=oa;this.contourCount=0;this.contourColor=[0,0,0];this.contourEnable=!0;this.pickId=1;this.bounds=[[Infinity,Infinity,Infinity],[-Infinity,
-Infinity,-Infinity]];this.clipBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.lightPosition=[1E5,1E5,0];this.diffuseLight=this.ambientLight=.8;this.specularLight=2;this.roughness=.5;this.fresnel=1.5;this.opacity=1;this._projection=this._view=this._model=F;this._resolution=[1,1]}function g(a){a=c({colormap:a,nshades:256,format:"rgba"});for(var d=new Uint8Array(1024),e=0;256>e;++e){for(var b=a[e],g=0;3>g;++g)d[4*e+g]=b[g];d[4*e+3]=255*b[3]}return f(d,[256,256,4],[4,0,1])}
var k=b("gl-shader"),d=b("gl-buffer"),h=b("gl-vao"),e=b("gl-texture2d"),u=b("normals"),m=b("gl-mat4/multiply"),t=b("gl-mat4/invert"),f=b("ndarray"),c=b("colormap"),q=b("simplicial-complex-contour"),a=b("typedarray-pool");l=b("./lib/shaders");var r=b("./lib/closest-point"),v=l.meshShader,x=l.wireShader,C=l.pointShader,A=l.pickShader,D=l.pointPickShader,z=l.contourShader,F=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];b=n.prototype;b.isOpaque=function(){return 1<=this.opacity};b.isTransparent=function(){return 1>
this.opacity};b.pickSlots=1;b.setPickBase=function(a){this.pickId=a};b.highlight=function(c){if(c&&this.contourEnable){var d=q(this.cells,this.intensity,c.intensity);c=d.cells;var f=d.vertexIds;d=d.vertexWeights;for(var e=c.length,b=a.mallocFloat32(6*e),g=0,h=0;h<e;++h)for(var k=c[h],r=0;2>r;++r){var m=k[0];2===k.length&&(m=k[r]);var t=d[m],v=1-t,n=this.positions[f[m][0]];m=this.positions[f[m][1]];for(var u=0;3>u;++u)b[g++]=t*n[u]+v*m[u]}this.contourCount=g/3|0;this.contourPositions.update(b.subarray(0,
g));a.free(b)}else this.contourCount=0};b.update=function(a){a=a||{};var c=this.gl;this.dirty=!0;"contourEnable"in a&&(this.contourEnable=a.contourEnable);"contourColor"in a&&(this.contourColor=a.contourColor);"lineWidth"in a&&(this.lineWidth=a.lineWidth);"lightPosition"in a&&(this.lightPosition=a.lightPosition);"opacity"in a&&(this.opacity=a.opacity);"ambient"in a&&(this.ambientLight=a.ambient);"diffuse"in a&&(this.diffuseLight=a.diffuse);"specular"in a&&(this.specularLight=a.specular);"roughness"in
a&&(this.roughness=a.roughness);"fresnel"in a&&(this.fresnel=a.fresnel);a.texture?(this.texture.dispose(),this.texture=e(c,a.texture)):a.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=c.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=c.LINEAR,this.texture.setPixels(g(a.colormap)),this.texture.generateMipmap());c=a.cells;var d=a.positions;if(d&&c){var f=[],b=[],h=[],k=[],r=[],q=[],m=[],t=[],v=[],n=[],x=[],C=[],l=[],B=[];this.cells=c;this.positions=d;var A=a.vertexNormals,D=a.cellNormals,
p=void 0===a.vertexNormalsEpsilon?1E-6:a.vertexNormalsEpsilon,z=void 0===a.faceNormalsEpsilon?1E-6:a.faceNormalsEpsilon;a.useFacetNormals&&!D&&(D=u.faceNormals(c,d,z));D||A||(A=u.vertexNormals(c,d,p));p=a.vertexColors;z=a.cellColors;var F=a.meshColor||[1,1,1,1],ba=a.vertexUVs,ja=a.vertexIntensity,X=a.cellUVs,na=a.cellIntensity,oa=Infinity,Aa=-Infinity;if(!ba&&!X)if(ja)if(a.vertexIntensityBounds)oa=+a.vertexIntensityBounds[0],Aa=+a.vertexIntensityBounds[1];else for(var ka=0;ka<ja.length;++ka){var Y=
ja[ka];oa=Math.min(oa,Y);Aa=Math.max(Aa,Y)}else if(na)for(ka=0;ka<na.length;++ka)Y=na[ka],oa=Math.min(oa,Y),Aa=Math.max(Aa,Y);else for(ka=0;ka<d.length;++ka)Y=d[ka][2],oa=Math.min(oa,Y),Aa=Math.max(Aa,Y);if(ja)this.intensity=ja;else if(na){var ca=d.length;ka=Array(ca);for(Y=0;Y<ca;++Y)ka[Y]=0;ca=c.length;for(Y=0;Y<ca;++Y)for(var la=c[Y],sa=0;sa<la.length;++sa)ka[la[sa]]=na[Y];this.intensity=ka}else{ka=d.length;Y=Array(ka);for(ca=0;ca<ka;++ca)Y[ca]=d[ca][2];this.intensity=Y}Y=a.pointSizes;a=a.pointSize||
1;this.bounds=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]];for(ka=0;ka<d.length;++ka){var da=d[ka];for(ca=0;3>ca;++ca)!isNaN(da[ca])&&isFinite(da[ca])&&(this.bounds[0][ca]=Math.min(this.bounds[0][ca],da[ca]),this.bounds[1][ca]=Math.max(this.bounds[1][ca],da[ca]))}var pa=sa=la=0;ka=0;a:for(;ka<c.length;++ka){var ya=c[ka];switch(ya.length){case 1:var fa=ya[0];da=d[fa];for(ca=0;3>ca;++ca)if(isNaN(da[ca])||!isFinite(da[ca]))continue a;n.push(da[0],da[1],da[2]);var ha=p?p[fa]:z?z[ka]:
F;3===ha.length?x.push(ha[0],ha[1],ha[2],1):x.push(ha[0],ha[1],ha[2],ha[3]);da=ba?ba[fa]:ja?[(ja[fa]-oa)/(Aa-oa),0]:X?X[ka]:na?[(na[ka]-oa)/(Aa-oa),0]:[(da[2]-oa)/(Aa-oa),0];C.push(da[0],da[1]);Y?l.push(Y[fa]):l.push(a);B.push(ka);pa+=1;break;case 2:for(ca=0;2>ca;++ca)for(fa=ya[ca],da=d[fa],fa=0;3>fa;++fa)if(isNaN(da[fa])||!isFinite(da[fa]))continue a;for(ca=0;2>ca;++ca)fa=ya[ca],da=d[fa],q.push(da[0],da[1],da[2]),ha=p?p[fa]:z?z[ka]:F,3===ha.length?m.push(ha[0],ha[1],ha[2],1):m.push(ha[0],ha[1],ha[2],
ha[3]),da=ba?ba[fa]:ja?[(ja[fa]-oa)/(Aa-oa),0]:X?X[ka]:na?[(na[ka]-oa)/(Aa-oa),0]:[(da[2]-oa)/(Aa-oa),0],t.push(da[0],da[1]),v.push(ka);sa+=1;break;case 3:for(ca=0;3>ca;++ca)for(fa=ya[ca],da=d[fa],fa=0;3>fa;++fa)if(isNaN(da[fa])||!isFinite(da[fa]))continue a;for(ca=0;3>ca;++ca)fa=ya[ca],da=d[fa],f.push(da[0],da[1],da[2]),ha=p?p[fa]:z?z[ka]:F,3===ha.length?b.push(ha[0],ha[1],ha[2],1):b.push(ha[0],ha[1],ha[2],ha[3]),da=ba?ba[fa]:ja?[(ja[fa]-oa)/(Aa-oa),0]:X?X[ka]:na?[(na[ka]-oa)/(Aa-oa),0]:[(da[2]-
oa)/(Aa-oa),0],k.push(da[0],da[1]),da=A?A[fa]:D[ka],h.push(da[0],da[1],da[2]),r.push(ka);la+=1}}this.pointCount=pa;this.edgeCount=sa;this.triangleCount=la;this.pointPositions.update(n);this.pointColors.update(x);this.pointUVs.update(C);this.pointSizes.update(l);this.pointIds.update(new Uint32Array(B));this.edgePositions.update(q);this.edgeColors.update(m);this.edgeUVs.update(t);this.edgeIds.update(new Uint32Array(v));this.trianglePositions.update(f);this.triangleColors.update(b);this.triangleUVs.update(k);
this.triangleNormals.update(h);this.triangleIds.update(new Uint32Array(r))}};b.drawTransparent=b.draw=function(a){a=a||{};var c=this.gl,d=a.model||F,f=a.view||F,e=a.projection||F,b=[[-1E6,-1E6,-1E6],[1E6,1E6,1E6]];for(a=0;3>a;++a)b[0][a]=Math.max(b[0][a],this.clipBounds[0][a]),b[1][a]=Math.min(b[1][a],this.clipBounds[1][a]);d={model:d,view:f,projection:e,clipBounds:b,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,
0,0],lightPosition:[0,0,0],opacity:this.opacity,contourColor:this.contourColor,texture:0};this.texture.bind(0);f=Array(16);m(f,d.view,d.model);m(f,d.projection,f);t(f,f);for(a=0;3>a;++a)d.eyePosition[a]=f[12+a]/f[15];e=f[15];for(a=0;3>a;++a)e+=this.lightPosition[a]*f[4*a+3];for(a=0;3>a;++a){b=f[12+a];for(var g=0;3>g;++g)b+=f[4*g+a]*this.lightPosition[g];d.lightPosition[a]=b/e}0<this.triangleCount&&(a=this.triShader,a.bind(),a.uniforms=d,this.triangleVAO.bind(),c.drawArrays(c.TRIANGLES,0,3*this.triangleCount),
this.triangleVAO.unbind());0<this.edgeCount&&0<this.lineWidth&&(a=this.lineShader,a.bind(),a.uniforms=d,this.edgeVAO.bind(),c.lineWidth(this.lineWidth),c.drawArrays(c.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());0<this.pointCount&&(a=this.pointShader,a.bind(),a.uniforms=d,this.pointVAO.bind(),c.drawArrays(c.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&&0<this.contourCount&&0<this.contourLineWidth&&(a=this.contourShader,a.bind(),a.uniforms=d,this.contourVAO.bind(),c.drawArrays(c.LINES,
0,this.contourCount),this.contourVAO.unbind())};b.drawPick=function(a){a=a||{};var c=this.gl,d=a.model||F,f=a.view||F;a=a.projection||F;for(var e=[[-1E6,-1E6,-1E6],[1E6,1E6,1E6]],b=0;3>b;++b)e[0][b]=Math.max(e[0][b],this.clipBounds[0][b]),e[1][b]=Math.min(e[1][b],this.clipBounds[1][b]);this._model=[].slice.call(d);this._view=[].slice.call(f);this._projection=[].slice.call(a);this._resolution=[c.drawingBufferWidth,c.drawingBufferHeight];d={model:d,view:f,projection:a,clipBounds:e,pickId:this.pickId/
255};f=this.pickShader;f.bind();f.uniforms=d;0<this.triangleCount&&(this.triangleVAO.bind(),c.drawArrays(c.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());0<this.edgeCount&&(this.edgeVAO.bind(),c.lineWidth(this.lineWidth),c.drawArrays(c.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());0<this.pointCount&&(f=this.pointPickShader,f.bind(),f.uniforms=d,this.pointVAO.bind(),c.drawArrays(c.POINTS,0,this.pointCount),this.pointVAO.unbind())};b.pick=function(a){if(!a||a.id!==this.pickId)return null;
for(var c=a.value[0]+256*a.value[1]+65536*a.value[2],d=this.cells[c],f=this.positions,e=Array(d.length),b=0;b<d.length;++b)e[b]=f[d[b]];a=r(e,[a.coord[0],this._resolution[1]-a.coord[1]],this._model,this._view,this._projection,this._resolution);if(!a)return null;f=a[2];for(b=e=0;b<d.length;++b)e+=f[b]*this.intensity[d[b]];return{position:a[1],index:d[a[0]],cell:d,cellId:c,intensity:e,dataCoordinate:this.positions[d[a[0]]]}};b.dispose=function(){this.texture.dispose();this.triShader.dispose();this.lineShader.dispose();
this.pointShader.dispose();this.pickShader.dispose();this.pointPickShader.dispose();this.triangleVAO.dispose();this.trianglePositions.dispose();this.triangleColors.dispose();this.triangleUVs.dispose();this.triangleNormals.dispose();this.triangleIds.dispose();this.edgeVAO.dispose();this.edgePositions.dispose();this.edgeColors.dispose();this.edgeUVs.dispose();this.edgeIds.dispose();this.pointVAO.dispose();this.pointPositions.dispose();this.pointColors.dispose();this.pointUVs.dispose();this.pointSizes.dispose();
this.pointIds.dispose();this.contourVAO.dispose();this.contourPositions.dispose();this.contourShader.dispose()};p.exports=function(a,c){1===arguments.length&&(c=a,a=c.gl);var b=k(a,v.vertex,v.fragment);b.attributes.position.location=0;b.attributes.color.location=2;b.attributes.uv.location=3;b.attributes.normal.location=4;var g=k(a,x.vertex,x.fragment);g.attributes.position.location=0;g.attributes.color.location=2;g.attributes.uv.location=3;var r=k(a,C.vertex,C.fragment);r.attributes.position.location=
0;r.attributes.color.location=2;r.attributes.uv.location=3;r.attributes.pointSize.location=4;var q=k(a,A.vertex,A.fragment);q.attributes.position.location=0;q.attributes.id.location=1;var m=k(a,D.vertex,D.fragment);m.attributes.position.location=0;m.attributes.id.location=1;m.attributes.pointSize.location=4;var t=k(a,z.vertex,z.fragment);t.attributes.position.location=0;var u=e(a,f(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap();u.minFilter=a.LINEAR_MIPMAP_LINEAR;u.magFilter=a.LINEAR;
var l=d(a),B=d(a),p=d(a),y=d(a),F=d(a),U=h(a,[{buffer:l,type:a.FLOAT,size:3},{buffer:F,type:a.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:a.FLOAT,size:4},{buffer:p,type:a.FLOAT,size:2},{buffer:y,type:a.FLOAT,size:3}]),aa=d(a),W=d(a),R=d(a),T=d(a),ea=h(a,[{buffer:aa,type:a.FLOAT,size:3},{buffer:T,type:a.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:W,type:a.FLOAT,size:4},{buffer:R,type:a.FLOAT,size:2}]),S=d(a),V=d(a),ba=d(a),ja=d(a),X=d(a),na=h(a,[{buffer:S,type:a.FLOAT,size:3},{buffer:X,type:a.UNSIGNED_BYTE,
size:4,normalized:!0},{buffer:V,type:a.FLOAT,size:4},{buffer:ba,type:a.FLOAT,size:2},{buffer:ja,type:a.FLOAT,size:1}]),oa=d(a),Aa=h(a,[{buffer:oa,type:a.FLOAT,size:3}]);b=new n(a,u,b,g,r,q,m,t,l,F,B,p,y,U,aa,T,W,R,ea,S,X,V,ba,ja,na,oa,Aa);b.update(c);return b}},{"./lib/closest-point":134,"./lib/shaders":135,colormap:73,"gl-buffer":108,"gl-mat4/invert":123,"gl-mat4/multiply":125,"gl-shader":144,"gl-texture2d":153,"gl-vao":157,ndarray:200,normals:202,"simplicial-complex-contour":243,"typedarray-pool":262}],
137:[function(b,p,l){l=b("glslify");var n=b("gl-shader"),g=l(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),k=l(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);p.exports=function(d){return n(d,g,k,null,[{name:"position",
type:"vec2"}])}},{"gl-shader":144,glslify:173}],138:[function(b,p,l){function n(){this.mouse=[-1,-1];this.screen=null;this.distance=Infinity;this.data=this.object=this.dataPosition=this.dataCoordinate=this.index=null}function g(a,c){var d=null;try{(d=a.getContext("webgl",c))||(d=a.getContext("experimental-webgl",c))}catch(A){return null}return d}function k(a){return"boolean"===typeof a?a:!0}p.exports=function(b){function v(){if(!F&&S.autoResize){var a=B.parentNode;if(a&&a!==document.body){var c=a.clientWidth;
a=a.clientHeight}else c=window.innerWidth,a=window.innerHeight;var d=Math.ceil(c*S.pixelRatio)|0,f=Math.ceil(a*S.pixelRatio)|0;if(d!==B.width||f!==B.height)B.width=d,B.height=f,d=B.style,d.position=d.position||"absolute",d.left="0px",d.top="0px",d.width=c+"px",d.height=a+"px",U=!0}}function C(){for(var a=M.length,c=P.length,d=0;d<c;++d)Q[d]=0;d=0;a:for(;d<a;++d){var f=M[d],e=f.pickSlots;if(e){for(var b=0;b<c;++b)if(255>Q[b]+e){Z[d]=b;f.setPickBase(Q[b]+1);Q[b]+=e;continue a}b=m(y,ea);Z[d]=c;P.push(b);
Q.push(e);f.setPickBase(1);c+=1}else Z[d]=-1}for(;0<c&&0===Q[c-1];)Q.pop(),P.pop().dispose()}function l(){if(S.contextLost)return!0;if(y.isContextLost()&&(S.contextLost=!0,S.mouseListener.enabled=!1,S.selection.object=null,S.oncontextloss))S.oncontextloss()}function D(){if(!l()){v();var a=S.camera.tick();T.view=S.camera.matrix;U=U||a;aa=aa||a;L.pixelRatio=S.pixelRatio;N.pixelRatio=S.pixelRatio;a=M.length;var c=X[0],d=X[1];c[0]=c[1]=c[2]=Infinity;d[0]=d[1]=d[2]=-Infinity;for(var b=0;b<a;++b){var g=
M[b];g.pixelRatio=S.pixelRatio;g.axes=S.axes;U=U||!!g.dirty;aa=aa||!!g.dirty;if(g=g.bounds){var h=g[0],k=g[1];for(g=0;3>g;++g)c[g]=Math.min(c[g],h[g]),d[g]=Math.max(d[g],k[g])}}h=S.bounds;if(S.autoBounds)for(g=0;3>g;++g)d[g]<c[g]?(c[g]=-1,d[g]=1):(c[g]===d[g]&&(--c[g],d[g]+=1),b=.05*(d[g]-c[g]),c[g]-=b,d[g]+=b),h[0][g]=c[g],h[1][g]=d[g];b=!1;for(g=0;3>g;++g)b=b||na[0][g]!==h[0][g]||na[1][g]!==h[1][g],na[0][g]=h[0][g],na[1][g]=h[1][g];aa=aa||b;if(U=U||b){if(b){c=[0,0,0];for(b=0;3>b;++b)d=b,g=(h[1][b]-
h[0][b])/10,k=Math.round(Math.log(Math.abs(g))/Math.log(10)),0>k?(k=Math.round(Math.pow(10,-k)),g=Math.ceil(g*k)/k):0<k?(k=Math.round(Math.pow(10,k)),g=Math.ceil(g/k)*k):g=Math.ceil(g),c[d]=g;L.autoTicks?L.update({bounds:h,tickSpacing:c}):L.update({bounds:h})}c=y.drawingBufferWidth;d=y.drawingBufferHeight;ea[0]=c;ea[1]=d;V[0]=Math.max(c/S.pixelRatio,1)|0;V[1]=Math.max(d/S.pixelRatio,1)|0;q(W,S.fovy,c/d,S.zNear,S.zFar);for(b=0;16>b;++b)R[b]=0;R[15]=1;for(b=g=0;3>b;++b)g=Math.max(g,h[1][b]-h[0][b]);
for(b=0;3>b;++b)R[5*b]=S.autoScale?S.aspect[b]/(h[1][b]-h[0][b]):1/g,S.autoCenter&&(R[12+b]=.5*-R[5*b]*(h[0][b]+h[1][b]));for(b=0;b<a;++b)g=M[b],g.axesBounds=h,S.clipToBounds&&(g.clipBounds=h);G.object&&(N.position=S.snapToData?G.dataCoordinate:G.dataPosition,N.bounds=h);if(aa&&(aa=!1,!l()))for(y.colorMask(!0,!0,!0,!0),y.depthMask(!0),y.disable(y.BLEND),y.enable(y.DEPTH_TEST),b=M.length,h=P.length,g=0;g<h;++g){k=P[g];k.shape=V;k.begin();for(var r=0;r<b;++r)if(Z[r]===g){var m=M[r];m.drawPick&&(m.pixelRatio=
1,m.drawPick(T))}k.end()}S.axesPixels=e(S.axes,T,c,d);if(S.onrender)S.onrender();y.bindFramebuffer(y.FRAMEBUFFER,null);y.viewport(0,0,c,d);b=S.clearColor;y.clearColor(b[0],b[1],b[2],b[3]);y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT);y.depthMask(!0);y.colorMask(!0,!0,!0,!0);y.enable(y.DEPTH_TEST);y.depthFunc(y.LEQUAL);y.disable(y.BLEND);y.disable(y.CULL_FACE);h=!1;L.enable&&(h=h||L.isTransparent(),L.draw(T));N.axes=L;G.object&&N.draw(T);y.disable(y.CULL_FACE);for(b=0;b<a;++b)g=M[b],g.axes=L,g.pixelRatio=
S.pixelRatio,g.isOpaque&&g.isOpaque()&&g.draw(T),g.isTransparent&&g.isTransparent()&&(h=!0);if(h){E.shape=ea;E.bind();y.clear(y.DEPTH_BUFFER_BIT);y.colorMask(!1,!1,!1,!1);y.depthMask(!0);y.depthFunc(y.LESS);L.enable&&L.isTransparent()&&L.drawTransparent(T);for(b=0;b<a;++b)g=M[b],g.isOpaque&&g.isOpaque()&&g.draw(T);y.enable(y.BLEND);y.blendEquation(y.FUNC_ADD);y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA);y.colorMask(!0,!0,!0,!0);y.depthMask(!1);y.clearColor(0,0,0,0);y.clear(y.COLOR_BUFFER_BIT);L.isTransparent()&&
L.drawTransparent(T);for(b=0;b<a;++b)g=M[b],g.isTransparent&&g.isTransparent()&&g.drawTransparent(T);y.bindFramebuffer(y.FRAMEBUFFER,null);y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA);y.disable(y.DEPTH_TEST);J.bind();E.color[0].bind(0);J.uniforms.accumBuffer=0;f(y);y.disable(y.BLEND)}U=!1;for(b=0;b<a;++b)M[b].dirty=!1}}}function p(){F||S.contextLost||(requestAnimationFrame(p),D())}b=b||{};var F=!1;b.pixelRatio||parseFloat(window.devicePixelRatio);var B=b.canvas;B||(B=document.createElement("canvas"),
b.container?b.container.appendChild(B):document.body.appendChild(B));var y=b.gl;y||(y=g(B,b.glOptions||{premultipliedAlpha:!0,antialias:!0}));if(!y)throw Error("webgl not supported");var w=b.bounds||[[-10,-10,-10],[10,10,10]],G=new n,E=t(y,[y.drawingBufferWidth,y.drawingBufferHeight],{preferFloat:!r}),J=a(y),K=b.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},H=b.axes||{},L=h(y,H);L.enable=!H.disable;var N=u(y,b.spikes||{}),M=[],Z=[],Q=[],P=[],U=!0,aa=!0,W=
Array(16),R=Array(16),T={view:null,projection:W,model:R};aa=!0;var ea=[y.drawingBufferWidth,y.drawingBufferHeight],S={gl:y,contextLost:!1,pixelRatio:b.pixelRatio||parseFloat(window.devicePixelRatio),canvas:B,selection:G,camera:d(B,K),axes:L,axesPixels:null,spikes:N,bounds:w,objects:M,shape:ea,aspect:b.aspectRatio||[1,1,1],pickRadius:b.pickRadius||10,zNear:b.zNear||.01,zFar:b.zFar||1E3,fovy:b.fovy||Math.PI/4,clearColor:b.clearColor||[0,0,0,0],autoResize:k(b.autoResize),autoBounds:k(b.autoBounds),autoScale:!!b.autoScale,
autoCenter:k(b.autoCenter),clipToBounds:k(b.clipToBounds),snapToData:!!b.snapToData,onselect:b.onselect||null,onrender:b.onrender||null,onclick:b.onclick||null,cameraParams:T,oncontextloss:null,mouseListener:null},V=[y.drawingBufferWidth/S.pixelRatio|0,y.drawingBufferHeight/S.pixelRatio|0];S.autoResize&&v();window.addEventListener("resize",v);S.update=function(a){F||(aa=U=!0)};S.add=function(a){F||(a.axes=L,M.push(a),Z.push(-1),aa=U=!0,C())};S.remove=function(a){F||(a=M.indexOf(a),0>a||(M.splice(a,
1),Z.pop(),aa=U=!0,C()))};S.dispose=function(){if(!F&&(F=!0,window.removeEventListener("resize",v),B.removeEventListener("webglcontextlost",l),S.mouseListener.enabled=!1,!S.contextLost)){L.dispose();N.dispose();for(var a=0;a<M.length;++a)M[a].dispose();E.dispose();for(a=0;a<P.length;++a)P[a].dispose();J.dispose();N=L=y=null;M=[]}};var ba=!1,ja=0;S.mouseListener=c(B,function(a,c,d){if(!F){var f=P.length,e=M.length,b=G.object;G.distance=Infinity;G.mouse[0]=c;G.mouse[1]=d;G.object=null;G.screen=null;
G.dataCoordinate=G.dataPosition=null;var g=!1;if(a&&ja)ba=!0;else{ba&&(aa=!0);ba=!1;for(var h=0;h<f;++h){var k=P[h].query(c,V[1]-d-1,S.pickRadius);if(k&&!(k.distance>G.distance))for(var r=0;r<e;++r){var q=M[r];if(Z[r]===h){var m=q.pick(k);m&&(G.buttons=a,G.screen=k.coord,G.distance=k.distance,G.object=q,G.index=m.distance,G.dataPosition=m.position,G.dataCoordinate=m.dataCoordinate,G.data=m,g=!0)}}}}b&&b!==G.object&&(b.highlight&&b.highlight(null),U=!0);G.object&&(G.object.highlight&&G.object.highlight(G.data),
U=!0);if((g=g||G.object!==b)&&S.onselect)S.onselect(G);if(a&1&&!(ja&1)&&S.onclick)S.onclick(G);ja=a}});B.addEventListener("webglcontextlost",l);var X=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]],na=[X[0].slice(),X[1].slice()];p();S.redraw=function(){F||(U=!0,D())};return S};var d=b("3d-view-controls"),h=b("gl-axes3d"),e=b("gl-axes3d/properties"),u=b("gl-spikes3d"),m=b("gl-select-static"),t=b("gl-fbo"),f=b("a-big-triangle"),c=b("mouse-change"),q=b("gl-mat4/perspective"),a=b("./lib/shader"),
r=b("is-mobile")()},{"./lib/shader":137,"3d-view-controls":18,"a-big-triangle":20,"gl-axes3d":100,"gl-axes3d/properties":107,"gl-fbo":113,"gl-mat4/perspective":126,"gl-select-static":143,"gl-spikes3d":152,"is-mobile":182,"mouse-change":192}],139:[function(b,p,l){p.exports=function(b,g,k,d){var h=g[0],e=g[1],n=g[2];g=g[3];var m=k[0],t=k[1],f=k[2];k=k[3];var c=h*m+e*t+n*f+g*k;0>c&&(c=-c,m=-m,t=-t,f=-f,k=-k);if(1E-6<1-c){var q=Math.acos(c);var a=Math.sin(q);c=Math.sin((1-d)*q)/a;d=Math.sin(d*q)/a}else c=
1-d;b[0]=c*h+d*m;b[1]=c*e+d*t;b[2]=c*n+d*f;b[3]=c*g+d*k;return b}},{}],140:[function(b,p,l){var n=b("vectorize-text");p.exports=function(b,d){var h=g[d];h||(h=g[d]={});if(b in h)return h[b];var e=n(b,{textAlign:"center",textBaseline:"middle",lineHeight:1,font:d});d=n(b,{triangles:!0,textAlign:"center",textBaseline:"middle",lineHeight:1,font:d});for(var k=[[Infinity,Infinity],[-Infinity,-Infinity]],m=0;m<e.positions.length;++m)for(var t=e.positions[m],f=0;2>f;++f)k[0][f]=Math.min(k[0][f],t[f]),k[1][f]=
Math.max(k[1][f],t[f]);return h[b]=[d,e,k]};var g={}},{"vectorize-text":265}],141:[function(b,p,l){function n(a,c){a=g(a,c);c=a.attributes;c.position.location=0;c.color.location=1;c.glyph.location=2;c.id.location=3;return a}var g=b("gl-shader"),k=b("glslify");b=k(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   || \n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n    \n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]);
p=k(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0])) || any(greaterThan(position, clipBounds[1]))) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n    \n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]);
var d=k(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(position, clipBounds[0]))   ||\n     any(greaterThan(position, clipBounds[1])) ) {\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),
h=k(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   ||\n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = interpColor * opacity;\n  }\n}\n"]);k=k(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if(any(lessThan(dataCoordinate, fragClipBounds[0]))   || \n     any(greaterThan(dataCoordinate, fragClipBounds[1])) ) {\n    discard;\n  } else {\n    gl_FragColor = vec4(pickGroup, pickId.bgr);\n  }\n}"]);
var e=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],u={vertex:b,fragment:h,attributes:e},m={vertex:p,fragment:h,attributes:e},t={vertex:d,fragment:h,attributes:e},f={vertex:b,fragment:k,attributes:e},c={vertex:p,fragment:k,attributes:e},q={vertex:d,fragment:k,attributes:e};l.createPerspective=function(a){return n(a,u)};l.createOrtho=function(a){return n(a,m)};l.createProject=function(a){return n(a,t)};l.createPickPerspective=function(a){return n(a,
f)};l.createPickOrtho=function(a){return n(a,c)};l.createPickProject=function(a){return n(a,q)}},{"gl-shader":144,glslify:173}],142:[function(b,p,l){function n(a,c){var d=a[0],f=a[1],e=a[2],b=a[3];a[0]=c[0]*d+c[4]*f+c[8]*e+c[12]*b;a[1]=c[1]*d+c[5]*f+c[9]*e+c[13]*b;a[2]=c[2]*d+c[6]*f+c[10]*e+c[14]*b;a[3]=c[3]*d+c[7]*f+c[11]*e+c[15]*b;return a}function g(a,c,d,f){n(f,f,d);n(f,f,c);return n(f,f,a)}function k(a,c){this.index=a;this.dataCoordinate=this.position=c}function d(a,c,d,f,e,b,g,h,r,q,m,t){this.gl=
a;this.pixelRatio=1;this.shader=c;this.orthoShader=d;this.projectShader=f;this.pointBuffer=e;this.colorBuffer=b;this.glyphBuffer=g;this.idBuffer=h;this.vao=r;this.lineVertexCount=this.vertexCount=0;this.opacity=1;this.lineWidth=0;this.projectScale=[2/3,2/3,2/3];this.projectOpacity=[1,1,1];this.pickId=0;this.pickPerspectiveShader=q;this.pickOrthoShader=m;this.pickProjectShader=t;this.points=[];this._selectResult=new k(0,[0,0,0]);this.useOrtho=!0;this.bounds=[[Infinity,Infinity,Infinity],[-Infinity,
-Infinity,-Infinity]];this.axesProject=[!0,!0,!0];this.axesBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.highlightId=[1,1,1,1];this.highlightScale=2;this.clipBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.dirty=!0}function h(a){a[0]=a[1]=a[2]=0;return a}function e(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=1;return a}function u(a,c,d,f){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[d]=f;return a}function m(a,c,d,f,b,k){var r=d.gl;d.vao.bind();if(b===1>d.opacity||
k)a.bind(),a=a.uniforms,a.model=f.model||v,a.view=f.view||v,a.projection=f.projection||v,x[0]=2/r.drawingBufferWidth,x[1]=2/r.drawingBufferHeight,a.screenSize=x,a.highlightId=d.highlightId,a.highlightScale=d.highlightScale,a.fragClipBounds=w,a.clipBounds=d.axes.bounds,a.opacity=d.opacity,a.pickGroup=d.pickId/255,a.pixelRatio=d.pixelRatio,d.vao.draw(r.TRIANGLES,d.vertexCount),0<d.lineWidth&&(r.lineWidth(d.lineWidth),d.vao.draw(r.LINES,d.lineVertexCount,d.vertexCount));r=d.axesProject;a=d.gl;k=c.uniforms;
var m=f.model||v,t=f.view||v;f=f.projection||v;for(var n=d.axesBounds,l=d.clipBounds,p=y,L=0;2>L;++L)for(var G=0;3>G;++G)p[L][G]=Math.max(Math.min(l[L][G],1E8),-1E8);l=d.axes&&d.axes.lastCubeProps?d.axes.lastCubeProps.axis:[1,1,1];x[0]=2/a.drawingBufferWidth;x[1]=2/a.drawingBufferHeight;c.bind();k.view=t;k.projection=f;k.screenSize=x;k.highlightId=d.highlightId;k.highlightScale=d.highlightScale;k.clipBounds=p;k.pickGroup=d.pickId/255;k.pixelRatio=d.pixelRatio;for(c=0;3>c;++c)if(r[c]&&1>d.projectOpacity[c]===
b){k.scale=d.projectScale[c];k.opacity=d.projectOpacity[c];L=F;for(var E=0;16>E;++E)L[E]=0;for(E=0;4>E;++E)L[5*E]=1;L[5*c]=0;L[12+c]=0>l[c]?n[0][c]:n[1][c];q(L,m,L);k.model=L;L=(c+1)%3;G=(c+2)%3;var H=h(C),K=h(A);H[L]=1;K[G]=1;E=g(f,t,m,e(D,H));var J=g(f,t,m,e(z,K));if(Math.abs(E[1])>Math.abs(J[1])){var V=E;E=J;J=V;V=H;H=K;K=V;V=L;L=G;G=V}0>E[0]&&(H[L]=-1);0<J[1]&&(K[G]=-1);for(E=V=J=0;4>E;++E)J+=Math.pow(m[4*L+E],2),V+=Math.pow(m[4*G+E],2);H[L]/=Math.sqrt(J);K[G]/=Math.sqrt(V);k.axes[0]=H;k.axes[1]=
K;k.fragClipBounds[0]=u(B,p[0],c,-1E8);k.fragClipBounds[1]=u(B,p[1],c,1E8);d.vao.draw(a.TRIANGLES,d.vertexCount);0<d.lineWidth&&(a.lineWidth(d.lineWidth),d.vao.draw(a.LINES,d.lineVertexCount,d.vertexCount))}d.vao.unbind()}var t=b("gl-buffer"),f=b("gl-vao"),c=b("typedarray-pool"),q=b("gl-mat4/multiply"),a=b("./lib/shaders"),r=b("./lib/glyphs"),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];p.exports=function(c){var e=c.gl,b=a.createPerspective(e),g=a.createOrtho(e),h=a.createProject(e),k=a.createPickPerspective(e),
r=a.createPickOrtho(e),q=a.createPickProject(e),m=t(e),v=t(e),n=t(e),u=t(e),x=f(e,[{buffer:m,size:3,type:e.FLOAT},{buffer:v,size:4,type:e.FLOAT},{buffer:n,size:2,type:e.FLOAT},{buffer:u,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]);e=new d(e,b,g,h,m,v,n,u,x,k,r,q);e.update(c);return e};b=d.prototype;b.pickSlots=1;b.setPickBase=function(a){this.pickId=a};b.isTransparent=function(){if(1>this.opacity)return!0;for(var a=0;3>a;++a)if(this.axesProject[a]&&1>this.projectOpacity[a])return!0;return!1};b.isOpaque=
function(){if(1<=this.opacity)return!0;for(var a=0;3>a;++a)if(this.axesProject[a]&&1<=this.projectOpacity[a])return!0;return!1};var x=[0,0],C=[0,0,0],A=[0,0,0],D=[0,0,0,1],z=[0,0,0,1],F=v.slice(),B=[0,0,0],y=[[0,0,0],[0,0,0]],w=[[-1E8,-1E8,-1E8],[1E8,1E8,1E8]];b.draw=function(a){m(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,a,!1,!1)};b.drawTransparent=function(a){m(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,a,!0,!1)};b.drawPick=function(a){m(this.useOrtho?
this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,a,!1,!0)};b.pick=function(a){if(!a||a.id!==this.pickId)return null;var c=a.value[2]+(a.value[1]<<8)+(a.value[0]<<16);if(c>=this.pointCount||0>c)return null;a=this.points[c];var d=this._selectResult;d.index=c;for(c=0;3>c;++c)d.position[c]=d.dataCoordinate[c]=a[c];return d};b.highlight=function(a){a?(a=a.index,this.highlightId=[(a&255)/255,(a>>8&255)/255,(a>>16&255)/255,0]):this.highlightId=[1,1,1,1]};b.update=function(a){a=
a||{};"perspective"in a&&(this.useOrtho=!a.perspective);"orthographic"in a&&(this.useOrtho=!!a.orthographic);"lineWidth"in a&&(this.lineWidth=a.lineWidth);if("project"in a)if(Array.isArray(a.project))this.axesProject=a.project;else{var d=!!a.project;this.axesProject=[d,d,d]}"projectScale"in a&&(Array.isArray(a.projectScale)?this.projectScale=a.projectScale.slice():(d=+a.projectScale,this.projectScale=[d,d,d]));"projectOpacity"in a&&(Array.isArray(a.projectOpacity)?this.projectOpacity=a.projectOpacity.slice():
(d=+a.projectOpacity,this.projectOpacity=[d,d,d]));"opacity"in a&&(this.opacity=a.opacity);this.dirty=!0;if(d=a.position){var f=a.font||"normal",e=a.alignment||[0,0],b=[Infinity,Infinity,Infinity],g=[-Infinity,-Infinity,-Infinity],h=a.glyph,k=a.color,q=a.size,m=a.angle;a=a.lineColor;var t=0,v=0,n=0,u=d.length,x=0;a:for(;x<u;++x){for(var C=d[x],w=0;3>w;++w)if(isNaN(C[w])||!isFinite(C[w]))continue a;w=Array.isArray(h)?r(h[x],f):h?r(h,f):r("\u25cf",f);var l=w[0],A=w[1];v+=3*l.cells.length;n+=2*A.edges.length}x=
v+n;var B=c.mallocFloat(3*x),D=c.mallocFloat(4*x),p=c.mallocFloat(2*x),z=c.mallocUint32(x),y=[0,e[1]],G=0,F=v,Y=[0,0,0,1],ca=[0,0,0,1],la=Array.isArray(k)&&Array.isArray(k[0]),sa=Array.isArray(a)&&Array.isArray(a[0]);x=0;a:for(;x<u;++x){C=d[x];for(w=0;3>w;++w){if(isNaN(C[w])||!isFinite(C[w])){t+=1;continue a}g[w]=Math.max(g[w],C[w]);b[w]=Math.min(b[w],C[w])}w=Array.isArray(h)?r(h[x],f):h?r(h,f):r("\u25cf",f);l=w[0];A=w[1];var da=w[2];if(Array.isArray(k)){var pa=la?k[x]:k;if(3===pa.length){for(w=0;3>
w;++w)Y[w]=pa[w];Y[3]=1}else if(4===pa.length)for(w=0;4>w;++w)Y[w]=pa[w]}else Y[0]=Y[1]=Y[2]=0,Y[3]=1;if(Array.isArray(a))if(pa=sa?a[x]:a,3===pa.length){for(w=0;3>w;++w)ca[w]=pa[w];ca[w]=1}else{if(4===pa.length)for(w=0;4>w;++w)ca[w]=pa[w]}else ca[0]=ca[1]=ca[2]=0,ca[3]=1;pa=.5;Array.isArray(q)?pa=+q[x]:q?pa=+q:this.useOrtho&&(pa=12);w=0;Array.isArray(m)?w=+m[x]:m&&(w=+m);var ya=Math.cos(w),fa=Math.sin(w);C=d[x];for(w=0;3>w;++w)g[w]=Math.max(g[w],C[w]),b[w]=Math.min(b[w],C[w]);0>e[0]?y[0]=e[0]*(1+
da[1][0]):0<e[0]&&(y[0]=-e[0]*(1+da[0][0]));da=l.cells;l=l.positions;for(w=0;w<da.length;++w)for(var ha=da[w],qa=0;3>qa;++qa){for(var ra=0;3>ra;++ra)B[3*G+ra]=C[ra];for(ra=0;4>ra;++ra)D[4*G+ra]=Y[ra];z[G]=t;ra=l[ha[qa]];p[2*G]=pa*(ya*ra[0]-fa*ra[1]+y[0]);p[2*G+1]=pa*(fa*ra[0]+ya*ra[1]+y[1]);G+=1}da=A.edges;l=A.positions;for(w=0;w<da.length;++w)for(ha=da[w],qa=0;2>qa;++qa){for(ra=0;3>ra;++ra)B[3*F+ra]=C[ra];for(ra=0;4>ra;++ra)D[4*F+ra]=ca[ra];z[F]=t;ra=l[ha[qa]];p[2*F]=pa*(ya*ra[0]-fa*ra[1]+y[0]);
p[2*F+1]=pa*(fa*ra[0]+ya*ra[1]+y[1]);F+=1}t+=1}this.vertexCount=v;this.lineVertexCount=n;this.pointBuffer.update(B);this.colorBuffer.update(D);this.glyphBuffer.update(p);this.idBuffer.update(new Uint32Array(z));c.free(B);c.free(D);c.free(p);c.free(z);this.bounds=[b,g];this.points=d;this.pointCount=d.length}};b.dispose=function(){this.shader.dispose();this.orthoShader.dispose();this.pickPerspectiveShader.dispose();this.pickOrthoShader.dispose();this.vao.dispose();this.pointBuffer.dispose();this.colorBuffer.dispose();
this.glyphBuffer.dispose();this.idBuffer.dispose()}},{"./lib/glyphs":140,"./lib/shaders":141,"gl-buffer":108,"gl-mat4/multiply":125,"gl-vao":157,"typedarray-pool":262}],143:[function(b,p,l){function n(d,e,f,c,b){this.coord=[d,e];this.id=f;this.value=c;this.distance=b}function g(d,e,f){this.gl=d;this.fbo=e;this.buffer=f;this._readTimeout=null;var c=this;this._readCallback=function(){c.gl&&(e.bind(),d.readPixels(0,0,e.shape[0],e.shape[1],d.RGBA,d.UNSIGNED_BYTE,c.buffer),c._readTimeout=null)}}p.exports=
function(e,b){var f=k(e,b);b=d.mallocUint8(b[0]*b[1]*4);return new g(e,f,b)};var k=b("gl-fbo"),d=b("typedarray-pool"),h=b("ndarray"),e=b("bit-twiddle").nextPow2,u=b("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_1_arg0_<255||_inline_1_arg1_<255||_inline_1_arg2_<255||_inline_1_arg3_<255){var _inline_1_l=_inline_1_arg4_-_inline_1_arg6_[0],_inline_1_a=_inline_1_arg5_-_inline_1_arg6_[1],_inline_1_f=_inline_1_l*_inline_1_l+_inline_1_a*_inline_1_a;_inline_1_f<this_closestD2&&(this_closestD2=_inline_1_f,this_closestX=_inline_1_arg6_[0],this_closestY=_inline_1_arg6_[1])}}",
args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_1_a","_inline_1_f","_inline_1_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",
args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});b=g.prototype;Object.defineProperty(b,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(b){if(this.gl){this.fbo.shape=b;var g=this.fbo.shape[0],f=this.fbo.shape[1];if(f*g*4>this.buffer.length){d.free(this.buffer);for(var c=this.buffer=d.mallocUint8(e(f*g*4)),h=0;h<f*g*4;++h)c[h]=255}return b}}});b.begin=function(){var d=this.gl;d&&(this.fbo.bind(),
d.clearColor(1,1,1,1),d.clear(d.COLOR_BUFFER_BIT|d.DEPTH_BUFFER_BIT))};b.end=function(){var d=this.gl;d&&(d.bindFramebuffer(d.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))};b.query=function(d,e,f){if(!this.gl)return null;var c=this.fbo.shape.slice();d|=0;e|=0;"number"!==typeof f&&(f=1);var b=Math.min(Math.max(d-f,0),c[0])|0,a=Math.min(Math.max(d+f,0),c[0])|0;d=Math.min(Math.max(e-f,0),c[1])|0;e=Math.min(Math.max(e+f,0),c[1])|
0;if(a<=b||e<=d)return null;e=[a-b,e-d];c=h(this.buffer,[e[0],e[1],4],[4,4*c[0],1],4*(b+c[0]*d));f=u(c.hi(e[0],e[1],1),f,f);e=f[0];a=f[1];if(0>e||Math.pow(this.radius,2)<f[2])return null;var g=c.get(e,a,0),k=c.get(e,a,1),m=c.get(e,a,2);c=c.get(e,a,3);return new n(e+b|0,a+d|0,g,[k,m,c],Math.sqrt(f[2]))};b.dispose=function(){this.gl&&(this.fbo.dispose(),d.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":44,"cwise/lib/wrapper":85,"gl-fbo":113,ndarray:200,
"typedarray-pool":262}],144:[function(b,p,l){function n(d){this.gl=d;this.gl.lastAttribCount=0;this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function g(d,f){return d.name<f.name?-1:1}var k=b("./lib/create-uniforms"),d=b("./lib/create-attributes"),h=b("./lib/reflect"),e=b("./lib/shader-cache"),u=b("./lib/runtime-reflect"),m=b("./lib/GLError");b=n.prototype;b.bind=function(){this.program||this._relink();var d,f=this.gl.getProgramParameter(this.program,
this.gl.ACTIVE_ATTRIBUTES),c=this.gl.lastAttribCount;if(f>c)for(d=c;d<f;d++)this.gl.enableVertexAttribArray(d);else if(c>f)for(d=f;d<c;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=f;this.gl.useProgram(this.program)};b.dispose=function(){for(var d=this.gl.lastAttribCount,f=0;f<d;f++)this.gl.disableVertexAttribArray(f);this.gl.lastAttribCount=0;this._fref&&this._fref.dispose();this._vref&&this._vref.dispose();this.attributes=this.types=this.vertShader=this.fragShader=this.program=
this._relink=this._fref=this._vref=null};b.update=function(b,f,c,q){function a(){t.program=e.program(n,t._vref,t._fref,C,l);for(var a=0;a<c.length;++a)w[a]=n.getUniformLocation(t.program,c[a].name)}if(!f||1===arguments.length){var r=b;b=r.vertex;f=r.fragment;c=r.uniforms;q=r.attributes}var t=this,n=t.gl;r=t._vref;t._vref=e.shader(n,n.VERTEX_SHADER,b);r&&r.dispose();t.vertShader=t._vref.shader;r=this._fref;t._fref=e.shader(n,n.FRAGMENT_SHADER,f);r&&r.dispose();t.fragShader=t._fref.shader;if(!c||!q){r=
n.createProgram();n.attachShader(r,t.fragShader);n.attachShader(r,t.vertShader);n.linkProgram(r);if(!n.getProgramParameter(r,n.LINK_STATUS))throw r=n.getProgramInfoLog(r),new m(r,"Error linking program:"+r);c=c||u.uniforms(n,r);q=q||u.attributes(n,r);n.deleteProgram(r)}q=q.slice();q.sort(g);r=[];var C=[],l=[],D;for(D=0;D<q.length;++D){var p=q[D];if(0<=p.type.indexOf("mat")){for(var F=p.type.charAt(p.type.length-1)|0,B=Array(F),y=0;y<F;++y)B[y]=l.length,C.push(p.name+"["+y+"]"),"number"===typeof p.location?
l.push(p.location+y):Array.isArray(p.location)&&p.location.length===F&&"number"===typeof p.location[y]?l.push(p.location[y]|0):l.push(-1);r.push({name:p.name,type:p.type,locations:B})}else r.push({name:p.name,type:p.type,locations:[l.length]}),C.push(p.name),"number"===typeof p.location?l.push(p.location|0):l.push(-1)}for(D=p=0;D<l.length;++D)if(0>l[D]){for(;0<=l.indexOf(p);)p+=1;l[D]=p}var w=Array(c.length);a();t._relink=a;t.types={uniforms:h(c),attributes:h(q)};t.attributes=d(n,t,r,l);Object.defineProperty(t,
"uniforms",k(n,t,c,w))};p.exports=function(d,f,c,e,a){d=new n(d);d.update(f,c,e,a);return d}},{"./lib/GLError":145,"./lib/create-attributes":146,"./lib/create-uniforms":147,"./lib/reflect":148,"./lib/runtime-reflect":149,"./lib/shader-cache":150}],145:[function(b,p,l){function n(b,k,d){this.shortMessage=k||"";this.longMessage=d||"";this.rawError=b||"";this.message="gl-shader: "+(k||b||"")+(d?"\n"+d:"");this.stack=Error().stack}n.prototype=Error();n.prototype.name="GLError";n.prototype.constructor=
n;p.exports=n},{}],146:[function(b,p,l){function n(d,e,b,g,k,f){this._gl=d;this._wrapper=e;this._index=b;this._locations=g;this._dimension=k;this._constFunc=f}function g(d,e,b,g,k,f,c){for(var h=["gl","v"],a=[],r=0;r<k;++r)h.push("x"+r),a.push("x"+r);h.push("if(x0.length===void 0){return gl.vertexAttrib"+k+"f(v,"+a.join()+")}else{return gl.vertexAttrib"+k+"fv(v,x0)}");var m=Function.apply(null,h),t=new n(d,e,b,g,k,m);Object.defineProperty(f,c,{set:function(a){d.disableVertexAttribArray(g[b]);m(d,
g[b],a);return a},get:function(){return t},enumerable:!0})}function k(d,e,b,k,t,f,c){for(var h=Array(t),a=Array(t),r=0;r<t;++r)g(d,e,b[r],k,t,h,r),a[r]=h[r];Object.defineProperty(h,"location",{set:function(c){if(Array.isArray(c))for(var d=0;d<t;++d)a[d].location=c[d];else for(d=0;d<t;++d)a[d].location=c+d;return c},get:function(){for(var a=Array(t),c=0;c<t;++c)a[c]=k[b[c]];return a},enumerable:!0});h.pointer=function(a,c,f,e){a=a||d.FLOAT;c=!!c;f=f||t*t;e=e||0;for(var g=0;g<t;++g){var h=k[b[g]];d.vertexAttribPointer(h,
t,a,c,f,e+g*t);d.enableVertexAttribArray(h)}};var m=Array(t),n=d["vertexAttrib"+t+"fv"];Object.defineProperty(f,c,{set:function(a){for(var c=0;c<t;++c){var f=k[b[c]];d.disableVertexAttribArray(f);if(Array.isArray(a[0]))n.call(d,f,a[c]);else{for(var e=0;e<t;++e)m[e]=a[t*c+e];n.call(d,f,m)}}return a},get:function(){return h},enumerable:!0})}p.exports=function(b,e,n,m){for(var h={},f=0,c=n.length;f<c;++f){var q=n[f],a=q.name,r=q.type;q=q.locations;switch(r){case "bool":case "int":case "float":g(b,e,
q[0],m,1,h,a);break;default:if(0<=r.indexOf("vec")){var v=r.charCodeAt(r.length-1)-48;if(2>v||4<v)throw new d("","Invalid data type for attribute "+a+": "+r);g(b,e,q[0],m,v,h,a)}else if(0<=r.indexOf("mat")){v=r.charCodeAt(r.length-1)-48;if(2>v||4<v)throw new d("","Invalid data type for attribute "+a+": "+r);k(b,e,q,m,v,h,a)}else throw new d("","Unknown data type for attribute "+a+": "+r);}}return h};var d=b("./GLError");b=n.prototype;b.pointer=function(d,e,b,g){var h=this._gl,f=this._locations[this._index];
h.vertexAttribPointer(f,this._dimension,d||h.FLOAT,!!e,b||0,g||0);h.enableVertexAttribArray(f)};b.set=function(d,e,b,g){return this._constFunc(this._locations[this._index],d,e,b,g)};Object.defineProperty(b,"location",{get:function(){return this._locations[this._index]},set:function(d){d!==this._locations[this._index]&&(this._locations[this._index]=d|0,this._wrapper.program=null);return d|0}})},{"./GLError":145}],147:[function(b,p,l){function n(d){return(new Function("y","return function(){return y}"))(d)}
function g(d,e){for(var b=Array(d),g=0;g<d;++g)b[g]=e;return b}var k=b("./reflect"),d=b("./GLError");p.exports=function(b,e,u,m){function h(a,c,f){switch(f){case "bool":case "int":case "sampler2D":case "samplerCube":return"gl.uniform1i(locations["+c+"],obj"+a+")";case "float":return"gl.uniform1f(locations["+c+"],obj"+a+")";default:var e=f.indexOf("vec");if(0<=e&&1>=e&&f.length===4+e){e=f.charCodeAt(f.length-1)-48;if(2>e||4<e)throw new d("","Invalid data type");switch(f.charAt(0)){case "b":case "i":return"gl.uniform"+
e+"iv(locations["+c+"],obj"+a+")";case "v":return"gl.uniform"+e+"fv(locations["+c+"],obj"+a+")";default:throw new d("","Unrecognized data type for vector "+name+": "+f);}}else{if(0===f.indexOf("mat")&&4===f.length){e=f.charCodeAt(f.length-1)-48;if(2>e||4<e)throw new d("","Invalid uniform dimension type for matrix "+name+": "+f);return"gl.uniformMatrix"+e+"fv(locations["+c+"],false,obj"+a+")"}throw new d("","Unknown uniform data type for "+name+": "+f);}}}function f(a,c){if("object"!==typeof c)return[[a,
c]];var d=[],e;for(e in c){var b=c[e],g=a;g=parseInt(e)+""===e?g+("["+e+"]"):g+("."+e);"object"===typeof b?d.push.apply(d,f(g,b)):d.push([g,b])}return d}function c(a){var c=["return function updateProperty(obj){"];a=f("",a);for(var d=0;d<a.length;++d){var e=a[d],g=e[0];e=e[1];m[e]&&c.push(h(g,e,u[e].type))}c.push("return obj}");return(new Function("gl","locations",c.join("\n")))(b,m)}function q(a){switch(a){case "bool":return!1;case "int":case "sampler2D":case "samplerCube":return 0;case "float":return 0;
default:var c=a.indexOf("vec");if(0<=c&&1>=c&&a.length===4+c){c=a.charCodeAt(a.length-1)-48;if(2>c||4<c)throw new d("","Invalid data type");return"b"===a.charAt(0)?g(c,!1):g(c,0)}if(0===a.indexOf("mat")&&4===a.length){c=a.charCodeAt(a.length-1)-48;if(2>c||4<c)throw new d("","Invalid uniform dimension type for matrix "+name+": "+a);return g(c*c,0)}throw new d("","Unknown uniform data type for "+name+": "+a);}}function a(a,d,f){if("object"===typeof f){var g=r(f);Object.defineProperty(a,d,{get:n(g),
set:c(f),enumerable:!0,configurable:!1})}else m[f]?Object.defineProperty(a,d,{get:(new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+f+"])}"))(b,e,m),set:c(f),enumerable:!0,configurable:!1}):a[d]=q(u[f].type)}function r(c){if(Array.isArray(c)){var d=Array(c.length);for(var f=0;f<c.length;++f)a(d,f,c[f])}else for(f in d={},c)a(d,f,c[f]);return d}var v=k(u,!0);return{get:n(r(v)),set:c(v),enumerable:!0,configurable:!0}}},{"./GLError":145,"./reflect":148}],
148:[function(b,p,l){p.exports=function(b,g){for(var k={},d=0;d<b.length;++d)for(var h=b[d].name.split("."),e=k,n=0;n<h.length;++n){var m=h[n].split("[");if(1<m.length){m[0]in e||(e[m[0]]=[]);e=e[m[0]];for(var t=1;t<m.length;++t){var f=parseInt(m[t]);t<m.length-1||n<h.length-1?(f in e||(e[f]=t<m.length-1?[]:{}),e=e[f]):e[f]=g?d:b[d].type}}else n<h.length-1?(m[0]in e||(e[m[0]]={}),e=e[m[0]]):e[m[0]]=g?d:b[d].type}return k}},{}],149:[function(b,p,l){function n(d,b){if(!k){var e=Object.keys(g);k={};
for(var h=0;h<e.length;++h){var m=e[h];k[d[m]]=g[m]}}return k[b]}l.uniforms=function(d,b){for(var e=d.getProgramParameter(b,d.ACTIVE_UNIFORMS),g=[],h=0;h<e;++h){var k=d.getActiveUniform(b,h);if(k){var f=n(d,k.type);if(1<k.size)for(var c=0;c<k.size;++c)g.push({name:k.name.replace("[0]","["+c+"]"),type:f});else g.push({name:k.name,type:f})}}return g};l.attributes=function(d,b){for(var e=d.getProgramParameter(b,d.ACTIVE_ATTRIBUTES),g=[],h=0;h<e;++h){var k=d.getActiveAttrib(b,h);k&&g.push({name:k.name,
type:n(d,k.type)})}return g};var g={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},k=null},{}],150:[function(b,p,l){function n(d,e,f,c,b,a,g){this.id=d;this.src=e;this.type=f;this.shader=c;this.count=a;this.programs=[];this.cache=g}function g(d){this.gl=
d;this.shaders=[{},{}];this.programs={}}function k(d){var b=e.get(d);b||(b=new g(d),e.set(d,b));return b}l.shader=function(d,e,f){return k(d).getShaderReference(e,f)};l.program=function(d,e,f,c,b){return k(d).getProgram(e,f,c,b)};var d=b("./GLError"),h=b("gl-format-compiler-error"),e=new ("undefined"===typeof WeakMap?b("weakmap-shim"):WeakMap),u=0;n.prototype.dispose=function(){if(0===--this.count){for(var d=this.cache,e=d.gl,f=this.programs,c=0,b=f.length;c<b;++c){var a=d.programs[f[c]];a&&(delete d.programs[c],
e.deleteProgram(a))}e.deleteShader(this.shader);delete d.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};b=g.prototype;b.getShaderReference=function(e,b){var f=this.gl,c=this.shaders[e===f.FRAGMENT_SHADER|0],g=c[b];if(g&&f.isShader(g.shader))g.count+=1;else{g=f.createShader(e);f.shaderSource(g,b);f.compileShader(g);if(!f.getShaderParameter(g,f.COMPILE_STATUS)){f=f.getShaderInfoLog(g);try{var a=h(f,b,e)}catch(r){throw console.warn("Failed to format compiler error: "+r),new d(f,"Error compiling shader:\n"+
f);}throw new d(f,a.short,a.long);}g=c[b]=new n(u++,b,e,g,[],1,this)}return g};b.getProgram=function(e,b,f,c){var g=[e.id,b.id,f.join(":"),c.join(":")].join("@"),a=this.programs[g];if(!a||!this.gl.isProgram(a)){a=this.programs;var h=this.gl,k=e.shader,m=b.shader,t=h.createProgram();h.attachShader(t,k);h.attachShader(t,m);for(k=0;k<f.length;++k)h.bindAttribLocation(t,c[k],f[k]);h.linkProgram(t);if(!h.getProgramParameter(t,h.LINK_STATUS))throw e=h.getProgramInfoLog(t),new d(e,"Error linking program: "+
e);a[g]=a=t;e.programs.push(g);b.programs.push(g)}return a}},{"./GLError":145,"gl-format-compiler-error":114,"weakmap-shim":270}],151:[function(b,p,l){l=b("glslify");var n=b("gl-shader"),g=l(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),
k=l(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);p.exports=function(d){return n(d,g,k,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":144,glslify:173}],152:[function(b,p,l){function n(d,f,c,e){this.gl=d;this.buffer=f;this.vao=c;this.shader=e;this.pixelRatio=1;this.bounds=[[-1E3,-1E3,-1E3],[1E3,1E3,1E3]];this.position=[0,0,0];this.lineWidth=[2,2,2];this.colors=
[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.enabled=[!0,!0,!0];this.drawSides=[!0,!0,!0];this.axes=null}var g=b("gl-buffer"),k=b("gl-vao"),d=b("./shaders/index");p.exports=function(e,f){function c(a,c,d,f,e,g){a=[a,c,d,0,0,0,1];a[f+3]=1;a[f]=e;b.push.apply(b,a);a[6]=-1;b.push.apply(b,a);a[f]=g;b.push.apply(b,a);b.push.apply(b,a);a[6]=1;b.push.apply(b,a);a[f]=e;b.push.apply(b,a)}var b=[];c(0,0,0,0,0,1);c(0,0,0,1,0,1);c(0,0,0,2,0,1);c(1,0,0,1,-1,1);c(1,0,0,2,-1,1);c(0,1,0,0,-1,1);c(0,1,0,2,-1,1);c(0,0,1,0,
-1,1);c(0,0,1,1,-1,1);var a=g(e,b),h=k(e,[{type:e.FLOAT,buffer:a,size:3,offset:0,stride:28},{type:e.FLOAT,buffer:a,size:3,offset:12,stride:28},{type:e.FLOAT,buffer:a,size:1,offset:24,stride:28}]),m=d(e);m.attributes.position.location=0;m.attributes.color.location=1;m.attributes.weight.location=2;e=new n(e,a,h,m);e.update(f);return e};var h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];b=n.prototype;var e=[0,0,0],u=[0,0,0],m=[0,0];b.isTransparent=function(){return!1};b.drawTransparent=function(d){};b.draw=function(d){var f=
this.gl,c=this.vao,b=this.shader;c.bind();b.bind();var a=d.model||h,g=d.view||h;d=d.projection||h;if(this.axes)var k=this.axes.lastCubeProps.axis;for(var t=0;3>t;++t)k&&0>k[t]?(e[t]=this.bounds[0][t],u[t]=this.bounds[1][t]):(e[t]=this.bounds[1][t],u[t]=this.bounds[0][t]);m[0]=f.drawingBufferWidth;m[1]=f.drawingBufferHeight;b.uniforms.model=a;b.uniforms.view=g;b.uniforms.projection=d;b.uniforms.coordinates=[this.position,e,u];b.uniforms.colors=this.colors;b.uniforms.screenShape=m;for(t=0;3>t;++t)b.uniforms.lineWidth=
this.lineWidth[t]*this.pixelRatio,this.enabled[t]&&(c.draw(f.TRIANGLES,6,6*t),this.drawSides[t]&&c.draw(f.TRIANGLES,12,18+12*t));c.unbind()};b.update=function(d){d&&("bounds"in d&&(this.bounds=d.bounds),"position"in d&&(this.position=d.position),"lineWidth"in d&&(this.lineWidth=d.lineWidth),"colors"in d&&(this.colors=d.colors),"enabled"in d&&(this.enabled=d.enabled),"drawSides"in d&&(this.drawSides=d.drawSides))};b.dispose=function(){this.vao.dispose();this.buffer.dispose();this.shader.dispose()}},
{"./shaders/index":151,"gl-buffer":108,"gl-vao":157}],153:[function(b,p,l){function n(a){return"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&a instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&a instanceof ImageData}function g(a,c,d){var f=a.gl,e=f.getParameter(f.MAX_TEXTURE_SIZE);if(0>c||c>e||0>d||d>e)throw Error("gl-texture2d: Invalid texture size");a._shape=
[c,d];a.bind();f.texImage2D(f.TEXTURE_2D,0,a.format,c,d,0,a.format,a.type,null);a._mipLevels=[0];return a}function k(a,c,d,f,e,b){this.gl=a;this.handle=c;this.format=e;this.type=b;this._shape=[d,f];this._mipLevels=[0];this._minFilter=this._magFilter=a.NEAREST;this._wrapT=this._wrapS=a.CLAMP_TO_EDGE;this._anisoSamples=1;var g=this;a=[this._wrapS,this._wrapT];Object.defineProperties(a,[{get:function(){return g._wrapS},set:function(a){return g.wrapS=a}},{get:function(){return g._wrapT},set:function(a){return g.wrapT=
a}}]);this._wrapVector=a;a=[this._shape[0],this._shape[1]];Object.defineProperties(a,[{get:function(){return g._shape[0]},set:function(a){return g.width=a}},{get:function(){return g._shape[1]},set:function(a){return g.height=a}}]);this._shapeVector=a}function d(a,c){return 3===a.length?1===c[2]&&c[1]===a[0]*a[2]&&c[0]===a[2]:1===c[0]&&c[1]===a[0]}function h(a){var c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MAG_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);return c}function e(a,c,d,f,e){var b=a.getParameter(a.MAX_TEXTURE_SIZE);if(0>c||c>b||0>d||d>b)throw Error("gl-texture2d: Invalid texture shape");if(e===a.FLOAT&&!a.getExtension("OES_texture_float"))throw Error("gl-texture2d: Floating point textures not supported on this platform");b=h(a);a.texImage2D(a.TEXTURE_2D,0,f,c,d,0,f,e,null);return new k(a,
b,c,d,f,e)}var u=b("ndarray"),m=b("ndarray-ops"),t=b("typedarray-pool");p.exports=function(a){if(1>=arguments.length)throw Error("gl-texture2d: Missing arguments for texture2d constructor");f||(f=[a.LINEAR,a.NEAREST_MIPMAP_LINEAR,a.LINEAR_MIPMAP_NEAREST,a.LINEAR_MIPMAP_NEAREST],c=[a.NEAREST,a.LINEAR,a.NEAREST_MIPMAP_NEAREST,a.NEAREST_MIPMAP_LINEAR,a.LINEAR_MIPMAP_NEAREST,a.LINEAR_MIPMAP_LINEAR],q=[a.REPEAT,a.CLAMP_TO_EDGE,a.MIRRORED_REPEAT]);if("number"===typeof arguments[1])return e(a,arguments[1],
arguments[2],arguments[3]||a.RGBA,arguments[4]||a.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return e(a,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||a.RGBA,arguments[3]||a.UNSIGNED_BYTE);if("object"===typeof arguments[1]){var b=arguments[1],g=n(b)?b:b.raw;if(g){var x=b.width|0;b=b.height|0;var C=arguments[2]||a.RGBA,l=arguments[3]||a.UNSIGNED_BYTE,p=h(a);a.texImage2D(a.TEXTURE_2D,0,C,C,l,g);return new k(a,p,x,b,C,l)}if(b.shape&&b.data&&b.stride){p=b;var z=p.dtype;g=p.shape.slice();b=a.getParameter(a.MAX_TEXTURE_SIZE);
if(0>g[0]||g[0]>b||0>g[1]||g[1]>b)throw Error("gl-texture2d: Invalid texture size");b=d(g,p.stride.slice());"float32"===z?C=a.FLOAT:"float64"===z?(C=a.FLOAT,b=!1,z="float32"):"uint8"===z?C=a.UNSIGNED_BYTE:(C=a.UNSIGNED_BYTE,b=!1,z="uint8");if(2===g.length)l=a.LUMINANCE,g=[g[0],g[1],1],p=u(p.data,g,[p.stride[0],p.stride[1],1],p.offset);else if(3===g.length)if(1===g[2])l=a.ALPHA;else if(2===g[2])l=a.LUMINANCE_ALPHA;else if(3===g[2])l=a.RGB;else if(4===g[2])l=a.RGBA;else throw Error("gl-texture2d: Invalid shape for pixel coords");
else throw Error("gl-texture2d: Invalid shape for texture");C!==a.FLOAT||a.getExtension("OES_texture_float")||(C=a.UNSIGNED_BYTE,b=!1);var F=p.size;if(b)p=0===p.offset&&p.data.length===F?p.data:p.data.subarray(p.offset,p.offset+F);else{var B=[g[2],g[2]*g[0],1];x=t.malloc(F,z);B=u(x,g,B,0);"float32"!==z&&"float64"!==z||C!==a.UNSIGNED_BYTE?m.assign(B,p):m.muls(B,p,255);p=x.subarray(0,F)}z=h(a);a.texImage2D(a.TEXTURE_2D,0,l,g[0],g[1],0,l,C,p);b||t.free(x);return new k(a,z,g[0],g[1],l,C)}}throw Error("gl-texture2d: Invalid arguments for texture2d constructor");
};var f=null,c=null,q=null;b=k.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(a){this.bind();var d=this.gl;this.type===d.FLOAT&&0<=f.indexOf(a)&&!d.getExtension("OES_texture_float_linear")&&(a=d.NEAREST);if(0>c.indexOf(a))throw Error("gl-texture2d: Unknown filter mode "+a);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,a);return this._minFilter=a}},magFilter:{get:function(){return this._magFilter},set:function(a){this.bind();var d=this.gl;this.type===
d.FLOAT&&0<=f.indexOf(a)&&!d.getExtension("OES_texture_float_linear")&&(a=d.NEAREST);if(0>c.indexOf(a))throw Error("gl-texture2d: Unknown filter mode "+a);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,a);return this._magFilter=a}},mipSamples:{get:function(){return this._anisoSamples},set:function(a){var c=this._anisoSamples;this._anisoSamples=Math.max(a,1)|0;c!==this._anisoSamples&&(a=this.gl.getExtension("EXT_texture_filter_anisotropic"))&&this.gl.texParameterf(this.gl.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,
this._anisoSamples);return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(a){this.bind();if(0>q.indexOf(a))throw Error("gl-texture2d: Unknown wrap mode "+a);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,a);return this._wrapS=a}},wrapT:{get:function(){return this._wrapT},set:function(a){this.bind();if(0>q.indexOf(a))throw Error("gl-texture2d: Unknown wrap mode "+a);this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,a);return this._wrapT=a}},
wrap:{get:function(){return this._wrapVector},set:function(a){Array.isArray(a)||(a=[a,a]);if(2!==a.length)throw Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var c=0;2>c;++c)if(0>q.indexOf(a[c]))throw Error("gl-texture2d: Unknown wrap mode "+a);this._wrapS=a[0];this._wrapT=a[1];c=this.gl;this.bind();c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,this._wrapS);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,this._wrapT);return a}},shape:{get:function(){return this._shapeVector},
set:function(a){if(!Array.isArray(a))a=[a|0,a|0];else if(2!==a.length)throw Error("gl-texture2d: Invalid texture shape");g(this,a[0]|0,a[1]|0);return[a[0]|0,a[1]|0]}},width:{get:function(){return this._shape[0]},set:function(a){a|=0;g(this,a,this._shape[1]);return a}},height:{get:function(){return this._shape[1]},set:function(a){a|=0;g(this,this._shape[0],a);return a}}});b.bind=function(a){var c=this.gl;void 0!==a&&c.activeTexture(c.TEXTURE0+(a|0));c.bindTexture(c.TEXTURE_2D,this.handle);return void 0!==
a?a|0:c.getParameter(c.ACTIVE_TEXTURE)-c.TEXTURE0};b.dispose=function(){this.gl.deleteTexture(this.handle)};b.generateMipmap=function(){this.bind();this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var a=Math.min(this._shape[0],this._shape[1]),c=0;0<a;++c,a>>>=1)0>this._mipLevels.indexOf(c)&&this._mipLevels.push(c)};b.setPixels=function(a,c,f,e){var b=this.gl;this.bind();Array.isArray(c)?(e=f,f=c[1]|0,c=c[0]|0):(c=c||0,f=f||0);e=e||0;var g=n(a)?a:a.raw;if(g)0>this._mipLevels.indexOf(e)?(b.texImage2D(b.TEXTURE_2D,
0,this.format,this.format,this.type,g),this._mipLevels.push(e)):b.texSubImage2D(b.TEXTURE_2D,e,c,f,this.format,this.type,g);else if(a.shape&&a.stride&&a.data){if(2>a.shape.length||c+a.shape[1]>this._shape[1]>>>e||f+a.shape[0]>this._shape[0]>>>e||0>c||0>f)throw Error("gl-texture2d: Texture dimensions are out of bounds");g=this.format;var h=this.type,k=this._mipLevels,r=a.dtype,q=a.shape.slice();if(2>q.length||3<q.length)throw Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var v=d(q,a.stride.slice());
"float32"===r?r=b.FLOAT:"float64"===r?(r=b.FLOAT,v=!1):"uint8"===r?r=b.UNSIGNED_BYTE:(r=b.UNSIGNED_BYTE,v=!1);if(2===q.length){var x=b.LUMINANCE;q=[q[0],q[1],1];a=u(a.data,q,[a.stride[0],a.stride[1],1],a.offset)}else if(3===q.length)if(1===q[2])x=b.ALPHA;else if(2===q[2])x=b.LUMINANCE_ALPHA;else if(3===q[2])x=b.RGB;else if(4===q[2])x=b.RGBA;else throw Error("gl-texture2d: Invalid shape for pixel coords");else throw Error("gl-texture2d: Invalid shape for texture");x!==b.LUMINANCE&&x!==b.ALPHA||g!==
b.LUMINANCE&&g!==b.ALPHA||(x=g);if(x!==g)throw Error("gl-texture2d: Incompatible texture format for setPixels");x=a.size;var l=0>k.indexOf(e);l&&k.push(e);r===h&&v?0===a.offset&&a.data.length===x?l?b.texImage2D(b.TEXTURE_2D,e,g,q[0],q[1],0,g,h,a.data):b.texSubImage2D(b.TEXTURE_2D,e,c,f,q[0],q[1],g,h,a.data):l?b.texImage2D(b.TEXTURE_2D,e,g,q[0],q[1],0,g,h,a.data.subarray(a.offset,a.offset+x)):b.texSubImage2D(b.TEXTURE_2D,e,c,f,q[0],q[1],g,h,a.data.subarray(a.offset,a.offset+x)):(k=h===b.FLOAT?t.mallocFloat32(x):
t.mallocUint8(x),v=u(k,q,[q[2],q[2]*q[0],1]),r===b.FLOAT&&h===b.UNSIGNED_BYTE?m.muls(v,a,255):m.assign(v,a),l?b.texImage2D(b.TEXTURE_2D,e,g,q[0],q[1],0,g,h,k.subarray(0,x)):b.texSubImage2D(b.TEXTURE_2D,e,c,f,q[0],q[1],g,h,k.subarray(0,x)),h===b.FLOAT?t.freeFloat32(k):t.freeUint8(k))}else throw Error("gl-texture2d: Unsupported data type");}},{ndarray:200,"ndarray-ops":197,"typedarray-pool":262}],154:[function(b,p,l){p.exports=function(b,g,k){g?g.bind():b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);g=b.getParameter(b.MAX_VERTEX_ATTRIBS)|
0;if(k){if(k.length>g)throw Error("gl-vao: Too many vertex attributes");for(var d=0;d<k.length;++d){var h=k[d];if(h.buffer){var e=h.size||4,n=h.type||b.FLOAT,m=!!h.normalized,t=h.stride||0,f=h.offset||0;h.buffer.bind();b.enableVertexAttribArray(d);b.vertexAttribPointer(d,e,n,m,t,f)}else{if("number"===typeof h)b.vertexAttrib1f(d,h);else if(1===h.length)b.vertexAttrib1f(d,h[0]);else if(2===h.length)b.vertexAttrib2f(d,h[0],h[1]);else if(3===h.length)b.vertexAttrib3f(d,h[0],h[1],h[2]);else if(4===h.length)b.vertexAttrib4f(d,
h[0],h[1],h[2],h[3]);else throw Error("gl-vao: Invalid vertex attribute");b.disableVertexAttribArray(d)}}}else b.bindBuffer(b.ARRAY_BUFFER,null),d=0;for(;d<g;++d)b.disableVertexAttribArray(d)}},{}],155:[function(b,p,l){function n(b){this.gl=b;this._attributes=this._elements=null;this._elementsType=b.UNSIGNED_SHORT}var g=b("./do-bind.js");n.prototype.bind=function(){g(this.gl,this._elements,this._attributes)};n.prototype.update=function(b,d,g){this._elements=d;this._attributes=b;this._elementsType=
g||this.gl.UNSIGNED_SHORT};n.prototype.dispose=function(){};n.prototype.unbind=function(){};n.prototype.draw=function(b,d,g){g=g||0;var e=this.gl;this._elements?e.drawElements(b,d,this._elementsType,g):e.drawArrays(b,g,d)};p.exports=function(b){return new n(b)}},{"./do-bind.js":154}],156:[function(b,p,l){function n(d,b,e,g,k,t){this.location=d;this.dimension=b;this.a=e;this.b=g;this.c=k;this.d=t}function g(d,b,e){this.gl=d;this._ext=b;this.handle=e;this._attribs=[];this._useElements=!1;this._elementsType=
d.UNSIGNED_SHORT}var k=b("./do-bind.js");n.prototype.bind=function(d){switch(this.dimension){case 1:d.vertexAttrib1f(this.location,this.a);break;case 2:d.vertexAttrib2f(this.location,this.a,this.b);break;case 3:d.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:d.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}};g.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var d=0;d<this._attribs.length;++d)this._attribs[d].bind(this.gl)};g.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)};
g.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)};g.prototype.update=function(d,b,e){this.bind();k(this.gl,b,d);this.unbind();this._attribs.length=0;if(d)for(var g=0;g<d.length;++g){var h=d[g];"number"===typeof h?this._attribs.push(new n(g,1,h)):Array.isArray(h)&&this._attribs.push(new n(g,h.length,h[0],h[1],h[2],h[3]))}this._useElements=!!b;this._elementsType=e||this.gl.UNSIGNED_SHORT};g.prototype.draw=function(d,b,e){e=e||0;var g=this.gl;this._useElements?g.drawElements(d,
b,this._elementsType,e):g.drawArrays(d,e,b)};p.exports=function(d,b){return new g(d,b,b.createVertexArrayOES())}},{"./do-bind.js":154}],157:[function(b,p,l){function n(d){this.bindVertexArrayOES=d.bindVertexArray.bind(d);this.createVertexArrayOES=d.createVertexArray.bind(d);this.deleteVertexArrayOES=d.deleteVertexArray.bind(d)}var g=b("./lib/vao-native.js"),k=b("./lib/vao-emulated.js");p.exports=function(d,b,e,u){var h=d.createVertexArray?new n(d):d.getExtension("OES_vertex_array_object");d=h?g(d,
h):k(d);d.update(b,e,u);return d}},{"./lib/vao-emulated.js":155,"./lib/vao-native.js":156}],158:[function(b,p,l){p.exports=function(b,g,k){var d=g[0],h=g[1];g=g[2];var e=k[0],n=k[1];k=k[2];b[0]=h*k-g*n;b[1]=g*e-d*k;b[2]=d*n-h*e;return b}},{}],159:[function(b,p,l){p.exports=function(b,g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]}},{}],160:[function(b,p,l){p.exports=function(b){var g=b[0],k=b[1];b=b[2];return Math.sqrt(g*g+k*k+b*b)}},{}],161:[function(b,p,l){p.exports=function(b,g,k,d){var h=g[0],e=g[1];
g=g[2];b[0]=h+d*(k[0]-h);b[1]=e+d*(k[1]-e);b[2]=g+d*(k[2]-g);return b}},{}],162:[function(b,p,l){p.exports=function(b,g){var k=g[0],d=g[1],h=g[2];k=k*k+d*d+h*h;0<k&&(k=1/Math.sqrt(k),b[0]=g[0]*k,b[1]=g[1]*k,b[2]=g[2]*k);return b}},{}],163:[function(b,p,l){p.exports=function(b,g,k){var d=g[0],h=g[1],e=g[2];g=g[3];b[0]=k[0]*d+k[4]*h+k[8]*e+k[12]*g;b[1]=k[1]*d+k[5]*h+k[9]*e+k[13]*g;b[2]=k[2]*d+k[6]*h+k[10]*e+k[14]*g;b[3]=k[3]*d+k[7]*h+k[11]*e+k[15]*g;return b}},{}],164:[function(b,p,l){p.exports=function(b,
d,h,e){n[0]=e;n[1]=h;n[2]=d;n[3]=b;return g[0]};var n=new Uint8Array(4),g=new Float32Array(n.buffer)},{}],165:[function(b,p,l){var n=b("glsl-tokenizer"),g=b("atob-lite");p.exports=function(b){b=Array.isArray(b)?b:n(b);for(var d=0;d<b.length;d++){var h=b[d];if("preprocessor"===h.type&&(h=h.data.match(/#define\s+SHADER_NAME(_B64)?\s+(.+)$/))&&h[2])return b=h[2],(h[1]?g(b):b).trim()}}},{"atob-lite":25,"glsl-tokenizer":172}],166:[function(b,p,l){p.exports=function(b){function l(a){a.length&&P.push({type:z[N],
data:a,position:W,line:U,column:aa})}function p(){Q=Q.length?[]:Q;if("/"===F&&"*"===M)return W=L+H-1,N=m,F=M,H+1;if("/"===F&&"/"===M)return W=L+H-1,N=t,F=M,H+1;if("#"===M)return N=f,W=L+H,H;if(/\s/.test(M))return N=C,W=L+H,H;R=/\d/.test(M);T=/[^\w_]/.test(M);W=L+H;N=R?q:T?c:u;return H}function w(){if(("\r"===M||"\n"===M)&&"\\"!==F)return l(Q.join("")),N=e,H;Q.push(M);F=M;return H+1}function G(){if("."===F&&/\d/.test(M))return N=a,H;if("/"===F&&"*"===M)return N=m,H;if("/"===F&&"/"===M)return N=t,H;
if("."===M&&Q.length){for(;E(Q););N=a;return H}if(";"===M||")"===M||"("===M){if(Q.length)for(;E(Q););l(M);N=e;return H+1}var c=2===Q.length&&"="!==M;if(/[\w_\d\s]/.test(M)||c){for(;E(Q););N=e;return H}Q.push(M);F=M;return H+1}function E(a){var c=0;do{var d=g.indexOf(a.slice(0,a.length+c).join(""));var f=g[d];if(-1===d){if(0<c--+a.length)continue;f=a.slice(0,1).join("")}l(f);W+=f.length;Q=Q.slice(f.length);return Q.length}while(1)}function J(){if("."===M||/[eE]/.test(M))return Q.push(M),N=a,F=M,H+
1;if("x"===M&&1===Q.length&&"0"===Q[0])return N=D,Q.push(M),F=M,H+1;if(/[^\d]/.test(M))return l(Q.join("")),N=e,H;Q.push(M);F=M;return H+1}function K(){"f"===M&&(Q.push(M),F=M,H+=1);if(/[eE]/.test(M)||"-"===M&&/[eE]/.test(F))return Q.push(M),F=M,H+1;if(/[^\d]/.test(M))return l(Q.join("")),N=e,H;Q.push(M);F=M;return H+1}var H=0,L=0,N=e,M,F,Q=[],P=[],U=1,aa=0,W=0,R=!1,T=!1,ea="",S;b=b||{};var V=k,ba=n;"300 es"===b.version&&(V=h,ba=d);return function(d){P=[];if(null!==d){d=d.replace?d.replace(/\r\n/g,
"\n"):d;H=0;ea+=d;for(S=ea.length;M=ea[H],H<S;){d=H;switch(N){case m:"/"===M&&"*"===F?(Q.push(M),l(Q.join("")),N=e):(Q.push(M),F=M);H+=1;break;case t:H=w();break;case f:H=w();break;case c:H=G();break;case q:H=J();break;case D:/[^a-fA-F0-9]/.test(M)?(l(Q.join("")),N=e):(Q.push(M),F=M,H+=1);break;case a:H=K();break;case u:if(/[^\d\w_]/.test(M)){var b=Q.join("");N=-1<ba.indexOf(b)?x:-1<V.indexOf(b)?v:r;l(Q.join(""));N=e}else Q.push(M),F=M,H+=1;break;case C:/[^\s]/g.test(M)?(l(Q.join("")),N=e):(Q.push(M),
F=M,H+=1);break;case e:H=p()}if(d!==H)switch(ea[d]){case "\n":aa=0;++U;break;default:++aa}}L+=H;ea=ea.slice(H);return P}Q.length&&l(Q.join(""));N=A;l("(eof)");return P}};var n=b("./lib/literals"),g=b("./lib/operators"),k=b("./lib/builtins"),d=b("./lib/literals-300es"),h=b("./lib/builtins-300es"),e=999,u=9999,m=0,t=1,f=2,c=3,q=4,a=5,r=6,v=7,x=8,C=9,A=10,D=11,z="block-comment line-comment preprocessor operator integer float ident builtin keyword whitespace eof integer".split(" ")},{"./lib/builtins":168,
"./lib/builtins-300es":167,"./lib/literals":170,"./lib/literals-300es":169,"./lib/operators":171}],167:[function(b,p,l){b=b("./builtins");b=b.slice().filter(function(b){return!/^(gl_|texture)/.test(b)});p.exports=b.concat("gl_VertexID gl_InstanceID gl_Position gl_PointSize gl_FragCoord gl_FrontFacing gl_FragDepth gl_PointCoord gl_MaxVertexAttribs gl_MaxVertexUniformVectors gl_MaxVertexOutputVectors gl_MaxFragmentInputVectors gl_MaxVertexTextureImageUnits gl_MaxCombinedTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformVectors gl_MaxDrawBuffers gl_MinProgramTexelOffset gl_MaxProgramTexelOffset gl_DepthRangeParameters gl_DepthRange trunc round roundEven isnan isinf floatBitsToInt floatBitsToUint intBitsToFloat uintBitsToFloat packSnorm2x16 unpackSnorm2x16 packUnorm2x16 unpackUnorm2x16 packHalf2x16 unpackHalf2x16 outerProduct transpose determinant inverse texture textureSize textureProj textureLod textureOffset texelFetch texelFetchOffset textureProjOffset textureLodOffset textureProjLod textureProjLodOffset textureGrad textureGradOffset textureProjGrad textureProjGradOffset".split(" "))},
{"./builtins":168}],168:[function(b,p,l){p.exports="abs acos all any asin atan ceil clamp cos cross dFdx dFdy degrees distance dot equal exp exp2 faceforward floor fract gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_DepthRangeParameters gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FogParameters gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FragDepthEXT gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_LightModel gl_LightModelParameters gl_LightModelProducts gl_LightProducts gl_LightSource gl_LightSourceParameters gl_MaterialParameters gl_MaxClipPlanes gl_MaxCombinedTextureImageUnits gl_MaxDrawBuffers gl_MaxFragmentUniformComponents gl_MaxLights gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingFloats gl_MaxVertexAttribs gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_Point gl_PointCoord gl_PointParameters gl_PointSize gl_Position gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SecondaryColor gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex greaterThan greaterThanEqual inversesqrt length lessThan lessThanEqual log log2 matrixCompMult max min mix mod normalize not notEqual pow radians reflect refract sign sin smoothstep sqrt step tan texture2D texture2DLod texture2DProj texture2DProjLod textureCube textureCubeLod texture2DLodEXT texture2DProjLodEXT textureCubeLodEXT texture2DGradEXT texture2DProjGradEXT textureCubeGradEXT".split(" ")},
{}],169:[function(b,p,l){b=b("./literals");p.exports=b.slice().concat("layout centroid smooth case mat2x2 mat2x3 mat2x4 mat3x2 mat3x3 mat3x4 mat4x2 mat4x3 mat4x4 uint uvec2 uvec3 uvec4 samplerCubeShadow sampler2DArray sampler2DArrayShadow isampler2D isampler3D isamplerCube isampler2DArray usampler2D usampler3D usamplerCube usampler2DArray coherent restrict readonly writeonly resource atomic_uint noperspective patch sample subroutine common partition active filter image1D image2D image3D imageCube iimage1D iimage2D iimage3D iimageCube uimage1D uimage2D uimage3D uimageCube image1DArray image2DArray iimage1DArray iimage2DArray uimage1DArray uimage2DArray image1DShadow image2DShadow image1DArrayShadow image2DArrayShadow imageBuffer iimageBuffer uimageBuffer sampler1DArray sampler1DArrayShadow isampler1D isampler1DArray usampler1D usampler1DArray isampler2DRect usampler2DRect samplerBuffer isamplerBuffer usamplerBuffer sampler2DMS isampler2DMS usampler2DMS sampler2DMSArray isampler2DMSArray usampler2DMSArray".split(" "))},
{"./literals":170}],170:[function(b,p,l){p.exports="precision highp mediump lowp attribute const uniform varying break continue do for while if else in out inout float int void bool true false discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow struct asm class union enum typedef template this packed goto switch default inline noinline volatile public static extern external interface long short double half fixed unsigned input output hvec2 hvec3 hvec4 dvec2 dvec3 dvec4 fvec2 fvec3 fvec4 sampler2DRect sampler3DRect sampler2DRectShadow sizeof cast namespace using".split(" ")},
{}],171:[function(b,p,l){p.exports="<<= >>= ++ -- << >> <= >= == != && || += -= *= /= %= &= ^^ ^= |= ( ) [ ] . ! ~ * / % + - < > & ^ | ? : = , ; { }".split(" ")},{}],172:[function(b,p,l){var n=b("./index");p.exports=function(b,k){k=n(k);var d=[];d=d.concat(k(b));return d=d.concat(k(null))}},{"./index":166}],173:[function(b,p,l){p.exports=function(b){"string"===typeof b&&(b=[b]);for(var g=[].slice.call(arguments,1),k=[],d=0;d<b.length-1;d++)k.push(b[d],g[d]||"");k.push(b[d]);return k.join("")}},{}],
174:[function(b,p,l){l="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};b=b("is-browser");b="function"===typeof l.matchMedia?!l.matchMedia("(hover: none)").matches:b;p.exports=b},{"is-browser":180}],175:[function(b,p,l){function n(){var b=!1;try{var k=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,k);window.removeEventListener("test",null,k)}catch(d){b=!1}return b}b=b("is-browser");p.exports=b&&
n()},{"is-browser":180}],176:[function(b,p,l){function n(d,f,c){this.vertices=d;this.adjacent=f;this.boundary=c;this.lastVisited=-1}function g(d,f,c){this.vertices=d;this.cell=f;this.index=c}function k(d,f){return u(d.vertices,f.vertices)}function d(d){for(var f=["function orient(){var tuple=this.tuple;return test("],c=0;c<=d;++c)0<c&&f.push(","),f.push("tuple[",c,"]");f.push(")}return orient");f=new Function("test",f.join(""));(d=e[d+1])||(d=e);return f(d)}function h(e,f,c){this.dimension=e;this.vertices=
f;this.simplices=c;this.interior=c.filter(function(c){return!c.boundary});this.tuple=Array(e+1);for(f=0;f<=e;++f)this.tuple[f]=this.vertices[f];(f=m[e])||(f=m[e]=d(e));this.orient=f}p.exports=function(d,f){var c=d.length;if(0===c)throw Error("Must have at least d+1 points");var b=d[0].length;if(c<=b)throw Error("Must input at least d+1 points");var a=d.slice(0,b+1),g=e.apply(void 0,a);if(0===g)throw Error("Input not in general position");for(var k=Array(b+1),m=0;m<=b;++m)k[m]=m;0>g&&(k[0]=1,k[1]=
0);g=new n(k,Array(b+1),!1);var t=g.adjacent,u=Array(b+2);for(m=0;m<=b;++m){for(var l=k.slice(),p=0;p<=b;++p)p===m&&(l[p]=-1);p=l[0];l[0]=l[1];l[1]=p;l=new n(l,Array(b+1),!0);t[m]=l;u[m]=l}u[b+1]=g;for(m=0;m<=b;++m)for(l=t[m].vertices,k=t[m].adjacent,p=0;p<=b;++p){var F=l[p];if(0>F)k[p]=g;else for(var B=0;B<=b;++B)0>t[B].vertices.indexOf(F)&&(k[p]=t[B])}a=new h(b,a,u);f=!!f;for(m=b+1;m<c;++m)a.insert(d[m],f);return a.boundary()};var e=b("robust-orientation"),u=b("simplicial-complex").compareCells;
n.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1];this.vertices[1]=d;d=this.adjacent[0];this.adjacent[0]=this.adjacent[1];this.adjacent[1]=d};var m=[];b=h.prototype;b.handleBoundaryDegeneracy=function(d,f){var c=this.dimension,e=this.vertices.length-1,a=this.tuple,b=this.vertices,g=[d];for(d.lastVisited=-e;0<g.length;){d=g.pop();d=d.adjacent;for(var h=0;h<=c;++h){var k=d[h];if(k.boundary&&!(k.lastVisited<=-e)){for(var m=k.vertices,t=0;t<=c;++t){var n=m[t];a[t]=0>
n?f:b[n]}m=this.orient();if(0<m)return k;k.lastVisited=-e;0===m&&g.push(k)}}}return null};b.walk=function(d,f){var c=this.vertices.length-1,e=this.dimension,a=this.vertices,b=this.tuple,g=this.interior[f?this.interior.length*Math.random()|0:this.interior.length-1];a:for(;!g.boundary;){var h=g.vertices;f=g.adjacent;for(var k=0;k<=e;++k)b[k]=a[h[k]];g.lastVisited=c;for(k=0;k<=e;++k)if(g=f[k],!(g.lastVisited>=c)){h=b[k];b[k]=d;var m=this.orient();b[k]=h;if(0>m)continue a;else g.lastVisited=g.boundary?
-c:c}return}return g};b.addPeaks=function(d,f){var c=this.vertices.length-1,e=this.dimension,a=this.vertices,b=this.tuple,h=this.interior,m=this.simplices,t=[f];f.lastVisited=c;f.vertices[f.vertices.indexOf(-1)]=c;f.boundary=!1;h.push(f);for(var u=[];0<t.length;){f=t.pop();var l=f.vertices,p=f.adjacent,F=l.indexOf(c);if(!(0>F))for(var B=0;B<=e;++B)if(B!==F){var y=p[B];if(y.boundary&&!(y.lastVisited>=c)){var w=y.vertices;if(y.lastVisited!==-c){for(var G=0,E=0;E<=e;++E)0>w[E]?(G=E,b[E]=d):b[E]=a[w[E]];
if(0<this.orient()){w[G]=c;y.boundary=!1;h.push(y);t.push(y);y.lastVisited=c;continue}else y.lastVisited=-c}E=y.adjacent;w=l.slice();var J=p.slice();G=new n(w,J,!0);m.push(G);var K=E.indexOf(f);if(!(0>K))for(E[K]=G,J[F]=y,w[B]=-1,J[B]=f,p[B]=G,G.flip(),E=0;E<=e;++E)if(y=w[E],!(0>y||y===c)){y=Array(e-1);for(K=J=0;K<=e;++K){var H=w[K];0>H||K===E||(y[J++]=H)}u.push(new g(y,G,E))}}}}u.sort(k);for(B=0;B+1<u.length;B+=2)d=u[B],f=u[B+1],c=f.index,0>d.index||0>c||(d.cell.adjacent[d.index]=f.cell,f.cell.adjacent[f.index]=
d.cell)};b.insert=function(d,f){var c=this.vertices;c.push(d);if(f=this.walk(d,f)){for(var e=this.dimension,a=this.tuple,b=0;b<=e;++b){var g=f.vertices[b];a[b]=0>g?d:c[g]}c=this.orient(a);if(!(0>c)){if(0===c&&(f=this.handleBoundaryDegeneracy(f,d),!f))return;this.addPeaks(d,f)}}};b.boundary=function(){for(var d=this.dimension,f=[],c=this.simplices,e=c.length,a=0;a<e;++a){var b=c[a];if(b.boundary){var g=Array(d);b=b.vertices;for(var h=0,k=0,m=0;m<=d;++m)0<=b[m]?g[h++]=b[m]:k=m&1;k===(d&1)&&(b=g[0],
g[0]=g[1],g[1]=b);f.push(g)}}return f}},{"robust-orientation":235,"simplicial-complex":245}],177:[function(b,p,l){function n(a,c,d,f,e){this.mid=a;this.left=c;this.right=d;this.leftPoints=f;this.rightPoints=e;this.count=(c?c.count:0)+(d?d.count:0)+f.length}function g(a,c){a.mid=c.mid;a.left=c.left;a.right=c.right;a.leftPoints=c.leftPoints;a.rightPoints=c.rightPoints;a.count=c.count}function k(a,d){d=c(d);a.mid=d.mid;a.left=d.left;a.right=d.right;a.leftPoints=d.leftPoints;a.rightPoints=d.rightPoints;
a.count=d.count}function d(a,c){var d=a.intervals([]);c=d.indexOf(c);if(0>c)return 0;d.splice(c,1);k(a,d);return 1}function h(a,c,d){for(var f=0;f<a.length&&a[f][0]<=c;++f){var e=d(a[f]);if(e)return e}}function e(a,c,d){for(var f=a.length-1;0<=f&&a[f][1]>=c;--f){var e=d(a[f]);if(e)return e}}function u(a,c){for(var d=0;d<a.length;++d){var f=c(a[d]);if(f)return f}}function m(a,c){return a-c}function t(a,c){var d=a[0]-c[0];return d?d:a[1]-c[1]}function f(a,c){var d=a[1]-c[1];return d?d:a[0]-c[0]}function c(a){if(0===
a.length)return null;for(var d=[],e=0;e<a.length;++e)d.push(a[e][0],a[e][1]);d.sort(m);d=d[d.length>>1];var b=[],g=[],h=[];for(e=0;e<a.length;++e){var k=a[e];k[1]<d?b.push(k):d<k[0]?g.push(k):h.push(k)}a=h.slice();h.sort(t);a.sort(f);return new n(d,c(b),c(g),h,a)}function q(a){this.root=a}var a=b("binary-search-bounds");p.exports=function(a){return a&&0!==a.length?new q(c(a)):new q(null)};b=n.prototype;b.intervals=function(a){a.push.apply(a,this.leftPoints);this.left&&this.left.intervals(a);this.right&&
this.right.intervals(a);return a};b.insert=function(d){var e=this.count-this.leftPoints.length;this.count+=1;if(d[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?(e=this.intervals([]),e.push(d),k(this,e)):this.left.insert(d):this.left=c([d]);else if(d[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?(e=this.intervals([]),e.push(d),k(this,e)):this.right.insert(d):this.right=c([d]);else{e=a.ge(this.leftPoints,d,t);var b=a.ge(this.rightPoints,d,f);this.leftPoints.splice(e,0,d);this.rightPoints.splice(b,
0,d)}};b.remove=function(c){var e=this.count-this.leftPoints;if(c[1]<this.mid){if(!this.left)return 0;if(4*(this.right?this.right.count:0)>3*(e-1))return d(this,c);e=this.left.remove(c);if(2===e)return this.left=null,--this.count,1;1===e&&--this.count;return e}if(c[0]>this.mid){if(!this.right)return 0;if(4*(this.left?this.left.count:0)>3*(e-1))return d(this,c);e=this.right.remove(c);if(2===e)return this.right=null,--this.count,1;1===e&&--this.count;return e}if(1===this.count)return this.leftPoints[0]===
c?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===c){if(this.left&&this.right){c=this;for(var b=this.left;b.right;)c=b,b=b.right;if(c===this)b.right=this.right;else{var h=this.left;e=this.right;c.count-=b.count;c.right=b.left;b.left=h;b.right=e}g(this,b);this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?g(this,this.left):g(this,this.right);return 1}for(h=a.ge(this.leftPoints,c,t);h<this.leftPoints.length&&this.leftPoints[h][0]===
c[0];++h)if(this.leftPoints[h]===c)for(--this.count,this.leftPoints.splice(h,1),e=a.ge(this.rightPoints,c,f);e<this.rightPoints.length&&this.rightPoints[e][1]===c[1];++e)if(this.rightPoints[e]===c)return this.rightPoints.splice(e,1),1;return 0};b.queryPoint=function(a,c){if(a<this.mid){if(this.left){var d=this.left.queryPoint(a,c);if(d)return d}return h(this.leftPoints,a,c)}return a>this.mid?this.right&&(d=this.right.queryPoint(a,c))?d:e(this.rightPoints,a,c):u(this.leftPoints,c)};b.queryInterval=
function(a,c,d){if(a<this.mid&&this.left){var f=this.left.queryInterval(a,c,d);if(f)return f}return c>this.mid&&this.right&&(f=this.right.queryInterval(a,c,d))?f:c<this.mid?h(this.leftPoints,c,d):a>this.mid?e(this.rightPoints,a,d):u(this.leftPoints,d)};b=q.prototype;b.insert=function(a){this.root?this.root.insert(a):this.root=new n(a[0],null,null,[a],[a])};b.remove=function(a){return this.root?(a=this.root.remove(a),2===a&&(this.root=null),0!==a):!1};b.queryPoint=function(a,c){if(this.root)return this.root.queryPoint(a,
c)};b.queryInterval=function(a,c,d){if(a<=c&&this.root)return this.root.queryInterval(a,c,d)};Object.defineProperty(b,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(b,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":43}],178:[function(b,p,l){p.exports=function(b,g){g=g||Array(b.length);for(var k=0;k<b.length;++k)g[b[k]]=k;return g}},{}],179:[function(b,p,l){p.exports=function(b){for(var g=Array(b),k=0;k<b;++k)g[k]=
k;return g}},{}],180:[function(b,p,l){p.exports=!0},{}],181:[function(b,p,l){function n(b){return!!b.constructor&&"function"===typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)}p.exports=function(b){return null!=b&&(n(b)||"function"===typeof b.readFloatLE&&"function"===typeof b.slice&&n(b.slice(0,0))||!!b._isBuffer)}},{}],182:[function(b,p,l){p.exports=function(b){b||"undefined"==typeof navigator||(b=navigator.userAgent);b&&b.headers&&"string"==typeof b.headers["user-agent"]&&(b=b.headers["user-agent"]);
return"string"!=typeof b?!1:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4))}},{}],183:[function(b,p,l){var n=Object.prototype.toString;p.exports=function(b){var g;return"[object Object]"===n.call(b)&&(g=Object.getPrototypeOf(b),null===g||g===Object.getPrototypeOf({}))}},{}],184:[function(b,p,l){p.exports=function(b,g,k){return b*(1-k)+g*k}},{}],185:[function(b,p,l){function n(b,d,g){for(var e=Array(b),h=0;h<b;++h)e[h]=0,h===d&&(e[h]+=.5),h===g&&(e[h]+=.5);return e}p.exports=function(b){for(var d=1<<b+1,h=Array(d),e=0;e<d;++e){var k=e;var m=b,t=e;if(0===t||t===(1<<m+1)-
1)var f=[];else{var c=[];f=[];for(var q=0;q<=m;++q)if(t&1<<q){c.push(n(m,q-1,q-1));f.push(null);for(var a=0;a<=m;++a)~t&1<<a&&(c.push(n(m,q-1,a-1)),f.push([q,a]))}m=g(c);t=[];q=0;b:for(;q<m.length;++q){c=m[q];var r=[];for(a=0;a<c.length;++a){if(!f[c[a]])continue b;r.push(f[c[a]].slice())}t.push(r)}f=t}h[k]=f}return h};var g=b("convex-hull")},{"convex-hull":77}],186:[function(b,p,l){function n(a,c,d,f,e){a[0]=c[0]*f+d[0]*e;a[1]=c[1]*f+d[1]*e;a[2]=c[2]*f+d[2]*e}var g=b("./normalize");l=b("gl-mat4/create");
var k=b("gl-mat4/clone"),d=b("gl-mat4/determinant"),h=b("gl-mat4/invert"),e=b("gl-mat4/transpose"),u={length:b("gl-vec3/length"),normalize:b("gl-vec3/normalize"),dot:b("gl-vec3/dot"),cross:b("gl-vec3/cross")},m=l(),t=l(),f=[0,0,0,0],c=[[0,0,0],[0,0,0],[0,0,0]],q=[0,0,0];p.exports=function(a,b,v,x,l,p){b||(b=[0,0,0]);v||(v=[0,0,0]);x||(x=[0,0,0]);l||(l=[0,0,0,1]);p||(p=[0,0,0,1]);if(!g(m,a))return!1;k(t,m);t[3]=0;t[7]=0;t[11]=0;t[15]=1;if(Math.abs(1E-8>d(t)))return!1;var r=m[3],C=m[7],A=m[11];a=m[12];
var B=m[13],y=m[14],w=m[15];if(0!==r||0!==C||0!==A){f[0]=r;f[1]=C;f[2]=A;f[3]=w;if(!h(t,t))return!1;e(t,t);r=f[0];C=f[1];A=f[2];w=f[3];l[0]=t[0]*r+t[4]*C+t[8]*A+t[12]*w;l[1]=t[1]*r+t[5]*C+t[9]*A+t[13]*w;l[2]=t[2]*r+t[6]*C+t[10]*A+t[14]*w;l[3]=t[3]*r+t[7]*C+t[11]*A+t[15]*w}else l[0]=l[1]=l[2]=0,l[3]=1;b[0]=a;b[1]=B;b[2]=y;c[0][0]=m[0];c[0][1]=m[1];c[0][2]=m[2];c[1][0]=m[4];c[1][1]=m[5];c[1][2]=m[6];c[2][0]=m[8];c[2][1]=m[9];c[2][2]=m[10];v[0]=u.length(c[0]);u.normalize(c[0],c[0]);x[0]=u.dot(c[0],c[1]);
n(c[1],c[1],c[0],1,-x[0]);v[1]=u.length(c[1]);u.normalize(c[1],c[1]);x[0]/=v[1];x[1]=u.dot(c[0],c[2]);n(c[2],c[2],c[0],1,-x[1]);x[2]=u.dot(c[1],c[2]);n(c[2],c[2],c[1],1,-x[2]);v[2]=u.length(c[2]);u.normalize(c[2],c[2]);x[1]/=v[2];x[2]/=v[2];u.cross(q,c[1],c[2]);if(0>u.dot(c[0],q))for(b=0;3>b;b++)v[b]*=-1,c[b][0]*=-1,c[b][1]*=-1,c[b][2]*=-1;p[0]=.5*Math.sqrt(Math.max(1+c[0][0]-c[1][1]-c[2][2],0));p[1]=.5*Math.sqrt(Math.max(1-c[0][0]+c[1][1]-c[2][2],0));p[2]=.5*Math.sqrt(Math.max(1-c[0][0]-c[1][1]+
c[2][2],0));p[3]=.5*Math.sqrt(Math.max(1+c[0][0]+c[1][1]+c[2][2],0));c[2][1]>c[1][2]&&(p[0]=-p[0]);c[0][2]>c[2][0]&&(p[1]=-p[1]);c[1][0]>c[0][1]&&(p[2]=-p[2]);return!0}},{"./normalize":187,"gl-mat4/clone":117,"gl-mat4/create":118,"gl-mat4/determinant":119,"gl-mat4/invert":123,"gl-mat4/transpose":133,"gl-vec3/cross":158,"gl-vec3/dot":159,"gl-vec3/length":160,"gl-vec3/normalize":162}],187:[function(b,p,l){p.exports=function(b,g){var k=g[15];if(0===k)return!1;k=1/k;for(var d=0;16>d;d++)b[d]=g[d]*k;return!0}},
{}],188:[function(b,p,l){function n(){return{translate:[0,0,0],scale:[1,1,1],skew:[0,0,0],perspective:[0,0,0,1],quaternion:[0,0,0,1]}}var g=b("gl-vec3/lerp"),k=b("mat4-recompose"),d=b("mat4-decompose"),h=b("gl-mat4/determinant"),e=b("quat-slerp"),u=n(),m=n(),t=n();p.exports=function(f,c,b,a){if(0===h(c)||0===h(b))return!1;c=d(c,u.translate,u.scale,u.skew,u.perspective,u.quaternion);b=d(b,m.translate,m.scale,m.skew,m.perspective,m.quaternion);if(!c||!b)return!1;g(t.translate,u.translate,m.translate,
a);g(t.skew,u.skew,m.skew,a);g(t.scale,u.scale,m.scale,a);g(t.perspective,u.perspective,m.perspective,a);e(t.quaternion,u.quaternion,m.quaternion,a);k(f,t.translate,t.scale,t.skew,t.perspective,t.quaternion);return!0}},{"gl-mat4/determinant":119,"gl-vec3/lerp":161,"mat4-decompose":186,"mat4-recompose":189,"quat-slerp":222}],189:[function(b,p,l){var n={identity:b("gl-mat4/identity"),translate:b("gl-mat4/translate"),multiply:b("gl-mat4/multiply"),create:b("gl-mat4/create"),scale:b("gl-mat4/scale"),
fromRotationTranslation:b("gl-mat4/fromRotationTranslation")};n.create();var g=n.create();p.exports=function(b,d,h,e,u,m){n.identity(b);n.fromRotationTranslation(b,m,d);b[3]=u[0];b[7]=u[1];b[11]=u[2];b[15]=u[3];n.identity(g);0!==e[2]&&(g[9]=e[2],n.multiply(b,b,g));0!==e[1]&&(g[9]=0,g[8]=e[1],n.multiply(b,b,g));0!==e[0]&&(g[8]=0,g[4]=e[0],n.multiply(b,b,g));n.scale(b,b,h);return b}},{"gl-mat4/create":118,"gl-mat4/fromRotationTranslation":121,"gl-mat4/identity":122,"gl-mat4/multiply":125,"gl-mat4/scale":131,
"gl-mat4/translate":132}],190:[function(b,p,l){function n(a){this._components=a.slice();this._time=[0];this.prevMatrix=a.slice();this.nextMatrix=a.slice();this.computedMatrix=a.slice();this.computedInverse=a.slice();this.computedEye=[0,0,0];this.computedUp=[0,0,0];this.computedCenter=[0,0,0];this.computedRadius=[0];this._limits=[-Infinity,Infinity]}var g=b("binary-search-bounds"),k=b("mat4-interpolate"),d=b("gl-mat4/invert"),h=b("gl-mat4/rotateX"),e=b("gl-mat4/rotateY"),u=b("gl-mat4/rotateZ"),m=b("gl-mat4/lookAt"),
t=b("gl-mat4/translate");b("gl-mat4/scale");var f=b("gl-vec3/normalize"),c=[0,0,0];p.exports=function(a){a=a||{};return new n(a.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};b=n.prototype;b.recalcMatrix=function(a){var c=this._time,e=g.le(c,a),b=this.computedMatrix;if(!(0>e)){var h=this._components;if(e===c.length-1)for(var q=16*e,m=0;16>m;++m)b[m]=h[q++];else{var t=c[e+1]-c[e];q=16*e;var n=this.prevMatrix,u=!0;for(m=0;16>m;++m)n[m]=h[q++];var l=this.nextMatrix;for(m=0;16>m;++m)l[m]=h[q++],u=u&&n[m]===
l[m];if(1E-6>t||u)for(m=0;16>m;++m)b[m]=n[m];else k(b,n,l,(a-c[e])/t)}m=this.computedUp;m[0]=b[1];m[1]=b[5];m[2]=b[9];f(m,m);m=this.computedInverse;d(m,b);a=this.computedEye;c=m[15];a[0]=m[12]/c;a[1]=m[13]/c;a[2]=m[14]/c;c=this.computedCenter;e=Math.exp(this.computedRadius[0]);for(m=0;3>m;++m)c[m]=a[m]-b[2+4*m]*e}};b.idle=function(a){if(!(a<this.lastT())){for(var c=this._components,d=c.length-16,f=0;16>f;++f)c.push(c[d++]);this._time.push(a)}};b.flush=function(a){a=g.gt(this._time,a)-2;0>a||(this._time.splice(0,
a),this._components.splice(0,16*a))};b.lastT=function(){return this._time[this._time.length-1]};b.lookAt=function(a,d,f,e){this.recalcMatrix(a);d=d||this.computedEye;f=f||c;e=e||this.computedUp;this.setMatrix(a,m(this.computedMatrix,d,f,e));for(e=a=0;3>e;++e)a+=Math.pow(f[e]-d[e],2);a=Math.log(Math.sqrt(a));this.computedRadius[0]=a};b.rotate=function(a,c,f,b){this.recalcMatrix(a);var g=this.computedInverse;c&&e(g,g,c);f&&h(g,g,f);b&&u(g,g,b);this.setMatrix(a,d(this.computedMatrix,g))};var q=[0,0,
0];b.pan=function(a,c,f,e){q[0]=-(c||0);q[1]=-(f||0);q[2]=-(e||0);this.recalcMatrix(a);c=this.computedInverse;t(c,c,q);this.setMatrix(a,d(c,c))};b.translate=function(a,c,d,f){q[0]=c||0;q[1]=d||0;q[2]=f||0;this.recalcMatrix(a);c=this.computedMatrix;t(c,c,q);this.setMatrix(a,c)};b.setMatrix=function(a,c){if(!(a<this.lastT()))for(this._time.push(a),a=0;16>a;++a)this._components.push(c[a])};b.setDistance=function(a,c){this.computedRadius[0]=c};b.setDistanceLimits=function(a,c){var d=this._limits;d[0]=
a;d[1]=c};b.getDistanceLimits=function(a){var c=this._limits;return a?(a[0]=c[0],a[1]=c[1],a):c}},{"binary-search-bounds":43,"gl-mat4/invert":123,"gl-mat4/lookAt":124,"gl-mat4/rotateX":128,"gl-mat4/rotateY":129,"gl-mat4/rotateZ":130,"gl-mat4/scale":131,"gl-mat4/translate":132,"gl-vec3/normalize":162,"mat4-interpolate":188}],191:[function(b,p,l){p.exports=function(b){var g=b.length;if(3>g){for(var d=Array(g),h=0;h<g;++h)d[h]=h;return 2===g&&b[0][0]===b[1][0]&&b[0][1]===b[1][1]?[0]:d}d=Array(g);for(h=
0;h<g;++h)d[h]=h;d.sort(function(c,d){var a=b[c][0]-b[d][0];return a?a:b[c][1]-b[d][1]});var e=[d[0],d[1]],u=[d[0],d[1]];for(h=2;h<g;++h){for(var m=d[h],t=b[m],f=e.length;1<f&&0>=n(b[e[f-2]],b[e[f-1]],t);)--f,e.pop();e.push(m);for(f=u.length;1<f&&0<=n(b[u[f-2]],b[u[f-1]],t);)--f,u.pop();u.push(m)}d=Array(u.length+e.length-2);h=g=0;for(m=e.length;h<m;++h)d[g++]=e[h];for(h=u.length-2;0<h;--h)d[g++]=u[h];return d};var n=b("robust-orientation")[3]},{"robust-orientation":235}],192:[function(b,p,l){p.exports=
function(b,k){function d(a){var c=!1;"altKey"in a&&(c=c||a.altKey!==x.alt,x.alt=!!a.altKey);"shiftKey"in a&&(c=c||a.shiftKey!==x.shift,x.shift=!!a.shiftKey);"ctrlKey"in a&&(c=c||a.ctrlKey!==x.control,x.control=!!a.ctrlKey);"metaKey"in a&&(c=c||a.metaKey!==x.meta,x.meta=!!a.metaKey);return c}function g(c,f){var b=n.x(f),e=n.y(f);"buttons"in f&&(c=f.buttons|0);if(c!==a||b!==r||e!==v||d(f))a=c|0,r=b||0,v=e||0,k&&k(a,r,v,x)}function e(a){g(0,a)}function u(){if(a||r||v||x.shift||x.alt||x.meta||x.control)a=
r=v=0,x.shift=x.alt=x.control=x.meta=!1,k&&k(0,0,0,x)}function m(c){d(c)&&k&&k(a,r,v,x)}function t(c){0===n.buttons(c)?g(0,c):g(a,c)}function f(c){g(a|n.buttons(c),c)}function c(c){g(a&~n.buttons(c),c)}function q(){l||(l=!0,b.addEventListener("mousemove",t),b.addEventListener("mousedown",f),b.addEventListener("mouseup",c),b.addEventListener("mouseleave",e),b.addEventListener("mouseenter",e),b.addEventListener("mouseout",e),b.addEventListener("mouseover",e),b.addEventListener("blur",u),b.addEventListener("keyup",
m),b.addEventListener("keydown",m),b.addEventListener("keypress",m),b!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",m),window.addEventListener("keydown",m),window.addEventListener("keypress",m)))}k||(k=b,b=window);var a=0,r=0,v=0,x={shift:!1,alt:!1,control:!1,meta:!1},l=!1;q();var p={element:b};Object.defineProperties(p,{enabled:{get:function(){return l},set:function(a){a?q():l&&(l=!1,b.removeEventListener("mousemove",t),b.removeEventListener("mousedown",f),b.removeEventListener("mouseup",
c),b.removeEventListener("mouseleave",e),b.removeEventListener("mouseenter",e),b.removeEventListener("mouseout",e),b.removeEventListener("mouseover",e),b.removeEventListener("blur",u),b.removeEventListener("keyup",m),b.removeEventListener("keydown",m),b.removeEventListener("keypress",m),b!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",m),window.removeEventListener("keydown",m),window.removeEventListener("keypress",m)))},enumerable:!0},buttons:{get:function(){return a},
enumerable:!0},x:{get:function(){return r},enumerable:!0},y:{get:function(){return v},enumerable:!0},mods:{get:function(){return x},enumerable:!0}});return p};var n=b("mouse-event")},{"mouse-event":194}],193:[function(b,p,l){var n={left:0,top:0};p.exports=function(b,k,d){k=k||b.currentTarget||b.srcElement;Array.isArray(d)||(d=[0,0]);var g=b.clientX||0;b=b.clientY||0;k=k===window||k===document||k===document.body?n:k.getBoundingClientRect();d[0]=g-k.left;d[1]=b-k.top;return d}},{}],194:[function(b,
p,l){function n(b){return b.target||b.srcElement||window}l.buttons=function(b){if("object"===typeof b){if("buttons"in b)return b.buttons;if("which"in b){b=b.which;if(2===b)return 4;if(3===b)return 2;if(0<b)return 1<<b-1}else if("button"in b){b=b.button;if(1===b)return 4;if(2===b)return 2;if(0<=b)return 1<<b}}return 0};l.element=n;l.x=function(b){if("object"===typeof b){if("offsetX"in b)return b.offsetX;var g=n(b).getBoundingClientRect();return b.clientX-g.left}return 0};l.y=function(b){if("object"===
typeof b){if("offsetY"in b)return b.offsetY;var g=n(b).getBoundingClientRect();return b.clientY-g.top}return 0}},{}],195:[function(b,p,l){var n=b("to-px");p.exports=function(b,k,d){"function"===typeof b&&(d=!!k,k=b,b=window);var g=n("ex",b),e=function(b){d&&b.preventDefault();var e=b.deltaX||0,h=b.deltaY||0,f=b.deltaZ||0,c=1;switch(b.deltaMode){case 1:c=g;break;case 2:c=window.innerHeight}e*=c;h*=c;f*=c;if(e||h||f)return k(e,h,f,b)};b.addEventListener("wheel",e);return e}},{"to-px":257}],196:[function(b,
p,l){function n(d,c,b){for(var a=0,f=0;f<d;++f)c&1<<f&&(a|=1<<b[f]);return a}function g(f,c,b,a,g,v){function q(a,c){y.push("for(","i"+g[a],"=",c,";","i"+g[a],"<","s"+g[a],";","++","i"+g[a],"){")}function r(a){for(var c=0;c<z;++c)y.push("p"+c,"+=","u"+c+"_"+g[a],";");y.push("}")}function l(){for(var a=1;a<1<<F;++a)y.push(t,"=","e"+a,";","e"+a,"=","y"+a,";","y"+a,"=",t,";")}function p(c,f){if(0>c){for(var b=0;b<z;++b)v[b]?y.push("c"+b+"_0","=","d"+b,".get(","p"+b,");"):y.push("c"+b+"_0","=","d"+b,
"[","p"+b,"];");c=[];for(b=0;b<z;++b)c.push("c"+b+"_0");for(b=0;b<a;++b)c.push("x"+b);y.push("b0","=",h,"[",m,"]=phase(",c.join(),");");for(c=1;c<1<<F;++c)y.push("b"+c,"=",h,"[",m,"+","e"+c,"];");b=[];for(c=1;c<1<<F;++c)b.push("(b0!==b"+c+")");y.push("if(",b.join("||"),"){");var k=[];for(b=0;b<F;++b)k.push("i"+b);for(b=0;b<z;++b)for(k.push("c"+b+"_0"),c=1;c<1<<F;++c)v[b]?y.push("c"+b+"_"+c,"=","d"+b,".get(","p"+b,"+","d"+b+"_"+c,");"):y.push("c"+b+"_"+c,"=","d"+b,"[","p"+b,"+","d"+b+"_"+c,"];"),k.push("c"+
b+"_"+c);for(b=0;b<1<<F;++b)k.push("b"+b);for(b=0;b<a;++b)k.push("x"+b);y.push("vertex(",k.join(),");","v0","=",d,"[",m,"]=",e,"++;");b=(1<<F)-1;k="b"+b;for(c=0;c<F;++c)if(0===(f&~(1<<c))){for(var t=b^1<<c,n="b"+t,u=[],x=t;0<x;x=x-1&t)u.push(d+"["+m+"+"+("e"+x)+"]");u.push("v0");for(x=0;x<z;++x)c&1?u.push("c"+x+"_"+b,"c"+x+"_"+t):u.push("c"+x+"_"+t,"c"+x+"_"+b);c&1?u.push(k,n):u.push(n,k);for(x=0;x<a;++x)u.push("x"+x);y.push("if(",k,"!==",n,"){","face(",u.join(),")}")}y.push("}",m,"+=1;")}else{for(b=
c-1;0<=b;--b)q(b,0);k=[];for(b=0;b<z;++b)v[b]?k.push("d"+b+".get("+("p"+b)+")"):k.push("d"+b+"["+("p"+b)+"]");for(b=0;b<a;++b)k.push("x"+b);y.push(h,"[",m,"++]=phase(",k.join(),");");for(b=0;b<c;++b)r(b);for(b=0;b<z;++b)y.push("p"+b,"+=","u"+b+"_"+g[c],";");y.push("if(","s"+g[c],">0){","i"+g[c],"=1;");p(c-1,f|1<<g[c]);for(b=0;b<z;++b)y.push("p"+b,"+=","u"+b+"_"+g[c],";");c===F-1&&(y.push(m,"=0;"),l());q(c,2);p(c-1,f);c===F-1&&(y.push("if(","i"+g[F-1],"&1){",m,"=0;}"),l());r(c);y.push("}")}}var z=
v.length,F=g.length;if(2>F)throw Error("ndarray-extract-contour: Dimension must be at least 2");for(var B="extractContour"+g.join("_"),y=[],w=[],G=[],E=0;E<z;++E)G.push("a"+E);for(E=0;E<a;++E)G.push("x"+E);for(E=0;E<F;++E)w.push("s"+E+"=a0.shape["+E+"]|0");for(E=0;E<z;++E){w.push("d"+E+"="+("a"+E)+".data","o"+E+"="+("a"+E)+".offset|0");for(var J=0;J<F;++J)w.push("t"+E+"_"+J+"="+("a"+E)+".stride["+J+"]|0")}for(E=0;E<z;++E)for(w.push("p"+E+"="+("o"+E)),w.push("c"+E+"_0"),J=1;J<1<<F;++J){for(var K=[],
H=0;H<F;++H)J&1<<H&&K.push("-"+("t"+E+"_"+H));w.push("d"+E+"_"+J+"=("+K.join("")+")|0");w.push("c"+E+"_"+J+"=0")}for(E=0;E<z;++E)for(J=0;J<F;++J)H=["t"+E+"_"+g[J]],0<J&&H.push("t"+E+"_"+g[J-1]+"*"+("s"+g[J-1])),w.push("u"+E+"_"+g[J]+"=("+H.join("-")+")|0");for(E=0;E<F;++E)w.push("i"+E+"=0");w.push(e+"=0");J=["2"];for(E=F-2;0<=E;--E)J.push("s"+g[E]);w.push(u+"=("+J.join("*")+")|0",h+"=mallocUint32("+u+")",d+"=mallocUint32("+u+")",m+"=0");w.push("b0=0");for(J=1;J<1<<F;++J){E=[];K=[];for(H=0;H<F;++H)J&
1<<H&&(0===K.length?E.push("1"):E.unshift(K.join("*"))),K.push("s"+g[H]);H="";0>E[0].indexOf("s"+g[F-2])&&(H="-");K=n(F,J,g);w.push("e"+K+"=(-"+E.join("-")+")|0","y"+K+"=("+H+E.join("-")+")|0","b"+K+"=0")}w.push("v0=0",t+"=0");p(F-1,0);y.push("freeUint32(",d,");freeUint32(",h,");");B=["'use strict';function ",B,"(",G.join(),"){var ",w.join(),";",y.join(""),"}return ",B].join("");return(new Function("vertex","face","phase","mallocUint32","freeUint32",B))(f,c,b,k.mallocUint32,k.freeUint32)}var k=b("typedarray-pool");
p.exports=function(d){function c(a){throw Error("ndarray-extract-contour: "+a);}"object"!==typeof d&&c("Must specify arguments");var b=d.order;Array.isArray(b)||c("Must specify order");var a=d.arrayArguments||1;1>a&&c("Must have at least one array argument");var f=d.scalarArguments||0;0>f&&c("Scalar arg count must be > 0");"function"!==typeof d.vertex&&c("Must specify vertex creation function");"function"!==typeof d.cell&&c("Must specify cell creation function");"function"!==typeof d.phase&&c("Must specify phase function");
for(var e=d.getters||[],h=Array(a),k=0;k<a;++k)0<=e.indexOf(k)?h[k]=!0:h[k]=!1;return g(d.vertex,d.cell,d.phase,f,b,h)};var d="V",h="P",e="N",u="Q",m="X",t="T"},{"typedarray-pool":262}],197:[function(b,p,l){function n(c){if(!c)return d;for(var b=0;b<c.args.length;++b){var a=c.args[b];c.args[b]=0===b?{name:a,lvalue:!0,rvalue:!!c.rvalue,count:c.count||1}:{name:a,lvalue:!1,rvalue:!0,count:1}}c.thisVars||(c.thisVars=[]);c.localVars||(c.localVars=[]);return c}function g(c){for(var d=[],a=0;a<c.args.length;++a)d.push("a"+
a);d=new Function("P",["return function ",c.funcName,"_ndarrayops(",d.join(","),") {P(",d.join(","),");return a0}"].join(""));c=k({args:c.args,pre:n(c.pre),body:n(c.body),post:n(c.proc),funcName:c.funcName});return d(c)}var k=b("cwise-compiler"),d={body:"",args:[],thisVars:[],localVars:[]},h={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var c in h){var d=h[c];l[c]=g({args:["array","array","array"],body:{args:["a","b","c"],
body:"a=b"+d+"c"},funcName:c});l[c+"eq"]=g({args:["array","array"],body:{args:["a","b"],body:"a"+d+"=b"},rvalue:!0,funcName:c+"eq"});l[c+"s"]=g({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:c+"s"});l[c+"seq"]=g({args:["array","scalar"],body:{args:["a","s"],body:"a"+d+"=s"},rvalue:!0,funcName:c+"seq"})}})();var e={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var c in e){var d=e[c];l[c]=g({args:["array","array"],body:{args:["a","b"],body:"a="+d+"b"},
funcName:c});l[c+"eq"]=g({args:["array"],body:{args:["a"],body:"a="+d+"a"},rvalue:!0,count:2,funcName:c+"eq"})}})();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var c in u){var d=u[c];l[c]=g({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+d+"c"},funcName:c});l[c+"s"]=g({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+d+"s"},funcName:c+"s"});l[c+"eq"]=g({args:["array","array"],body:{args:["a","b"],body:"a=a"+d+"b"},
rvalue:!0,count:2,funcName:c+"eq"});l[c+"seq"]=g({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+d+"s"},rvalue:!0,count:2,funcName:c+"seq"})}})();var m="abs acos asin atan ceil cos exp floor log round sin sqrt tan".split(" ");(function(){for(var c=0;c<m.length;++c){var d=m[c];l[d]=g({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:d});l[d+"eq"]=g({args:["array"],pre:{args:[],body:"this_f=Math."+
d,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"})}})();var t=["max","min","atan2","pow"];(function(){for(var c=0;c<t.length;++c){var d=t[c];l[d]=g({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d});l[d+"s"]=g({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b",
"c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:d+"s"});l[d+"eq"]=g({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"eq"});l[d+"seq"]=g({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"seq"})}})();var f=["atan2","pow"];(function(){for(var c=0;c<
f.length;++c){var d=f[c];l[d+"op"]=g({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"op"});l[d+"ops"]=g({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:d+"ops"});l[d+"opeq"]=g({args:["array","array"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a",
"b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opeq"});l[d+"opseq"]=g({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+d,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:d+"opseq"})}})();l.any=k({args:["array"],pre:d,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"});l.all=
k({args:["array"],pre:d,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"});l.sum=k({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"});l.prod=k({args:["array"],
pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"});l.norm2squared=k({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],
body:"return this_s"},funcName:"norm2squared"});l.norm2=k({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"});l.norminf=k({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",
localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"});l.norm1=k({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"});l.sup=k({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},
body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}});l.inf=k({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",
args:[],thisVars:["this_h"],localVars:[]}});l.argmin=k({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",
args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});l.argmax=k({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,
count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}});l.random=g({args:["array"],
pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"});l.assign=g({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"});l.assigns=g({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"});l.equals=k({args:["array","array"],pre:d,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},
post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":82}],198:[function(b,p,l){function n(d){switch(d){case "uint8":return[h.mallocUint8,h.freeUint8];case "uint16":return[h.mallocUint16,h.freeUint16];case "uint32":return[h.mallocUint32,h.freeUint32];case "int8":return[h.mallocInt8,h.freeInt8];case "int16":return[h.mallocInt16,h.freeInt16];case "int32":return[h.mallocInt32,h.freeInt32];case "float32":return[h.mallocFloat,h.freeFloat];case "float64":return[h.mallocDouble,
h.freeDouble];default:return null}}function g(d){for(var b=[],e=0;e<d;++e)b.push("s"+e);for(e=0;e<d;++e)b.push("n"+e);for(e=1;e<d;++e)b.push("d"+e);for(e=1;e<d;++e)b.push("e"+e);for(e=1;e<d;++e)b.push("f"+e);return b}function k(d,b){function e(a){return"generic"===b?["data.get(",a,")"].join(""):["data[",a,"]"].join("")}function h(a,c){return"generic"===b?["data.set(",a,",",c,")"].join(""):["data[",a,"]=",c].join("")}var f=["'use strict'"],c=["ndarrayInsertionSort",d.join("d"),b].join(""),k=["left",
"right","data","offset"].concat(g(d.length)),a=n(b),r=["i,j,cptr,ptr=left*s0+offset"];if(1<d.length){for(var u=[],x=1;x<d.length;++x)r.push("i"+x),u.push("n"+x);a?r.push("scratch=malloc("+u.join("*")+")"):r.push("scratch=new Array("+u.join("*")+")");r.push("dptr","sptr","a","b")}else r.push("scratch");f.push(["function ",c,"(",k.join(","),"){var ",r.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr");if(1<d.length){f.push("dptr=0;sptr=ptr");for(x=d.length-1;0<=x;--x)k=d[x],
0!==k&&f.push(["for(i",k,"=0;i",k,"<n",k,";++i",k,"){"].join(""));f.push("scratch[dptr++]=",e("sptr"));for(x=0;x<d.length;++x)k=d[x],0!==k&&f.push("sptr+=d"+k,"}");f.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0");for(x=1;x<d.length;++x)1===x&&f.push("__l:"),f.push(["for(i",x,"=0;i",x,"<n",x,";++i",x,"){"].join(""));f.push(["a=",e("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join(""));for(x=d.length-1;1<=x;--x)f.push("sptr+=e"+x,"dptr+=f"+x,"}");f.push("dptr=cptr;sptr=cptr-s0");
for(x=d.length-1;0<=x;--x)k=d[x],0!==k&&f.push(["for(i",k,"=0;i",k,"<n",k,";++i",k,"){"].join(""));f.push(h("dptr",e("sptr")));for(x=0;x<d.length;++x)k=d[x],0!==k&&f.push(["dptr+=d",k,";sptr+=d",k].join(""),"}");f.push("cptr-=s0\n}");f.push("dptr=cptr;sptr=0");for(x=d.length-1;0<=x;--x)k=d[x],0!==k&&f.push(["for(i",k,"=0;i",k,"<n",k,";++i",k,"){"].join(""));f.push(h("dptr","scratch[sptr++]"));for(x=0;x<d.length;++x)k=d[x],0!==k&&f.push("dptr+=d"+k,"}")}else f.push("scratch="+e("ptr"),"while((j--\x3eleft)&&("+
e("cptr-s0")+">scratch)){",h("cptr",e("cptr-s0")),"cptr-=s0","}",h("cptr","scratch"));f.push("}");1<d.length&&a&&f.push("free(scratch)");f.push("} return "+c);if(a)return d=new Function("malloc","free",f.join("\n")),d(a[0],a[1]);d=new Function(f.join("\n"));return d()}function d(d,b,h){function e(a){return["(offset+",a,"*s0)"].join("")}function f(a){return"generic"===b?["data.get(",a,")"].join(""):["data[",a,"]"].join("")}function c(a,c){return"generic"===b?["data.set(",a,",",c,")"].join(""):["data[",
a,"]=",c].join("")}function k(a,c,b){if(1===a.length)w.push("ptr0="+e(a[0]));else for(var f=0;f<a.length;++f)w.push(["b_ptr",f,"=s0*",a[f]].join(""));c&&w.push("pivot_ptr=0");w.push("ptr_shift=offset");for(f=d.length-1;0<=f;--f){var g=d[f];0!==g&&w.push(["for(i",g,"=0;i",g,"<n",g,";++i",g,"){"].join(""))}if(1<a.length)for(f=0;f<a.length;++f)w.push(["ptr",f,"=b_ptr",f,"+ptr_shift"].join(""));w.push(b);c&&w.push("++pivot_ptr");for(f=0;f<d.length;++f)g=d[f],0!==g&&(1<a.length?w.push("ptr_shift+=d"+g):
w.push("ptr0+=d"+g),w.push("}"))}function a(a,c,b,f){if(1===c.length)w.push("ptr0="+e(c[0]));else{for(var g=0;g<c.length;++g)w.push(["b_ptr",g,"=s0*",c[g]].join(""));w.push("ptr_shift=offset")}b&&w.push("pivot_ptr=0");a&&w.push(a+":");for(g=1;g<d.length;++g)w.push(["for(i",g,"=0;i",g,"<n",g,";++i",g,"){"].join(""));if(1<c.length)for(g=0;g<c.length;++g)w.push(["ptr",g,"=b_ptr",g,"+ptr_shift"].join(""));w.push(f);for(g=d.length-1;1<=g;--g)b&&w.push("pivot_ptr+=f"+g),1<c.length?w.push("ptr_shift+=e"+
g):w.push("ptr0+=e"+g),w.push("}")}function r(){1<d.length&&J&&w.push("free(pivot1)","free(pivot2)")}function m(c,b){c="el"+c;b="el"+b;if(1<d.length){var g="__l"+ ++K;a(g,[c,b],!1,["comp=",f("ptr0"),"-",f("ptr1"),"\nif(comp>0){tmp0=",c,";",c,"=",b,";",b,"=tmp0;break ",g,"}\nif(comp<0){break ",g,"}"].join(""))}else w.push(["if(",f(e(c)),">",f(e(b)),"){tmp0=",c,";",c,"=",b,";",b,"=tmp0}"].join(""))}function u(a,b){1<d.length?k([a,b],!1,c("ptr0",f("ptr1"))):w.push(c(e(a),f(e(b))))}function l(c,b,g){if(1<
d.length){var h="__l"+ ++K;a(h,[b],!0,[c,"=",f("ptr0"),"-pivot",g,"[pivot_ptr]\nif(",c,"!==0){break ",h,"}"].join(""))}else w.push([c,"=",f(e(b)),"-pivot",g].join(""))}function p(a,b){1<d.length?k([a,b],!1,["tmp=",f("ptr0"),"\n",c("ptr0",f("ptr1")),"\n",c("ptr1","tmp")].join("")):w.push(["ptr0=",e(a),"\nptr1=",e(b),"\ntmp=",f("ptr0"),"\n",c("ptr0",f("ptr1")),"\n",c("ptr1","tmp")].join(""))}function D(a,b,g){1<d.length?(k([a,b,g],!1,["tmp=",f("ptr0"),"\n",c("ptr0",f("ptr1")),"\n",c("ptr1",f("ptr2")),
"\n",c("ptr2","tmp")].join("")),w.push("++"+b,"--"+g)):w.push(["ptr0=",e(a),"\nptr1=",e(b),"\nptr2=",e(g),"\n++",b,"\n--",g,"\ntmp=",f("ptr0"),"\n",c("ptr0",f("ptr1")),"\n",c("ptr1",f("ptr2")),"\n",c("ptr2","tmp")].join(""))}function z(a,c){p(a,c);w.push("--"+c)}function F(a,b,g){1<d.length?k([a,b],!0,[c("ptr0",f("ptr1")),"\n",c("ptr1",["pivot",g,"[pivot_ptr]"].join(""))].join("")):w.push(c(e(a),f(e(b))),c(e(b),"pivot"+g))}function B(a,c){w.push(["if((",c,"-",a,")<=32){\ninsertionSort(",a,",",c,",data,offset,",
g(d.length).join(","),")\n}else{\n",G,"(",a,",",c,",data,offset,",g(d.length).join(","),")\n}"].join(""))}function y(a,c,b){1<d.length?(w.push(["__l",++K,":while(true){"].join("")),k([a],!0,["if(",f("ptr0"),"!==pivot",c,"[pivot_ptr]){break __l",K,"}"].join("")),w.push(b,"}")):w.push(["while(",f(e(a)),"===pivot",c,"){",b,"}"].join(""))}var w=["'use strict'"],G=["ndarrayQuickSort",d.join("d"),b].join(""),E=["left","right","data","offset"].concat(g(d.length)),J=n(b),K=0;w.push(["function ",G,"(",E.join(","),
"){"].join(""));E="sixth=((right-left+1)/6)|0 index1=left+sixth index5=right-sixth index3=(left+right)>>1 index2=index3-sixth index4=index3+sixth el1=index1 el2=index2 el3=index3 el4=index4 el5=index5 less=left+1 great=right-1 pivots_are_equal=true tmp tmp0 x y z k ptr0 ptr1 ptr2 comp_pivot1=0 comp_pivot2=0 comp=0".split(" ");if(1<d.length){for(var H=[],L=1;L<d.length;++L)H.push("n"+L),E.push("i"+L);for(L=0;8>L;++L)E.push("b_ptr"+L);E.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift",
"elementSize="+H.join("*"));J?E.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):E.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else E.push("pivot1","pivot2");w.push("var "+E.join(","));m(1,2);m(4,5);m(1,3);m(2,3);m(1,4);m(3,4);m(2,5);m(2,3);m(4,5);1<d.length?k("el1 el2 el3 el4 el5 index1 index3 index5".split(" "),!0,["pivot1[pivot_ptr]=",f("ptr1"),"\npivot2[pivot_ptr]=",f("ptr3"),"\npivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\nx=",
f("ptr0"),"\ny=",f("ptr2"),"\nz=",f("ptr4"),"\n",c("ptr5","x"),"\n",c("ptr6","y"),"\n",c("ptr7","z")].join("")):w.push(["pivot1=",f(e("el2")),"\npivot2=",f(e("el4")),"\npivots_are_equal=pivot1===pivot2\nx=",f(e("el1")),"\ny=",f(e("el3")),"\nz=",f(e("el5")),"\n",c(e("index1"),"x"),"\n",c(e("index3"),"y"),"\n",c(e("index5"),"z")].join(""));u("index2","left");u("index4","right");w.push("if(pivots_are_equal){");w.push("for(k=less;k<=great;++k){");l("comp","k",1);w.push("if(comp===0){continue}");w.push("if(comp<0){");
w.push("if(k!==less){");p("k","less");w.push("}");w.push("++less");w.push("}else{");w.push("while(true){");l("comp","great",1);w.push("if(comp>0){");w.push("great--");w.push("}else if(comp<0){");D("k","less","great");w.push("break");w.push("}else{");z("k","great");w.push("break");w.push("}");w.push("}");w.push("}");w.push("}");w.push("}else{");w.push("for(k=less;k<=great;++k){");l("comp_pivot1","k",1);w.push("if(comp_pivot1<0){");w.push("if(k!==less){");p("k","less");w.push("}");w.push("++less");
w.push("}else{");l("comp_pivot2","k",2);w.push("if(comp_pivot2>0){");w.push("while(true){");l("comp","great",2);w.push("if(comp>0){");w.push("if(--great<k){break}");w.push("continue");w.push("}else{");l("comp","great",1);w.push("if(comp<0){");D("k","less","great");w.push("}else{");z("k","great");w.push("}");w.push("break");w.push("}");w.push("}");w.push("}");w.push("}");w.push("}");w.push("}");F("left","(less-1)",1);F("right","(great+1)",2);B("left","(less-2)");B("(great+2)","right");w.push("if(pivots_are_equal){");
r();w.push("return");w.push("}");w.push("if(less<index1&&great>index5){");y("less",1,"++less");y("great",2,"--great");w.push("for(k=less;k<=great;++k){");l("comp_pivot1","k",1);w.push("if(comp_pivot1===0){");w.push("if(k!==less){");p("k","less");w.push("}");w.push("++less");w.push("}else{");l("comp_pivot2","k",2);w.push("if(comp_pivot2===0){");w.push("while(true){");l("comp","great",2);w.push("if(comp===0){");w.push("if(--great<k){break}");w.push("continue");w.push("}else{");l("comp","great",1);w.push("if(comp<0){");
D("k","less","great");w.push("}else{");z("k","great");w.push("}");w.push("break");w.push("}");w.push("}");w.push("}");w.push("}");w.push("}");w.push("}");r();B("less","great");w.push("}return "+G);if(1<d.length&&J)return E=new Function("insertionSort","malloc","free",w.join("\n")),E(h,J[0],J[1]);E=new Function("insertionSort",w.join("\n"));return E(h)}var h=b("typedarray-pool");p.exports=function(b,h){var e=["'use strict'"],t=["ndarraySortWrapper",b.join("d"),h].join("");e.push(["function ",t,"(array){"].join(""));
for(var f=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],c=0;c<b.length;++c)f.push(["s",c,"=stride[",c,"]|0,n",c,"=shape[",c,"]|0"].join(""));var q=Array(b.length),a=[];for(c=0;c<b.length;++c){var r=b[c];0!==r&&(q[r]=0===a.length?"1":a.join("*"),a.push("n"+r))}var n=a=-1;for(c=0;c<b.length;++c)r=b[c],0!==r&&(0<a?f.push(["d",r,"=s",r,"-d",a,"*n",a].join("")):f.push(["d",r,"=s",r].join("")),a=r),r=b.length-1-c,0!==r&&(0<n?f.push(["e",r,"=s",r,"-e",n,"*n",n,",f",r,"=",
q[r],"-f",n,"*n",n].join("")):f.push(["e",r,"=s",r,",f",r,"=",q[r]].join("")),n=r);e.push("var "+f.join(","));f=["0","n0-1","data","offset"].concat(g(b.length));e.push(["if(n0<=32){insertionSort(",f.join(","),")}else{quickSort(",f.join(","),")}"].join(""));e.push("}return "+t);e=new Function("insertionSort","quickSort",e.join("\n"));t=k(b,h);b=d(b,h,t);return e(t,b)}},{"typedarray-pool":262}],199:[function(b,p,l){var n=b("./lib/compile_sort.js"),g={};p.exports=function(b){var d=b.order,h=b.dtype,
e=[d,h].join(":"),k=g[e];k||(g[e]=k=n(d,h));k(b);return b}},{"./lib/compile_sort.js":198}],200:[function(b,p,l){function n(d,b){return d[0]-b[0]}function g(){var d=this.stride,b=Array(d.length),c;for(c=0;c<b.length;++c)b[c]=[Math.abs(d[c]),c];b.sort(n);d=Array(b.length);for(c=0;c<d.length;++c)d[c]=b[c][1];return d}function k(d,b){var c=["View",b,"d",d].join("");0>b&&(c="View_Nil"+d);var f="generic"===d;if(-1===b)return b=new Function("function "+c+"(a){this.data=a;};var proto="+c+".prototype;proto.dtype='"+
d+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+c+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+c+"(a){return new "+c+"(a);}"),b();if(0===b)return b=new Function("TrivialArray","function "+c+"(a,d) {this.data = a;this.offset = d};var proto="+c+".prototype;proto.dtype='"+d+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+
c+"_copy() {return new "+c+"(this.data,this.offset)};proto.pick=function "+c+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+c+"_get(){return "+(f?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+c+"_set(v){return "+(f?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+c+"(a,b,c,d){return new "+c+"(a,d)}"),b(m[d][0]);var a=["'use strict'"];var e=h(b),k=e.map(function(a){return"i"+a}),t="this.offset+"+
e.map(function(a){return"this.stride["+a+"]*i"+a}).join("+"),n=e.map(function(a){return"b"+a}).join(","),u=e.map(function(a){return"c"+a}).join(",");a.push("function "+c+"(a,"+n+","+u+",d){this.data=a","this.shape=["+n+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+c+".prototype","proto.dtype='"+d+"'","proto.dimension="+b);a.push("Object.defineProperty(proto,'size',{get:function "+c+"_size(){return "+e.map(function(a){return"this.shape["+a+"]"}).join("*"),"}})");1===b?a.push("proto.order=[0]"):
(a.push("Object.defineProperty(proto,'order',{get:"),4>b?(a.push("function "+c+"_order(){"),2===b?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===b&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})"));a.push("proto.set=function "+
c+"_set("+k.join(",")+",v){");f?a.push("return this.data.set("+t+",v)}"):a.push("return this.data["+t+"]=v}");a.push("proto.get=function "+c+"_get("+k.join(",")+"){");f?a.push("return this.data.get("+t+")}"):a.push("return this.data["+t+"]}");a.push("proto.index=function "+c+"_index(",k.join(),"){return "+t+"}");a.push("proto.hi=function "+c+"_hi("+k.join(",")+"){return new "+c+"(this.data,"+e.map(function(a){return["(typeof i",a,"!=='number'||i",a,"<0)?this.shape[",a,"]:i",a,"|0"].join("")}).join(",")+
","+e.map(function(a){return"this.stride["+a+"]"}).join(",")+",this.offset)}");f=e.map(function(a){return"a"+a+"=this.shape["+a+"]"});t=e.map(function(a){return"c"+a+"=this.stride["+a+"]"});a.push("proto.lo=function "+c+"_lo("+k.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+t.join(","));for(f=0;f<b;++f)a.push("if(typeof i"+f+"==='number'&&i"+f+">=0){d=i"+f+"|0;b+=c"+f+"*d;a"+f+"-=d}");a.push("return new "+c+"(this.data,"+e.map(function(a){return"a"+a}).join(",")+","+e.map(function(a){return"c"+
a}).join(",")+",b)}");a.push("proto.step=function "+c+"_step("+k.join(",")+"){var "+e.map(function(a){return"a"+a+"=this.shape["+a+"]"}).join(",")+","+e.map(function(a){return"b"+a+"=this.stride["+a+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(f=0;f<b;++f)a.push("if(typeof i"+f+"==='number'){d=i"+f+"|0;if(d<0){c+=b"+f+"*(a"+f+"-1);a"+f+"=ceil(-a"+f+"/d)}else{a"+f+"=ceil(a"+f+"/d)}b"+f+"*=d}");a.push("return new "+c+"(this.data,"+e.map(function(a){return"a"+a}).join(",")+","+e.map(function(a){return"b"+
a}).join(",")+",c)}");t=Array(b);n=Array(b);for(f=0;f<b;++f)t[f]="a[i"+f+"]",n[f]="b[i"+f+"]";a.push("proto.transpose=function "+c+"_transpose("+k+"){"+k.map(function(a,c){return a+"=("+a+"===undefined?"+c+":"+a+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+c+"(this.data,"+t.join(",")+","+n.join(",")+",this.offset)}");a.push("proto.pick=function "+c+"_pick("+k+"){var a=[],b=[],c=this.offset");for(f=0;f<b;++f)a.push("if(typeof i"+f+"==='number'&&i"+f+">=0){c=(c+this.stride["+f+"]*i"+
f+")|0}else{a.push(this.shape["+f+"]);b.push(this.stride["+f+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}");a.push("return function construct_"+c+"(data,shape,stride,offset){return new "+c+"(data,"+e.map(function(a){return"shape["+a+"]"}).join(",")+","+e.map(function(a){return"stride["+a+"]"}).join(",")+",offset)}");b=new Function("CTOR_LIST","ORDER",a.join("\n"));return b(m[d],g)}function d(d){if(e(d))return"buffer";if(u)switch(Object.prototype.toString.call(d)){case "[object Float64Array]":return"float64";
case "[object Float32Array]":return"float32";case "[object Int8Array]":return"int8";case "[object Int16Array]":return"int16";case "[object Int32Array]":return"int32";case "[object Uint8Array]":return"uint8";case "[object Uint16Array]":return"uint16";case "[object Uint32Array]":return"uint32";case "[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(d)?"array":"generic"}var h=b("iota-array"),e=b("is-buffer"),u="undefined"!==typeof Float64Array,m={float32:[],float64:[],int8:[],int16:[],
int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};(function(){for(var d in m)m[d].push(k(d,-1))});p.exports=function(b,f,c,e){if(void 0===b){var a=m.array[0];return a([])}"number"===typeof b&&(b=[b]);void 0===f&&(f=[b.length]);a=f.length;if(void 0===c){c=Array(a);for(var g=a-1,h=1;0<=g;--g)c[g]=h,h*=f[g]}if(void 0===e)for(g=e=0;g<a;++g)0>c[g]&&(e-=(f[g]-1)*c[g]);g=d(b);for(h=m[g];h.length<=a+1;)h.push(k(g,h.length-1));a=h[a+1];return a(b,f,c,e)}},{"iota-array":179,
"is-buffer":181}],201:[function(b,p,l){var n=b("double-bits"),g=Math.pow(2,-1074);p.exports=function(b,d){if(isNaN(b)||isNaN(d))return NaN;if(b===d)return b;if(0===b)return 0>d?-g:g;var h=n.hi(b),e=n.lo(b);d>b===0<b?4294967295===e?(h+=1,e=0):e+=1:0===e?(e=4294967295,--h):--e;return n.pack(e,h)}},{"double-bits":89}],202:[function(b,p,l){l.vertexNormals=function(b,g,k){var d=g.length,h=Array(d);k=void 0===k?1E-6:k;for(var e=0;e<d;++e)h[e]=[0,0,0];for(e=0;e<b.length;++e)for(var n=b[e],m,t=n[n.length-
1],f=n[0],c=0;c<n.length;++c){m=t;t=f;f=n[(c+1)%n.length];var q=g[m],a=g[t],r=g[f],v=Array(3),x=0,l=Array(3),p=0;for(m=0;3>m;++m)v[m]=q[m]-a[m],x+=v[m]*v[m],l[m]=r[m]-a[m],p+=l[m]*l[m];if(x*p>k)for(q=h[t],x=1/Math.sqrt(x*p),m=0;3>m;++m)p=(m+1)%3,a=(m+2)%3,q[m]+=x*(l[p]*v[a]-l[a]*v[p])}for(e=0;e<d;++e){q=h[e];for(m=b=0;3>m;++m)b+=q[m]*q[m];if(b>k)for(x=1/Math.sqrt(b),m=0;3>m;++m)q[m]*=x;else for(m=0;3>m;++m)q[m]=0}return h};l.faceNormals=function(b,g,k){var d=b.length,h=Array(d);k=void 0===k?1E-6:
k;for(var e=0;e<d;++e){for(var n=b[e],m=Array(3),t=0;3>t;++t)m[t]=g[n[t]];n=Array(3);var f=Array(3);for(t=0;3>t;++t)n[t]=m[1][t]-m[0][t],f[t]=m[2][t]-m[0][t];m=Array(3);var c=0;for(t=0;3>t;++t){var q=(t+1)%3,a=(t+2)%3;m[t]=n[q]*f[a]-n[a]*f[q];c+=m[t]*m[t]}c=c>k?1/Math.sqrt(c):0;for(t=0;3>t;++t)m[t]*=c;h[e]=m}return h}},{}],203:[function(b,p,l){p.exports=function(b,g,k,d,h,e,u,m,t,f){var c=g+e+f;if(0<q){var q=Math.sqrt(c+1);b[0]=.5*(u-t)/q;b[1]=.5*(m-d)/q;b[2]=.5*(k-e)/q;b[3]=.5*q}else f=Math.max(g,
e,f),q=Math.sqrt(2*f-c+1),g>=f?(b[0]=.5*q,b[1]=.5*(h+k)/q,b[2]=.5*(m+d)/q,b[3]=.5*(u-t)/q):e>=f?(b[0]=.5*(k+h)/q,b[1]=.5*q,b[2]=.5*(t+u)/q,b[3]=.5*(m-d)/q):(b[0]=.5*(d+m)/q,b[1]=.5*(u+t)/q,b[2]=.5*q,b[3]=.5*(k-h)/q);return b}},{}],204:[function(b,p,l){function n(d,c,b){return Math.sqrt(Math.pow(d,2)+Math.pow(c,2)+Math.pow(b,2))}function g(d,c,b,a){return Math.sqrt(Math.pow(d,2)+Math.pow(c,2)+Math.pow(b,2)+Math.pow(a,2))}function k(d,c){var b=c[0],a=c[1],f=c[2];c=c[3];var e=g(b,a,f,c);1E-6<e?(d[0]=
b/e,d[1]=a/e,d[2]=f/e,d[3]=c/e):(d[0]=d[1]=d[2]=0,d[3]=1)}function d(d,c,b){this.radius=h([b]);this.center=h(c);this.rotation=h(d);this.computedRadius=this.radius.curve(0);this.computedCenter=this.center.curve(0);this.computedRotation=this.rotation.curve(0);this.computedUp=[.1,0,0];this.computedEye=[.1,0,0];this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.recalcMatrix(0)}p.exports=function(b){b=b||{};var c=b.center||[0,0,0],f=b.rotation||[0,0,0,1],a=b.radius||1;c=[].slice.call(c,0,3);f=
[].slice.call(f,0,4);k(f,f);c=new d(f,c,Math.log(a));c.setDistanceLimits(b.zoomMin,b.zoomMax);("eye"in b||"up"in b)&&c.lookAt(0,b.eye,b.center,b.up);return c};var h=b("filtered-vector"),e=b("gl-mat4/lookAt"),u=b("gl-mat4/fromQuat"),m=b("gl-mat4/invert"),t=b("./lib/quatFromFrame");b=d.prototype;b.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())};b.recalcMatrix=function(d){this.radius.curve(d);this.center.curve(d);this.rotation.curve(d);var c=this.computedRotation;
k(c,c);d=this.computedMatrix;u(d,c);var b=this.computedCenter;c=this.computedEye;var a=this.computedUp,f=Math.exp(this.computedRadius[0]);c[0]=b[0]+f*d[2];c[1]=b[1]+f*d[6];c[2]=b[2]+f*d[10];a[0]=d[1];a[1]=d[5];a[2]=d[9];for(b=0;3>b;++b){for(f=a=0;3>f;++f)a+=d[b+4*f]*c[f];d[12+b]=-a}};b.getMatrix=function(d,c){this.recalcMatrix(d);d=this.computedMatrix;if(c){for(var b=0;16>b;++b)c[b]=d[b];return c}return d};b.idle=function(d){this.center.idle(d);this.radius.idle(d);this.rotation.idle(d)};b.flush=function(d){this.center.flush(d);
this.radius.flush(d);this.rotation.flush(d)};b.pan=function(d,c,b,a){c=c||0;b=b||0;a=a||0;this.recalcMatrix(d);var f=this.computedMatrix,e=f[1],g=f[5],h=f[9],k=n(e,g,h);e/=k;g/=k;h/=k;k=f[0];var m=f[4],q=f[8],t=k*e+m*g+q*h;k-=e*t;m-=g*t;q-=h*t;t=n(k,m,q);k/=t;m/=t;q/=t;t=f[2];var u=f[6];f=f[10];var l=t*e+u*g+f*h,w=t*k+u*m+f*q;n(t-(l*e+w*k),u-(l*g+w*m),f-(l*h+w*q));this.center.move(d,k*c+e*b,m*c+g*b,q*c+h*b);c=Math.exp(this.computedRadius[0]);c=Math.max(1E-4,c+a);this.radius.set(d,Math.log(c))};b.rotate=
function(d,c,b,a){this.recalcMatrix(d);c=c||0;b=b||0;var f=this.computedMatrix,e=f[2],h=f[6],k=f[10],m=c*f[0]+b*f[1],q=c*f[4]+b*f[5];f=c*f[8]+b*f[9];b=-(h*f-k*q);f=-(k*m-e*f);m=-(e*q-h*m);q=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(f,2)-Math.pow(m,2)));var t=g(b,f,m,q);1E-6<t?(b/=t,f/=t,m/=t,q/=t):(b=f=m=0,q=1);t=this.computedRotation;var u=t[0],l=t[1],p=t[2],w=t[3];t=u*q+w*b+l*m-p*f;var G=l*q+w*f+p*b-u*m,E=p*q+w*m+u*f-l*b;u=w*q-u*b-l*f-p*m;a&&(b=e,f=h,m=k,a=Math.sin(a)/n(b,f,m),b*=a,f*=a,m*=
a,q=Math.cos(c),t=t*q+u*b+G*m-E*f,G=G*q+u*f+E*b-t*m,E=E*q+u*m+t*f-G*b,u=u*q-t*b-G*f-E*m);c=g(t,G,E,u);1E-6<c?(t/=c,G/=c,E/=c,u/=c):(t=G=E=0,u=1);this.rotation.set(d,t,G,E,u)};b.lookAt=function(d,c,b,a){this.recalcMatrix(d);b=b||this.computedCenter;c=c||this.computedEye;a=a||this.computedUp;var f=this.computedMatrix;e(f,c,b,a);a=this.computedRotation;t(a,f[0],f[1],f[2],f[4],f[5],f[6],f[8],f[9],f[10]);k(a,a);this.rotation.set(d,a[0],a[1],a[2],a[3]);for(a=f=0;3>a;++a)f+=Math.pow(b[a]-c[a],2);this.radius.set(d,
.5*Math.log(Math.max(f,1E-6)));this.center.set(d,b[0],b[1],b[2])};b.translate=function(d,c,b,a){this.center.move(d,c||0,b||0,a||0)};b.setMatrix=function(d,c){var b=this.computedRotation;t(b,c[0],c[1],c[2],c[4],c[5],c[6],c[8],c[9],c[10]);k(b,b);this.rotation.set(d,b[0],b[1],b[2],b[3]);b=this.computedMatrix;m(b,c);var a=b[15];if(1E-6<Math.abs(a)){c=b[12]/a;var f=b[13]/a;a=b[14]/a;this.recalcMatrix(d);var e=Math.exp(this.computedRadius[0]);this.center.set(d,c-b[2]*e,f-b[6]*e,a-b[10]*e)}else this.center.idle(d);
this.radius.idle(d)};b.setDistance=function(d,c){0<c&&this.radius.set(d,Math.log(c))};b.setDistanceLimits=function(d,c){d=0<d?Math.log(d):-Infinity;c=0<c?Math.log(c):Infinity;c=Math.max(c,d);this.radius.bounds[0][0]=d;this.radius.bounds[1][0]=c};b.getDistanceLimits=function(d){var c=this.radius.bounds;return d?(d[0]=Math.exp(c[0][0]),d[1]=Math.exp(c[1][0]),d):[Math.exp(c[0][0]),Math.exp(c[1][0])]};b.toJSON=function(){this.recalcMatrix(this.lastT());return{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),
distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}};b.fromJSON=function(d){var c=this.lastT(),b=d.center;b&&this.center.set(c,b[0],b[1],b[2]);(b=d.rotation)&&this.rotation.set(c,b[0],b[1],b[2],b[3]);(b=d.distance)&&0<b&&this.radius.set(c,Math.log(b));this.setDistanceLimits(d.zoomMin,d.zoomMax)}},{"./lib/quatFromFrame":203,"filtered-vector":96,"gl-mat4/fromQuat":120,"gl-mat4/invert":123,"gl-mat4/lookAt":124}],205:[function(b,p,l){var n=b("repeat-string");
p.exports=function(b,k,d){return n("undefined"!==typeof d?d+"":" ",k)+b}},{"repeat-string":228}],206:[function(b,p,l){p.exports=function(b,g){g||(g=[0,""]);b=String(b);var k=parseFloat(b,10);g[0]=k;g[1]=b.match(/[\d.\-\+]*\s*(.*)/)[1]||"";return g}},{}],207:[function(b,p,l){p.exports=function(b){var d=b.length;if(d<n)for(var h=1,e=0;e<d;++e)for(var k=0;k<e;++k)if(b[e]<b[k])h=-h;else{if(b[e]===b[k])return 0}else{var m=g.mallocUint8(d);for(e=0;e<d;++e)m[e]=0;h=1;for(e=0;e<d;++e)if(!m[e]){var t=1;m[e]=
1;for(k=b[e];k!==e;k=b[k]){if(m[k])return g.freeUint8(m),0;t+=1;m[k]=1}t&1||(h=-h)}g.freeUint8(m)}return h};var n=32,g=b("typedarray-pool")},{"typedarray-pool":262}],208:[function(b,p,l){var n=b("typedarray-pool"),g=b("invert-permutation");l.rank=function(b){var d=b.length;switch(d){case 0:case 1:return 0;case 2:return b[1]}var h=n.mallocUint32(d),e=n.mallocUint32(d),k=0,m;g(b,e);for(m=0;m<d;++m)h[m]=b[m];for(m=d-1;0<m;--m)d=e[m],b=h[m],h[m]=h[d],h[d]=b,e[m]=e[b],e[b]=d,k=(k+b)*m;n.freeUint32(e);
n.freeUint32(h);return k};l.unrank=function(b,d,g){switch(b){case 0:return g?g:[];case 1:return g?(g[0]=0,g):[0];case 2:return g?(d?(g[0]=0,g[1]=1):(g[0]=1,g[1]=0),g):d?[0,1]:[1,0]}g=g||Array(b);var e,h=1;g[0]=0;for(e=1;e<b;++e)g[e]=e,h=h*e|0;for(e=b-1;0<e;--e){b=d/h|0;d=d-b*h|0;h=h/e|0;var k=g[e]|0;g[e]=g[b]|0;g[b]=k|0}return g}},{"invert-permutation":178,"typedarray-pool":262}],209:[function(b,p,l){p.exports=function(b,k){function d(a,c){c=t[c][a[c]];c.splice(c.indexOf(a),1)}function g(a,c,b){var f;
for(f=0;2>f;++f)if(0<t[f][c].length){var e=t[f][c][0];var g=f;break}f=e[g^1];for(var h=0;2>h;++h)for(var m=t[h][c],q=0;q<m.length;++q){var r=m[q],u=r[h^1];0<n(k[a],k[c],k[f],k[u])&&(e=r,f=u,g=h)}if(b)return f;e&&d(e,g);return f}function e(a,c){var b=t[c][a][0],f=[a];d(b,c);for(c=b[c^1];;){for(;c!==a;)f.push(c),c=g(f[f.length-2],c,!1);if(0===t[0][a].length+t[1][a].length)break;c=f[f.length-1];b=a;var e=f[1],h=g(c,b,!0);if(0>n(k[c],k[b],k[e],k[h]))break;f.push(a);c=g(c,b)}return f}for(var u=k.length|
0,m=b.length,t=[Array(u),Array(u)],f=0;f<u;++f)t[0][f]=[],t[1][f]=[];for(f=0;f<m;++f){var c=b[f];t[0][c[0]].push(c);t[1][c[1]].push(c)}b=[];for(f=0;f<u;++f)0===t[0][f].length+t[1][f].length&&b.push([f]);for(f=0;f<u;++f)for(m=0;2>m;++m){for(c=[];0<t[m][f].length;){var q=e(f,m);q[1]===q[q.length-1]?c.push.apply(c,q):(0<c.length&&b.push(c),c=q)}0<c.length&&b.push(c)}return b};var n=b("compare-angle")},{"compare-angle":74}],210:[function(b,p,l){p.exports=function(b,k){for(var d=n(b,k.length),g=Array(k.length),
e=Array(k.length),u=[],m=0;m<k.length;++m){var t=d[m].length;e[m]=t;g[m]=!0;1>=t&&u.push(m)}for(;0<u.length;)for(t=u.pop(),g[t]=!1,t=d[t],m=0;m<t.length;++m){var f=t[m];0===--e[f]&&u.push(f)}d=Array(k.length);e=[];for(m=0;m<k.length;++m)g[m]?(t=e.length,d[m]=t,e.push(k[m])):d[m]=-1;k=[];for(m=0;m<b.length;++m)u=b[m],g[u[0]]&&g[u[1]]&&k.push([d[u[0]],d[u[1]]]);return[k,e]};var n=b("edges-to-adjacency-list")},{"edges-to-adjacency-list":92}],211:[function(b,p,l){function n(d,c){for(var b=Array(d),a=
0;a<d;++a)b[a]=c;return b}function g(d){for(var c=Array(d),b=0;b<d;++b)c[b]=[];return c}p.exports=function(b,c){function f(a){for(var c=a.length,d=0;d<c;++d)if(!E[a[d]])return!1;return!0}var a=t(b,c);b=a[0];c=a[1];for(var r=c.length,v=k(b,c.length),x=0;x<r;++x)if(1===v[x].length%2)throw Error("planar-graph-to-polyline: graph must be manifold");b=d(b,c);b=b.filter(function(a){for(var d=a.length,b=[0],f=0;f<d;++f){var g=c[a[f]],h=c[a[(f+1)%d]],k=e(-g[0],g[1]),m=e(-g[0],h[1]);g=e(h[0],g[1]);h=e(h[0],
h[1]);b=u(b,u(u(k,m),u(g,h)))}return 0<b[b.length-1]});a=b.length;var l=Array(a),p=Array(a);for(x=0;x<a;++x){l[x]=x;var D=Array(a);v=b[x].map(function(a){return c[a]});var z=h([v]),F=0,B=0;a:for(;B<a;++B)if(D[B]=0,x!==B){v=b[B];for(var y=v.length,w=0;w<y;++w){var G=z(c[v[w]]);if(0!==G){0>G&&(D[B]=1,F+=1);continue a}}D[B]=1;F+=1}p[x]=[F,x,D]}p.sort(function(a,c){return c[0]-a[0]});for(x=0;x<a;++x)for(D=p[x],v=D[1],y=D[2],B=0;B<a;++B)y[B]&&(l[B]=v);p=g(a);for(x=0;x<a;++x)p[x].push(l[x]),p[l[x]].push(x);
D={};var E=n(r,!1);for(x=0;x<a;++x)for(v=b[x],y=v.length,B=0;B<y;++B)r=v[B],z=v[(B+1)%y],F=Math.min(r,z)+":"+Math.max(r,z),F in D?(F=D[F],p[F].push(x),p[x].push(F),E[r]=E[z]=!0):D[F]=x;B=[];r=n(a,-1);for(x=0;x<a;++x)l[x]!==x||f(b[x])?r[x]=-1:(B.push(x),r[x]=0);for(a=[];0<B.length;){x=B.pop();l=p[x];m(l,function(a,c){return a-c});y=l.length;D=r[x];if(0===D){v=b[x];var J=[v]}for(x=0;x<y;++x)v=l[x],0<=r[v]||(r[v]=D^1,B.push(v),0===D&&(v=b[v],f(v)||(v.reverse(),J.push(v))));0===D&&a.push(J)}return a};
var k=b("edges-to-adjacency-list"),d=b("planar-dual"),h=b("point-in-big-polygon"),e=b("two-product"),u=b("robust-sum"),m=b("uniq"),t=b("./lib/trim-leaves")},{"./lib/trim-leaves":210,"edges-to-adjacency-list":92,"planar-dual":209,"point-in-big-polygon":212,"robust-sum":240,"two-product":260,uniq:264}],212:[function(b,p,l){function n(){return!0}function g(c){return function(a,d){return(a=c[a])?!!a.queryPoint(d,n):!1}}function k(c){for(var a={},d=0;d<c.length;++d){var b=c[d],e=b[0][0],h=b[0][1];b=b[1][1];
h=[Math.min(h,b),Math.max(h,b)];e in a?a[e].push(h):a[e]=[h]}c={};e=Object.keys(a);for(d=0;d<e.length;++d)c[e[d]]=f(a[e[d]]);return g(c)}function d(d,a){return function(b){var f=c.le(a,b[0]);if(0>f)return 1;var e=d[f];if(!e)if(0<f&&a[f]===b[0])e=d[f-1];else return 1;for(f=1;e;){var g=e.key,h=m(b,g[0],g[1]);if(g[0][0]<g[1][0])if(0>h)e=e.left;else if(0<h)f=-1,e=e.right;else return 0;else if(0<h)e=e.left;else if(0>h)f=1,e=e.right;else return 0}return f}}function h(c){return 1}function e(c){return function(a){return c(a[0],
a[1])?0:1}}function u(c,a){return function(d){return c(d[0],d[1])?0:a(d)}}p.exports=function(c){for(var a=c.length,b=[],f=[],g=0;g<a;++g)for(var m=c[g],q=m.length,n=q-1,l=0;l<q;n=l++){n=m[n];var p=m[l];n[0]===p[0]?f.push([n,p]):b.push([n,p])}if(0===b.length)return 0===f.length?h:e(k(f));c=t(b);c=d(c.slabs,c.coordinates);return 0===f.length?c:u(k(f),c)};var m=b("robust-orientation")[3],t=b("slab-decomposition"),f=b("interval-tree-1d"),c=b("binary-search-bounds")},{"binary-search-bounds":43,"interval-tree-1d":177,
"robust-orientation":235,"slab-decomposition":251}],213:[function(b,p,l){function n(d,c,b){d=t.segments(d);c=t.segments(c);c=t.combine(d,c);b=b(c);return t.polygon(b)}var g=b("./lib/build-log");l=b("./lib/epsilon");var k=b("./lib/intersecter"),d=b("./lib/segment-chainer"),h=b("./lib/segment-selector"),e=b("./lib/geojson"),u=!1,m=l();var t={buildLog:function(d){!0===d?u=g():!1===d&&(u=!1);return!1===u?!1:u.list},epsilon:function(d){return m.epsilon(d)},segments:function(d){var c=k(!0,m,u);d.regions.forEach(c.addRegion);
return{segments:c.calculate(d.inverted),inverted:d.inverted}},combine:function(d,c){return{combined:k(!1,m,u).calculate(d.segments,d.inverted,c.segments,c.inverted),inverted1:d.inverted,inverted2:c.inverted}},selectUnion:function(d){return{segments:h.union(d.combined,u),inverted:d.inverted1||d.inverted2}},selectIntersect:function(d){return{segments:h.intersect(d.combined,u),inverted:d.inverted1&&d.inverted2}},selectDifference:function(d){return{segments:h.difference(d.combined,u),inverted:d.inverted1&&
!d.inverted2}},selectDifferenceRev:function(d){return{segments:h.differenceRev(d.combined,u),inverted:!d.inverted1&&d.inverted2}},selectXor:function(d){return{segments:h.xor(d.combined,u),inverted:d.inverted1!==d.inverted2}},polygon:function(b){return{regions:d(b.segments,m,u),inverted:b.inverted}},polygonFromGeoJSON:function(d){return e.toPolygon(t,d)},polygonToGeoJSON:function(d){return e.fromPolygon(t,m,d)},union:function(d,c){return n(d,c,t.selectUnion)},intersect:function(d,c){return n(d,c,t.selectIntersect)},
difference:function(d,c){return n(d,c,t.selectDifference)},differenceRev:function(d,c){return n(d,c,t.selectDifferenceRev)},xor:function(d,c){return n(d,c,t.selectXor)}};"object"===typeof window&&(window.PolyBool=t);p.exports=t},{"./lib/build-log":214,"./lib/epsilon":215,"./lib/geojson":216,"./lib/intersecter":217,"./lib/segment-chainer":219,"./lib/segment-selector":220}],214:[function(b,p,l){p.exports=function(){function b(d,b){g.list.push({type:d,data:b?JSON.parse(JSON.stringify(b)):void 0});return g}
var g,k=0,d=!1;return g={list:[],segmentId:function(){return k++},checkIntersection:function(d,e){return b("check",{seg1:d,seg2:e})},segmentChop:function(d,e){b("div_seg",{seg:d,pt:e});return b("chop",{seg:d,pt:e})},statusRemove:function(d){return b("pop_seg",{seg:d})},segmentUpdate:function(d){return b("seg_update",{seg:d})},segmentNew:function(d,e){return b("new_seg",{seg:d,primary:e})},segmentRemove:function(d){return b("rem_seg",{seg:d})},tempStatus:function(d,e,g){return b("temp_status",{seg:d,
above:e,below:g})},rewind:function(d){return b("rewind",{seg:d})},status:function(d,e,g){return b("status",{seg:d,above:e,below:g})},vert:function(h){if(h===d)return g;d=h;return b("vert",{x:h})},log:function(d){"string"!==typeof d&&(d=JSON.stringify(d,!1,"  "));return b("log",{txt:d})},reset:function(){return b("reset")},selected:function(d){return b("selected",{segs:d})},chainStart:function(d){return b("chain_start",{seg:d})},chainRemoveHead:function(d,e){return b("chain_rem_head",{index:d,pt:e})},
chainRemoveTail:function(d,e){return b("chain_rem_tail",{index:d,pt:e})},chainNew:function(d,e){return b("chain_new",{pt1:d,pt2:e})},chainMatch:function(d){return b("chain_match",{index:d})},chainClose:function(d){return b("chain_close",{index:d})},chainAddHead:function(d,e){return b("chain_add_head",{index:d,pt:e})},chainAddTail:function(d,e){return b("chain_add_tail",{index:d,pt:e})},chainConnect:function(d,e){return b("chain_con",{index1:d,index2:e})},chainReverse:function(d){return b("chain_rev",
{index:d})},chainJoin:function(d,e){return b("chain_join",{index1:d,index2:e})},done:function(){return b("done")}}}},{}],215:[function(b,p,l){p.exports=function(b){"number"!==typeof b&&(b=1E-10);var g={epsilon:function(g){"number"===typeof g&&(b=g);return b},pointAboveOrOnLine:function(g,d,h){var e=d[0];d=d[1];return(h[0]-e)*(g[1]-d)-(h[1]-d)*(g[0]-e)>=-b},pointBetween:function(g,d,h){var e=h[0]-d[0];h=h[1]-d[1];g=(g[0]-d[0])*e+(g[1]-d[1])*h;return g<b||g-(e*e+h*h)>-b?!1:!0},pointsSameX:function(g,
d){return Math.abs(g[0]-d[0])<b},pointsSameY:function(g,d){return Math.abs(g[1]-d[1])<b},pointsSame:function(b,d){return g.pointsSameX(b,d)&&g.pointsSameY(b,d)},pointsCompare:function(b,d){return g.pointsSameX(b,d)?g.pointsSameY(b,d)?0:b[1]<d[1]?-1:1:b[0]<d[0]?-1:1},pointsCollinear:function(g,d,h){return Math.abs((g[0]-d[0])*(d[1]-h[1])-(d[0]-h[0])*(g[1]-d[1]))<b},linesIntersect:function(g,d,h,e){var k=d[0]-g[0];d=d[1]-g[1];var m=e[0]-h[0],t=e[1]-h[1];e=k*t-d*m;if(Math.abs(e)<b)return!1;var f=g[0]-
h[0];h=g[1]-h[1];m=(m*h-t*f)/e;h=(k*h-d*f)/e;g={alongA:0,alongB:0,pt:[g[0]+m*k,g[1]+m*d]};g.alongA=m<=-b?-2:m<b?-1:m-1<=-b?0:m-1<b?1:2;g.alongB=h<=-b?-2:h<b?-1:h-1<=-b?0:h-1<b?1:2;return g},pointInsideRegion:function(g,d){var h=g[0];g=g[1];for(var e=d[d.length-1][0],k=d[d.length-1][1],m=!1,t=0;t<d.length;t++){var f=d[t][0],c=d[t][1];c-g>b!=k-g>b&&(e-f)*(g-c)/(k-c)+f-h>b&&(m=!m);e=f;k=c}return m}};return g}},{}],216:[function(b,p,l){p.exports={toPolygon:function(b,g){function k(d){function e(d){d=
d.slice(0,d.length-1);return b.segments({inverted:!1,regions:[d]})}if(0>=d.length)return b.segments({inverted:!1,regions:[]});for(var g=e(d[0]),h=1;h<d.length;h++)g=b.selectDifference(b.combine(g,e(d[h])));return g}if("Polygon"===g.type)return b.polygon(k(g.coordinates));if("MultiPolygon"===g.type){for(var d=b.segments({inverted:!1,regions:[]}),h=0;h<g.coordinates.length;h++)d=b.selectUnion(b.combine(d,k(g.coordinates[h])));return b.polygon(d)}throw Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon");
},fromPolygon:function(b,g,k){function d(c,a){return g.pointInsideRegion([.5*(c[0][0]+c[1][0]),.5*(c[0][1]+c[1][1])],a)}function h(c,a){for(var b=0;b<c.children.length;b++){var f=c.children[b];if(d(a,f.region)){h(f,a);return}}var e={region:a,children:[]};for(b=0;b<c.children.length;b++)f=c.children[b],d(f.region,a)&&(e.children.push(f),c.children.splice(b,1),b--);c.children.push(e)}function e(c,a){for(var d=0,b=c[c.length-1][0],f=c[c.length-1][1],e=[],g=0;g<c.length;g++){var h=c[g][0],k=c[g][1];e.push([h,
k]);d+=k*b-h*f;b=h;f=k}0>d!==a&&e.reverse();e.push([e[0][0],e[0][1]]);return e}function n(d){var a=[e(d.region,!1)];c.push(a);for(var b=0;b<d.children.length;b++)a.push(m(d.children[b]))}function m(c){for(var a=0;a<c.children.length;a++)n(c.children[a]);return e(c.region,!0)}k=b.polygon(b.segments(k));b={region:null,children:[]};for(var t=0;t<k.regions.length;t++){var f=k.regions[t];3>f.length||h(b,f)}var c=[];for(t=0;t<b.children.length;t++)n(b.children[t]);return 0>=c.length?{type:"Polygon",coordinates:[]}:
1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}}},{}],217:[function(b,p,l){var n=b("./linked-list");p.exports=function(b,k,d){function g(c,b,a){return{id:d?d.segmentId():-1,start:c,end:b,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}function e(c,d){f.insertBefore(c,function(a){var b=c.isStart;var f=a.isStart,e=a.pt;a=a.other.pt;var g=k.pointsCompare(c.pt,e);b=0!==g?g:k.pointsSame(d,a)?0:b!==f?b?1:-1:k.pointAboveOrOnLine(d,f?e:a,f?a:e)?1:-1;return 0>
b})}function u(c,d){var a=n.node({isStart:!0,pt:c.start,seg:c,primary:d,other:null,status:null});e(a,c.end);c=n.node({isStart:!1,pt:c.end,seg:c,primary:d,other:a,status:null});a.other=c;e(c,a.pt);return a}function m(c,b){var a=g(b,c.seg.end,c.seg);d&&d.segmentChop(c.seg,b);c.other.remove();c.seg.end=b;c.other.pt=b;e(c.other,c.pt);return u(a,c.primary)}function t(c,e){function a(a){return h.findTransition(function(c){var d=c.ev;c=a.seg.start;var b=a.seg.end,f=d.seg.start;d=d.seg.end;c=k.pointsCollinear(c,
f,d)?k.pointsCollinear(b,f,d)?1:k.pointAboveOrOnLine(b,f,d)?1:-1:k.pointAboveOrOnLine(c,f,d)?1:-1;return 0<c})}function g(a,c){var b=a.seg,f=c.seg,e=b.start,g=b.end,h=f.start,r=f.end;d&&d.checkIntersection(b,f);b=k.linesIntersect(e,g,h,r);if(!1===b){if(!k.pointsCollinear(e,g,h)||k.pointsSame(e,r)||k.pointsSame(g,h))return!1;b=k.pointsSame(e,h);f=k.pointsSame(g,r);if(b&&f)return c;var q=!b&&k.pointBetween(e,h,r);h=!f&&k.pointBetween(g,h,r);if(b)return h?m(c,g):m(a,r),c;q&&(f||(h?m(c,g):m(a,r)),m(c,
e))}else 0===b.alongA&&(-1===b.alongB?m(a,h):0===b.alongB?m(a,b.pt):1===b.alongB&&m(a,r)),0===b.alongB&&(-1===b.alongA?m(c,e):0===b.alongA?m(c,b.pt):1===b.alongA&&m(c,g));return!1}for(var h=n.create(),q=[];!f.isEmpty();){var t=f.getHead();d&&d.vert(t.pt[0]);if(t.isStart){d&&d.segmentNew(t.seg,t.primary);var u=a(t),l=u.before?u.before.ev:null,p=u.after?u.after.ev:null;d&&d.tempStatus(t.seg,l?l.seg:!1,p?p.seg:!1);var F=function(){if(l){var a=g(t,l);if(a)return a}return p?g(t,p):!1}();if(F){if(b){var B;
if(B=null===t.seg.myFill.below?!0:t.seg.myFill.above!==t.seg.myFill.below)F.seg.myFill.above=!F.seg.myFill.above}else F.seg.otherFill=t.seg.myFill;d&&d.segmentUpdate(F.seg);t.other.remove();t.remove()}if(f.getHead()!==t){d&&d.rewind(t.seg);continue}b?(B=null===t.seg.myFill.below?!0:t.seg.myFill.above!==t.seg.myFill.below,t.seg.myFill.below=p?p.seg.myFill.above:c,t.seg.myFill.above=B?!t.seg.myFill.below:t.seg.myFill.below):null===t.seg.otherFill&&(F=p?t.primary===p.primary?p.seg.otherFill.above:p.seg.myFill.above:
t.primary?e:c,t.seg.otherFill={above:F,below:F});d&&d.status(t.seg,l?l.seg:!1,p?p.seg:!1);t.other.status=u.insert(n.node({ev:t}))}else{u=t.status;if(null===u)throw Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");h.exists(u.prev)&&h.exists(u.next)&&g(u.prev.ev,u.next.ev);d&&d.statusRemove(u.ev.seg);u.remove();t.primary||(u=t.seg.myFill,t.seg.myFill=t.seg.otherFill,t.seg.otherFill=u);q.push(t.seg)}f.getHead().remove()}d&&d.done();return q}var f=n.create();
return b?{addRegion:function(c){for(var b,a=c[c.length-1],f=0;f<c.length;f++){b=a;a=c[f];var e=k.pointsCompare(b,a);if(0!==e){var g=0>e?b:a;b=0>e?a:b;g={id:d?d.segmentId():-1,start:g,end:b,myFill:{above:null,below:null},otherFill:null};u(g,!0)}}},calculate:function(c){return t(c,!1)}}:{calculate:function(c,d,a,b){c.forEach(function(a){u(g(a.start,a.end,a),!0)});a.forEach(function(a){u(g(a.start,a.end,a),!1)});return t(d,b)}}}},{"./linked-list":218}],218:[function(b,p,l){p.exports={create:function(){var b=
{root:{root:!0,next:null},exists:function(g){return null===g||g===b.root?!1:!0},isEmpty:function(){return null===b.root.next},getHead:function(){return b.root.next},insertBefore:function(g,k){for(var d=b.root,h=b.root.next;null!==h;){if(k(h)){g.prev=h.prev;g.next=h;h.prev.next=g;h.prev=g;return}d=h;h=h.next}d.next=g;g.prev=d;g.next=null},findTransition:function(g){for(var k=b.root,d=b.root.next;null!==d&&!g(d);)k=d,d=d.next;return{before:k===b.root?null:k,after:d,insert:function(b){b.prev=k;b.next=
d;k.next=b;null!==d&&(d.prev=b);return b}}}};return b},node:function(b){b.prev=null;b.next=null;b.remove=function(){if(b.prev.next=b.next)b.next.prev=b.prev;b.prev=null;b.next=null};return b}}},{}],219:[function(b,p,l){p.exports=function(b,g,k){var d=[],h=[];b.forEach(function(b){function e(c,d,b){r.index=c;r.matches_head=d;r.matches_pt1=b;if(r===q)return r=a,!1;r=null;return!0}function m(a){k&&k.chainReverse(a);d[a].reverse()}function t(a,c){var b=d[a],f=d[c],e=b[b.length-1],h=b[b.length-2],m=f[0],
r=f[1];g.pointsCollinear(h,e,m)&&(k&&k.chainRemoveTail(a,e),b.pop(),e=h);g.pointsCollinear(e,m,r)&&(k&&k.chainRemoveHead(c,m),f.shift());k&&k.chainJoin(a,c);d[a]=b.concat(f);d.splice(c,1)}var f=b.start,c=b.end;if(g.pointsSame(f,c))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{k&&k.chainStart(b);for(var q={index:0,matches_head:!1,matches_pt1:!1},a={index:0,matches_head:!1,matches_pt1:!1},r=q,n=0;n<d.length;n++){b=d[n];var x=b[0];
b=b[b.length-1];if(g.pointsSame(x,f)){if(e(n,!0,!0))break}else if(g.pointsSame(x,c)){if(e(n,!0,!1))break}else if(g.pointsSame(b,f)){if(e(n,!1,!0))break}else if(g.pointsSame(b,c)&&e(n,!1,!1))break}if(r===q)d.push([f,c]),k&&k.chainNew(f,c);else if(r===a){k&&k.chainMatch(q.index);n=q.index;f=q.matches_pt1?c:f;c=q.matches_head;b=d[n];x=c?b[0]:b[b.length-1];var l=c?b[1]:b[b.length-2],p=c?b[b.length-1]:b[0],D=c?b[b.length-2]:b[1];g.pointsCollinear(l,x,f)&&(c?(k&&k.chainRemoveHead(q.index,f),b.shift()):
(k&&k.chainRemoveTail(q.index,f),b.pop()),x=l);g.pointsSame(p,f)?(d.splice(n,1),g.pointsCollinear(D,p,x)&&(c?(k&&k.chainRemoveTail(q.index,x),b.pop()):(k&&k.chainRemoveHead(q.index,x),b.shift())),k&&k.chainClose(q.index),h.push(b)):c?(k&&k.chainAddHead(q.index,f),b.unshift(f)):(k&&k.chainAddTail(q.index,f),b.push(f))}else b=q.index,n=a.index,k&&k.chainConnect(b,n),f=d[b].length<d[n].length,q.matches_head?a.matches_head?f?(m(b),t(b,n)):(m(n),t(n,b)):t(n,b):a.matches_head?t(b,n):f?(m(b),t(n,b)):(m(n),
t(b,n))}});return h}},{}],220:[function(b,p,l){function n(b,k,d){var g=[];b.forEach(function(b){var e=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);0!==k[e]&&g.push({id:d?d.segmentId():-1,start:b.start,end:b.end,myFill:{above:1===k[e],below:2===k[e]},otherFill:null})});d&&d.selected(g);return g}p.exports={union:function(b,k){return n(b,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(b,k){return n(b,[0,0,0,0,0,2,0,2,0,0,
1,1,0,2,1,0],k)},difference:function(b,k){return n(b,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(b,k){return n(b,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(b,k){return n(b,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}}},{}],221:[function(b,p,l){var n=new Float64Array(4),g=new Float64Array(4),k=new Float64Array(4);p.exports=function(d,b,e,u,m){n.length<u.length&&(n=new Float64Array(u.length),g=new Float64Array(u.length),k=new Float64Array(u.length));for(var h=0;h<u.length;++h)n[h]=
d[h]-u[h],g[h]=b[h]-d[h],k[h]=e[h]-d[h];var f=0,c=0,q=0,a=0,r=0,v=0;for(h=0;h<u.length;++h){var x=g[h],l=k[h],p=n[h];f+=x*x;c+=x*l;q+=l*l;a+=p*x;r+=p*l;v+=p*p}h=Math.abs(f*q-c*c);x=c*r-q*a;l=c*a-f*r;x+l<=h?0>x?0>l?0>a?(l=0,-a>=f?(x=1,f=f+2*a+v):(x=-a/f,f=a*x+v)):(x=0,0<=r?(l=0,f=v):-r>=q?(l=1,f=q+2*r+v):(l=-r/q,f=r*l+v)):(x=0,0<=r?(l=0,f=v):-r>=q?(l=1,f=q+2*r+v):(l=-r/q,f=r*l+v)):0>l?(l=0,0<=a?(x=0,f=v):-a>=f?(x=1,f=f+2*a+v):(x=-a/f,f=a*x+v)):(h=1/h,x*=h,l*=h,f=x*(f*x+c*l+2*a)+l*(c*x+q*l+2*r)+v):
0>x?(x=c+a,h=q+r,h>x?(h-=x,x=f-2*c+q,h>=x?(x=1,l=0,f=f+2*a+v):(x=h/x,l=1-x,f=x*(f*x+c*l+2*a)+l*(c*x+q*l+2*r)+v)):(x=0,0>=h?(l=1,f=q+2*r+v):0<=r?(l=0,f=v):(l=-r/q,f=r*l+v))):0>l?(x=c+r,h=f+a,h>x?(h-=x,x=f-2*c+q,h>=x?(l=1,x=0,f=q+2*r+v):(l=h/x,x=1-l,f=x*(f*x+c*l+2*a)+l*(c*x+q*l+2*r)+v)):(l=0,0>=h?(x=1,f=f+2*a+v):0<=a?(x=0,f=v):(x=-a/f,f=a*x+v))):(h=q+r-c-a,0>=h?(x=0,l=1,f=q+2*r+v):(x=f-2*c+q,h>=x?(x=1,l=0,f=f+2*a+v):(x=h/x,l=1-x,f=x*(f*x+c*l+2*a)+l*(c*x+q*l+2*r)+v)));c=1-x-l;for(h=0;h<u.length;++h)m[h]=
c*d[h]+x*b[h]+l*e[h];return 0>f?0:f}},{}],222:[function(b,p,l){p.exports=b("gl-quat/slerp")},{"gl-quat/slerp":139}],223:[function(b,p,l){var n=b("big-rat/add");p.exports=function(b,k){for(var d=b.length,g=Array(d),e=0;e<d;++e)g[e]=n(b[e],k[e]);return g}},{"big-rat/add":27}],224:[function(b,p,l){p.exports=function(b){for(var g=Array(b.length),d=0;d<b.length;++d)g[d]=n(b[d]);return g};var n=b("big-rat")},{"big-rat":30}],225:[function(b,p,l){var n=b("big-rat"),g=b("big-rat/mul");p.exports=function(b,
d){d=n(d);for(var h=b.length,e=Array(h),k=0;k<h;++k)e[k]=g(b[k],d);return e}},{"big-rat":30,"big-rat/mul":39}],226:[function(b,p,l){var n=b("big-rat/sub");p.exports=function(b,k){for(var d=b.length,g=Array(d),e=0;e<d;++e)g[e]=n(b[e],k[e]);return g}},{"big-rat/sub":41}],227:[function(b,p,l){var n=b("compare-cell"),g=b("compare-oriented-cell"),k=b("cell-orientation");p.exports=function(d){d.sort(g);for(var b=d.length,e=0,u=0;u<b;++u){var m=d[u],t=k(m);if(0!==t){if(0<e){var f=d[e-1];if(0===n(m,f)&&k(f)!==
t){--e;continue}}d[e++]=m}}d.length=e;return d}},{"cell-orientation":60,"compare-cell":75,"compare-oriented-cell":76}],228:[function(b,p,l){var n="",g;p.exports=function(b,d){if("string"!==typeof b)throw new TypeError("expected a string");if(1===d)return b;if(2===d)return b+b;var h=b.length*d;if(g!==b||"undefined"===typeof g)g=b,n="";else if(n.length>=h)return n.substr(0,h);for(;h>n.length&&1<d;)d&1&&(n+=b),d>>=1,b+=b;n+=b;return n=n.substr(0,h)}},{}],229:[function(b,p,l){(function(b){p.exports=b.performance&&
b.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],230:[function(b,p,l){p.exports=function(b){for(var g=b.length,k=b[b.length-1],d=g,h=g-2;0<=h;--h){var e=k,n=b[h];k=e+n;e=k-e;if(n-=e)b[--d]=k,k=n}var m=0;for(h=d;h<g;++h)e=b[h],n=k,k=e+n,e=k-e,(n-=e)&&(b[m++]=n);b[m++]=k;b.length=m;return b}},{}],231:[function(b,p,l){function n(d,c){for(var b=
Array(d.length-1),a=1;a<d.length;++a)for(var f=b[a-1]=Array(d.length-1),e=0,g=0;e<d.length;++e)e!==c&&(f[g++]=d[a][e]);return b}function g(d){if(1===d.length)return d[0];if(2===d.length)return["sum(",d[0],",",d[1],")"].join("");var c=d.length>>1;return["sum(",g(d.slice(0,c)),",",g(d.slice(c)),")"].join("")}function k(d){if(2===d.length)return["sum(prod(",d[0][0],",",d[1][1],"),prod(-",d[0][1],",",d[1][0],"))"].join("");for(var c=[],b=0;b<d.length;++b)c.push(["scale(",k(n(d,b)),",",b&1?"-":"",d[0][b],
")"].join(""));return g(c)}function d(d){for(var c=Function,b=Array(d),a=0;a<d;++a){b[a]=Array(d);for(var f=0;f<d;++f)b[a][f]=["m[",a,"][",f,"]"].join("")}return(new c("sum","scale","prod","compress",["function robustDeterminant",d,"(m){return compress(",k(b),")};return robustDeterminant",d].join("")))(e,u,h,m)}var h=b("two-product"),e=b("robust-sum"),u=b("robust-scale"),m=b("robust-compress"),t=[function(){return[0]},function(d){return[d[0][0]]}];(function(){for(;6>t.length;)t.push(d(t.length));
for(var b=[],c=["function robustDeterminant(m){switch(m.length){"],e=0;6>e;++e)b.push("det"+e),c.push("case ",e,":return det",e,"(m);");c.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant");b.push("CACHE","gen",c.join(""));b=Function.apply(void 0,b);p.exports=b.apply(void 0,t.concat([t,d]));for(e=0;e<t.length;++e)p.exports[e]=t[e]})()},{"robust-compress":230,"robust-scale":237,"robust-sum":240,"two-product":260}],232:[function(b,p,l){var n=
b("two-product"),g=b("robust-sum");p.exports=function(b,d){for(var h=n(b[0],d[0]),e=1;e<b.length;++e)h=g(h,n(b[e],d[e]));return h}},{"robust-sum":240,"two-product":260}],233:[function(b,p,l){function n(a,c){for(var d=Array(a.length-1),b=1;b<a.length;++b)for(var f=d[b-1]=Array(a.length-1),e=0,g=0;e<a.length;++e)e!==c&&(f[g++]=a[b][e]);return d}function g(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var c=a.length>>1;return["sum(",g(a.slice(0,c)),",",g(a.slice(c)),
")"].join("")}function k(a,c){return"m"===a.charAt(0)?"w"===c.charAt(0)?(a=a.split("["),["w",c.substr(1),"m",a[0].substr(1)].join("")):["prod(",a,",",c,")"].join(""):k(c,a)}function d(a){if(2===a.length)return[["diff(",k(a[0][0],a[1][1]),",",k(a[1][0],a[0][1]),")"].join("")];for(var c=[],b=0;b<a.length;++b)c.push(["scale(",g(d(n(a,b))),",",b&1?"-":"",a[0][b],")"].join(""));return c}function h(a,c){for(var d=[],b=0;b<c-2;++b)d.push(["prod(m",a,"[",b,"],m",a,"[",b,"])"].join(""));return g(d)}function e(a){for(var b=
[],e=[],k=Array(a),q=0;q<a;++q){k[q]=Array(a);for(var u=0;u<a;++u)k[q][u]=["m",u,"[",a-q-2,"]"].join("")}for(q=0;q<a;++q)k[0][q]="1",k[a-1][q]="w"+q;for(q=0;q<a;++q)0===(q&1)?b.push.apply(b,d(n(k,q))):e.push.apply(e,d(n(k,q)));b=g(b);e=g(e);k="exactInSphere"+a;u=[];for(q=0;q<a;++q)u.push("m"+q);u=["function ",k,"(",u.join(),"){"];for(q=0;q<a;++q){u.push("var w",q,"=",h(q,a),";");for(var l=0;l<a;++l)l!==q&&u.push("var w",q,"m",l,"=scale(w",q,",m",l,"[0]);")}u.push("var p=",b,",n=",e,",d=diff(p,n);return d[d.length-1];}return ",
k);return(new Function("sum","diff","prod","scale",u.join("")))(t,f,m,c)}function u(a){var c=q[a.length];c||(c=q[a.length]=e(a.length));return c.apply(void 0,a)}var m=b("two-product"),t=b("robust-sum"),f=b("robust-subtract"),c=b("robust-scale"),q=[function(){return 0},function(){return 0},function(){return 0}];(function(){for(;6>=q.length;)q.push(e(q.length));for(var a=[],c=["slow"],d=0;6>=d;++d)a.push("a"+d),c.push("o"+d);var b=["function testInSphere(",a.join(),"){switch(arguments.length){case 0:case 1:return 0;"];
for(d=2;6>=d;++d)b.push("case ",d,":return o",d,"(",a.slice(0,d).join(),");");b.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere");c.push(b.join(""));a=Function.apply(void 0,c);p.exports=a.apply(void 0,[u].concat(q));for(d=0;6>=d;++d)p.exports[d]=q[d]})()},{"robust-scale":237,"robust-subtract":239,"robust-sum":240,"two-product":260}],234:[function(b,p,l){function n(d){for(var b="robustLinearSolve"+d+"d",e=["function ",
b,"(A,b){return ["],k=0;k<d;++k){e.push("det([");for(var m=0;m<d;++m){0<m&&e.push(",");e.push("[");for(var t=0;t<d;++t)0<t&&e.push(","),t===k?e.push("+b[",m,"]"):e.push("+A[",m,"][",t,"]");e.push("]")}e.push("]),")}e.push("det(A)]}return ",b);b=new Function("det",e.join(""));return 6>d?b(g[d]):b(g)}var g=b("robust-determinant"),k=[function(){return[0]},function(d,b){return[[b[0]],[d[0][0]]]}];(function(){for(;6>k.length;)k.push(n(k.length));for(var d=[],b=["function dispatchLinearSolve(A,b){switch(A.length){"],
e=0;6>e;++e)d.push("s"+e),b.push("case ",e,":return s",e,"(A,b);");b.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve");d.push("CACHE","g",b.join(""));d=Function.apply(void 0,d);p.exports=d.apply(void 0,k.concat([k,n]));for(e=0;6>e;++e)p.exports[e]=k[e]})()},{"robust-determinant":231}],235:[function(b,p,l){function n(a,c){for(var d=Array(a.length-1),b=1;b<a.length;++b)for(var f=d[b-1]=Array(a.length-1),e=0,g=0;e<a.length;++e)e!==c&&(f[g++]=
a[b][e]);return d}function g(a){if(1===a.length)return a[0];if(2===a.length)return["sum(",a[0],",",a[1],")"].join("");var c=a.length>>1;return["sum(",g(a.slice(0,c)),",",g(a.slice(c)),")"].join("")}function k(a){if(2===a.length)return[["sum(prod(",a[0][0],",",a[1][1],"),prod(-",a[0][1],",",a[1][0],"))"].join("")];for(var c=[],d=0;d<a.length;++d)c.push(["scale(",g(k(n(a,d))),",",d&1?"-":"",a[0][d],")"].join(""));return c}function d(a){for(var c=[],d=[],b=Array(a),f=0;f<a;++f){b[f]=Array(a);for(var h=
0;h<a;++h)b[f][h]=["m",h,"[",a-f-1,"]"].join("")}f=[];for(h=0;h<a;++h)0===(h&1)?c.push.apply(c,k(n(b,h))):d.push.apply(d,k(n(b,h))),f.push("m"+h);c=g(c);d=g(d);a="orientation"+a+"Exact";a=["function ",a,"(",f.join(),"){var p=",c,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",a].join("");return(new Function("sum","prod","scale","sub",a))(u,e,m,t)}function h(a){var c=q[a.length];c||(c=q[a.length]=d(a.length));return c.apply(void 0,a)}var e=b("two-product"),u=b("robust-sum"),m=b("robust-scale"),
t=b("robust-subtract"),f=d(3),c=d(4),q=[function(){return 0},function(){return 0},function(a,c){return c[0]-a[0]},function(a,c,d){var b=(a[1]-d[1])*(c[0]-d[0]),e=(a[0]-d[0])*(c[1]-d[1]),g=b-e;if(0<b){if(0>=e)return g;b+=e}else if(0>b){if(0<=e)return g;b=-(b+e)}else return g;b*=3.3306690738754716E-16;return g>=b||g<=-b?g:f(a,c,d)},function(a,d,b,f){var e=a[0]-f[0],g=d[0]-f[0],h=b[0]-f[0],k=a[1]-f[1],m=d[1]-f[1],q=b[1]-f[1],r=a[2]-f[2],t=d[2]-f[2],n=b[2]-f[2],u=g*q,v=h*m;h*=k;q*=e;e*=m;k*=g;g=r*(u-
v)+t*(h-q)+n*(e-k);r=7.771561172376103E-16*((Math.abs(u)+Math.abs(v))*Math.abs(r)+(Math.abs(h)+Math.abs(q))*Math.abs(t)+(Math.abs(e)+Math.abs(k))*Math.abs(n));return g>r||-g>r?g:c(a,d,b,f)}];(function(){for(;5>=q.length;)q.push(d(q.length));for(var a=[],c=["slow"],b=0;5>=b;++b)a.push("a"+b),c.push("o"+b);var f=["function getOrientation(",a.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(b=2;5>=b;++b)f.push("case ",b,":return o",b,"(",a.slice(0,b).join(),");");f.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation");
c.push(f.join(""));a=Function.apply(void 0,c);p.exports=a.apply(void 0,[h].concat(q));for(b=0;5>=b;++b)p.exports[b]=q[b]})()},{"robust-scale":237,"robust-subtract":239,"robust-sum":240,"two-product":260}],236:[function(b,p,l){var n=b("robust-sum"),g=b("robust-scale");p.exports=function(b,d){if(1===b.length)return g(d,b[0]);if(1===d.length)return g(b,d[0]);if(0===b.length||0===d.length)return[0];var h=[0];if(b.length<d.length)for(var e=0;e<b.length;++e)h=n(h,g(d,b[e]));else for(e=0;e<d.length;++e)h=
n(h,g(b,d[e]));return h}},{"robust-scale":237,"robust-sum":240}],237:[function(b,p,l){var n=b("two-product"),g=b("two-sum");p.exports=function(b,d){var h=b.length;if(1===h)return b=n(b[0],d),b[0]?b:[b[1]];var e=Array(2*h),k=[.1,.1],m=[.1,.1],t=0;n(b[0],d,k);k[0]&&(e[t++]=k[0]);for(var f=1;f<h;++f){n(b[f],d,m);g(k[1],m[0],k);k[0]&&(e[t++]=k[0]);var c=m[1],q=k[1],a=c+q;c=q-(a-c);k[1]=a;c&&(e[t++]=c)}k[1]&&(e[t++]=k[1]);0===t&&(e[t++]=0);e.length=t;return e}},{"two-product":260,"two-sum":261}],238:[function(b,
p,l){p.exports=function(b,k,d,h){var e=n(b,d,h),g=n(k,d,h);if(0<e&&0<g||0>e&&0>g)return!1;var m=n(d,b,k),t=n(h,b,k);if(0<m&&0<t||0>m&&0>t)return!1;if(0===e&&0===g&&0===m&&0===t){a:{for(e=0;2>e;++e){g=b[e];m=k[e];t=Math.max(g,m);var f=d[e],c=h[e],q=Math.min(f,c);if(Math.max(f,c)<Math.min(g,m)||t<q){b=!1;break a}}b=!0}return b}return!0};var n=b("robust-orientation")[3]},{"robust-orientation":235}],239:[function(b,p,l){p.exports=function(b,g){var k=b.length|0,d=g.length|0;if(1===k&&1===d)return b=b[0],
k=-g[0],g=b+k,d=g-b,g=(b=b-(g-d)+(k-d))?[b,g]:[g],g;var h=Array(k+d),e=0,n=0,m=0,t=Math.abs,f=b[n],c=t(f),q=-g[m],a=t(q);if(c<a){var r=f;n+=1;n<k&&(f=b[n],c=t(f))}else r=q,m+=1,m<d&&(q=-g[m],a=t(q));if(n<k&&c<a||m>=d){var v=f;n+=1;n<k&&(f=b[n],c=t(f))}else v=q,m+=1,m<d&&(q=-g[m],a=t(q));var l=v+r;r-=l-v;for(var p=l,A;n<k&&m<d;)c<a?(v=f,n+=1,n<k&&(f=b[n],c=t(f))):(v=q,m+=1,m<d&&(q=-g[m],a=t(q))),l=v+r,v=l-v,(v=r-v)&&(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v;for(;n<k;)v=f,l=v+r,v=l-v,(v=r-v)&&
(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v,n+=1,n<k&&(f=b[n]);for(;m<d;)v=q,l=v+r,v=l-v,(v=r-v)&&(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v,m+=1,m<d&&(q=-g[m]);r&&(h[e++]=r);p&&(h[e++]=p);e||(h[e++]=0);h.length=e;return h}},{}],240:[function(b,p,l){p.exports=function(b,g){var k=b.length|0,d=g.length|0;if(1===k&&1===d)return b=b[0],k=g[0],g=b+k,d=g-b,g=(b=b-(g-d)+(k-d))?[b,g]:[g],g;var h=Array(k+d),e=0,n=0,m=0,t=Math.abs,f=b[n],c=t(f),q=g[m],a=t(q);if(c<a){var r=f;n+=1;n<k&&(f=b[n],c=t(f))}else r=
q,m+=1,m<d&&(q=g[m],a=t(q));if(n<k&&c<a||m>=d){var v=f;n+=1;n<k&&(f=b[n],c=t(f))}else v=q,m+=1,m<d&&(q=g[m],a=t(q));var l=v+r;r-=l-v;for(var p=l,A;n<k&&m<d;)c<a?(v=f,n+=1,n<k&&(f=b[n],c=t(f))):(v=q,m+=1,m<d&&(q=g[m],a=t(q))),l=v+r,v=l-v,(v=r-v)&&(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v;for(;n<k;)v=f,l=v+r,v=l-v,(v=r-v)&&(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v,n+=1,n<k&&(f=b[n]);for(;m<d;)v=q,l=v+r,v=l-v,(v=r-v)&&(h[e++]=v),v=p+l,A=v-p,r=v-A,l-=A,p-=r,r=p+l,p=v,m+=1,m<d&&(q=g[m]);
r&&(h[e++]=r);p&&(h[e++]=p);e||(h[e++]=0);h.length=e;return h}},{}],241:[function(b,p,l){p.exports=function(b){return 0>b?-1:0<b?1:0}},{}],242:[function(b,p,l){p.exports=function(b){return g(n(b))};var n=b("boundary-cells"),g=b("reduce-simplicial-complex")},{"boundary-cells":46,"reduce-simplicial-complex":227}],243:[function(b,p,l){p.exports=function(b,e,u,m){u=u||0;if("undefined"===typeof m){for(var h=b.length,f=m=0;f<h;++f)m=Math.max(m,b[f].length)|0;--m}if(0===b.length||1>m)return{cells:[],vertexIds:[],
vertexWeights:[]};f=+u;var c=e.length;h=g.mallocUint8(c);for(var q=0;q<c;++q)h[q]=e[q]<f|0;var a=m,r=b.length;f=g.mallocUint32(2*(a*(a+1)/2*r|0));for(q=c=0;q<r;++q){var v=b[q];a=v.length;for(var l=0;l<a;++l)for(var p=0;p<l;++p){var A=v[p],D=v[l];f[c++]=Math.min(A,D)|0;f[c++]=Math.max(A,D)|0}}k(n(f,[c/2|0,2]));for(q=a=2;q<c;q+=2)if(f[q-2]!==f[q]||f[q-1]!==f[q+1])f[a++]=f[q],f[a++]=f[q+1];f=n(f,[a/2|0,2]);u=+u;c=f.data;q=f.shape[0];a=g.mallocDouble(q);for(v=r=0;v<q;++v)l=c[2*v],p=c[2*v+1],h[l]!==h[p]&&
(A=e[l],D=e[p],c[2*r]=l,c[2*r+1]=p,a[r++]=(D-u)/(D-A));f.shape[0]=r;u=n(a,[r]);c=e.length|0;e=g.mallocInt32(2*c);q=f.shape[0];a=f.data;for(v=r=e[0]=0;v<q;++v)if(l=a[2*v],l!==r){for(e[2*r+1]=v;++r<l;)e[2*r]=v,e[2*r+1]=v;e[2*r]=v}for(e[2*r+1]=q;++r<c;)e[2*r]=e[2*r+1]=q;b=d(m)(b,f.data,e,h);c=f.shape[0]|0;q=f.data;m=Array(c);for(a=0;a<c;++a)m[a]=[q[2*a],q[2*a+1]];c=[].slice.call(u.data,0,u.shape[0]);g.free(h);g.free(f.data);g.free(u.data);g.free(e);return{cells:b,vertexIds:m,vertexWeights:c}};var n=
b("ndarray"),g=b("typedarray-pool"),k=b("ndarray-sort"),d=b("./lib/codegen")},{"./lib/codegen":244,ndarray:200,"ndarray-sort":199,"typedarray-pool":262}],244:[function(b,p,l){p.exports=function(d){var b=k[d];if(!b){b=k;var e=Array(d+1);e[0]=[[]];for(var u=1;u<=d;++u)for(var m=e[u]=g(u),t=0;t<m.length;++t);var f=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;",
"};","function getContour",d,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];for(u=d+1;1<u;--u){u<d+1&&f.push("else ");f.push("if(l===",u,"){");m=[];for(t=0;t<u;++t)m.push("(S[c["+t+"]]<<"+t+")");f.push("var M=",m.join("+"),";if(M===0||M===",(1<<u)-1,"){continue}switch(M){");m=e[u-1];for(t=0;t<m.length;++t){f.push("case ",t,":");var c=m[t];if(!(0>=c.length)){f.push("R.push(");for(var q=0;q<c.length;++q){var a=c[q];0<q&&f.push(",");f.push("[");for(var r=0;r<a.length;++r){var v=
a[r];0<r&&f.push(",");f.push("B(C,E,c[",v[0],"],c[",v[1],"])")}f.push("]")}f.push(");")}f.push("break;")}f.push("}}")}f.push("}return R;};return getContour",d,"d");e=(new Function("pool",f.join("")))(n);b=b[d]=e}return b};var n=b("typedarray-pool"),g=b("marching-simplex-table"),k={}},{"marching-simplex-table":185,"typedarray-pool":262}],245:[function(b,p,l){function n(d,c){var b=d.length,a=d.length-c.length,f=Math.min;if(a)return a;switch(b){case 0:return 0;case 1:return d[0]-c[0];case 2:return(b=
d[0]+d[1]-c[0]-c[1])?b:f(d[0],d[1])-f(c[0],c[1]);case 3:a=d[0]+d[1];var e=c[0]+c[1];if(b=a+d[2]-(e+c[2]))return b;var g=f(d[0],d[1]),h=f(c[0],c[1]);return(b=f(g,d[2])-f(h,c[2]))?b:f(g+d[2],a)-f(h+c[2],e);default:d=d.slice(0);d.sort();c=c.slice(0);c.sort();for(f=0;f<b;++f)if(a=d[f]-c[f])return a;return 0}}function g(d,c){return n(d[0],c[0])}function k(d,c){if(c){for(var b=d.length,a=Array(b),f=0;f<b;++f)a[f]=[d[f],c[f]];a.sort(g);for(f=0;f<b;++f)d[f]=a[f][0],c[f]=a[f][1]}else d.sort(n);return d}function d(d){if(0===
d.length)return[];for(var c=1,b=d.length,a=1;a<b;++a){var f=d[a];n(f,d[a-1])&&(a===c?c++:d[c++]=f)}d.length=c;return d}function h(d,c){for(var b=0,a=d.length-1,f=-1;b<=a;){var e=b+a>>1,g=n(d[e],c);0>=g?(0===g&&(f=e),b=e+1):0<g&&(a=e-1)}return f}function e(d,c){for(var b=Array(d.length),a=0,f=b.length;a<f;++a)b[a]=[];f=[];a=0;for(var e=c.length;a<e;++a)for(var g=c[a],k=g.length,t=1,u=1<<k;t<u;++t){f.length=m.popCount(t);for(var l=0,p=0;p<k;++p)t&1<<p&&(f[l++]=g[p]);l=h(d,f);if(!(0>l))for(;!(b[l++].push(a),
l>=d.length||0!==n(d[l],f)););}return b}function u(d,c){if(0>c)return[];for(var b=[],a=(1<<c+1)-1,f=0;f<d.length;++f)for(var e=d[f],g=a;g<1<<e.length;g=m.nextCombination(g)){for(var h=Array(c+1),t=0,n=0;n<e.length;++n)g&1<<n&&(h[t++]=e[n]);b.push(h)}return k(b)}"use restrict";var m=b("bit-twiddle"),t=b("union-find");l.dimension=function(d){for(var c=0,b=Math.max,a=0,f=d.length;a<f;++a)c=b(c,d[a].length);return c-1};l.countVertices=function(d){for(var c=-1,b=Math.max,a=0,f=d.length;a<f;++a)for(var e=
d[a],g=0,h=e.length;g<h;++g)c=b(c,e[g]);return c+1};l.cloneCells=function(d){for(var c=Array(d.length),b=0,a=d.length;b<a;++b)c[b]=d[b].slice(0);return c};l.compareCells=n;l.normalize=k;l.unique=d;l.findCell=h;l.incidence=e;l.dual=function(b,c){if(!c)return e(d(u(b,0)),b,0);for(var f=Array(c),a=0;a<c;++a)f[a]=[];a=0;for(c=b.length;a<c;++a)for(var g=b[a],h=0,k=g.length;h<k;++h)f[g[h]].push(a);return f};l.explode=function(d){for(var c=[],b=0,a=d.length;b<a;++b)for(var e=d[b],f=e.length|0,g=1,h=1<<f;g<
h;++g){for(var m=[],t=0;t<f;++t)g>>>t&1&&m.push(e[t]);c.push(m)}return k(c)};l.skeleton=u;l.boundary=function(d){for(var c=[],b=0,a=d.length;b<a;++b)for(var e=d[b],f=0,g=e.length;f<g;++f){for(var h=Array(e.length-1),m=0,t=0;m<g;++m)m!==f&&(h[t++]=e[m]);c.push(h)}return k(c)};l.connectedComponents=function(b,c){if(c){c=new t(c);for(var e=0;e<b.length;++e)for(var a=b[e],f=0;f<a.length;++f)for(var g=f+1;g<a.length;++g)c.link(a[f],a[g]);a=[];f=c.ranks;for(e=0;e<f.length;++e)f[e]=-1;for(e=0;e<b.length;++e)g=
c.find(b[e][0]),0>f[g]?(f[g]=a.length,a.push([b[e].slice(0)])):a[f[g]].push(b[e].slice(0));return a}c=d(k(u(b,0)));e=new t(c.length);for(a=0;a<b.length;++a)for(f=b[a],g=0;g<f.length;++g)for(var m=h(c,[f[g]]),n=g+1;n<f.length;++n)e.link(m,h(c,[f[n]]));f=[];g=e.ranks;for(a=0;a<g.length;++a)g[a]=-1;for(a=0;a<b.length;++a)m=e.find(h(c,[b[a][0]])),0>g[m]?(g[m]=f.length,f.push([b[a].slice(0)])):f[g[m]].push(b[a].slice(0));return f}},{"bit-twiddle":44,"union-find":263}],246:[function(b,p,l){arguments[4][44][0].apply(l,
arguments)},{dup:44}],247:[function(b,p,l){arguments[4][245][0].apply(l,arguments)},{"bit-twiddle":246,dup:245,"union-find":248}],248:[function(b,p,l){function n(b){this.roots=Array(b);this.ranks=Array(b);for(var g=0;g<b;++g)this.roots[g]=g,this.ranks[g]=0}"use restrict";p.exports=n;n.prototype.length=function(){return this.roots.length};n.prototype.makeSet=function(){var b=this.roots.length;this.roots.push(b);this.ranks.push(0);return b};n.prototype.find=function(b){for(var g=this.roots;g[b]!==b;){var d=
g[b];g[b]=g[d];b=d}return b};n.prototype.link=function(b,k){b=this.find(b);k=this.find(k);if(b!==k){var d=this.ranks,g=this.roots,e=d[b],n=d[k];e<n?g[b]=k:n<e?g[k]=b:(g[k]=b,++d[b])}}},{}],249:[function(b,p,l){p.exports=function(b,d,h){function e(a){if(D[a])return Infinity;var c=l[a],b=p[a];if(0>c||0>b)return Infinity;c=d[c];b=d[b];return Math.abs(n(d[a],c,b))/Math.sqrt(Math.pow(c[0]-b[0],2)+Math.pow(c[1]-b[1],2))}function k(a,c){var d=y[a],b=y[c];y[a]=b;y[c]=d;w[d]=c;w[b]=a}function m(a){for(var c=
A[y[a]];;){var d=c,b=2*a+1,e=2*(a+1),f=a;if(b<G){var g=A[y[b]];g<d&&(f=b,d=g)}e<G&&A[y[e]]<d&&(f=e);if(f===a)return a;k(a,f);a=f}}function t(a){for(var c=A[y[a]];0<a;){var d=a&1?a-1>>1:(a>>1)-1;if(0<=d&&c<A[y[d]])k(a,d),a=d;else return a}}function f(){if(0<G){var a=y[0];k(0,G-1);--G;m(0);return a}return-1}function c(a,c){var d=y[a];if(A[d]===c)return a;A[d]=-Infinity;t(a);f();A[d]=c;G+=1;return t(G-1)}function q(a){if(!D[a]){D[a]=!0;var d=l[a];a=p[a];0<=l[a]&&(l[a]=d);0<=p[d]&&(p[d]=a);0<=w[d]&&c(w[d],
e(d));0<=w[a]&&c(w[a],e(a))}}function a(a,c){if(0>a[c])return c;var d=c,b=c;do{var e=a[b];if(!D[b]||0>e||e===b)break;b=e;e=a[b];if(!D[b]||0>e||e===b)break;b=e;d=a[d]}while(d!==b);for(;c!==b;c=a[c])a[c]=b;return b}for(var r=d.length,v=b.length,l=Array(r),p=Array(r),A=Array(r),D=Array(r),z=0;z<r;++z)l[z]=p[z]=-1,A[z]=Infinity,D[z]=!1;for(z=0;z<v;++z){var F=b[z];if(2!==F.length)throw Error("Input must be a graph");var B=F[1];F=F[0];p[F]=-1!==p[F]?-2:B;l[B]=-1!==l[B]?-2:F}var y=[],w=Array(r);for(z=0;z<
r;++z)Infinity>(A[z]=e(z))?(w[z]=y.length,y.push(z)):w[z]=-1;var G=y.length;for(z=G>>1;0<=z;--z)m(z);for(;;){z=f();if(0>z||A[z]>h)break;q(z)}h=[];for(z=0;z<r;++z)D[z]||(w[z]=h.length,h.push(d[z].slice()));var E=[];b.forEach(function(c){var d=a(l,c[0]);c=a(p,c[1]);0<=d&&0<=c&&d!==c&&(d=w[d],c=w[c],d!==c&&E.push([d,c]))});g.unique(g.normalize(E));return{positions:h,edges:E}};var n=b("robust-orientation"),g=b("simplicial-complex")},{"robust-orientation":235,"simplicial-complex":247}],250:[function(b,
p,l){function n(b,d){if(d[0][0]<d[1][0]){var h=d[0];d=d[1]}else if(d[0][0]>d[1][0])h=d[1],d=d[0];else{h=Math.min(b[0][1],b[1][1]);b=Math.max(b[0][1],b[1][1]);var e=Math.min(d[0][1],d[1][1]);d=Math.max(d[0][1],d[1][1]);return b<e?b-e:h>d?h-d:b-d}b[0][1]<b[1][1]?(e=b[0],b=b[1]):(e=b[1],b=b[0]);return(e=g(d,h,e))?e:(e=g(d,h,b))?e:b-d}p.exports=function(b,d){if(d[0][0]<d[1][0]){var h=d[0];var e=d[1]}else if(d[0][0]>d[1][0])h=d[1],e=d[0];else return n(d,b);if(b[0][0]<b[1][0])d=b[0],b=b[1];else if(b[0][0]>
b[1][0])d=b[1],b=b[0];else return-n(b,d);var k=g(h,e,b),m=g(h,e,d);if(0>k){if(0>=m)return k}else if(0<k){if(0<=m)return k}else if(m)return m;k=g(b,d,e);m=g(b,d,h);if(0>k){if(0>=m)return k}else if(0<k){if(0<=m)return k}else if(m)return m;return e[0]-b[0]};var g=b("robust-orientation")},{"robust-orientation":235}],251:[function(b,p,l){function n(d,c,b){this.slabs=d;this.coordinates=c;this.horizontal=b}function g(d,c){return d.y-c}function k(d,c){for(var b=null;d;){var a=d.key;if(a[0][0]<a[1][0]){var e=
a[0];var f=a[1]}else e=a[1],f=a[0];e=m(e,f,c);if(0>e)d=d.left;else if(0<e)if(c[0]!==a[1][0])b=d,d=d.right;else{if(a=k(d.right,c))return a;d=d.left}else{if(c[0]!==a[1][0])return d;if(a=k(d.right,c))return a;d=d.left}}return b}function d(d,c,b,a){this.y=d;this.index=c;this.start=b;this.closed=a}function h(d,c,b,a){this.x=d;this.segment=c;this.create=b;this.index=a}p.exports=function(b){for(var c=b.length,e=2*c,a=Array(e),f=0;f<c;++f){var g=b[f],k=g[0][0]<g[1][0];a[2*f]=new h(g[0][0],g,k,f);a[2*f+1]=
new h(g[1][0],g,!k,f)}a.sort(function(a,c){var d=a.x-c.x;return d?d:(d=a.create-c.create)?d:Math.min(a.segment[0][1],a.segment[1][1])-Math.min(c.segment[0][1],c.segment[1][1])});b=u(t);c=[];g=[];k=[];for(f=0;f<e;){for(var m=a[f].x,l=[];f<e;){var p=a[f];if(p.x!==m)break;f+=1;p.segment[0][0]===p.x&&p.segment[1][0]===p.x?p.create&&(p.segment[0][1]<p.segment[1][1]?(l.push(new d(p.segment[0][1],p.index,!0,!0)),l.push(new d(p.segment[1][1],p.index,!1,!1))):(l.push(new d(p.segment[1][1],p.index,!0,!1)),
l.push(new d(p.segment[0][1],p.index,!1,!0)))):b=p.create?b.insert(p.segment,p.index):b.remove(p.segment)}c.push(b.root);g.push(m);k.push(l)}return new n(c,g,k)};var e=b("binary-search-bounds"),u=b("functional-red-black-tree"),m=b("robust-orientation"),t=b("./lib/order-segments");n.prototype.castUp=function(d){var c=e.le(this.coordinates,d[0]);if(0>c)return-1;var b=k(this.slabs[c],d),a=-1;b&&(a=b.value);if(this.coordinates[c]===d[0]){var f=null;b&&(f=b.key);0<c&&(b=k(this.slabs[c-1],d))&&(f?0<t(b.key,
f)&&(f=b.key,a=b.value):(a=b.value,f=b.key));b=this.horizontal[c];if(0<b.length){var h=e.ge(b,d[1],g);if(h<b.length){c=b[h];if(d[1]===c.y){if(c.closed)return c.index;for(;h<b.length-1&&b[h+1].y===d[1];)if(h+=1,c=b[h],c.closed)return c.index;if(c.y===d[1]&&!c.start){h+=1;if(h>=b.length)return a;c=b[h]}}c.start?f?(d=m(f[0],f[1],[d[0],c.y]),f[0][0]>f[1][0]&&(d=-d),0<d&&(a=c.index)):a=c.index:c.y!==d[1]&&(a=c.index)}}}return a}},{"./lib/order-segments":250,"binary-search-bounds":43,"functional-red-black-tree":97,
"robust-orientation":235}],252:[function(b,p,l){function n(b,e){b=d(k(b,e),[e[e.length-1]]);return b[b.length-1]}function g(d,b,g,k){b=-b/(k-b);0>b?b=0:1<b&&(b=1);k=1-b;for(var e=d.length,f=Array(e),c=0;c<e;++c)f[c]=b*d[c]+k*g[c];return f}var k=b("robust-dot-product"),d=b("robust-sum");p.exports=function(d,b){for(var e=[],h=[],k=n(d[d.length-1],b),f=d[d.length-1],c,q=0;q<d.length;++q,f=c){c=d[q];var a=n(c,b);if(0>k&&0<a||0<k&&0>a)k=g(f,a,c,k),e.push(k),h.push(k.slice());0>a?h.push(c.slice()):0<a?
e.push(c.slice()):(e.push(c.slice()),h.push(c.slice()));k=a}return{positive:e,negative:h}};p.exports.positive=function(d,b){for(var e=[],h=n(d[d.length-1],b),k=d[d.length-1],f,c=0;c<d.length;++c,k=f){f=d[c];var q=n(f,b);(0>h&&0<q||0<h&&0>q)&&e.push(g(k,q,f,h));0<=q&&e.push(f.slice());h=q}return e};p.exports.negative=function(d,b){for(var e=[],h=n(d[d.length-1],b),k=d[d.length-1],f,c=0;c<d.length;++c,k=f){f=d[c];var q=n(f,b);(0>h&&0<q||0<h&&0>q)&&e.push(g(k,q,f,h));0>=q&&e.push(f.slice());h=q}return e}},
{"robust-dot-product":232,"robust-sum":240}],253:[function(b,p,l){!function(){function b(g){var e=g;if(d[e])e=d[e];else{for(var h=e,m,t=[],f=0;h;){if(null!==(m=k.text.exec(h)))t.push(m[0]);else if(null!==(m=k.modulo.exec(h)))t.push("%");else if(null!==(m=k.placeholder.exec(h))){if(m[2]){f|=1;var c=[],q=m[2],a;if(null!==(a=k.key.exec(q)))for(c.push(a[1]);""!==(q=q.substring(a[0].length));)if(null!==(a=k.key_access.exec(q)))c.push(a[1]);else if(null!==(a=k.index_access.exec(q)))c.push(a[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");
else throw new SyntaxError("[sprintf] failed to parse named argument key");m[2]=c}else f|=2;if(3===f)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");t.push(m)}else throw new SyntaxError("[sprintf] unexpected placeholder");h=h.substring(m[0].length)}e=d[e]=t}h=arguments;m=1;t=e.length;c="";var r,n;for(q=0;q<t;q++)if("string"===typeof e[q])c+=e[q];else if(Array.isArray(e[q])){a=e[q];if(a[2])for(f=h[m],r=0;r<a[2].length;r++){if(!f.hasOwnProperty(a[2][r]))throw Error(b('[sprintf] property "%s" does not exist',
a[2][r]));f=f[a[2][r]]}else f=a[1]?h[a[1]]:h[m++];k.not_type.test(a[8])&&k.not_primitive.test(a[8])&&f instanceof Function&&(f=f());if(k.numeric_arg.test(a[8])&&"number"!==typeof f&&isNaN(f))throw new TypeError(b("[sprintf] expecting number but found %T",f));k.number.test(a[8])&&(n=0<=f);switch(a[8]){case "b":f=parseInt(f,10).toString(2);break;case "c":f=String.fromCharCode(parseInt(f,10));break;case "d":case "i":f=parseInt(f,10);break;case "j":f=JSON.stringify(f,null,a[6]?parseInt(a[6]):0);break;
case "e":f=a[7]?parseFloat(f).toExponential(a[7]):parseFloat(f).toExponential();break;case "f":f=a[7]?parseFloat(f).toFixed(a[7]):parseFloat(f);break;case "g":f=a[7]?String(Number(f.toPrecision(a[7]))):parseFloat(f);break;case "o":f=(parseInt(f,10)>>>0).toString(8);break;case "s":f=String(f);f=a[7]?f.substring(0,a[7]):f;break;case "t":f=String(!!f);f=a[7]?f.substring(0,a[7]):f;break;case "T":f=Object.prototype.toString.call(f).slice(8,-1).toLowerCase();f=a[7]?f.substring(0,a[7]):f;break;case "u":f=
parseInt(f,10)>>>0;break;case "v":f=f.valueOf();f=a[7]?f.substring(0,a[7]):f;break;case "x":f=(parseInt(f,10)>>>0).toString(16);break;case "X":f=(parseInt(f,10)>>>0).toString(16).toUpperCase()}if(k.json.test(a[8]))c+=f;else{if(!k.number.test(a[8])||n&&!a[3])var l="";else l=n?"+":"-",f=f.toString().replace(k.sign,"");r=a[4]?"0"===a[4]?"0":a[4].charAt(1):" ";var p=a[6]-(l+f).length;p=a[6]?0<p?r.repeat(p):"":"";c+=a[5]?l+f+p:"0"===r?l+p+f:p+l+f}}return c}function g(d,e){return b.apply(null,[d].concat(e||
[]))}var k={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},d=Object.create(null);"undefined"!==typeof l&&(l.sprintf=b,l.vsprintf=g);"undefined"!==typeof window&&(window.sprintf=
b,window.vsprintf=g)}()},{}],254:[function(b,p,l){p.exports=function(b){return b.split("").map(function(b){return b in n?n[b]:""}).join("")};var n={" ":" ",0:"\u2070",1:"\u00b9",2:"\u00b2",3:"\u00b3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b",a:"\u1d43",b:"\u1d47",c:"\u1d9c",d:"\u1d48",e:"\u1d49",f:"\u1da0",g:"\u1d4d",h:"\u02b0",i:"\u2071",j:"\u02b2",k:"\u1d4f",l:"\u02e1",m:"\u1d50",n:"\u207f",o:"\u1d52",p:"\u1d56",r:"\u02b3",s:"\u02e2",t:"\u1d57",
u:"\u1d58",v:"\u1d5b",w:"\u02b7",x:"\u02e3",y:"\u02b8",z:"\u1dbb"}},{}],255:[function(b,p,l){function n(d,b){var e=d.length,h=["'use strict';"],f="surfaceNets"+d.join("_")+"d"+b;h.push("var contour=genContour({","order:[",d.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },");"generic"===b&&h.push("getters:[0],");var c=[];b=[];for(d=0;d<e;++d)c.push("d"+d),b.push("d"+d);for(d=0;d<1<<e;++d)c.push("v"+d),b.push("v"+d);for(d=0;d<1<<e;++d)c.push("p"+d),b.push("p"+
d);c.push("a","b","c");b.push("a","c");h.push("vertex:function vertexFunc(",c.join(),"){");c=[];for(d=0;d<1<<e;++d)c.push("(p"+d+"<<"+d+")");h.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<e))-1,"){return}");c=[];var q=[];128>=1<<(1<<e)?(h.push("switch(m){"),q=h):h.push("switch(m>>>7){");for(d=0;d<1<<(1<<e);++d){128<1<<(1<<e)&&0===d%128&&(0<c.length&&q.push("}}"),q="vExtra"+c.length,h.push("case ",d>>>7,":",q,"(m&0x7f,",b.join(),");break;"),q=["function ",q,"(m,",b.join(),"){switch(m){"],
c.push(q));q.push("case ",d&127,":");for(var a=Array(e),r=Array(e),n=Array(e),u=Array(e),l=0,p=0;p<e;++p)a[p]=[],r[p]=[],n[p]=0,u[p]=0;for(p=0;p<1<<e;++p)for(var D=0;D<e;++D){var z=p^1<<D;if(!(z>p)&&!(d&1<<z)!==!(d&1<<p)){var F=1;d&1<<z?r[D].push("v"+z+"-v"+p):(r[D].push("v"+p+"-v"+z),F=-F);0>F?(a[D].push("-v"+p+"-v"+z),n[D]+=2):(a[D].push("v"+p+"+v"+z),n[D]-=2);l+=1;for(F=0;F<e;++F)F!==D&&(z&1<<F?u[F]+=1:--u[F])}}p=[];for(D=0;D<e;++D)0===a[D].length?p.push("d"+D+"-0.5"):(z="",0>n[D]?z=n[D]+"*c":
0<n[D]&&(z="+"+n[D]+"*c"),p.push("d"+D+"-"+(.5+u[D]/l*.5)+"-"+a[D].length/l*.5+"*("+a[D].join("+")+z+")/("+r[D].join("+")+")"));q.push("a.push([",p.join(),"]);","break;")}h.push("}},");0<c.length&&q.push("}}");b=[];for(d=0;d<1<<e-1;++d)b.push("v"+d);b.push("c0","c1","p0","p1","a","b","c");h.push("cell:function cellFunc(",b.join(),"){");e=k(e-1);h.push("if(p0){b.push(",e.map(function(a){return"["+a.map(function(a){return"v"+a})+"]"}).join(),")}else{b.push(",e.map(function(a){a=a.slice();a.reverse();
return"["+a.map(function(a){return"v"+a})+"]"}).join(),")}}});function ",f,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",f,";");for(d=0;d<c.length;++d)h.push(c[d].join(""));return(new Function("genContour",h.join("")))(g)}p.exports=function(b,g){if(0>=b.dimension)return{positions:[],cells:[]};if(1===b.dimension){b=d(b,g);g=b.length;for(var e=Array(g),k=Array(g),f=0;f<g;++f)e[f]=[b[f]],k[f]=[f];return{positions:e,cells:k}}e=b.order.join()+
"-"+b.dtype;k=h[e];g=+g||0;k||(k=h[e]=n(b.order,b.dtype));return k(b,g)};var g=b("ndarray-extract-contour"),k=b("triangulate-hypercube"),d=b("zero-crossings"),h={}},{"ndarray-extract-contour":196,"triangulate-hypercube":258,"zero-crossings":273}],256:[function(b,p,l){(function(b){function g(a,c){var e,f;a=a?a:"";c=c||{};if(a instanceof g)return a;if(!(this instanceof g))return new g(a,c);var h=a;var k={r:0,g:0,b:0};var m=1;var q=e=!1;if("string"==typeof h)a:{h=h.replace(E,"").replace(J,"").toLowerCase();
var r=!1;if(Z[h])h=Z[h],r=!0;else if("transparent"==h){h={r:0,g:0,b:0,a:0,format:"name"};break a}h=(f=P.rgb.exec(h))?{r:f[1],g:f[2],b:f[3]}:(f=P.rgba.exec(h))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=P.hsl.exec(h))?{h:f[1],s:f[2],l:f[3]}:(f=P.hsla.exec(h))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=P.hsv.exec(h))?{h:f[1],s:f[2],v:f[3]}:(f=P.hsva.exec(h))?{h:f[1],s:f[2],v:f[3],a:f[4]}:(f=P.hex8.exec(h))?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),a:parseInt(f[4],16)/255,format:r?"name":"hex8"}:(f=P.hex6.exec(h))?
{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),format:r?"name":"hex"}:(f=P.hex4.exec(h))?{r:parseInt(f[1]+""+f[1],16),g:parseInt(f[2]+""+f[2],16),b:parseInt(f[3]+""+f[3],16),a:parseInt(f[4]+""+f[4],16)/255,format:r?"name":"hex8"}:(f=P.hex3.exec(h))?{r:parseInt(f[1]+""+f[1],16),g:parseInt(f[2]+""+f[2],16),b:parseInt(f[3]+""+f[3],16),format:r?"name":"hex"}:!1}if("object"==typeof h){if(G(h.r)&&G(h.g)&&G(h.b))k=h.g,e=h.b,k={r:255*B(h.r,255),g:255*B(k,255),b:255*B(e,255)},e=!0,q="%"===String(h.r).substr(-1)?
"prgb":"rgb";else if(G(h.h)&&G(h.s)&&G(h.v)){k=w(h.s);q=w(h.v);f=h.h;e=k;k=q;f=6*B(f,360);e=B(e,100);k=B(k,100);q=b.floor(f);var t=f-q;f=k*(1-e);r=k*(1-t*e);e=k*(1-(1-t)*e);q%=6;k={r:255*[k,r,f,f,e,k][q],g:255*[e,k,k,r,f,f][q],b:255*[f,f,e,k,k,r][q]};e=!0;q="hsv"}else G(h.h)&&G(h.s)&&G(h.l)&&(k=w(h.s),e=w(h.l),k=d(h.h,k,e),e=!0,q="hsl");h.hasOwnProperty("a")&&(m=h.a)}m=F(m);h=h.format||q;q=L(255,N(k.r,0));f=L(255,N(k.g,0));k=L(255,N(k.b,0));this._originalInput=a;this._r=q;this._g=f;this._b=k;this._a=
m;this._roundA=H(100*this._a)/100;this._format=c.format||h;this._gradientType=c.gradientType;1>this._r&&(this._r=H(this._r));1>this._g&&(this._g=H(this._g));1>this._b&&(this._b=H(this._b));this._ok=e;this._tc_id=K++}function k(a,c,d){a=B(a,255);c=B(c,255);d=B(d,255);var b=N(a,c,d),f=L(a,c,d),e=(b+f)/2;if(b==f)var g=f=0;else{var h=b-f;f=.5<e?h/(2-b-f):h/(b+f);switch(b){case a:g=(c-d)/h+(c<d?6:0);break;case c:g=(d-a)/h+2;break;case d:g=(a-c)/h+4}g/=6}return{h:g,s:f,l:e}}function d(a,c,d){function b(a,
c,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*(c-a)*d:.5>d?c:d<2/3?a+(c-a)*(2/3-d)*6:a}a=B(a,360);c=B(c,100);d=B(d,100);if(0===c)d=c=a=d;else{var f=.5>d?d*(1+c):d+c-d*c,e=2*d-f;d=b(e,f,a+1/3);c=b(e,f,a);a=b(e,f,a-1/3)}return{r:255*d,g:255*c,b:255*a}}function h(a,c,d){a=B(a,255);c=B(c,255);d=B(d,255);var b=N(a,c,d),f=L(a,c,d),e=b-f;if(b==f)var g=0;else{switch(b){case a:g=(c-d)/e+(c<d?6:0);break;case c:g=(d-a)/e+2;break;case d:g=(a-c)/e+4}g/=6}return{h:g,s:0===b?0:e/b,v:b}}function e(a,c,d,b){a=[y(H(a).toString(16)),
y(H(c).toString(16)),y(H(d).toString(16))];return b&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function n(a,c,d,f){return[y(b.round(255*parseFloat(f)).toString(16)),y(H(a).toString(16)),y(H(c).toString(16)),y(H(d).toString(16))].join("")}function m(a,c){c=0===c?0:c||10;a=g(a).toHsl();a.s-=c/100;a.s=L(1,N(0,a.s));return g(a)}function t(a,c){c=0===c?0:c||10;a=g(a).toHsl();a.s+=c/100;a.s=L(1,
N(0,a.s));return g(a)}function f(a){return g(a).desaturate(100)}function c(a,c){c=0===c?0:c||10;a=g(a).toHsl();a.l+=c/100;a.l=L(1,N(0,a.l));return g(a)}function q(a,c){c=0===c?0:c||10;a=g(a).toRgb();a.r=N(0,L(255,a.r-H(255*-(c/100))));a.g=N(0,L(255,a.g-H(255*-(c/100))));a.b=N(0,L(255,a.b-H(255*-(c/100))));return g(a)}function a(a,c){c=0===c?0:c||10;a=g(a).toHsl();a.l-=c/100;a.l=L(1,N(0,a.l));return g(a)}function r(a,c){a=g(a).toHsl();c=(a.h+c)%360;a.h=0>c?360+c:c;return g(a)}function l(a){a=g(a).toHsl();
a.h=(a.h+180)%360;return g(a)}function x(a){var c=g(a).toHsl(),d=c.h;return[g(a),g({h:(d+120)%360,s:c.s,l:c.l}),g({h:(d+240)%360,s:c.s,l:c.l})]}function C(a){var c=g(a).toHsl(),d=c.h;return[g(a),g({h:(d+90)%360,s:c.s,l:c.l}),g({h:(d+180)%360,s:c.s,l:c.l}),g({h:(d+270)%360,s:c.s,l:c.l})]}function A(a){var c=g(a).toHsl(),d=c.h;return[g(a),g({h:(d+72)%360,s:c.s,l:c.l}),g({h:(d+216)%360,s:c.s,l:c.l})]}function D(a,c,d){c=c||6;d=d||30;var b=g(a).toHsl();d=360/d;a=[g(a)];for(b.h=(b.h-(d*c>>1)+720)%360;--c;)b.h=
(b.h+d)%360,a.push(g(b));return a}function z(a,c){c=c||6;var d=g(a).toHsv();a=d.h;var b=d.s;d=d.v;for(var f=[],e=1/c;c--;)f.push(g({h:a,s:b,v:d})),d=(d+e)%1;return f}function F(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}function B(a,c){var d=a;"string"==typeof d&&-1!=d.indexOf(".")&&1===parseFloat(d)&&(a="100%");d="string"===typeof a&&-1!=a.indexOf("%");a=L(c,N(0,parseFloat(a)));d&&(a=parseInt(a*c,10)/100);return 1E-6>b.abs(a-c)?1:a%c/parseFloat(c)}function y(a){return 1==a.length?"0"+
a:""+a}function w(a){1>=a&&(a=100*a+"%");return a}function G(a){return!!P.CSS_UNIT.exec(a)}var E=/^\s+/,J=/\s+$/,K=0,H=b.round,L=b.min,N=b.max,M=b.random;g.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/
1E3},getLuminance:function(){var a=this.toRgb();var c=a.r/255;var d=a.g/255;a=a.b/255;c=.03928>=c?c/12.92:b.pow((c+.055)/1.055,2.4);d=.03928>=d?d/12.92:b.pow((d+.055)/1.055,2.4);a=.03928>=a?a/12.92:b.pow((a+.055)/1.055,2.4);return.2126*c+.7152*d+.0722*a},setAlpha:function(a){this._a=F(a);this._roundA=H(100*this._a)/100;return this},toHsv:function(){var a=h(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=h(this._r,this._g,this._b),c=H(360*a.h),d=H(100*
a.s);a=H(100*a.v);return 1==this._a?"hsv("+c+", "+d+"%, "+a+"%)":"hsva("+c+", "+d+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var a=k(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=k(this._r,this._g,this._b),c=H(360*a.h),d=H(100*a.s);a=H(100*a.l);return 1==this._a?"hsl("+c+", "+d+"%, "+a+"%)":"hsla("+c+", "+d+"%, "+a+"%, "+this._roundA+")"},toHex:function(a){return e(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){var c=
this._g,d=this._b,f=this._a;c=[y(H(this._r).toString(16)),y(H(c).toString(16)),y(H(d).toString(16)),y(b.round(255*parseFloat(f)).toString(16))];a=a&&c[0].charAt(0)==c[0].charAt(1)&&c[1].charAt(0)==c[1].charAt(1)&&c[2].charAt(0)==c[2].charAt(1)&&c[3].charAt(0)==c[3].charAt(1)?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("");return a},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:H(this._r),g:H(this._g),b:H(this._b),a:this._a}},toRgbString:function(){return 1==
this._a?"rgb("+H(this._r)+", "+H(this._g)+", "+H(this._b)+")":"rgba("+H(this._r)+", "+H(this._g)+", "+H(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:H(100*B(this._r,255))+"%",g:H(100*B(this._g,255))+"%",b:H(100*B(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+H(100*B(this._r,255))+"%, "+H(100*B(this._g,255))+"%, "+H(100*B(this._b,255))+"%)":"rgba("+H(100*B(this._r,255))+"%, "+H(100*B(this._g,255))+"%, "+H(100*B(this._b,255))+"%, "+this._roundA+
")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:Q[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var c="#"+n(this._r,this._g,this._b,this._a),d=c,b=this._gradientType?"GradientType = 1, ":"";a&&(a=g(a),d="#"+n(a._r,a._g,a._b,a._a));return"progid:DXImageTransform.Microsoft.gradient("+b+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var c=!!a;a=a||this._format;var d=!1,b=1>this._a&&0<=this._a;if(!c&&b&&("hex"===a||"hex6"===a||"hex3"===a||"hex4"===a||"hex8"===
a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(d=this.toRgbString());"prgb"===a&&(d=this.toPercentageRgbString());if("hex"===a||"hex6"===a)d=this.toHexString();"hex3"===a&&(d=this.toHexString(!0));"hex4"===a&&(d=this.toHex8String(!0));"hex8"===a&&(d=this.toHex8String());"name"===a&&(d=this.toName());"hsl"===a&&(d=this.toHslString());"hsv"===a&&(d=this.toHsvString());return d||this.toHexString()},clone:function(){return g(this.toString())},_applyModification:function(a,
c){a=a.apply(null,[this].concat([].slice.call(c)));this._r=a._r;this._g=a._g;this._b=a._b;this.setAlpha(a._a);return this},lighten:function(){return this._applyModification(c,arguments)},brighten:function(){return this._applyModification(q,arguments)},darken:function(){return this._applyModification(a,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(t,arguments)},greyscale:function(){return this._applyModification(f,
arguments)},spin:function(){return this._applyModification(r,arguments)},_applyCombination:function(a,c){return a.apply(null,[this].concat([].slice.call(c)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(l,arguments)},monochromatic:function(){return this._applyCombination(z,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(C,
arguments)}};g.fromRatio=function(a,c){if("object"==typeof a){var d={},b;for(b in a)a.hasOwnProperty(b)&&(d[b]="a"===b?a[b]:w(a[b]));a=d}return g(a,c)};g.equals=function(a,c){return a&&c?g(a).toRgbString()==g(c).toRgbString():!1};g.random=function(){return g.fromRatio({r:M(),g:M(),b:M()})};g.mix=function(a,c,d){d=0===d?0:d||50;a=g(a).toRgb();c=g(c).toRgb();d/=100;return g({r:(c.r-a.r)*d+a.r,g:(c.g-a.g)*d+a.g,b:(c.b-a.b)*d+a.b,a:(c.a-a.a)*d+a.a})};g.readability=function(a,c){a=g(a);c=g(c);return(b.max(a.getLuminance(),
c.getLuminance())+.05)/(b.min(a.getLuminance(),c.getLuminance())+.05)};g.isReadable=function(a,c,d){a=g.readability(a,c);c=!1;var b=d||{level:"AA",size:"small"};d=(b.level||"AA").toUpperCase();b=(b.size||"small").toLowerCase();"AA"!==d&&"AAA"!==d&&(d="AA");"small"!==b&&"large"!==b&&(b="small");switch(d+b){case "AAsmall":case "AAAlarge":c=4.5<=a;break;case "AAlarge":c=3<=a;break;case "AAAsmall":c=7<=a}return c};g.mostReadable=function(a,c,d){var b=null,f=0;d=d||{};var e=d.includeFallbackColors;var h=
d.level;var k=d.size;for(var m=0;m<c.length;m++){var q=g.readability(a,c[m]);q>f&&(f=q,b=g(c[m]))}if(g.isReadable(a,b,{level:h,size:k})||!e)return b;d.includeFallbackColors=!1;return g.mostReadable(a,["#fff","#000"],d)};var Z=g.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",
chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",
deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",
lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",
mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",
rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Q=g.hexNames=function(a){var c={},
d;for(d in a)a.hasOwnProperty(d)&&(c[a[d]]=d);return c}(Z),P={CSS_UNIT:/(?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?)/,rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};"undefined"!==typeof p&&p.exports?p.exports=g:window.tinycolor=g})(Math)},{}],257:[function(b,p,l){function n(d,b){b=k(getComputedStyle(d).getPropertyValue(b));return b[0]*g(b[1],d)}function g(b,e){e=e||document.body;b=(b||"px").trim().toLowerCase();
if(e===window||e===document)e=document.body;switch(b){case "%":return e.clientHeight/100;case "ch":case "ex":var g=document.createElement("div");g.style["font-size"]="128"+b;e.appendChild(g);b=n(g,"font-size")/128;e.removeChild(g);return b;case "em":return n(e,"font-size");case "rem":return n(document.body,"font-size");case "vw":return window.innerWidth/100;case "vh":return window.innerHeight/100;case "vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case "vmax":return Math.max(window.innerWidth,
window.innerHeight)/100;case "in":return d;case "cm":return d/2.54;case "mm":return d/25.4;case "pt":return d/72;case "pc":return d/6}return 1}var k=b("parse-unit");p.exports=g;var d=96},{"parse-unit":206}],258:[function(b,p,l){p.exports=function(d){if(0>d)return[];if(0===d)return[[0]];for(var b=Math.round(k(d+1))|0,e=[],u=0;u<b;++u){for(var m=n.unrank(d,u),t=[0],f=0,c=0;c<m.length;++c)f+=1<<m[c],t.push(f);1>g(m)&&(t[0]=f,t[d]=0);e.push(t)}return e};var n=b("permutation-rank"),g=b("permutation-parity"),
k=b("gamma")},{gamma:98,"permutation-parity":207,"permutation-rank":208}],259:[function(b,p,l){function n(c,d,a){return Math.sqrt(Math.pow(c,2)+Math.pow(d,2)+Math.pow(a,2))}function g(c){var d=Math.abs(c[0]),a=Math.abs(c[1]),b=Math.abs(c[2]),f=[0,0,0];d>Math.max(a,b)?f[2]=1:a>Math.max(d,b)?f[0]=1:f[1]=1;for(b=a=d=0;3>b;++b)d+=c[b]*c[b],a+=f[b]*c[b];for(b=0;3>b;++b)f[b]-=a/d*c[b];m(f,f);return f}function k(c,b,a,f,e,g,h,k){this.center=d(a);this.up=d(f);this.right=d(e);this.radius=d([g]);this.angle=
d([h,k]);this.angle.bounds=[[-Infinity,-Math.PI/2],[Infinity,Math.PI/2]];this.setDistanceLimits(c,b);this.computedCenter=this.center.curve(0);this.computedUp=this.up.curve(0);this.computedRight=this.right.curve(0);this.computedRadius=this.radius.curve(0);this.computedAngle=this.angle.curve(0);this.computedToward=[0,0,0];this.computedEye=[0,0,0];this.computedMatrix=Array(16);for(c=0;16>c;++c)this.computedMatrix[c]=.5;this.recalcMatrix(0)}p.exports=function(c){c=c||{};var d=c.center||[0,0,0],a=c.up||
[0,1,0],b=c.right||g(a),f=c.radius||1,e=c.theta||0,h=c.phi||0;d=[].slice.call(d,0,3);a=[].slice.call(a,0,3);m(a,a);b=[].slice.call(b,0,3);m(b,b);"eye"in c&&(f=c.eye,e=[f[0]-d[0],f[1]-d[1],f[2]-d[2]],u(b,e,a),1E-6>n(b[0],b[1],b[2])?b=g(a):m(b,b),f=n(e[0],e[1],e[2]),h=t(a,e)/f,e=t(b,e)/f,h=Math.acos(h),e=Math.acos(e));f=Math.log(f);return new k(c.zoomMin,c.zoomMax,d,a,b,f,e,h)};var d=b("filtered-vector"),h=b("gl-mat4/invert"),e=b("gl-mat4/rotate"),u=b("gl-vec3/cross"),m=b("gl-vec3/normalize"),t=b("gl-vec3/dot");
b=k.prototype;b.setDistanceLimits=function(c,d){c=0<c?Math.log(c):-Infinity;d=0<d?Math.log(d):Infinity;d=Math.max(d,c);this.radius.bounds[0][0]=c;this.radius.bounds[1][0]=d};b.getDistanceLimits=function(c){var d=this.radius.bounds[0];return c?(c[0]=Math.exp(d[0][0]),c[1]=Math.exp(d[1][0]),c):[Math.exp(d[0][0]),Math.exp(d[1][0])]};b.recalcMatrix=function(c){this.center.curve(c);this.up.curve(c);this.right.curve(c);this.radius.curve(c);this.angle.curve(c);for(var d=this.computedUp,a=this.computedRight,
b=0,f=0,e=0;3>e;++e)f+=d[e]*a[e],b+=d[e]*d[e];var g=Math.sqrt(b);for(e=c=0;3>e;++e)a[e]-=d[e]*f/b,c+=a[e]*a[e],d[e]/=g;c=Math.sqrt(c);for(e=0;3>e;++e)a[e]/=c;var h=this.computedToward;u(h,d,a);m(h,h);c=Math.exp(this.computedRadius[0]);g=this.computedAngle[0];b=this.computedAngle[1];f=Math.cos(g);g=Math.sin(g);var k=Math.cos(b),t=Math.sin(b);b=this.computedCenter;var l=f*k,p=g*k,y=-f*t,w=-g*t;f=this.computedEye;g=this.computedMatrix;for(e=0;3>e;++e){var G=l*a[e]+p*h[e]+t*d[e];g[4*e+1]=y*a[e]+w*h[e]+
k*d[e];g[4*e+2]=G;g[4*e+3]=0}a=g[1];e=g[5];t=g[9];h=g[2];k=g[6];l=g[10];d=e*l-t*k;t=t*h-a*l;a=a*k-e*h;e=n(d,t,a);g[0]=d/e;g[4]=t/e;g[8]=a/e;for(e=0;3>e;++e)f[e]=b[e]+g[2+4*e]*c;for(e=0;3>e;++e){for(b=c=0;3>b;++b)c+=g[e+4*b]*f[b];g[12+e]=-c}g[15]=1};b.getMatrix=function(c,d){this.recalcMatrix(c);c=this.computedMatrix;if(d){for(var a=0;16>a;++a)d[a]=c[a];return d}return c};var f=[0,0,0];b.rotate=function(c,d,a,b){this.angle.move(c,d,a);if(b){this.recalcMatrix(c);d=this.computedMatrix;f[0]=d[2];f[1]=
d[6];f[2]=d[10];a=this.computedUp;for(var g=this.computedRight,h=this.computedToward,k=0;3>k;++k)d[4*k]=a[k],d[4*k+1]=g[k],d[4*k+2]=h[k];e(d,d,b,f);for(k=0;3>k;++k)a[k]=d[4*k],g[k]=d[4*k+1];this.up.set(c,a[0],a[1],a[2]);this.right.set(c,g[0],g[1],g[2])}};b.pan=function(c,d,a,b){d=d||0;a=a||0;b=b||0;this.recalcMatrix(c);var f=this.computedMatrix,e=f[1],g=f[5],h=f[9],k=n(e,g,h);e/=k;g/=k;h/=k;k=f[0];var m=f[4];f=f[8];var q=k*e+m*g+f*h;k-=e*q;m-=g*q;f-=h*q;q=n(k,m,f);this.center.move(c,k/q*d+e*a,m/q*
d+g*a,f/q*d+h*a);d=Math.exp(this.computedRadius[0]);d=Math.max(1E-4,d+b);this.radius.set(c,Math.log(d))};b.translate=function(c,d,a,b){this.center.move(c,d||0,a||0,b||0)};b.setMatrix=function(c,d,a,b){var f=1;"number"===typeof a&&(f=a|0);if(0>f||3<f)f=1;var e=(f+2)%3;d||(this.recalcMatrix(c),d=this.computedMatrix);a=d[f];var g=d[f+4],k=d[f+8];if(b){b=Math.abs(a);var m=Math.abs(k),q=Math.max(b,Math.abs(g),m);b===q?(a=0>a?-1:1,g=k=0):m===q?(k=0>k?-1:1,a=g=0):(g=0>g?-1:1,a=k=0)}else b=n(a,g,k),a/=b,
g/=b,k/=b;b=d[e];m=d[e+4];e=d[e+8];q=b*a+m*g+e*k;b-=a*q;m-=g*q;e-=k*q;q=n(b,m,e);b/=q;m/=q;e/=q;q=g*e-k*m;var r=k*b-a*e,t=a*m-g*b,u=n(q,r,t);q/=u;r/=u;t/=u;this.center.jump(c,p,E,J);this.radius.idle(c);this.up.jump(c,a,g,k);this.right.jump(c,b,m,e);if(2===f)E=d[1],J=d[5],a=d[9],p=0>l?-Math.PI/2:Math.PI/2,E=Math.atan2(E*q+J*r+a*t,E*b+J*m+a*e);else{E=d[2];J=d[6];var l=d[10];p=Math.asin(Math.min(1,Math.max(-1,E*a+J*g+l*k)));E=Math.atan2(E*q+J*r+l*t,E*b+J*m+l*e)}this.angle.jump(c,E,p);this.recalcMatrix(c);
l=d[2];a=d[6];g=d[10];J=this.computedMatrix;h(J,d);d=J[15];var p=J[12]/d,E=J[13]/d,J=J[14]/d;d=Math.exp(this.computedRadius[0]);this.center.jump(c,p-l*d,E-a*d,J-g*d)};b.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())};b.idle=function(c){this.center.idle(c);this.up.idle(c);this.right.idle(c);this.radius.idle(c);this.angle.idle(c)};b.flush=function(c){this.center.flush(c);this.up.flush(c);this.right.flush(c);this.radius.flush(c);
this.angle.flush(c)};b.setDistance=function(c,d){0<d&&this.radius.set(c,Math.log(d))};b.lookAt=function(c,d,a,b){this.recalcMatrix(c);d=d||this.computedEye;a=a||this.computedCenter;b=b||this.computedUp;var f=b[0],e=b[1];b=b[2];var g=n(f,e,b);if(!(1E-6>g)){f/=g;e/=g;b/=g;g=d[0]-a[0];var h=d[1]-a[1];d=d[2]-a[2];var k=n(g,h,d);if(!(1E-6>k)){g/=k;h/=k;d/=k;var m=this.computedRight,q=m[0],r=m[1];m=m[2];var t=f*q+e*r+b*m;q-=t*f;r-=t*e;m-=t*b;t=n(q,r,m);if(.01>t&&(q=e*d-b*h,r=b*g-f*d,m=f*h-e*g,t=n(q,r,m),
1E-6>t))return;q/=t;r/=t;m/=t;this.up.set(c,f,e,b);this.right.set(c,q,r,m);this.center.set(c,a[0],a[1],a[2]);this.radius.set(c,Math.log(k));a=e*m-b*r;k=b*q-f*m;t=f*r-e*q;var u=n(a,k,t);f=Math.asin(Math.min(1,Math.max(-1,f*g+e*h+b*d)));e=Math.atan2(a/u*g+k/u*h+t/u*d,q*g+r*h+m*d);g=this.angle._state;b=g[g.length-1];g=g[g.length-2];b%=2*Math.PI;h=Math.abs(b-e);d=Math.abs(b-2*Math.PI-e);Math.abs(b+2*Math.PI-e)<h&&(b+=2*Math.PI);d<h&&(b-=2*Math.PI);this.angle.jump(this.angle.lastT(),b,g);this.angle.set(c,
e,f)}}}},{"filtered-vector":96,"gl-mat4/invert":123,"gl-mat4/rotate":127,"gl-vec3/cross":158,"gl-vec3/dot":159,"gl-vec3/normalize":162}],260:[function(b,p,l){p.exports=function(b,k,d){var g=b*k,e=n*b;e-=e-b;b-=e;var u=n*k;u-=u-k;k-=u;k=b*k-(g-e*u-b*u-e*k);return d?(d[0]=k,d[1]=g,d):[k,g]};var n=+(Math.pow(2,27)+1)},{}],261:[function(b,p,l){p.exports=function(b,g,k){var d=b+g,h=d-b;g-=h;b-=d-h;return k?(k[0]=b+g,k[1]=d,k):[b+g,d]}},{}],262:[function(b,p,l){(function(n,g){function k(a){if(a){var c=
p.log2(a.length||a.byteLength);z[c].push(a)}}function d(a){a=p.nextPow2(a);var c=p.log2(a);c=z[c];return 0<c.length?c.pop():new ArrayBuffer(a)}function h(a){return new Uint8Array(d(a),0,a)}function e(a){return new Uint16Array(d(2*a),0,a)}function u(a){return new Uint32Array(d(4*a),0,a)}function m(a){return new Int8Array(d(a),0,a)}function t(a){return new Int16Array(d(2*a),0,a)}function f(a){return new Int32Array(d(4*a),0,a)}function c(a){return new Float32Array(d(4*a),0,a)}function q(a){return new Float64Array(d(8*
a),0,a)}function a(a){return A?new Uint8ClampedArray(d(a),0,a):h(a)}function r(a){return new DataView(d(a),0,a)}function v(a){a=p.nextPow2(a);var c=p.log2(a);c=F[c];return 0<c.length?c.pop():new g(a)}var p=b("bit-twiddle"),C=b("dup");n.__TYPEDARRAY_POOL||(n.__TYPEDARRAY_POOL={UINT8:C([32,0]),UINT16:C([32,0]),UINT32:C([32,0]),INT8:C([32,0]),INT16:C([32,0]),INT32:C([32,0]),FLOAT:C([32,0]),DOUBLE:C([32,0]),DATA:C([32,0]),UINT8C:C([32,0]),BUFFER:C([32,0])});var A="undefined"!==typeof Uint8ClampedArray,
D=n.__TYPEDARRAY_POOL;D.UINT8C||(D.UINT8C=C([32,0]));D.BUFFER||(D.BUFFER=C([32,0]));var z=D.DATA,F=D.BUFFER;l.free=function(a){if(g.isBuffer(a))F[p.log2(a.length)].push(a);else if("[object ArrayBuffer]"!==Object.prototype.toString.call(a)&&(a=a.buffer),a){var c=p.log2(a.length||a.byteLength)|0;z[c].push(a)}};l.freeUint8=l.freeUint16=l.freeUint32=l.freeInt8=l.freeInt16=l.freeInt32=l.freeFloat32=l.freeFloat=l.freeFloat64=l.freeDouble=l.freeUint8Clamped=l.freeDataView=function(a){k(a.buffer)};l.freeArrayBuffer=
k;l.freeBuffer=function(a){F[p.log2(a.length)].push(a)};l.malloc=function(b,g){if(void 0===g||"arraybuffer"===g)return d(b);switch(g){case "uint8":return h(b);case "uint16":return e(b);case "uint32":return u(b);case "int8":return m(b);case "int16":return t(b);case "int32":return f(b);case "float":case "float32":return c(b);case "double":case "float64":return q(b);case "uint8_clamped":return a(b);case "buffer":return v(b);case "data":case "dataview":return r(b)}return null};l.mallocArrayBuffer=d;l.mallocUint8=
h;l.mallocUint16=e;l.mallocUint32=u;l.mallocInt8=m;l.mallocInt16=t;l.mallocInt32=f;l.mallocFloat32=l.mallocFloat=c;l.mallocFloat64=l.mallocDouble=q;l.mallocUint8Clamped=a;l.mallocDataView=r;l.mallocBuffer=v;l.clearCache=function(){for(var a=0;32>a;++a)D.UINT8[a].length=0,D.UINT16[a].length=0,D.UINT32[a].length=0,D.INT8[a].length=0,D.INT16[a].length=0,D.INT32[a].length=0,D.FLOAT[a].length=0,D.DOUBLE[a].length=0,D.UINT8C[a].length=0,z[a].length=0,F[a].length=0}}).call(this,"undefined"!==typeof global?
global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},b("buffer").Buffer)},{"bit-twiddle":44,buffer:4,dup:91}],263:[function(b,p,l){function n(b){this.roots=Array(b);this.ranks=Array(b);for(var g=0;g<b;++g)this.roots[g]=g,this.ranks[g]=0}"use restrict";p.exports=n;b=n.prototype;Object.defineProperty(b,"length",{get:function(){return this.roots.length}});b.makeSet=function(){var b=this.roots.length;this.roots.push(b);this.ranks.push(0);return b};b.find=function(b){for(var g=b,
d=this.roots;d[b]!==b;)b=d[b];for(;d[g]!==b;){var h=d[g];d[g]=b;g=h}return b};b.link=function(b,k){b=this.find(b);k=this.find(k);if(b!==k){var d=this.ranks,g=this.roots,e=d[b],n=d[k];e<n?g[b]=k:n<e?g[k]=b:(g[k]=b,++d[b])}}},{}],264:[function(b,p,l){p.exports=function(b,g,k){if(0===b.length)return b;if(g){k||b.sort(g);k=1;for(var d=b.length,h=b[0],e,n=1;n<d;++n)e=h,h=b[n],g(h,e)&&(n===k?k++:b[k++]=h);b.length=k;return b}k||b.sort();g=1;k=b.length;d=b[0];for(e=1;e<k;++e)h=d,d=b[e],d!==h&&(e===g?g++:
b[g++]=d);b.length=g;return b}},{}],265:[function(b,p,l){p.exports=function(d,b){if("object"!==typeof b||null===b)b={};return n(d,b.canvas||g,b.context||k,b)};var n=b("./lib/vtext"),g=null,k=null;"undefined"!==typeof document&&(g=document.createElement("canvas"),g.width=8192,g.height=1024,k=g.getContext("2d"))},{"./lib/vtext":266}],266:[function(b,p,l){function n(d,c,b){for(var a=c.textAlign||"start",f=c.textBaseline||"alphabetic",e=[1073741824,1073741824],g=[0,0],h=d.length,k=0;k<h;++k)for(var m=
d[k],q=0;2>q;++q)e[q]=Math.min(e[q],m[q])|0,g[q]=Math.max(g[q],m[q])|0;var t=0;switch(a){case "center":t=-.5*(e[0]+g[0]);break;case "right":case "end":t=-g[0];break;case "left":case "start":t=-e[0];break;default:throw Error("vectorize-text: Unrecognized textAlign: '"+a+"'");}var n=0;switch(f){case "hanging":case "top":n=-e[1];break;case "middle":n=-.5*(e[1]+g[1]);break;case "alphabetic":case "ideographic":n=-3*b;break;case "bottom":n=-g[1];break;default:throw Error("vectorize-text: Unrecoginized textBaseline: '"+
f+"'");}var u=1/b;"lineHeight"in c?u*=+c.lineHeight:"width"in c?u=c.width/(g[0]-e[0]):"height"in c&&(u=c.height/(g[1]-e[1]));return d.map(function(a){return[u*(a[0]+t),u*(a[1]+n)]})}function g(b,c,g,a){b=d(b,128);a=a?e(b.cells,b.positions,.25):{edges:b.cells,positions:b.positions};g=n(a.positions,c,g);b=a.edges;a="ccw"===c.orientation;u(g,b);if(c.polygons||c.polygon||c.polyline){c=t(b,g);b=Array(c.length);for(var f=0;f<c.length;++f){for(var h=c[f],k=Array(h.length),q=0;q<h.length;++q){for(var l=h[q],
p=Array(l.length),z=0;z<l.length;++z)p[z]=g[l[z]].slice();a&&p.reverse();k[q]=p}b[f]=k}return b}return c.triangles||c.triangulate||c.triangle?{cells:m(g,b,{delaunay:!1,exterior:!1,interior:!0}),positions:g}:{edges:b,positions:g}}function k(d,c,b){try{return g(d,c,b,!0)}catch(a){}try{return g(d,c,b,!1)}catch(a){}return c.polygons||c.polyline||c.polygon?[]:c.triangles||c.triangulate||c.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}p.exports=function(d,c,b,a){var e=a.size||64;b.font=e+"px "+
(a.font||"normal");b.textAlign="start";b.textBaseline="alphabetic";b.direction="ltr";var f=Math.ceil(b.measureText(d).width+2*e)|0;if(8192<f)throw Error("vectorize-text: String too long (sorry, this will get fixed later)");var g=3*e;c.height<g&&(c.height=g);b.fillStyle="#000";b.fillRect(0,0,c.width,c.height);b.fillStyle="#fff";b.fillText(d,e,2*e);d=b.getImageData(0,0,f,g);f=h(d.data,[g,f,4]).pick(-1,-1,0).transpose(1,0);return k(f,a,e)};p.exports.processPixels=k;var d=b("surface-nets"),h=b("ndarray"),
e=b("simplify-planar-graph"),u=b("clean-pslg"),m=b("cdt2d"),t=b("planar-graph-to-polyline")},{cdt2d:54,"clean-pslg":64,ndarray:200,"planar-graph-to-polyline":211,"simplify-planar-graph":249,"surface-nets":255}],267:[function(b,p,l){(function(){function b(a){a.permitHostObjects___&&a.permitHostObjects___(b)}function g(a){return!("weakmap:"==a.substr(0,8)&&"___"===a.substr(a.length-3))}function k(d){if(d!==Object(d))throw new TypeError("Not an object: "+d);var b=d[a];if(b&&b.key===d)return b;if(q(d)){b=
{key:d};try{return c(d,a,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch(z){}}}function d(a){a.prototype=null;return Object.freeze(a)}function h(){l||"undefined"===typeof console||(l=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}if("undefined"===typeof ses||!ses.ok||ses.ok()){"undefined"!==typeof ses&&(ses.weakMapPermitHostObjects=b);var e=!1;if("function"===typeof WeakMap){var u=WeakMap;if("undefined"===typeof navigator||
!/Firefox/.test(navigator.userAgent)){var m=new u,t=Object.freeze({});m.set(t,1);if(1!==m.get(t))e=!0;else{p.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,c=Object.defineProperty,q=Object.isExtensible,a="weakmap:ident:"+Math.random()+"___";"undefined"!==typeof crypto&&"function"===typeof crypto.getRandomValues&&"function"===typeof ArrayBuffer&&"function"===typeof Uint8Array&&(m=new ArrayBuffer(25),m=new Uint8Array(m),crypto.getRandomValues(m),a="weakmap:rand:"+Array.prototype.map.call(m,
function(a){return(a%36).toString(36)}).join("")+"___");c(Object,"getOwnPropertyNames",{value:function(a){return f(a).filter(g)}});if("getPropertyNames"in Object){var r=Object.getPropertyNames;c(Object,"getPropertyNames",{value:function(a){return r(a).filter(g)}})}(function(){var a=Object.freeze;c(Object,"freeze",{value:function(c){k(c);return a(c)}});var d=Object.seal;c(Object,"seal",{value:function(a){k(a);return d(a)}});var b=Object.preventExtensions;c(Object,"preventExtensions",{value:function(a){k(a);
return b(a)}})})();var l=!1,x=0,C=function(){this instanceof C||h();var a=[],c=[],b=x++;return Object.create(C.prototype,{get___:{value:d(function(d,e){var f=k(d);if(f)return b in f?f[b]:e;d=a.indexOf(d);return 0<=d?c[d]:e})},has___:{value:d(function(c){var d=k(c);return d?b in d:0<=a.indexOf(c)})},set___:{value:d(function(d,e){var f;(f=k(d))?f[b]=e:(f=a.indexOf(d),0<=f?c[f]=e:(f=a.length,c[f]=e,a[f]=d));return this})},delete___:{value:d(function(d){var e=k(d);if(e)return b in e&&delete e[b];d=a.indexOf(d);
if(0>d)return!1;e=a.length-1;a[d]=void 0;c[d]=c[e];a[d]=a[e];a.length=e;c.length=e;return!0})}})};C.prototype=Object.create(Object.prototype,{get:{value:function(a,c){return this.get___(a,c)},writable:!0,configurable:!0},has:{value:function(a){return this.has___(a)},writable:!0,configurable:!0},set:{value:function(a,c){return this.set___(a,c)},writable:!0,configurable:!0},"delete":{value:function(a){return this.delete___(a)},writable:!0,configurable:!0}});"function"===typeof u?function(){function a(){this instanceof
C||h();var a=new u,c=void 0,f=!1;var g=e?function(d,b){a.set(d,b);a.has(d)||(c||(c=new C),c.set(d,b));return this}:function(d,b){if(f)try{a.set(d,b)}catch(G){c||(c=new C),c.set___(d,b)}else a.set(d,b);return this};return Object.create(C.prototype,{get___:{value:d(function(d,b){return c?a.has(d)?a.get(d):c.get___(d,b):a.get(d,b)})},has___:{value:d(function(d){return a.has(d)||(c?c.has___(d):!1)})},set___:{value:d(g)},delete___:{value:d(function(d){var b=!!a["delete"](d);return c?c.delete___(d)||b:
b})},permitHostObjects___:{value:d(function(a){if(a===b)f=!0;else throw Error("bogus call to permitHostObjects___");})}})}e&&"undefined"!==typeof Proxy&&(Proxy=void 0);a.prototype=C.prototype;p.exports=a;Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!==typeof Proxy&&(Proxy=void 0),p.exports=C)}})()},{}],268:[function(b,p,l){var n=b("./hidden-store.js");p.exports=function(){var b={};return function(g){if(("object"!==
typeof g||null===g)&&"function"!==typeof g)throw Error("Weakmap-shim: Key must be object");var d=g.valueOf(b);return d&&d.identity===b?d:n(g,b)}}},{"./hidden-store.js":269}],269:[function(b,p,l){p.exports=function(b,g){var k={identity:g},d=b.valueOf;Object.defineProperty(b,"valueOf",{value:function(b){return b!==g?d.apply(this,arguments):k},writable:!0});return k}},{}],270:[function(b,p,l){var n=b("./create-store.js");p.exports=function(){var b=n();return{get:function(g,d){g=b(g);return g.hasOwnProperty("value")?
g.value:d},set:function(g,d){b(g).value=d;return this},has:function(g){return"value"in b(g)},"delete":function(g){return delete b(g).value}}}},{"./create-store.js":268}],271:[function(b,p,l){var n=b("get-canvas-context");p.exports=function(b){return n("webgl",b)}},{"get-canvas-context":99}],272:[function(b,p,l){p.exports=b("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},
body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,
count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":82}],273:[function(b,p,l){p.exports=function(b,k){var d=[];k=+k||0;n(b.hi(b.shape[0]-1),d,k);return d};var n=b("./lib/zc-core")},{"./lib/zc-core":272}],274:[function(b,p,l){l=b("../annotations/attributes");b=b("../../plot_api/edit_types").overrideAll;p.exports=b({_isLinkedToArray:"annotation",
visible:l.visible,x:{valType:"any",role:"info",description:"Sets the annotation's x position."},y:{valType:"any",role:"info",description:"Sets the annotation's y position."},z:{valType:"any",role:"info",description:"Sets the annotation's z position."},ax:{valType:"number",role:"info",description:"Sets the x component of the arrow tail about the arrow head (in pixels)."},ay:{valType:"number",role:"info",description:"Sets the y component of the arrow tail about the arrow head (in pixels)."},xanchor:l.xanchor,
xshift:l.xshift,yanchor:l.yanchor,yshift:l.yshift,text:l.text,textangle:l.textangle,font:l.font,width:l.width,height:l.height,opacity:l.opacity,align:l.align,valign:l.valign,bgcolor:l.bgcolor,bordercolor:l.bordercolor,borderpad:l.borderpad,borderwidth:l.borderwidth,showarrow:l.showarrow,arrowcolor:l.arrowcolor,arrowhead:l.arrowhead,startarrowhead:l.startarrowhead,arrowside:l.arrowside,arrowsize:l.arrowsize,startarrowsize:l.startarrowsize,arrowwidth:l.arrowwidth,standoff:l.standoff,startstandoff:l.startstandoff,
hovertext:l.hovertext,hoverlabel:l.hoverlabel,captureevents:l.captureevents},"calc","from-root")},{"../../plot_api/edit_types":443,"../annotations/attributes":281}],275:[function(b,p,l){function n(d,b){var e=b.fullSceneLayout.domain,h=b.fullLayout._size;b={pdata:null,type:"linear",autorange:!1,range:[-Infinity,Infinity]};d._xa={};g.extendFlat(d._xa,b);k.setConvert(d._xa);d._xa._offset=h.l+e.x[0]*h.w;d._xa.l2p=function(){return.5*(1+d._pdata[0]/d._pdata[3])*h.w*(e.x[1]-e.x[0])};d._ya={};g.extendFlat(d._ya,
b);k.setConvert(d._ya);d._ya._offset=h.t+(1-e.y[1])*h.h;d._ya.l2p=function(){return.5*(1-d._pdata[1]/d._pdata[3])*h.h*(e.y[1]-e.y[0])}}var g=b("../../lib"),k=b("../../plots/cartesian/axes");p.exports=function(d){for(var b=d.fullSceneLayout.annotations,e=0;e<b.length;e++)n(b[e],d);d.fullLayout._infolayer.selectAll(".annotation-"+d.id).remove()}},{"../../lib":414,"../../plots/cartesian/axes":458}],276:[function(b,p,l){function n(d,b,t,f,c){function m(a,c){return g.coerce(d,b,e,a,c)}function a(a){var c=
a+"axis",d={_fullLayout:{}};d._fullLayout[c]=t[c];return k.coercePosition(b,d,m,a,a,.5)}if(!m("visible",!c.itemIsNotPlainObject))return b;h(d,b,f.fullLayout,m);a("x");a("y");a("z");g.noneOrAll(d,b,["x","y","z"]);b.xref="x";b.yref="y";b.zref="z";m("xanchor");m("yanchor");m("xshift");m("yshift");b.showarrow&&(b.axref="pixel",b.ayref="pixel",m("ax",-10),m("ay",-30),g.noneOrAll(d,b,["ax","ay"]));return b}var g=b("../../lib"),k=b("../../plots/cartesian/axes"),d=b("../../plots/array_container_defaults"),
h=b("../annotations/common_defaults"),e=b("./attributes");p.exports=function(b,e,g){d(b,e,{name:"annotations",handleItemDefaults:n,fullLayout:g.fullLayout})}},{"../../lib":414,"../../plots/array_container_defaults":454,"../../plots/cartesian/axes":458,"../annotations/common_defaults":284,"./attributes":274}],277:[function(b,p,l){var n=b("../annotations/draw").drawRaw,g=b("../../plots/gl3d/project"),k=["x","y","z"];p.exports=function(d){for(var b=d.fullSceneLayout,e=d.dataScale,u=b.annotations,m=0;m<
u.length;m++){for(var t=u[m],f=!1,c=0;3>c;c++){var q=k[c];q=b[q+"axis"].r2fraction(t[q]);if(0>q||1<q){f=!0;break}}f?d.fullLayout._infolayer.select(".annotation-"+d.id+'[data-index="'+m+'"]').remove():(t._pdata=g(d.glplot.cameraParams,[b.xaxis.r2l(t.x)*e[0],b.yaxis.r2l(t.y)*e[1],b.zaxis.r2l(t.z)*e[2]]),n(d.graphDiv,t,m,d.id,t._xa,t._ya))}}},{"../../plots/gl3d/project":498,"../annotations/draw":287}],278:[function(b,p,l){var n=b("../../registry"),g=b("../../lib");p.exports={moduleType:"component",name:"annotations3d",
schema:{subplots:{scene:{annotations:b("./attributes")}}},layoutAttributes:b("./attributes"),handleDefaults:b("./defaults"),includeBasePlot:function(b,d){var h=n.subplotsRegistry.gl3d;if(h)for(var e=h.attrRegex,k=Object.keys(b),m=0;m<k.length;m++){var t=k[m];e.test(t)&&(b[t].annotations||[]).length&&(g.pushUnique(d._basePlotModules,h),g.pushUnique(d._subplots.gl3d,t))}},convert:b("./convert"),draw:b("./draw")}},{"../../lib":414,"../../registry":517,"./attributes":274,"./convert":275,"./defaults":276,
"./draw":277}],279:[function(b,p,l){var n=b("../../lib"),g=b("../../plots/cartesian/axes"),k=b("./common_defaults"),d=b("./attributes");p.exports=function(b,e,u,m,t){function f(a,c){return n.coerce(b,e,d,a,c)}t=t||{};t=f("visible",!t.itemIsNotPlainObject);m=f("clicktoshow");if(!t&&!m)return e;k(b,e,u,f);t=e.showarrow;var c=["x","y"],h=[-10,-30];u={_fullLayout:u};for(var a=0;2>a;a++){var r=c[a],l=g.coerceRef(b,e,u,r,"","paper");g.coercePosition(e,u,f,l,r,.5);if(t){var p="a"+r,C=g.coerceRef(b,e,u,p,
"pixel");"pixel"!==C&&C!==l&&(C=e[p]="pixel");g.coercePosition(e,u,f,C,p,"pixel"===C?h[a]:.4)}f(r+"anchor");f(r+"shift")}n.noneOrAll(b,e,["x","y"]);t&&n.noneOrAll(b,e,["ax","ay"]);m&&(m=f("xclick"),t=f("yclick"),e._xclick=void 0===m?e.x:g.cleanPosition(m,u,e.xref),e._yclick=void 0===t?e.y:g.cleanPosition(t,u,e.yref));return e}},{"../../lib":414,"../../plots/cartesian/axes":458,"./attributes":281,"./common_defaults":284}],280:[function(b,p,l){p.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",
backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],281:[function(b,p,l){l=b("./arrow_paths");var n=b("../../plots/font_attributes");b=b("../../plots/cartesian/constants");
p.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange+arraydraw",description:"Determines whether or not this annotation is visible."},text:{valType:"string",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the text associated with this annotation. Plotly uses a subset of HTML tags to do things like newline (<br>), bold (<b></b>), italics (<i></i>), hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub> <span> are also supported."},
textangle:{valType:"angle",dflt:0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the angle at which the `text` is drawn with respect to the horizontal."},font:n({editType:"calcIfAutorange+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets an explicit width for the text box. null (default) lets the text set the box width. Wider text will be clipped. There is no automatic wrapping; use <br> to start a new line."},
height:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets an explicit height for the text box. null (default) lets the text set the box height. Taller text will be clipped."},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:"Sets the horizontal alignment of the `text` within the box. Has an effect only if `text` spans more two or more lines (i.e. `text` contains one or more <br> HTML tags) or if an explicit width is set to override the text width."},
valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:"Sets the vertical alignment of the `text` within the box. Has an effect only if an explicit height is set to override the text height."},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the color of the border enclosing the annotation `text`."},
borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the padding (in px) between the `text` and the enclosing border."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the width (in px) of the border enclosing the annotation `text`."},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Determines whether or not the annotation is drawn with an arrow. If *true*, `text` is placed near the arrow's tail. If *false*, `text` lines up with the `x` and `y` provided."},
arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:l.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:l.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",role:"style",
editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the size of the end annotation arrow head, relative to `arrowwidth`. A value of 1 (default) gives a head about 3x as wide as the line."},startarrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the size of the start annotation arrow head, relative to `arrowwidth`. A value of 1 (default) gives a head about 3x as wide as the line."},
arrowwidth:{valType:"number",min:.1,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets a distance, in pixels, to move the end arrowhead away from the position it is pointing at, for example to point at the edge of a marker independent of zoom. Note that this shortens the arrow from the `ax` / `ay` vector, in contrast to `xshift` / `yshift` which moves everything by this amount."},
startstandoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Sets a distance, in pixels, to move the start arrowhead away from the position it is pointing at, for example to point at the edge of a marker independent of zoom. Note that this shortens the arrow from the `ax` / `ay` vector, in contrast to `xshift` / `yshift` which moves everything by this amount."},ax:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the x component of the arrow tail about the arrow head. If `axref` is `pixel`, a positive (negative)  component corresponds to an arrow pointing from right to left (left to right). If `axref` is an axis, this is an absolute value on that axis, like `x`, NOT a relative value."},
ay:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the y component of the arrow tail about the arrow head. If `ayref` is `pixel`, a positive (negative)  component corresponds to an arrow pointing from bottom to top (top to bottom). If `ayref` is an axis, this is an absolute value on that axis, like `y`, NOT a relative value."},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",b.idRegex.x.toString()],role:"info",editType:"calc",description:"Indicates in what terms the tail of the annotation (ax,ay)  is specified. If `pixel`, `ax` is a relative offset in pixels  from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is  specified in the same terms as that axis. This is useful  for trendline annotations which should continue to indicate  the correct trend when zoomed."},
ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",b.idRegex.y.toString()],role:"info",editType:"calc",description:"Indicates in what terms the tail of the annotation (ax,ay)  is specified. If `pixel`, `ay` is a relative offset in pixels  from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is  specified in the same terms as that axis. This is useful  for trendline annotations which should continue to indicate  the correct trend when zoomed."},xref:{valType:"enumerated",values:["paper",
b.idRegex.x.toString()],role:"info",editType:"calc",description:"Sets the annotation's x coordinate axis. If set to an x axis id (e.g. *x* or *x2*), the `x` position refers to an x coordinate If set to *paper*, the `x` position refers to the distance from the left side of the plotting area in normalized coordinates where 0 (1) corresponds to the left (right) side."},x:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the annotation's x position. If the axis `type` is *log*, then you must take the log of your desired range. If the axis `type` is *date*, it should be date strings, like date data, though Date objects and unix milliseconds will be accepted and converted to strings. If the axis `type` is *category*, it should be numbers, using the scale where each category is assigned a serial number from zero in the order it appears."},
xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the text box's horizontal position anchor This anchor binds the `x` position to the *left*, *center* or *right* of the annotation. For example, if `x` is set to 1, `xref` to *paper* and `xanchor` to *right* then the right-most portion of the annotation lines up with the right-most edge of the plotting area. If *auto*, the anchor is equivalent to *center* for data-referenced annotations or if there is an arrow, whereas for paper-referenced with no arrow, the anchor picked corresponds to the closest side."},
xshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Shifts the position of the whole annotation and arrow to the right (positive) or left (negative) by this many pixels."},yref:{valType:"enumerated",values:["paper",b.idRegex.y.toString()],role:"info",editType:"calc",description:"Sets the annotation's y coordinate axis. If set to an y axis id (e.g. *y* or *y2*), the `y` position refers to an y coordinate If set to *paper*, the `y` position refers to the distance from the bottom of the plotting area in normalized coordinates where 0 (1) corresponds to the bottom (top)."},
y:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the annotation's y position. If the axis `type` is *log*, then you must take the log of your desired range. If the axis `type` is *date*, it should be date strings, like date data, though Date objects and unix milliseconds will be accepted and converted to strings. If the axis `type` is *category*, it should be numbers, using the scale where each category is assigned a serial number from zero in the order it appears."},
yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the text box's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the annotation. For example, if `y` is set to 1, `yref` to *paper* and `yanchor` to *top* then the top-most portion of the annotation lines up with the top-most edge of the plotting area. If *auto*, the anchor is equivalent to *middle* for data-referenced annotations or if there is an arrow, whereas for paper-referenced with no arrow, the anchor picked corresponds to the closest side."},
yshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange+arraydraw",description:"Shifts the position of the whole annotation and arrow up (positive) or down (negative) by this many pixels."},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:"Makes this annotation respond to clicks on the plot. If you click a data point that exactly matches the `x` and `y` values of this annotation, and it is hidden (visible: false), it will appear. In *onoff* mode, you must click the same point again to make it disappear, so if you click multiple points, you can show multiple annotations. In *onout* mode, a click anywhere else in the plot (on another data point or not) will hide this annotation. If you need to show/hide this annotation in response to different `x` or `y` values, you can set `xclick` and/or `yclick`. This is useful for example to label the side of a bar. To label markers though, `standoff` is preferred over `xclick` and `yclick`."},
xclick:{valType:"any",role:"info",editType:"arraydraw",description:"Toggle this annotation when clicking a data point whose `x` value is `xclick` rather than the annotation's `x` value."},yclick:{valType:"any",role:"info",editType:"arraydraw",description:"Toggle this annotation when clicking a data point whose `y` value is `yclick` rather than the annotation's `y` value."},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:"Sets text to appear when hovering over this annotation. If omitted or blank, no hover label will appear."},
hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the background color of the hover label. By default uses the annotation's `bgcolor` made opaque, or white if it was transparent."},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the border color of the hover label. By default uses either dark grey or white, for maximum contrast with `hoverlabel.bgcolor`."},font:n({editType:"arraydraw",description:"Sets the hover label text font. By default uses the global hover font and size, with color from `hoverlabel.bordercolor`."}),
editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:"Determines whether the annotation text box captures mouse move and click events, or allows those events to pass through to data points in the plot that may be behind the annotation. By default `captureevents` is *false* unless `hovertext` is provided. If you use the event `plotly_clickannotation` without `hovertext` you must explicitly enable `captureevents`."},editType:"calc",_deprecated:{ref:{valType:"string",
role:"info",editType:"calc",description:"Obsolete. Set `xref` and `yref` separately instead."}}}},{"../../plots/cartesian/constants":463,"../../plots/font_attributes":485,"./arrow_paths":280}],282:[function(b,p,l){function n(d){g.filterVisible(d._fullLayout.annotations).forEach(function(b){var e=k.getFromId(d,b.xref),g=k.getFromId(d,b.yref),h=3*b.arrowsize*b.arrowwidth||0,f=3*b.startarrowsize*b.arrowwidth||0;if(e&&e.autorange){var c=h+b.xshift;var q=h-b.xshift;var a=f+b.xshift;var r=f-b.xshift;b.axref===
b.xref?(k.expand(e,[e.r2c(b.x)],{ppadplus:c,ppadminus:q}),k.expand(e,[e.r2c(b.ax)],{ppadplus:Math.max(b._xpadplus,a),ppadminus:Math.max(b._xpadminus,r)})):(a=b.ax?a+b.ax:a,r=b.ax?r-b.ax:r,k.expand(e,[e.r2c(b.x)],{ppadplus:Math.max(b._xpadplus,c,a),ppadminus:Math.max(b._xpadminus,q,r)}))}g&&g.autorange&&(c=h-b.yshift,q=h+b.yshift,a=f-b.yshift,r=f+b.yshift,b.ayref===b.yref?(k.expand(g,[g.r2c(b.y)],{ppadplus:c,ppadminus:q}),k.expand(g,[g.r2c(b.ay)],{ppadplus:Math.max(b._ypadplus,a),ppadminus:Math.max(b._ypadminus,
r)})):(a=b.ay?a+b.ay:a,r=b.ay?r-b.ay:r,k.expand(g,[g.r2c(b.y)],{ppadplus:Math.max(b._ypadplus,c,a),ppadminus:Math.max(b._ypadminus,q,r)})))})}var g=b("../../lib"),k=b("../../plots/cartesian/axes"),d=b("./draw").draw;p.exports=function(b){var e=g.filterVisible(b._fullLayout.annotations);if(e.length&&b._fullData.length){var h={};e.forEach(function(d){h[d.xref]=1;h[d.yref]=1});for(var m in h)if((e=k.getFromId(b,m))&&e.autorange)return g.syncOrAsync([d,n],b)}}},{"../../lib":414,"../../plots/cartesian/axes":458,
"./draw":287}],283:[function(b,p,l){function n(d,b){d=d._fullLayout.annotations;var e=[],h=[],k=[],t=(b||[]).length,f,c,q;for(f=0;f<d.length;f++){var a=d[f];if(q=a.clicktoshow){for(c=0;c<t;c++){var r=b[c];var n=r.xaxis;var l=r.yaxis;if(n._id===a.xref&&l._id===a.yref&&n.d2r(r.x)===g(a._xclick,n)&&l.d2r(r.y)===g(a._yclick,l)){r=a.visible?"onout"===q?h:k:e;r.push(f);break}}c===t&&a.visible&&"onout"===q&&h.push(f)}}return{on:e,off:h,explicitOff:k}}function g(d,b){return"log"===b.type?b.l2r(d):b.d2r(d)}
var k=b("../../registry");p.exports={hasClickToShow:function(d,b){d=n(d,b);return 0<d.on.length||0<d.explicitOff.length},onClick:function(d,b){var e=n(d,b);b=e.on;e=e.off.concat(e.explicitOff);var g={},h;if(b.length||e.length){for(h=0;h<b.length;h++)g["annotations["+b[h]+"].visible"]=!0;for(h=0;h<e.length;h++)g["annotations["+e[h]+"].visible"]=!1;return k.call("update",d,{},g)}}}},{"../../registry":517}],284:[function(b,p,l){var n=b("../../lib"),g=b("../color");p.exports=function(b,d,h,e){e("opacity");
b=e("bgcolor");var k=e("bordercolor");k=g.opacity(k);e("borderpad");var m=e("borderwidth"),t=e("showarrow");e("text",t?" ":h._dfltTitle.annotation);e("textangle");n.coerceFont(e,"font",h.font);e("width");e("align");e("height")&&e("valign");if(t){t=e("arrowside");if(-1!==t.indexOf("end")){var f=e("arrowhead");var c=e("arrowsize")}-1!==t.indexOf("start")&&(e("startarrowhead",f),e("startarrowsize",c));e("arrowcolor",k?d.bordercolor:g.defaultLine);e("arrowwidth",2*(k&&m||1));e("standoff");e("startstandoff")}d=
e("hovertext");h=h.hoverlabel||{};d&&(b=e("hoverlabel.bgcolor",h.bgcolor||(g.opacity(b)?g.rgb(b):g.defaultLine)),b=e("hoverlabel.bordercolor",h.bordercolor||g.contrast(b)),n.coerceFont(e,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||b}));e("captureevents",!!d)}},{"../../lib":414,"../color":291}],285:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib/to_log_range");p.exports=function(b,d,h,e){function k(c){var a=t[c];a=m?g(a,d.range):Math.pow(10,a);n(a)||(a=null);
e(f+c,a)}d=d||{};var m="log"===h&&"linear"===d.type;h="linear"===h&&"log"===d.type;if(m||h){b=b._fullLayout.annotations;h=d._id.charAt(0);for(var t,f,c=0;c<b.length;c++)t=b[c],f="annotations["+c+"].",t[h+"ref"]===d._id&&k(h),t["a"+h+"ref"]===d._id&&k("a"+h)}}},{"../../lib/to_log_range":439,"fast-isnumeric":95}],286:[function(b,p,l){var n=b("../../plots/array_container_defaults"),g=b("./annotation_defaults");p.exports=function(b,d){n(b,d,{name:"annotations",handleItemDefaults:g})}},{"../../plots/array_container_defaults":454,
"./annotation_defaults":279}],287:[function(b,p,l){function n(a,c){var d=a._fullLayout.annotations[c]||{},b=u.getFromId(a,d.xref),f=u.getFromId(a,d.yref);g(a,d,c,!1,b,f)}function g(b,g,h,n,u,l){function v(a){a.call(t.font,T).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"});c.convertToTspans(a,b,p);return a}function p(){function f(a,c){"auto"===c&&(c=a<1/3?"left":a>2/3?"right":"center");return{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[c]}var h=ea.selectAll("a");1===
h.size()&&h.text()===ea.text()&&Q.insert("a",":first-child").attr({"xlink:xlink:href":h.attr("xlink:href"),"xlink:xlink:show":h.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(aa.node());h=Q.select(".annotation-text-math-group");var k=!h.empty(),v=t.bBox((k?h:ea).node()),p=v.width,B=v.height,y=g.width||p,E=g.height||B,J=Math.round(y+2*U),N=Math.round(E+2*U);g._w=y;g._h=E;for(var M=!1,F=["x","y"],Z=0;Z<F.length;Z++){var da=F[Z],pa=g[da+"ref"]||da,T=g["a"+da+"ref"],fa={x:u,y:l}[da],
ha=(L+("x"===da?0:-90))*Math.PI/180,qa=J*Math.cos(ha),ra=N*Math.sin(ha);ha=Math.abs(qa)+Math.abs(ra);var Da=g[da+"anchor"],za=g[da+"shift"]*("x"===da?1:-1),ia=H[da];if(fa){var ta=fa.r2fraction(g[da]);if((b._dragging||!fa.autorange)&&(0>ta||1<ta)){if(T===pa){if(ta=fa.r2fraction(g["a"+da]),0>ta||1<ta)M=!0}else M=!0;if(M)continue}ta=fa._offset+fa.r2p(g[da]);var ua=.5}else"x"===da?(ua=g[da],ta=w.l+w.w*ua):(ua=1-g[da],ta=w.t+w.h*ua),ua=g.showarrow?.5:ua;g.showarrow?(ia.head=ta,Da=g["a"+da],qa=qa*f(.5,
g.xanchor)-ra*f(.5,g.yanchor),T===pa?(ia.tail=fa._offset+fa.r2p(Da),fa=qa):(ia.tail=ta+Da,fa=qa+Da),ia.text=ia.tail+qa,ta=x["x"===da?"width":"height"],"paper"===pa&&(ia.head=e.constrain(ia.head,1,ta-1)),"pixel"===T&&(pa=-Math.max(ia.tail-3,ia.text),T=Math.min(ia.tail+3,ia.text)-ta,0<pa?(ia.tail+=pa,ia.text+=pa):0<T&&(ia.tail-=T,ia.text-=T)),ia.tail+=za,ia.head+=za):(fa=qa=ha*f(ua,Da),ia.text=ta+qa);ia.text+=za;qa+=za;fa+=za;g["_"+da+"padplus"]=ha/2+fa;g["_"+da+"padminus"]=ha/2-fa;g["_"+da+"size"]=
ha;g["_"+da+"shift"]=qa}if(M)Q.remove();else{F=M=0;"left"!==g.align&&(M=(y-p)*("center"===g.align?.5:1));"top"!==g.valign&&(F=(E-B)*("middle"===g.valign?.5:1));k?h.select("svg").attr({x:U+M-1,y:U+F}).call(t.setClipUrl,W?K:null):ea.call(c.positionText,U+M-v.left,U+F-v.top).call(t.setClipUrl,W?K:null);R.select("rect").call(t.setRect,U,U,y,E);aa.call(t.setRect,P/2,P/2,J-P,N-P);Q.call(t.setTranslate,Math.round(H.x.text-J/2),Math.round(H.y.text-N/2));z.attr({transform:"rotate("+L+","+H.x.text+","+H.y.text+
")"});var Ga=function(c,f){A.selectAll(".annotation-arrow-g").remove();var h=H.x.head,k=H.y.head,q=H.x.tail+c,v=H.y.tail+f,p=H.x.text+c;c=H.y.text+f;f=e.rotationXYMatrix(L,p,c);var x=e.apply2DTransform(f);f=e.apply2DTransform2(f);var B=+aa.attr("width"),y=+aa.attr("height");p-=.5*B;B=p+B;c-=.5*y;y=c+y;f=[[p,c,p,y],[p,y,B,y],[B,y,B,c],[B,c,p,c]].map(f);if(!f.reduce(function(a,c){return a^!!e.segmentsIntersect(h,k,h+1E6,k+1E6,c[0],c[1],c[2],c[3])},!1)){f.forEach(function(a){if(a=e.segmentsIntersect(q,
v,h,k,a[0],a[1],a[2],a[3]))q=a.x,v=a.y});f=g.arrowwidth;y=g.arrowcolor;c=g.arrowside;var E=A.append("g").style({opacity:m.opacity(y)}).classed("annotation-arrow-g",!0);y=E.append("path").attr("d","M"+q+","+v+"L"+h+","+k).style("stroke-width",f+"px").call(m.stroke,m.rgb(y));r(y,c,g);if(G.annotationPosition&&y.node().parentNode&&!n){c=h;y=k;g.standoff&&(p=Math.sqrt(Math.pow(h-q,2)+Math.pow(k-v,2)),c+=g.standoff*(q-h)/p,y+=g.standoff*(v-k)/p);f=E.append("path").classed("annotation-arrow",!0).classed("anndrag",
!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(q-c)+","+(v-y),transform:"translate("+c+","+y+")"}).style("stroke-width",f+6+"px").call(m.stroke,"rgba(0,0,0,0)").call(m.fill,"rgba(0,0,0,0)");var K,D,J;a.init({element:f.node(),gd:b,prepFn:function(){var a=t.getTranslate(Q);D=a.x;J=a.y;K={};u&&u.autorange&&(K[u._name+".autorange"]=!0);l&&l.autorange&&(K[l._name+".autorange"]=!0)},moveFn:function(a,c){var d=x(D,J),b=d[0]+a;d=d[1]+c;Q.call(t.setTranslate,b,d);K[C+".x"]=u?u.p2r(u.r2p(g.x)+a):g.x+a/w.w;K[C+".y"]=l?l.p2r(l.r2p(g.y)+
c):g.y-c/w.h;g.axref===g.xref&&(K[C+".ax"]=u.p2r(u.r2p(g.ax)+a));g.ayref===g.yref&&(K[C+".ay"]=l.p2r(l.r2p(g.ay)+c));E.attr("transform","translate("+a+","+c+")");z.attr({transform:"rotate("+L+","+b+","+d+")"})},doneFn:function(){d.call("relayout",b,K);var a=document.querySelector(".js-notes-box-panel");a&&a.redraw(a.selectedObj)}})}}};g.showarrow&&Ga(0,0);if(D){var O,Pa;a.init({element:Q.node(),gd:b,prepFn:function(){Pa=z.attr("transform");O={}},moveFn:function(c,d){var b="pointer";if(g.showarrow)O[C+
".ax"]=g.axref===g.xref?u.p2r(u.r2p(g.ax)+c):g.ax+c,O[C+".ay"]=g.ayref===g.yref?l.p2r(l.r2p(g.ay)+d):g.ay+d,Ga(c,d);else{if(n)return;if(u)O[C+".x"]=u.p2r(u.r2p(g.x)+c);else{var f=g._xsize/w.w;O[C+".x"]=a.align(g.x+(g._xshift-g.xshift)/w.w-f/2+c/w.w,f,0,1,g.xanchor)}l?O[C+".y"]=l.p2r(l.r2p(g.y)+d):(f=g._ysize/w.h,O[C+".y"]=a.align(g.y-(g._yshift+g.yshift)/w.h-f/2-d/w.h,f,0,1,g.yanchor));u&&l||(b=a.getCursor(u?.5:O[C+".x"],l?.5:O[C+".y"],g.xanchor,g.yanchor))}z.attr({transform:"translate("+c+","+d+
")"+Pa});q(Q,b)},doneFn:function(){q(Q);d.call("relayout",b,O);var a=document.querySelector(".js-notes-box-panel");a&&a.redraw(a.selectedObj)}})}}}var x=b._fullLayout,w=b._fullLayout._size,G=b._context.edits;if(n){var E="annotation-"+n;var C=n+".annotations["+h+"]"}else E="annotation",C="annotations["+h+"]";x._infolayer.selectAll("."+E+'[data-index="'+h+'"]').remove();var K="clip"+x._uid+"_ann"+h;if(g._input&&!1!==g.visible){var H={x:{},y:{}},L=+g.textangle||0,A=x._infolayer.append("g").classed(E,
!0).attr("data-index",String(h)).style("opacity",g.opacity),z=A.append("g").classed("annotation-text-g",!0),D=G[g.showarrow?"annotationTail":"annotationPosition"];E=g.captureevents||G.annotationText||D;var Q=z.append("g").style("pointer-events",E?"all":null).call(q,"default").on("click",function(){b._dragging=!1;var a={index:h,annotation:g._input,fullAnnotation:g,event:k.event};n&&(a.subplotId=n);b.emit("plotly_clickannotation",a)});if(g.hovertext)Q.on("mouseover",function(){var a=g.hoverlabel,c=
a.font,d=this.getBoundingClientRect(),e=b.getBoundingClientRect();f.loneHover({x0:d.left-e.left,x1:d.right-e.left,y:(d.top+d.bottom)/2-e.top,text:g.hovertext,color:a.bgcolor,borderColor:a.bordercolor,fontFamily:c.family,fontSize:c.size,fontColor:c.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:b})}).on("mouseout",function(){f.loneUnhover(x._hoverlayer.node())});var P=g.borderwidth,U=P+g.borderpad,aa=Q.append("rect").attr("class","bg").style("stroke-width",P+"px").call(m.stroke,
g.bordercolor).call(m.fill,g.bgcolor),W=g.width||g.height,R=x._topclips.selectAll("#"+K).data(W?[0]:[]);R.enter().append("clipPath").classed("annclip",!0).attr("id",K).append("rect");R.exit().remove();var T=g.font,ea=Q.append("text").classed("annotation-text",!0).text(g.text);if(G.annotationText)ea.call(c.makeEditable,{delegate:Q,gd:b}).call(v).on("edit",function(a){g.text=a;this.call(v);a={};a[C+".text"]=g.text;u&&u.autorange&&(a[u._name+".autorange"]=!0);l&&l.autorange&&(a[l._name+".autorange"]=
!0);d.call("relayout",b,a)});else ea.call(v)}else k.selectAll("#"+K).remove()}var k=b("d3"),d=b("../../registry"),h=b("../../plots/plots"),e=b("../../lib"),u=b("../../plots/cartesian/axes"),m=b("../color"),t=b("../drawing"),f=b("../fx"),c=b("../../lib/svg_text_utils"),q=b("../../lib/setcursor"),a=b("../dragelement"),r=b("./draw_arrow_head");p.exports={draw:function(a){var c=a._fullLayout;c._infolayer.selectAll(".annotation").remove();for(var d=0;d<c.annotations.length;d++)c.annotations[d].visible&&
n(a,d);return h.previousPromises(a)},drawOne:n,drawRaw:g}},{"../../lib":414,"../../lib/setcursor":433,"../../lib/svg_text_utils":437,"../../plots/cartesian/axes":458,"../../plots/plots":502,"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"../fx":333,"./draw_arrow_head":288,d3:86}],288:[function(b,p,l){var n=b("d3"),g=b("../color"),k=b("./arrow_paths");p.exports=function(d,b,e){function h(){d.style("stroke-dasharray","0px,100px")}function m(a,c,b,f){a.path&&(a.noRotate&&(b=
0),n.select(t.parentNode).append("path").attr({"class":d.attr("class"),d:a.path,transform:"translate("+c.x+","+c.y+")"+(b?"rotate("+180*b/Math.PI+")":"")+"scale("+f+")"}).style({fill:g.rgb(e.arrowcolor),"stroke-width":0}))}var t=d.node(),f=k[e.arrowhead||0],c=k[e.startarrowhead||0],q=(e.arrowwidth||1)*(e.arrowsize||1),a=(e.arrowwidth||1)*(e.startarrowsize||1),r=0<=b.indexOf("start");b=0<=b.indexOf("end");var l=f.backoff*q+e.standoff,p=c.backoff*a+e.startstandoff;if("line"===t.nodeName){var C={x:+d.attr("x1"),
y:+d.attr("y1")};var A={x:+d.attr("x2"),y:+d.attr("y2")};var D=C.x-A.x,z=C.y-A.y;var F=Math.atan2(z,D);var B=F+Math.PI;if(l&&p&&l+p>Math.sqrt(D*D+z*z)){h();return}if(l){if(l*l>D*D+z*z){h();return}var y=l*Math.sin(F);A.x+=l*Math.cos(F);A.y+=y;d.attr({x2:A.x,y2:A.y})}if(p){if(p*p>D*D+z*z){h();return}l=p*Math.sin(F);C.x-=p*Math.cos(F);C.y-=l;d.attr({x1:C.x,y1:C.y})}}else if("path"===t.nodeName){D=t.getTotalLength();z="";if(D<l+p){h();return}C=t.getPointAtLength(0);F=t.getPointAtLength(.1);F=Math.atan2(C.y-
F.y,C.x-F.x);C=t.getPointAtLength(Math.min(p,D));z="0px,"+p+"px,";A=t.getPointAtLength(D);B=t.getPointAtLength(D-.1);B=Math.atan2(A.y-B.y,A.x-B.x);A=t.getPointAtLength(Math.max(0,D-l));d.style("stroke-dasharray",z+(D-(z?p+l:l)+"px,"+D+"px"))}r&&m(c,C,F,a);b&&m(f,A,B,q)}},{"../color":291,"./arrow_paths":280,d3:86}],289:[function(b,p,l){l=b("./draw");var n=b("./click");p.exports={moduleType:"component",name:"annotations",layoutAttributes:b("./attributes"),supplyLayoutDefaults:b("./defaults"),includeBasePlot:b("../../plots/cartesian/include_components")("annotations"),
calcAutorange:b("./calc_autorange"),draw:l.draw,drawOne:l.drawOne,drawRaw:l.drawRaw,hasClickToShow:n.hasClickToShow,onClick:n.onClick,convertCoords:b("./convert_coords")}},{"../../plots/cartesian/include_components":468,"./attributes":281,"./calc_autorange":282,"./click":283,"./convert_coords":285,"./defaults":286,"./draw":287}],290:[function(b,p,l){l.defaults="#1f77b4 #ff7f0e #2ca02c #d62728 #9467bd #8c564b #e377c2 #7f7f7f #bcbd22 #17becf".split(" ");l.defaultLine="#444";l.lightLine="#eee";l.background=
"#fff";l.borderLine="#BEC8D9";l.lightFraction=1E3/11},{}],291:[function(b,p,l){function n(d){if(k(d)||"string"!==typeof d)return d;var b=d.trim();if("rgb"!==b.substr(0,3))return d;var e=b.match(/^rgba?\s*\(([^()]*)\)$/);if(!e)return d;e=e[1].trim().split(/\s*[\s,]\s*/);b="a"===b.charAt(3)&&4===e.length;if(!b&&3!==e.length)return d;for(var f=0;f<e.length;f++){if(!e[f].length)return d;e[f]=Number(e[f]);if(!(0<=e[f]))return d;if(3===f)1<e[f]&&(e[f]=1);else if(1<=e[f])return d}d=Math.round(255*e[0])+
", "+Math.round(255*e[1])+", "+Math.round(255*e[2]);return b?"rgba("+d+", "+e[3]+")":"rgb("+d+")"}var g=b("tinycolor2"),k=b("fast-isnumeric"),d=p.exports={};b=b("./attributes");d.defaults=b.defaults;var h=d.defaultLine=b.defaultLine;d.lightLine=b.lightLine;var e=d.background=b.background;d.tinyRGB=function(d){d=d.toRgb();return"rgb("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+")"};d.rgb=function(b){return d.tinyRGB(g(b))};d.opacity=function(d){return d?g(d).getAlpha():0};d.addOpacity=
function(d,b){d=g(d).toRgb();return"rgba("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+", "+b+")"};d.combine=function(d,b){var h=g(d).toRgb();if(1===h.a)return g(d).toRgbString();d=g(b||e).toRgb();d=1===d.a?d:{r:255*(1-d.a)+d.r*d.a,g:255*(1-d.a)+d.g*d.a,b:255*(1-d.a)+d.b*d.a};return g({r:d.r*(1-h.a)+h.r*h.a,g:d.g*(1-h.a)+h.g*h.a,b:d.b*(1-h.a)+h.b*h.a}).toRgbString()};d.contrast=function(b,k,t){var f=g(b);1!==f.getAlpha()&&(f=g(d.combine(b,e)));return(f.isDark()?k?f.lighten(k):e:t?f.darken(t):
h).toString()};d.stroke=function(b,e){e=g(e);b.style({stroke:d.tinyRGB(e),"stroke-opacity":e.getAlpha()})};d.fill=function(b,e){e=g(e);b.style({fill:d.tinyRGB(e),"fill-opacity":e.getAlpha()})};d.clean=function(b){if(b&&"object"===typeof b){var e=Object.keys(b),g;for(g=0;g<e.length;g++){var f=e[g];var c=b[f];if("color"===f.substr(f.length-5))if(Array.isArray(c))for(f=0;f<c.length;f++)c[f]=n(c[f]);else b[f]=n(c);else if("colorscale"===f.substr(f.length-10)&&Array.isArray(c))for(f=0;f<c.length;f++)Array.isArray(c[f])&&
(c[f][1]=n(c[f][1]));else if(Array.isArray(c)){if(f=c[0],!Array.isArray(f)&&f&&"object"===typeof f)for(f=0;f<c.length;f++)d.clean(c[f])}else c&&"object"===typeof c&&d.clean(c)}}}},{"./attributes":290,"fast-isnumeric":95,tinycolor2:256}],292:[function(b,p,l){l=b("../../plots/cartesian/layout_attributes");var n=b("../../plots/font_attributes"),g=b("../../lib/extend").extendFlat;b=b("../../plot_api/edit_types").overrideAll;p.exports=b({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],
role:"style",dflt:"pixels",description:"Determines whether this color bar's thickness (i.e. the measure in the constant color direction) is set in units of plot *fraction* or in *pixels*. Use `thickness` to set the value."},thickness:{valType:"number",role:"style",min:0,dflt:30,description:"Sets the thickness of the color bar This measure excludes the size of the padding, ticks and labels."},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:"Determines whether this color bar's length (i.e. the measure in the color variation direction) is set in units of plot *fraction* or in *pixels. Use `len` to set the value."},
len:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the length of the color bar This measure excludes the padding of both ends. That is, the color bar length is this length minus the padding on both ends."},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:"Sets the x position of the color bar (in plot fraction)."},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:"Sets this color bar's horizontal position anchor. This anchor binds the `x` position to the *left*, *center* or *right* of the color bar."},
xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:"Sets the y position of the color bar (in plot fraction)."},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:"Sets this color bar's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the color bar."},ypad:{valType:"number",
role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:l.linecolor,outlinewidth:l.linewidth,bordercolor:l.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:"Sets the width (in px) or the border enclosing this color bar."},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:l.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,
ticks:g({},l.ticks,{dflt:""}),ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,showticklabels:l.showticklabels,tickfont:n({description:"Sets the color bar's tick label font"}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,showexponent:l.showexponent,title:{valType:"string",
role:"info",description:"Sets the title of the color bar."},titlefont:n({description:"Sets this color bar's title font."}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:"Determines the location of the colorbar title with respect to the color bar."}},"colorbars","from-root")},{"../../lib/extend":406,"../../plot_api/edit_types":443,"../../plots/cartesian/layout_attributes":470,"../../plots/font_attributes":485}],293:[function(b,p,l){p.exports={cn:{colorbar:"colorbar",
cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],294:[function(b,p,l){var n=b("../../lib"),g=b("../../plots/cartesian/tick_value_defaults"),k=b("../../plots/cartesian/tick_mark_defaults"),d=b("../../plots/cartesian/tick_label_defaults"),h=b("./attributes");p.exports=function(b,u,m){function e(d,a){return n.coerce(c,f,h,d,a)}var f=
u.colorbar={},c=b.colorbar||{};b=e("thicknessmode");e("thickness","fraction"===b?30/(m.width-m.margin.l-m.margin.r):30);b=e("lenmode");e("len","fraction"===b?1:m.height-m.margin.t-m.margin.b);e("x");e("xanchor");e("xpad");e("y");e("yanchor");e("ypad");n.noneOrAll(c,f,["x","y"]);e("outlinecolor");e("outlinewidth");e("bordercolor");e("borderwidth");e("bgcolor");g(c,f,e,"linear");b={outerTicks:!1,font:m.font};d(c,f,e,"linear",b);k(c,f,e,"linear",b);e("title",m._dfltTitle.colorbar);n.coerceFont(e,"titlefont",
m.font);e("titleside")}},{"../../lib":414,"../../plots/cartesian/tick_label_defaults":478,"../../plots/cartesian/tick_mark_defaults":479,"../../plots/cartesian/tick_value_defaults":480,"./attributes":292}],295:[function(b,p,l){var n=b("d3"),g=b("tinycolor2"),k=b("../../plots/plots"),d=b("../../registry"),h=b("../../plots/cartesian/axes"),e=b("../dragelement"),u=b("../../lib"),m=b("../../lib/extend").extendFlat,t=b("../../lib/setcursor"),f=b("../drawing"),c=b("../color"),q=b("../titles"),a=b("../../lib/svg_text_utils"),
r=b("../../constants/alignment").LINE_SPACING,v=b("../../plots/cartesian/axis_defaults"),x=b("../../plots/cartesian/position_defaults"),C=b("../../plots/cartesian/layout_attributes"),A=b("./attributes"),D=b("./constants").cn;p.exports=function(b,l){function p(){function B(a,c){return u.coerce(ka,Y,C,a,c)}function E(a,c){var e=y();var f=d.traceIs(e,"markerColorscale")?"marker.colorbar.title":"colorbar.title";e={propContainer:Y,propName:f,traceIndex:e.index,placeholder:A._dfltTitle.colorbar,containerGroup:ca.select(".cbtitle")};
f="h"===a.charAt(0)?a.substr(1):"h"+a;ca.selectAll("."+f+",."+f+"-math-group").remove();q.draw(b,a,m(e,c||{}))}var A=b._fullLayout,K=A._size;if("function"!==typeof w.fillcolor&&"function"!==typeof w.line.color)A._infolayer.selectAll("g."+l).remove();else{var H=n.extent(("function"===typeof w.fillcolor?w.fillcolor:w.line.color).domain()),L=[],z=[],M="function"===typeof w.line.color?w.line.color:function(){return w.line.color},F="function"===typeof w.fillcolor?w.fillcolor:function(){return w.fillcolor},
Q,P=w.levels.end+w.levels.size/100,U=w.levels.size,aa=1.001*H[0]-.001*H[1],W=1.001*H[1]-.001*H[0];for(Q=0;1E5>Q;Q++){var R=w.levels.start+Q*U;if(0<U?R>=P:R<=P)break;R>aa&&R<W&&L.push(R)}if("function"===typeof w.fillcolor)if(w.filllevels)for(P=w.filllevels.end+w.filllevels.size/100,U=w.filllevels.size,Q=0;1E5>Q;Q++){R=w.filllevels.start+Q*U;if(0<U?R>=P:R<=P)break;R>H[0]&&R<H[1]&&z.push(R)}else z=L.map(function(a){return a-w.levels.size/2}),z.push(z[z.length-1]+w.levels.size);else w.fillcolor&&"string"===
typeof w.fillcolor&&(z=[0]);0>w.levels.size&&(L.reverse(),z.reverse());R=A.height-A.margin.t-A.margin.b;Q=A.width-A.margin.l-A.margin.r;var T=Math.round(w.thickness*("fraction"===w.thicknessmode?Q:1)),ea=T/K.w;P=Math.round(w.len*("fraction"===w.lenmode?R:1));var S=P/K.h;R=w.xpad/K.w;var V=(w.borderwidth+w.outlinewidth)/2;Q=w.ypad/K.h;var ba=Math.round(w.x*K.w+w.xpad),ja=w.x-ea*({middle:.5,right:1}[w.xanchor]||0),X=w.y+S*(({top:-.5,bottom:.5}[w.yanchor]||0)-.5),na=Math.round(K.h*(1-X)),oa=na-P,Aa,
ka={type:"linear",range:H,tickmode:w.tickmode,nticks:w.nticks,tick0:w.tick0,dtick:w.dtick,tickvals:w.tickvals,ticktext:w.ticktext,ticks:w.ticks,ticklen:w.ticklen,tickwidth:w.tickwidth,tickcolor:w.tickcolor,showticklabels:w.showticklabels,tickfont:w.tickfont,tickangle:w.tickangle,tickformat:w.tickformat,exponentformat:w.exponentformat,separatethousands:w.separatethousands,showexponent:w.showexponent,showtickprefix:w.showtickprefix,tickprefix:w.tickprefix,showticksuffix:w.showticksuffix,ticksuffix:w.ticksuffix,
title:w.title,titlefont:w.titlefont,showline:!0,anchor:"free",position:1},Y={type:"linear",_id:"y"+l};P={letter:"y",font:A.font,noHover:!0,calendar:A.calendar};v(ka,Y,B,P,A);x(ka,Y,B,P);Y.position=w.x+R+ea;p.axis=Y;-1!==["top","bottom"].indexOf(w.titleside)&&(Y.titleside=w.titleside,Y.titlex=w.x+R,Y.titley=X+("top"===w.titleside?S-Q:Q));w.line.color&&"auto"===w.tickmode&&(Y.tickmode="linear",Y.tick0=w.levels.start,P=w.levels.size,U=u.constrain((na-oa)/50,4,15)+1,U=(H[1]-H[0])/((w.nticks||U)*P),1<
U&&(aa=Math.pow(10,Math.floor(Math.log(U)/Math.LN10)),P*=aa*u.roundUp(U/aa,[2,5,10]),2E-6>(Math.abs(w.levels.start)/w.levels.size+1E-6)%1&&(Y.tick0=0)),Y.dtick=P);Y.domain=[X+Q,X+S-Q];Y.setScale();var ca=A._infolayer.selectAll("g."+l).data([0]);ca.enter().append("g").classed(l,!0).classed(D.colorbar,!0).each(function(){var a=n.select(this);a.append("rect").classed(D.cbbg,!0);a.append("g").classed(D.cbfills,!0);a.append("g").classed(D.cblines,!0);a.append("g").classed(D.cbaxis,!0).classed(D.crisp,
!0);a.append("g").classed(D.cbtitleunshift,!0).append("g").classed(D.cbtitle,!0);a.append("rect").classed(D.cboutline,!0);a.select(".cbtitle").datum(0)});ca.attr("transform","translate("+Math.round(K.l)+","+Math.round(K.t)+")");var la=ca.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(K.l)+",-"+Math.round(K.t)+")");Y._axislayer=ca.select(".cbaxis");var sa=0;-1!==["top","bottom"].indexOf(w.titleside)&&(P=Y.titlefont.size,E(Y._id+"title",{attributes:{x:K.l+(w.x+R)*K.w,y:"top"===
w.titleside?(1-(X+S-Q))*K.h+K.t+3+.75*P:(1-(X+Q))*K.h+K.t-3-.25*P,"text-anchor":"start"}}));(R=u.syncOrAsync([k.previousPromises,function(){if(-1!==["top","bottom"].indexOf(w.titleside)){var c=ca.select(".cbtitle"),d=c.select("text"),e=[-w.outlinewidth/2,w.outlinewidth/2],k=c.select(".h"+Y._id+"title-math-group").node(),m=15.6;d.node()&&(m=parseInt(d.node().style.fontSize,10)*r);k?(sa=f.bBox(k).height,sa>m&&(e[1]-=(sa-m)/2)):d.node()&&!d.classed(D.jsPlaceholder)&&(sa=f.bBox(d.node()).height);sa&&
(sa+=5,"top"===w.titleside?(Y.domain[1]-=sa/K.h,e[1]*=-1):(Y.domain[0]+=sa/K.h,d=a.lineCount(d),e[1]+=(1-d)*m),c.attr("transform","translate("+e+")"),Y.setScale())}ca.selectAll(".cbfills,.cblines").attr("transform","translate(0,"+Math.round(K.h*(1-Y.domain[1]))+")");Y._axislayer.attr("transform","translate(0,"+Math.round(-K.t)+")");c=ca.select(".cbfills").selectAll("rect.cbfill").data(z);c.enter().append("rect").classed(D.cbfill,!0).style("stroke","none");c.exit().remove();c.each(function(a,c){var d=
[0===c?H[0]:(z[c]+z[c-1])/2,c===z.length-1?H[1]:(z[c]+z[c+1])/2].map(Y.c2p).map(Math.round);c!==z.length-1&&(d[1]+=d[1]>d[0]?1:-1);a=F(a).replace("e-","");a=g(a).toHexString();n.select(this).attr({x:ba,width:Math.max(T,2),y:n.min(d),height:Math.max(n.max(d)-n.min(d),2),fill:a})});c=ca.select(".cblines").selectAll("path.cbline").data(w.line.color&&w.line.width?L:[]);c.enter().append("path").classed(D.cbline,!0);c.exit().remove();c.each(function(a){n.select(this).attr("d","M"+ba+","+(Math.round(Y.c2p(a))+
w.line.width/2%1)+"h"+T).call(f.lineGroupStyle,w.line.width,M(a),w.line.dash)});Y._axislayer.selectAll("g."+Y._id+"tick,path").remove();Y._pos=ba+T+(w.outlinewidth||0)/2-("outside"===w.ticks?1:0);Y.side="right";return u.syncOrAsync([function(){return h.doTicks(b,Y,!0)},function(){if(-1===["top","bottom"].indexOf(w.titleside)){var a=Y.titlefont.size,c=Y._offset+Y._length/2;a=K.l+(Y.position||0)*K.w+("right"===Y.side?10+a*(Y.showticklabels?1:.5):-10-a*(Y.showticklabels?.5:0));E("h"+Y._id+"title",{avoid:{selection:n.select(b).selectAll("g."+
Y._id+"tick"),side:w.titleside,offsetLeft:K.l,offsetTop:0,maxShift:A.width},attributes:{x:a,y:c,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])},k.previousPromises,function(){var a=T+w.outlinewidth/2+f.bBox(Y._axislayer.node()).width;Aa=la.select("text");if(Aa.node()&&!Aa.classed(D.jsPlaceholder)){var d=la.select(".h"+Y._id+"title-math-group").node();d=d&&-1!==["top","bottom"].indexOf(w.titleside)?f.bBox(d).width:f.bBox(la.node()).right-ba-K.l;a=Math.max(a,d)}a=2*w.xpad+a+w.borderwidth+
w.outlinewidth/2;d=na-oa;ca.select(".cbbg").attr({x:ba-w.xpad-(w.borderwidth+w.outlinewidth)/2,y:oa-V,width:Math.max(a,2),height:Math.max(d+2*V,2)}).call(c.fill,w.bgcolor).call(c.stroke,w.bordercolor).style({"stroke-width":w.borderwidth});ca.selectAll(".cboutline").attr({x:ba,y:oa+w.ypad+("top"===w.titleside?sa:0),width:Math.max(T,2),height:Math.max(d-2*w.ypad-sa,2)}).call(c.stroke,w.outlinecolor).style({fill:"None","stroke-width":w.outlinewidth});ca.attr("transform","translate("+(K.l-({center:.5,
right:1}[w.xanchor]||0)*a)+","+K.t+")");k.autoMargin(b,l,{x:w.x,y:w.y,l:a*({right:1,center:.5}[w.xanchor]||0),r:a*({left:1,center:.5}[w.xanchor]||0),t:d*({bottom:1,middle:.5}[w.yanchor]||0),b:d*({top:1,middle:.5}[w.yanchor]||0)})}],b))&&R.then&&(b._promises||[]).push(R);if(b._context.edits.colorbarPosition){var da,pa,ya;e.init({element:ca.node(),gd:b,prepFn:function(){da=ca.attr("transform");t(ca)},moveFn:function(a,c){ca.attr("transform",da+" translate("+a+","+c+")");pa=e.align(ja+a/K.w,ea,0,1,w.xanchor);
ya=e.align(X-c/K.h,S,0,1,w.yanchor);a=e.getCursor(pa,ya,w.xanchor,w.yanchor);t(ca,a)},doneFn:function(){t(ca);void 0!==pa&&void 0!==ya&&d.call("restyle",b,{"colorbar.x":pa,"colorbar.y":ya},y().index)}})}return R}}function y(){var a=l.substr(2),c;for(c=0;c<b._fullData.length;c++){var d=b._fullData[c];if(d.uid===a)return d}}var w={};Object.keys(A).forEach(function(a){w[a]=null});w.fillcolor=null;w.line={color:null,width:null,dash:null};w.levels={start:null,end:null,size:null};w.filllevels=null;Object.keys(w).forEach(function(a){p[a]=
function(c){if(!arguments.length)return w[a];w[a]=u.isPlainObject(w[a])?u.extendFlat(w[a],c):c;return p}});p.options=function(a){Object.keys(a).forEach(function(c){if("function"===typeof p[c])p[c](a[c])});return p};p._opts=w;return p}},{"../../constants/alignment":391,"../../lib":414,"../../lib/extend":406,"../../lib/setcursor":433,"../../lib/svg_text_utils":437,"../../plots/cartesian/axes":458,"../../plots/cartesian/axis_defaults":460,"../../plots/cartesian/layout_attributes":470,"../../plots/cartesian/position_defaults":474,
"../../plots/plots":502,"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"../titles":384,"./attributes":292,"./constants":293,d3:86,tinycolor2:256}],296:[function(b,p,l){var n=b("../../lib");p.exports=function(b){return n.isPlainObject(b.colorbar)}},{"../../lib":414}],297:[function(b,p,l){p.exports={zauto:{valType:"boolean",role:"info",dflt:!0,editType:"calc",impliedEdits:{zmin:void 0,zmax:void 0},description:"Determines the whether or not the color domain is computed with respect to the input data."},
zmin:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",editType:"calc",impliedEdits:{autocolorscale:!1},description:"Sets the colorscale. The colorscale must be an array containing arrays mapping a normalized value to an rgb, rgba, hex, hsl, hsv, or named color string. At minimum, a mapping for the lowest (0) and highest (1) values are required. For example, `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`. To control the bounds of the colorscale in z space, use zmin and zmax"},
autocolorscale:{valType:"boolean",role:"style",dflt:!0,editType:"calc",impliedEdits:{colorscale:void 0},description:"Determines whether or not the colorscale is picked using the sign of the input z values."},reversescale:{valType:"boolean",role:"style",dflt:!1,editType:"calc",description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,editType:"calc",description:"Determines whether or not a colorbar is displayed for this trace."}}},{}],298:[function(b,p,l){var n=b("../../lib"),
g=b("./scales"),k=b("./flip_scale");p.exports=function(d,b,e,u){if(e){var h=n.nestedProperty(d,e).get();d=n.nestedProperty(d._input,e).get()}else h=d,d=d._input;e=u+"auto";var t=u+"min";u+="max";var f=h[e],c=h[t],q=h[u];if(!1!==f||void 0===c)c=n.aggNums(Math.min,null,b);if(!1!==f||void 0===q)q=n.aggNums(Math.max,null,b);c===q&&(c-=.5,q+=.5);h[t]=c;h[u]=q;d[t]=c;d[u]=q;d[e]=!1!==f||void 0===c&&void 0===q;h.autocolorscale&&(b=0>c*q?g.RdBu:0<=c?g.Reds:g.Blues,d.colorscale=b,h.reversescale&&(b=k(b)),
h.colorscale=b)}},{"../../lib":414,"./flip_scale":303,"./scales":310}],299:[function(b,p,l){var n=b("./attributes"),g=b("../../lib/extend").extendFlat,k=b("./scales.js");p.exports=function(d,b,e){var h=d?d+".":"";return{color:{valType:"color",arrayOk:!0,role:"style",editType:b||"style",description:["Sets the",d,"color. It accepts either a specific color or an array of numbers that are mapped to the colorscale relative to the max and min values of the array or relative to `cmin` and `cmax` if set."].join(" ")},
colorscale:g({},n.colorscale,{description:["Sets the colorscale and only has an effect","if `"+h+"color` is set to a numerical array.","The colorscale must be an array containing arrays mapping a normalized value to an rgb, rgba, hex, hsl, hsv, or named color string. At minimum, a mapping for the lowest (0) and highest (1) values are required. For example, `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`. To control the bounds of the colorscale in color space,","use `"+h+"cmin` and `"+h+"cmax`.","Alternatively, `colorscale` may be a palette name string of the following list:",
Object.keys(k).join(", ")].join(" ")}),cauto:g({},n.zauto,{impliedEdits:{cmin:void 0,cmax:void 0},description:["Has an effect only if `"+h+"color` is set to a numerical array","and `cmin`, `cmax` are set by the user. In this case, it controls whether the range of colors in `colorscale` is mapped to the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax` values (`cauto: false`). Defaults to `false` when `cmin`, `cmax` are set by the user."].join(" ")}),cmax:g({},n.zmax,{editType:b||
n.zmax.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+h+"color` is set to a numerical array.","Sets the upper bound of the color domain.","Value should be associated to the `"+h+"color` array index,","and if set, `"+h+"cmin` must be set as well."].join(" ")}),cmin:g({},n.zmin,{editType:b||n.zmin.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+h+"color` is set to a numerical array.","Sets the lower bound of the color domain.","Value should be associated to the `"+
h+"color` array index,","and if set, `"+h+"cmax` must be set as well."].join(" ")}),autocolorscale:g({},n.autocolorscale,{description:["Has an effect only if `"+h+"color` is set to a numerical array.","Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by `"+h+"colorscale`.","In case `colorscale` is unspecified or `autocolorscale` is true, the default  palette will be chosen according to whether numbers in the `color` array are all positive, all negative or mixed."].join(" "),
dflt:!1===e?e:n.autocolorscale.dflt}),reversescale:g({},n.reversescale,{description:["Has an effect only if `"+h+"color` is set to a numerical array.","Reverses the color mapping if true (`cmin` will correspond to the last color in the array and `cmax` will correspond to the first color)."].join(" ")})}}},{"../../lib/extend":406,"./attributes":297,"./scales.js":310}],300:[function(b,p,l){b=b("./scales");p.exports=b.RdBu},{"./scales":310}],301:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),
k=b("../colorbar/has_colorbar"),d=b("../colorbar/defaults"),h=b("./is_valid_scale"),e=b("./flip_scale");p.exports=function(b,m,t,f,c){var q=c.prefix;c=c.cLetter;var a=q.slice(0,q.length-1);b=q?g.nestedProperty(b,a).get()||{}:b;m=q?g.nestedProperty(m,a).get()||{}:m;var r=b[c+"min"],u=b[c+"max"];a=b.colorscale;r=n(r)&&n(u)&&r<u;f(q+c+"auto",!r);f(q+c+"min");f(q+c+"max");var l;void 0!==a&&(l=!h(a));f(q+"autocolorscale",l);l=f(q+"colorscale");f(q+"reversescale")&&(m.colorscale=e(l));if("marker.line."!==
q){var p;q&&(p=k(b));f(q+"showscale",p)&&d(b,m,t)}}},{"../../lib":414,"../colorbar/defaults":294,"../colorbar/has_colorbar":296,"./flip_scale":303,"./is_valid_scale":307,"fast-isnumeric":95}],302:[function(b,p,l){p.exports=function(b,g,k){for(var d=b.length,h=Array(d),e=Array(d),n=0;n<d;n++){var m=b[n];h[n]=g+m[0]*(k-g);e[n]=m[1]}return{domain:h,range:e}}},{}],303:[function(b,p,l){p.exports=function(b){for(var g=b.length,k=Array(g),d=g-1,h=0;0<=d;d--,h++)g=b[d],k[h]=[1-g[0],g[1]];return k}},{}],304:[function(b,
p,l){var n=b("./scales"),g=b("./default_scale"),k=b("./is_valid_scale_array");p.exports=function(d,b){function e(){try{d=n[d]||JSON.parse(d)}catch(u){d=b}}b||(b=g);if(!d)return b;"string"===typeof d&&(e(),"string"===typeof d&&e());return k(d)?d:b}},{"./default_scale":300,"./is_valid_scale_array":308,"./scales":310}],305:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),k=b("./is_valid_scale");p.exports=function(d,b){d=b?g.nestedProperty(d,b).get()||{}:d;b=d.color;var e=!1;if(g.isArrayOrTypedArray(b))for(var h=
0;h<b.length;h++)if(n(b[h])){e=!0;break}return g.isPlainObject(d)&&(e||!0===d.showscale||n(d.cmin)&&n(d.cmax)||k(d.colorscale)||g.isPlainObject(d.colorbar))}},{"../../lib":414,"./is_valid_scale":307,"fast-isnumeric":95}],306:[function(b,p,l){l.scales=b("./scales");l.defaultScale=b("./default_scale");l.attributes=b("./attributes");l.handleDefaults=b("./defaults");l.calc=b("./calc");l.hasColorscale=b("./has_colorscale");l.isValidScale=b("./is_valid_scale");l.getScale=b("./get_scale");l.flipScale=b("./flip_scale");
l.extractScale=b("./extract_scale");l.makeColorScaleFunc=b("./make_color_scale_func")},{"./attributes":297,"./calc":298,"./default_scale":300,"./defaults":301,"./extract_scale":302,"./flip_scale":303,"./get_scale":304,"./has_colorscale":305,"./is_valid_scale":307,"./make_color_scale_func":309,"./scales":310}],307:[function(b,p,l){var n=b("./scales"),g=b("./is_valid_scale_array");p.exports=function(b){return void 0!==n[b]?!0:g(b)}},{"./is_valid_scale_array":308,"./scales":310}],308:[function(b,p,l){var n=
b("tinycolor2");p.exports=function(b){var g=0;if(!Array.isArray(b)||2>b.length||!b[0]||!b[b.length-1]||0!==+b[0][0]||1!==+b[b.length-1][0])return!1;for(var d=0;d<b.length;d++){var h=b[d];if(2!==h.length||+h[0]<g||!n(h[1]).isValid())return!1;g=+h[0]}return!0}},{tinycolor2:256}],309:[function(b,p,l){function n(d){return k({r:d[0],g:d[1],b:d[2],a:d[3]}).toRgbString()}var g=b("d3"),k=b("tinycolor2"),d=b("fast-isnumeric"),h=b("../color");p.exports=function(b,u){u=u||{};var e=b.domain,t=b.range;b=t.length;
for(var f=Array(b),c=0;c<b;c++){var q=k(t[c]).toRgb();f[c]=[q.r,q.g,q.b,q.a]}var a=g.scale.linear().domain(e).range(f).clamp(!0);e=u.noNumericCheck;u=u.returnArray;u=e&&u?a:e?function(c){return n(a(c))}:u?function(c){return d(c)?a(c):k(c).isValid()?c:h.defaultLine}:function(c){return d(c)?n(a(c)):k(c).isValid()?c:h.defaultLine};u.domain=a.domain;u.range=function(){return t};return u}},{"../color":291,d3:86,"fast-isnumeric":95,tinycolor2:256}],310:[function(b,p,l){p.exports={Greys:[[0,"rgb(0,0,0)"],
[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,
"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],
[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,
"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],
[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],
[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],
[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]}},{}],311:[function(b,p,l){p.exports=function(b,g,k,d,h){b=(b-k)/(d-k);g=b+g/(d-k);k=(b+g)/2;return"left"===h||"bottom"===h?b:"center"===h||"middle"===h?k:"right"===h||"top"===h?g:b<2/3-k?b:
g>4/3-k?g:k}},{}],312:[function(b,p,l){var n=b("../../lib"),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];p.exports=function(b,d,h,e){b="left"===h?0:"center"===h?1:"right"===h?2:n.constrain(Math.floor(3*b),0,2);d="bottom"===e?0:"middle"===e?1:"top"===e?2:n.constrain(Math.floor(3*d),0,2);return g[d][b]}},{"../../lib":414}],313:[function(b,p,l){function n(){var c=document.createElement("div");c.className="dragcover";var d=c.style;d.position=
"fixed";d.left=0;d.right=0;d.top=0;d.bottom=0;d.zIndex=999999999;d.background="none";document.body.appendChild(c);return c}function g(c){return k(c.changedTouches?c.changedTouches[0]:c,document.body)}var k=b("mouse-event-offset"),d=b("has-hover"),h=b("has-passive-events"),e=b("../../registry"),u=b("../../lib"),m=b("../../plots/cartesian/constants"),t=b("../../constants/interactions"),f=p.exports={};f.align=b("./align");f.getCursor=b("./cursor");b=b("./unhover");f.unhover=b.wrapped;f.unhoverRaw=b.raw;
f.init=function(c){function b(a,c,d){Math.abs(a)<d&&(a=0);Math.abs(c)<d&&(c=0);return[a,c]}function a(a){a.preventDefault();p._dragged=!1;p._dragging=!0;var b=g(a);z=b[0];F=b[1];E=a.target;G=a;J=2===a.buttons||a.ctrlKey;B=(new Date).getTime();B-p._mouseDownTime<A?C+=1:(C=1,p._mouseDownTime=B);c.prepFn&&c.prepFn(a,z,F);d&&!J?(w=n(),w.style.cursor=window.getComputedStyle(D).cursor):d||(w=document,y=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(D).cursor);
document.addEventListener("mousemove",k);document.addEventListener("mouseup",l);document.addEventListener("touchmove",k);document.addEventListener("touchend",l)}function k(a){a.preventDefault();a=g(a);var d=K(a[0]-z,a[1]-F,c.minDrag||m.MINDRAG);a=d[0];d=d[1];if(a||d)p._dragged=!0,f.unhover(p);p._dragged&&c.moveFn&&!J&&c.moveFn(a,d)}function l(a){document.removeEventListener("mousemove",k);document.removeEventListener("mouseup",l);document.removeEventListener("touchmove",k);document.removeEventListener("touchend",
l);a.preventDefault();d?u.removeElement(w):y&&(w.documentElement.style.cursor=y,y=null);if(p._dragging){p._dragging=!1;(new Date).getTime()-p._mouseDownTime>A&&(C=Math.max(C-1,1));if(p._dragged)c.doneFn&&c.doneFn(a);else if(c.clickFn&&c.clickFn(C,G),!J){try{var b=new MouseEvent("click",a)}catch(M){var f=g(a);b=document.createEvent("MouseEvents");b.initMouseEvent("click",a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,f[0],f[1],a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}E.dispatchEvent(b)}a=
p;a._dragging=!1;a._replotPending&&e.call("plot",a)}p._dragged=!1}var p=c.gd,C=1,A=t.DBLCLICKDELAY,D=c.element,z,F,B,y,w,G,E,J;p._mouseDownTime||(p._mouseDownTime=0);D.style.pointerEvents="all";D.onmousedown=a;h?(D._ontouchstart&&D.removeEventListener("touchstart",D._ontouchstart),D._ontouchstart=a,D.addEventListener("touchstart",a,{passive:!1})):D.ontouchstart=a;var K=c.clampFn||b};f.coverSlip=n},{"../../constants/interactions":394,"../../lib":414,"../../plots/cartesian/constants":463,"../../registry":517,
"./align":311,"./cursor":312,"./unhover":314,"has-hover":174,"has-passive-events":175,"mouse-event-offset":193}],314:[function(b,p,l){var n=b("../../lib/events"),g=b("../../lib/throttle"),k=b("../../lib/get_graph_div"),d=b("../fx/constants"),h=p.exports={};h.wrapped=function(b,n,m){b=k(b);b._fullLayout&&g.clear(b._fullLayout._uid+d.HOVERID);h.raw(b,n,m)};h.raw=function(d,b){var e=d._fullLayout,g=d._hoverdata;b||(b={});b.target&&!1===n.triggerHandler(d,"plotly_beforehover",b)||(e._hoverlayer.selectAll("g").remove(),
e._hoverlayer.selectAll("line").remove(),e._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,b.target&&g&&d.emit("plotly_unhover",{event:b,points:g}))}},{"../../lib/events":405,"../../lib/get_graph_div":410,"../../lib/throttle":438,"../fx/constants":328}],315:[function(b,p,l){l.dash={valType:"string",values:"solid dot dash longdash dashdot longdashdot".split(" "),dflt:"solid",role:"style",editType:"style",description:"Sets the dash style of lines. Set to a dash type string (*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*) or a dash length list in px (eg *5px,10px,2px,2px*)."}},
{}],316:[function(b,p,l){function n(a,c){return z.symbolFuncs[a%100](c)+(200<=a?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}function g(d,b,e,g,h,k,m,q){if(f.traceIs(e,"symbols")){var r=D(e);b.attr("d",function(a){var c="various"===a.ms||"various"===k.size?3:A.isBubble(e)?r(a.ms):(k.size||6)/2;a.mrc=c;var d=z.symbolNumber(a.mx||k.symbol)||0;a.om=100<=d%200;return n(d,c)})}b.style("opacity",function(a){return(a.mo+1||k.opacity+1)-1});var t=!1;if(d.so){var l=m.outlierwidth;m=m.outliercolor;h=k.outliercolor}else l=
(d.mlw+1||m.width+1||(d.trace?d.trace.marker.line.width:0)+1)-1,m="mlc"in d?d.mlcc=h(d.mlc):a.isArrayOrTypedArray(m.color)?c.defaultLine:m.color,a.isArrayOrTypedArray(k.color)&&(h=c.defaultLine,t=!0),h="mc"in d?d.mcc=g(d.mc):k.color||"rgba(0,0,0,0)";if(d.om)b.call(c.stroke,h).style({"stroke-width":(l||1)+"px",fill:"none"});else{b.style("stroke-width",l+"px");var u=k.gradient;(g=d.mgt)?t=!0:g=u&&u.type;if(g&&"none"!==g){var p=d.mgc;p?t=!0:p=u.color;u="g"+q._fullLayout._uid+"-"+e.uid;t&&(u+="-"+d.i);
b.call(z.gradient,q,u,g,h,p)}else b.call(c.fill,h);l&&b.call(c.stroke,m)}}function k(a,c,d,b){var e=u.select(a.node().parentNode),f=-1!==c.indexOf("top")?"top":-1!==c.indexOf("bottom")?"bottom":"middle";c=-1!==c.indexOf("left")?"end":-1!==c.indexOf("right")?"start":"middle";var g=b?b/.8+1:0,h=(r.lineCount(a)-1)*x+1;b=G[c]*g;d=.75*d+G[f]*g+(G[f]-1)*h*d/2;a.attr("text-anchor",c);e.attr("transform","translate("+b+","+d+")")}function d(a,c){a=a.ts||c.textfont.size;return m(a)&&0<a?a:0}function h(a,c,
d,b){var e=a[0]-c[0],f=a[1]-c[1],g=d[0]-c[0],h=d[1]-c[1];d=Math.pow(e*e+f*f,.25);a=Math.pow(g*g+h*h,.25);e=(a*a*e-d*d*g)*b;b*=a*a*f-d*d*h;f=3*a*(d+a);d=3*d*(d+a);return[[u.round(c[0]+(f&&e/f),2),u.round(c[1]+(f&&b/f),2)],[u.round(c[0]-(d&&e/d),2),u.round(c[1]-(d&&b/d),2)]]}function e(a){var c=a.getAttribute("data-unformatted");if(null!==c)return c+a.getAttribute("data-math")+a.getAttribute("text-anchor")+a.getAttribute("style")}var u=b("d3"),m=b("fast-isnumeric"),t=b("tinycolor2"),f=b("../../registry"),
c=b("../color"),q=b("../colorscale"),a=b("../../lib"),r=b("../../lib/svg_text_utils"),v=b("../../constants/xmlns_namespaces"),x=b("../../constants/alignment").LINE_SPACING,C=b("../../constants/interactions").DESELECTDIM,A=b("../../traces/scatter/subtypes"),D=b("../../traces/scatter/make_bubble_size_func"),z=p.exports={};z.font=function(d,b,e,f){a.isPlainObject(b)&&(f=b.color,e=b.size,b=b.family);b&&d.style("font-family",b);e+1&&d.style("font-size",e+"px");f&&d.call(c.fill,f)};z.setPosition=function(a,
c,d){a.attr("x",c).attr("y",d)};z.setSize=function(a,c,d){a.attr("width",c).attr("height",d)};z.setRect=function(a,c,d,b,e){a.call(z.setPosition,c,d).call(z.setSize,b,e)};z.translatePoint=function(a,c,d,b){d=d.c2p(a.x);a=b.c2p(a.y);if(m(d)&&m(a)&&c.node())"text"===c.node().nodeName?c.attr("x",d).attr("y",a):c.attr("transform","translate("+d+","+a+")");else return!1;return!0};z.translatePoints=function(a,c,d){a.each(function(a){var b=u.select(this);z.translatePoint(a,b,c,d)})};z.hideOutsideRangePoint=
function(a,c,d,b,e,f){c.attr("display",d.isPtWithinRange(a,e)&&b.isPtWithinRange(a,f)?null:"none")};z.hideOutsideRangePoints=function(a,c,d){if(c._hasClipOnAxisFalse){d=d||".point,.textpoint";var b=c.xaxis,e=c.yaxis;a.each(function(c){c=c[0].trace;var f=c.xcalendar,g=c.ycalendar;a.selectAll(d).each(function(a){z.hideOutsideRangePoint(a,u.select(this),b,e,f,g)})})}};z.crispRound=function(a,c,d){return c&&m(c)?a._context.staticPlot?c:1>c?1:Math.round(c):d||0};z.singleLineStyle=function(a,d,b,e,f){d.style("fill",
"none");a=(((a||[])[0]||{}).trace||{}).line||{};b=b||a.width||0;f=f||a.dash||"";c.stroke(d,e||a.color);z.dashLine(d,f,b)};z.lineGroupStyle=function(a,d,b,e){a.style("fill","none").each(function(a){a=(((a||[])[0]||{}).trace||{}).line||{};var f=d||a.width||0,g=e||a.dash||"";u.select(this).call(c.stroke,b||a.color).call(z.dashLine,g,f)})};z.dashLine=function(a,c,d){d=+d||0;c=z.dashStyle(c,d);a.style({"stroke-dasharray":c,"stroke-width":d+"px"})};z.dashStyle=function(a,c){c=Math.max(+c||1,3);"solid"===
a?a="":"dot"===a?a=c+"px,"+c+"px":"dash"===a?a=3*c+"px,"+3*c+"px":"longdash"===a?a=5*c+"px,"+5*c+"px":"dashdot"===a?a=3*c+"px,"+c+"px,"+c+"px,"+c+"px":"longdashdot"===a&&(a=5*c+"px,"+2*c+"px,"+c+"px,"+2*c+"px");return a};z.singleFillStyle=function(a){var d=(((u.select(a.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;d&&a.call(c.fill,d)};z.fillGroupStyle=function(d){d.style("stroke-width",0).each(function(b){var e=u.select(this);try{e.call(c.fill,b[0].trace.fillcolor)}catch(Z){a.error(Z,d),e.remove()}})};
var F=b("./symbol_defs");z.symbolNames=[];z.symbolFuncs=[];z.symbolNeedLines={};z.symbolNoDot={};z.symbolNoFill={};z.symbolList=[];Object.keys(F).forEach(function(a){var c=F[a];z.symbolList=z.symbolList.concat([c.n,a,c.n+100,a+"-open"]);z.symbolNames[c.n]=a;z.symbolFuncs[c.n]=c.f;c.needLine&&(z.symbolNeedLines[c.n]=!0);c.noDot?z.symbolNoDot[c.n]=!0:z.symbolList=z.symbolList.concat([c.n+200,a+"-dot",c.n+300,a+"-open-dot"]);c.noFill&&(z.symbolNoFill[c.n]=!0)});var B=z.symbolNames.length;z.symbolNumber=
function(a){if("string"===typeof a){var c=0;0<a.indexOf("-open")&&(c=100,a=a.replace("-open",""));0<a.indexOf("-dot")&&(c+=200,a=a.replace("-dot",""));a=z.symbolNames.indexOf(a);0<=a&&(a+=c)}return a%100>=B||400<=a?0:Math.floor(Math.max(a,0))};var y={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0};z.gradient=function(d,b,e,f,g,h){b=b._fullLayout._defs.select(".gradients").selectAll("#"+e).data([f+g+h],a.identity);b.exit().remove();b.enter().append("radial"===f?"radialGradient":"linearGradient").each(function(){var a=
u.select(this);"horizontal"===f?a.attr(y):"vertical"===f&&a.attr(w);a.attr("id",e);var d=t(g),b=t(h);a.append("stop").attr({offset:"0%","stop-color":c.tinyRGB(b),"stop-opacity":b.getAlpha()});a.append("stop").attr({offset:"100%","stop-color":c.tinyRGB(d),"stop-opacity":d.getAlpha()})});d.style({fill:"url(#"+e+")","fill-opacity":null})};z.initGradients=function(a){a=a._fullLayout._defs.selectAll(".gradients").data([0]);a.enter().append("g").classed("gradients",!0);a.selectAll("linearGradient,radialGradient").remove()};
z.singlePointStyle=function(a,c,d,b,e,f){var h=d.marker;g(a,c,d,b,e,h,h.line,f)};z.pointStyle=function(a,c,d){if(a.size()){var b=c.marker,e=z.tryColorscale(b,""),f=z.tryColorscale(b,"line");a.each(function(a){z.singlePointStyle(a,u.select(this),c,e,f,d)})}};z.makeSelectedPointStyleFns=function(a){var c={},d=(a.selected||{}).marker||{},b=(a.unselected||{}).marker||{},e=(a.marker||{}).opacity,f=d.opacity,g=b.opacity,h=void 0!==f,k=void 0!==g;c.opacityFn=function(a){var c=a.mo,d=void 0!==c;if(d||h||
k)if(a.selected){if(h)return f}else return k?g:C*(d?c:e)};var m=d.color,q=b.color;if(m||q)c.colorFn=function(a){if(a.selected){if(m)return m}else if(q)return q};var r=d.size,t=b.size,n=void 0!==r,l=void 0!==t;if(n||l)c.sizeFn=function(a){var c=a.mrc;return a.selected?n?r/2:c:l?t/2:c};return c};z.selectedPointStyle=function(a,d){if(a.size()&&d.selectedpoints){var b=z.makeSelectedPointStyleFns(d),e=d.marker||{};a.each(function(a){var c=u.select(this);a=b.opacityFn(a);void 0!==a&&c.style("opacity",a)});
b.colorFn&&a.each(function(a){var d=u.select(this);(a=b.colorFn(a))&&c.fill(d,a)});f.traceIs(d,"symbols")&&b.sizeFn&&a.each(function(a){var c=u.select(this),d=a.mx||e.symbol||0,f=b.sizeFn(a);c.attr("d",n(z.symbolNumber(d),f));a.mrc2=f})}};z.tryColorscale=function(c,d){c=d?a.nestedProperty(c,d).get():c;d=c.colorscale;var b=c.color;return d&&a.isArrayOrTypedArray(b)?q.makeColorScaleFunc(q.extractScale(d,c.cmin,c.cmax)):a.identity};var G={start:1,end:-1,middle:0,bottom:1,top:-1};z.textPointStyle=function(c,
b,e){c.each(function(c){var f=u.select(this),g=a.extractOption(c,b,"tx","text");if(g){var h=c.tp||b.textposition,m=d(c,b);f.call(z.font,c.tf||b.textfont.family,m,c.tc||b.textfont.color).text(g).call(r.convertToTspans,e).call(k,h,m,c.mrc)}else f.remove()})};z.selectedTextStyle=function(a,b){if(a.size()&&b.selectedpoints){var e=b.selected||{},f=b.unselected||{};a.each(function(a){var g=u.select(this),h=a.tc||b.textfont.color,m=a.tp||b.textposition,q=d(a,b),r=(e.textfont||{}).color,t=(f.textfont||{}).color,
n;a.selected?r&&(n=r):t?n=t:r||(n=c.addOpacity(h,C));n&&c.fill(g,n);k(g,m,q,a.mrc2||a.mrc)})}};z.smoothopen=function(a,c){if(3>a.length)return"M"+a.join("L");var d="M"+a[0],b=[],e;for(e=1;e<a.length-1;e++)b.push(h(a[e-1],a[e],a[e+1],c));d+="Q"+b[0][0]+" "+a[1];for(e=2;e<a.length-1;e++)d+="C"+b[e-2][1]+" "+b[e-1][0]+" "+a[e];return d+="Q"+b[a.length-3][1]+" "+a[a.length-1]};z.smoothclosed=function(a,c){if(3>a.length)return"M"+a.join("L")+"Z";var d="M"+a[0],b=a.length-1,e=[h(a[b],a[0],a[1],c)],f;for(f=
1;f<b;f++)e.push(h(a[f-1],a[f],a[f+1],c));e.push(h(a[b-1],a[b],a[0],c));for(f=1;f<=b;f++)d+="C"+e[f-1][1]+" "+e[f][0]+" "+a[f];return d+="C"+e[b][1]+" "+e[0][0]+" "+a[0]+"Z"};var E={hv:function(a,c){return"H"+u.round(c[0],2)+"V"+u.round(c[1],2)},vh:function(a,c){return"V"+u.round(c[1],2)+"H"+u.round(c[0],2)},hvh:function(a,c){return"H"+u.round((a[0]+c[0])/2,2)+"V"+u.round(c[1],2)+"H"+u.round(c[0],2)},vhv:function(a,c){return"V"+u.round((a[1]+c[1])/2,2)+"H"+u.round(c[0],2)+"V"+u.round(c[1],2)}},J=
function(a,c){return"L"+u.round(c[0],2)+","+u.round(c[1],2)};z.steps=function(a){var c=E[a]||J;return function(a){for(var d="M"+u.round(a[0][0],2)+","+u.round(a[0][1],2),b=1;b<a.length;b++)d+=c(a[b-1],a[b]);return d}};z.makeTester=function(){var a=u.select("body").selectAll("#js-plotly-tester").data([0]);a.enter().append("svg").attr("id","js-plotly-tester").attr(v.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var c=a.selectAll(".js-reference-point").data([0]);
c.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"});z.tester=a;z.testref=c};z.savedBBoxes={};var K=0;z.bBox=function(c,d,b){b||(b=e(c));var f;if(b){if(f=z.savedBBoxes[b])return a.extendFlat({},f)}else if(1===c.childNodes.length){var g=c.childNodes[0];if(b=e(g)){f=+g.getAttribute("x")||0;var h=+g.getAttribute("y")||0,k=g.getAttribute("transform");if(!k)return b=z.bBox(g,!1,b),f&&(b.left+=f,b.right+=f),h&&(b.top+=h,b.bottom+=h),b;
b+="~"+f+"~"+h+"~"+k;if(f=z.savedBBoxes[b])return a.extendFlat({},f)}}if(!d){var m=z.tester.node();c=c.cloneNode(!0);m.appendChild(c)}u.select(c).attr("transform",null).call(r.positionText,0,0);f=c.getBoundingClientRect();h=z.testref.node().getBoundingClientRect();d||m.removeChild(c);d={height:f.height,width:f.width,left:f.left-h.left,top:f.top-h.top,right:f.right-h.left,bottom:f.bottom-h.top};1E4<=K&&(z.savedBBoxes={},K=0);b&&(z.savedBBoxes[b]=d);K++;return a.extendFlat({},d)};z.setClipUrl=function(a,
c){if(c){c="#"+c;var d=u.select("base");d.size()&&d.attr("href")&&(c=window.location.href.split("#")[0]+c);a.attr("clip-path","url("+c+")")}else a.attr("clip-path",null)};z.getTranslate=function(a){a=(a[a.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(a,c,d){return[c,d].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}};z.setTranslate=function(a,c,d){var b=a.attr?"attr":"setAttribute",f=a[a.attr?"attr":"getAttribute"]("transform")||
"";c=c||0;d=d||0;f=f.replace(/(\btranslate\(.*?\);?)/,"").trim();f=(f+(" translate("+c+", "+d+")")).trim();a[b]("transform",f);return f};z.getScale=function(a){a=(a[a.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(a,c,d){return[c,d].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}};z.setScale=function(a,c,d){var b=a.attr?"attr":"setAttribute",f=a[a.attr?"attr":"getAttribute"]("transform")||"";c=c||1;d=d||1;f=f.replace(/(\bscale\(.*?\);?)/,
"").trim();f=(f+(" scale("+c+", "+d+")")).trim();a[b]("transform",f);return f};z.setPointGroupScale=function(a,c,d){var b;c=c||1;d=d||1;var f=1===c&&1===d?"":" scale("+c+","+d+")";var e=/\s*sc.*/;a.each(function(){b=(this.getAttribute("transform")||"").replace(e,"");b+=f;b=b.trim();this.setAttribute("transform",b)});return f};var H=/translate\([^)]*\)\s*$/;z.setTextPointsScale=function(a,c,d){a.each(function(){var a=u.select(this),b=a.select("text");if(b.node()){var f=parseFloat(b.attr("x")||0);var e=
parseFloat(b.attr("y")||0);b=(a.attr("transform")||"").match(H);f=1===c&&1===d?[]:["translate("+f+","+e+")","scale("+c+","+d+")","translate("+-f+","+-e+")"];b&&f.push(b);a.attr("transform",f.join(" "))}})}},{"../../constants/alignment":391,"../../constants/interactions":394,"../../constants/xmlns_namespaces":397,"../../lib":414,"../../lib/svg_text_utils":437,"../../registry":517,"../../traces/scatter/make_bubble_size_func":582,"../../traces/scatter/subtypes":587,"../color":291,"../colorscale":306,
"./symbol_defs":317,d3:86,"fast-isnumeric":95,tinycolor2:256}],317:[function(b,p,l){var n=b("d3");p.exports={circle:{n:0,f:function(b){b=n.round(b,2);return"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"}},square:{n:1,f:function(b){b=n.round(b,2);return"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"}},diamond:{n:2,f:function(b){b=n.round(1.3*b,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"Z"}},cross:{n:3,f:function(b){var g=n.round(.4*b,2);b=n.round(1.2*b,2);return"M"+b+","+g+"H"+g+"V"+b+"H-"+
g+"V"+g+"H-"+b+"V-"+g+"H-"+g+"V-"+b+"H"+g+"V-"+g+"H"+b+"Z"}},x:{n:4,f:function(b){b=n.round(.8*b/Math.sqrt(2),2);var g="l"+b+","+b,d="l"+b+",-"+b,h="l-"+b+",-"+b,e="l-"+b+","+b;return"M0,"+b+g+d+h+d+h+e+h+e+g+e+g+"Z"}},"triangle-up":{n:5,f:function(b){var g=n.round(2*b/Math.sqrt(3),2),d=n.round(b/2,2);b=n.round(b,2);return"M-"+g+","+d+"H"+g+"L0,-"+b+"Z"}},"triangle-down":{n:6,f:function(b){var g=n.round(2*b/Math.sqrt(3),2),d=n.round(b/2,2);b=n.round(b,2);return"M-"+g+",-"+d+"H"+g+"L0,"+b+"Z"}},"triangle-left":{n:7,
f:function(b){var g=n.round(2*b/Math.sqrt(3),2),d=n.round(b/2,2);b=n.round(b,2);return"M"+d+",-"+g+"V"+g+"L-"+b+",0Z"}},"triangle-right":{n:8,f:function(b){var g=n.round(2*b/Math.sqrt(3),2),d=n.round(b/2,2);b=n.round(b,2);return"M-"+d+",-"+g+"V"+g+"L"+b+",0Z"}},"triangle-ne":{n:9,f:function(b){var g=n.round(.6*b,2);b=n.round(1.2*b,2);return"M-"+b+",-"+g+"H"+g+"V"+b+"Z"}},"triangle-se":{n:10,f:function(b){var g=n.round(.6*b,2);b=n.round(1.2*b,2);return"M"+g+",-"+b+"V"+g+"H-"+b+"Z"}},"triangle-sw":{n:11,
f:function(b){var g=n.round(.6*b,2);b=n.round(1.2*b,2);return"M"+b+","+g+"H-"+g+"V-"+b+"Z"}},"triangle-nw":{n:12,f:function(b){var g=n.round(.6*b,2);b=n.round(1.2*b,2);return"M-"+g+","+b+"V-"+g+"H"+b+"Z"}},pentagon:{n:13,f:function(b){var g=n.round(.951*b,2),d=n.round(.588*b,2),h=n.round(-b,2),e=n.round(-.309*b,2);b=n.round(.809*b,2);return"M"+g+","+e+"L"+d+","+b+"H-"+d+"L-"+g+","+e+"L0,"+h+"Z"}},hexagon:{n:14,f:function(b){var g=n.round(b,2),d=n.round(b/2,2);b=n.round(b*Math.sqrt(3)/2,2);return"M"+
b+",-"+d+"V"+d+"L0,"+g+"L-"+b+","+d+"V-"+d+"L0,-"+g+"Z"}},hexagon2:{n:15,f:function(b){var g=n.round(b,2),d=n.round(b/2,2);b=n.round(b*Math.sqrt(3)/2,2);return"M-"+d+","+b+"H"+d+"L"+g+",0L"+d+",-"+b+"H-"+d+"L-"+g+",0Z"}},octagon:{n:16,f:function(b){var g=n.round(.924*b,2);b=n.round(.383*b,2);return"M-"+b+",-"+g+"H"+b+"L"+g+",-"+b+"V"+b+"L"+b+","+g+"H-"+b+"L-"+g+","+b+"V-"+b+"Z"}},star:{n:17,f:function(b){var g=1.4*b;b=n.round(.225*g,2);var d=n.round(.951*g,2),h=n.round(.363*g,2),e=n.round(.588*g,
2),l=n.round(-g,2),m=n.round(-.309*g,2),t=n.round(.118*g,2),f=n.round(.809*g,2);g=n.round(.382*g,2);return"M"+b+","+m+"H"+d+"L"+h+","+t+"L"+e+","+f+"L0,"+g+"L-"+e+","+f+"L-"+h+","+t+"L-"+d+","+m+"H-"+b+"L0,"+l+"Z"}},hexagram:{n:18,f:function(b){var g=n.round(.66*b,2),d=n.round(.38*b,2);b=n.round(.76*b,2);return"M-"+b+",0l-"+d+",-"+g+"h"+b+"l"+d+",-"+g+"l"+d+","+g+"h"+b+"l-"+d+","+g+"l"+d+","+g+"h-"+b+"l-"+d+","+g+"l-"+d+",-"+g+"h-"+b+"Z"}},"star-triangle-up":{n:19,f:function(b){var g=n.round(b*Math.sqrt(3)*
.8,2),d=n.round(.8*b,2),h=n.round(1.6*b,2);b=n.round(4*b,2);b="A "+b+","+b+" 0 0 1 ";return"M-"+g+","+d+b+g+","+d+b+"0,-"+h+b+"-"+g+","+d+"Z"}},"star-triangle-down":{n:20,f:function(b){var g=n.round(b*Math.sqrt(3)*.8,2),d=n.round(.8*b,2),h=n.round(1.6*b,2);b=n.round(4*b,2);b="A "+b+","+b+" 0 0 1 ";return"M"+g+",-"+d+b+"-"+g+",-"+d+b+"0,"+h+b+g+",-"+d+"Z"}},"star-square":{n:21,f:function(b){var g=n.round(1.1*b,2);b=n.round(2*b,2);b="A "+b+","+b+" 0 0 1 ";return"M-"+g+",-"+g+b+"-"+g+","+g+b+g+","+g+
b+g+",-"+g+b+"-"+g+",-"+g+"Z"}},"star-diamond":{n:22,f:function(b){var g=n.round(1.4*b,2);b=n.round(1.9*b,2);b="A "+b+","+b+" 0 0 1 ";return"M-"+g+",0"+b+"0,"+g+b+g+",0"+b+"0,-"+g+b+"-"+g+",0Z"}},"diamond-tall":{n:23,f:function(b){var g=n.round(.7*b,2);b=n.round(1.4*b,2);return"M0,"+b+"L"+g+",0L0,-"+b+"L-"+g+",0Z"}},"diamond-wide":{n:24,f:function(b){var g=n.round(1.4*b,2);b=n.round(.7*b,2);return"M0,"+b+"L"+g+",0L0,-"+b+"L-"+g+",0Z"}},hourglass:{n:25,f:function(b){b=n.round(b,2);return"M"+b+","+
b+"H-"+b+"L"+b+",-"+b+"H-"+b+"Z"},noDot:!0},bowtie:{n:26,f:function(b){b=n.round(b,2);return"M"+b+","+b+"V-"+b+"L-"+b+","+b+"V-"+b+"Z"},noDot:!0},"circle-cross":{n:27,f:function(b){b=n.round(b,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(b){var g=n.round(b,2);b=n.round(b/Math.sqrt(2),2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+
g+" 0 0,1 "+g+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(b){b=n.round(b,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(b){b=n.round(b,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(b){b=n.round(1.3*b,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM0,-"+b+"V"+b+"M-"+b+",0H"+b},needLine:!0,noDot:!0},"diamond-x":{n:32,
f:function(b){var g=n.round(1.3*b,2);b=n.round(.65*b,2);return"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+b+",-"+b+"L"+b+","+b+"M-"+b+","+b+"L"+b+",-"+b},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(b){b=n.round(1.4*b,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(b){b=n.round(b,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(b){var g=n.round(1.2*b,2);b=n.round(.85*b,2);return"M0,"+
g+"V-"+g+"M"+g+",0H-"+g+"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(b){var g=n.round(b/2,2);b=n.round(b,2);return"M"+g+","+b+"V-"+b+"m-"+b+",0V"+b+"M"+b+","+g+"H-"+b+"m0,-"+b+"H"+b},needLine:!0,noFill:!0},"y-up":{n:37,f:function(b){var g=n.round(1.2*b,2),d=n.round(1.6*b,2);b=n.round(.8*b,2);return"M-"+g+","+b+"L0,0M"+g+","+b+"L0,0M0,-"+d+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(b){var g=n.round(1.2*b,2),d=n.round(1.6*
b,2);b=n.round(.8*b,2);return"M-"+g+",-"+b+"L0,0M"+g+",-"+b+"L0,0M0,"+d+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(b){var g=n.round(1.2*b,2),d=n.round(1.6*b,2);b=n.round(.8*b,2);return"M"+b+","+g+"L0,0M"+b+",-"+g+"L0,0M-"+d+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(b){var g=n.round(1.2*b,2),d=n.round(1.6*b,2);b=n.round(.8*b,2);return"M-"+b+","+g+"L0,0M-"+b+",-"+g+"L0,0M"+d+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(b){b=n.round(1.4*
b,2);return"M"+b+",0H-"+b},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(b){b=n.round(1.4*b,2);return"M0,"+b+"V-"+b},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(b){b=n.round(b,2);return"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(b){b=n.round(b,2);return"M"+b+","+b+"L-"+b+",-"+b},needLine:!0,noDot:!0,noFill:!0}}},{d3:86}],318:[function(b,p,l){p.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:"Determines whether or not this set of error bars is visible."},
type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:"Determines the rule used to generate the error bars. If *constant`, the bar lengths are of a constant value. Set this constant in `value`. If *percent*, the bar lengths correspond to a percentage of underlying data. Set this percentage in `value`. If *sqrt*, the bar lengths correspond to the sqaure of the underlying data. If *array*, the bar lengths are set with data set `array`."},symmetric:{valType:"boolean",
role:"info",editType:"calc",description:"Determines whether or not the error bars have the same length in both direction (top/bottom for vertical bars, left/right for horizontal bars."},array:{valType:"data_array",editType:"calc",description:"Sets the data corresponding the length of each error bar. Values are plotted relative to the underlying data."},arrayminus:{valType:"data_array",editType:"calc",description:"Sets the data corresponding the length of each error bar in the bottom (left) direction for vertical (horizontal) bars Values are plotted relative to the underlying data."},
value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:"Sets the value of either the percentage (if `type` is set to *percent*) or the constant (if `type` is set to *constant*) corresponding to the lengths of the error bars."},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:"Sets the value of either the percentage (if `type` is set to *percent*) or the constant (if `type` is set to *constant*) corresponding to the lengths of the error bars in the bottom (left) direction for vertical (horizontal) bars"},
traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},
width:{valType:"number",min:0,role:"style",editType:"plot",description:"Sets the width (in px) of the cross-bar at both ends of the error bars."},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:"Obsolete. Use the alpha channel in error bar `color` to set the opacity."}}}},{}],319:[function(b,p,l){function n(b,k,m,t){var f=k["error_"+t]||{};k=[];if(f.visible&&-1!==["linear","log"].indexOf(m.type)){f=h(f);for(var c=0;c<b.length;c++){var e=b[c],a=e[t];
if(g(m.c2l(a))){var r=f(a,c);if(g(r[0])&&g(r[1])){var n=e[t+"s"]=a-r[0];e=e[t+"h"]=a+r[1];k.push(n,e)}}}d.expand(m,k,{padded:!0})}}var g=b("fast-isnumeric"),k=b("../../registry"),d=b("../../plots/cartesian/axes"),h=b("./compute_error");p.exports=function(b){for(var e=b.calcdata,g=0;g<e.length;g++){var h=e[g],f=h[0].trace;if(k.traceIs(f,"errorBarsOK")){var c=d.getFromId(b,f.xaxis),q=d.getFromId(b,f.yaxis);n(h,f,c,"x");n(h,f,q,"y")}}}},{"../../plots/cartesian/axes":458,"../../registry":517,"./compute_error":320,
"fast-isnumeric":95}],320:[function(b,p,l){function n(b,k){if("percent"===b)return function(d){return Math.abs(d*k/100)};if("constant"===b)return function(){return Math.abs(k)};if("sqrt"===b)return function(d){return Math.sqrt(Math.abs(d))}}p.exports=function(b){var g=b.type,d=b.symmetric;if("data"===g){var h=b.array||[];if(d)return function(d,b){d=+h[b];return[d,d]};var e=b.arrayminus||[];return function(d,b){d=+h[b];b=+e[b];return isNaN(d)&&isNaN(b)?[NaN,NaN]:[b||0,d||0]}}var l=n(g,b.value),m=n(g,
b.valueminus);return d||void 0===b.valueminus?function(d){d=l(d);return[d,d]}:function(d){return[m(d),l(d)]}}},{}],321:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../registry"),k=b("../../lib"),d=b("./attributes");p.exports=function(b,e,l,m){function h(a,b){return k.coerce(q,c,d,a,b)}var f="error_"+m.axis,c=e[f]={},q=b[f]||{};if(!1!==h("visible",void 0!==q.array||void 0!==q.value||"sqrt"===q.type)){b=h("type","array"in q?"data":"percent");f=!0;"sqrt"!==b&&(f=h("symmetric",!(("data"===b?"arrayminus":
"valueminus")in q)));if("data"===b)h("array"),h("traceref"),f||(h("arrayminus"),h("tracerefminus"));else if("percent"===b||"constant"===b)h("value"),f||h("valueminus");b="copy_"+m.inherit+"style";m.inherit&&(e["error_"+m.inherit]||{}).visible&&h(b,!(q.color||n(q.thickness)||n(q.width)));m.inherit&&c[b]||(h("color",l),h("thickness"),h("width",g.traceIs(e,"gl3d")?0:4))}}},{"../../lib":414,"../../registry":517,"./attributes":318,"fast-isnumeric":95}],322:[function(b,p,l){var n=b("../../lib");l=b("../../plot_api/edit_types").overrideAll;
var g=b("./attributes"),k=b("./calc"),d={error_x:n.extendFlat({},g),error_y:n.extendFlat({},g)};delete d.error_x.copy_zstyle;delete d.error_y.copy_zstyle;delete d.error_y.copy_ystyle;n={error_x:n.extendFlat({},g),error_y:n.extendFlat({},g),error_z:n.extendFlat({},g)};delete n.error_x.copy_ystyle;delete n.error_y.copy_ystyle;delete n.error_z.copy_ystyle;delete n.error_z.copy_zstyle;p.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:d,bar:d,histogram:d,scatter3d:l(n,"calc","nested"),
scattergl:l(d,"calc","nested")}},supplyDefaults:b("./defaults"),calc:k,calcFromTrace:function(d,b){for(var e=d.x||[],g=d.y||[],h=e.length||g.length,f=Array(h),c=0;c<h;c++)f[c]={x:e[c],y:g[c]};f[0].trace=d;k({calcdata:[f],_fullLayout:b});return f},plot:b("./plot"),style:b("./style"),hoverInfo:function(d,b,g){(b.error_y||{}).visible&&(g.yerr=d.yh-d.y,b.error_y.symmetric||(g.yerrneg=d.y-d.ys));(b.error_x||{}).visible&&(g.xerr=d.xh-d.x,b.error_x.symmetric||(g.xerrneg=d.x-d.xs))}}},{"../../lib":414,"../../plot_api/edit_types":443,
"./attributes":318,"./calc":319,"./defaults":321,"./plot":323,"./style":324}],323:[function(b,p,l){var n=b("d3"),g=b("fast-isnumeric"),k=b("../drawing"),d=b("../../traces/scatter/subtypes");p.exports=function(b,e,l){var h,t=e.xaxis,f=e.yaxis,c=l&&0<l.duration;b.each(function(b){var a=b[0].trace,m=a.error_x||{},q=a.error_y||{},u;a.ids&&(u=function(a){return a.id});var p=d.hasMarkers(a)&&0<a.marker.maxdisplayed;q.visible||m.visible||(b=[]);a=n.select(this).selectAll("g.errorbar").data(b,u);a.exit().remove();
b.length&&(m.visible||a.selectAll("path.xerror").remove(),q.visible||a.selectAll("path.yerror").remove(),a.style("opacity",1),b=a.enter().append("g").classed("errorbar",!0),c&&b.style("opacity",0).transition().duration(l.duration).style("opacity",1),k.setClipUrl(a,e.layerClipId),a.each(function(a){var d=n.select(this),b=t.c2p(a.x),e=f.c2p(a.y);if(void 0!==a.yh){var k=f.c2p(a.yh);var r=f.c2p(a.ys);if(!g(r)){var u=!0;r=f.c2p(a.ys,!0)}}if(void 0!==a.xh){var v=t.c2p(a.xh);var x=t.c2p(a.xs);if(!g(x)){var C=
!0;x=t.c2p(a.xs,!0)}}if(!p||a.vis){a=d.select("path.yerror");if(q.visible&&g(b)&&g(k)&&g(r)){var K=q.width;b="M"+(b-K)+","+k+"h"+2*K+"m-"+K+",0V"+r;u||(b+="m-"+K+",0h"+2*K);(h=!a.size())?a=d.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):c&&(a=a.transition().duration(l.duration).ease(l.easing));a.attr("d",b)}else a.remove();u=d.select("path.xerror");m.visible&&g(e)&&g(v)&&g(x)?(k=(m.copy_ystyle?q:m).width,b="M"+v+","+(e-k)+"v"+2*k+"m0,-"+k+"H"+x,C||(b+="m0,-"+k+"v"+
2*k),(h=!u.size())?u=d.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):c&&(u=u.transition().duration(l.duration).ease(l.easing)),u.attr("d",b)):u.remove()}}))})}},{"../../traces/scatter/subtypes":587,"../drawing":316,d3:86,"fast-isnumeric":95}],324:[function(b,p,l){var n=b("d3"),g=b("../color");p.exports=function(b){b.each(function(d){var b=d[0].trace;d=b.error_y||{};b=b.error_x||{};var e=n.select(this);e.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(g.stroke,
d.color);b.copy_ystyle&&(b=d);e.selectAll("path.xerror").style("stroke-width",b.thickness+"px").call(g.stroke,b.color)})}},{"../color":291,d3:86}],325:[function(b,p,l){b=b("../../plots/font_attributes");p.exports={hoverlabel:{bgcolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:"Sets the background color of the hover labels for this trace"},bordercolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:"Sets the border color of the hover labels for this trace."},
font:b({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),namelength:{valType:"integer",min:-1,arrayOk:!0,role:"style",editType:"none",description:"Sets the length (in number of characters) of the trace name in the hover labels for this trace. -1 shows the whole name regardless of length. 0-3 shows the first 0-3 characters, and an integer >3 will show the whole name if it is less than that many characters, but if it is longer, will truncate to `namelength - 3` characters and add an ellipsis."},
editType:"calc"}}},{"../../plots/font_attributes":485}],326:[function(b,p,l){function n(d,b,e,k){k=k||g.identity;Array.isArray(d)&&(b[0][e]=k(d))}var g=b("../../lib"),k=b("../../registry");p.exports=function(d){function b(c){return function(d){return g.coerceHoverinfo({hoverinfo:d},{_module:c._module},l)}}var e=d.calcdata,l=d._fullLayout;for(d=0;d<e.length;d++){var m=e[d],t=m[0].trace;if(!k.traceIs(t,"pie")){var f=k.traceIs(t,"2dMap")?n:g.fillArray;f(t.hoverinfo,m,"hi",b(t));t.hoverlabel&&(f(t.hoverlabel.bgcolor,
m,"hbg"),f(t.hoverlabel.bordercolor,m,"hbc"),f(t.hoverlabel.font.size,m,"hts"),f(t.hoverlabel.font.color,m,"htc"),f(t.hoverlabel.font.family,m,"htf"),f(t.hoverlabel.namelength,m,"hnl"))}}}},{"../../lib":414,"../../registry":517}],327:[function(b,p,l){var n=b("../../registry"),g=b("./hover").hover;p.exports=function(b,d,h){function e(){b.emit("plotly_click",{points:b._hoverdata,event:d})}var k=n.getComponentMethod("annotations","onClick")(b,b._hoverdata);void 0!==h&&g(b,d,h,!0);b._hoverdata&&d&&d.target&&
(k&&k.then?k.then(e):e(),d.stopImmediatePropagation&&d.stopImmediatePropagation())}},{"../../registry":517,"./hover":331}],328:[function(b,p,l){p.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],329:[function(b,p,l){var n=b("../../lib"),g=b("./attributes"),k=b("./hoverlabel_defaults");p.exports=function(d,b,e,l){k(d,b,function(e,h){return n.coerce(d,b,g,e,h)},l.hoverlabel)}},{"../../lib":414,"./attributes":325,
"./hoverlabel_defaults":332}],330:[function(b,p,l){function n(d,b){if(Array.isArray(b)){if(Array.isArray(d)&&Array.isArray(d[b[0]]))return d[b[0]][b[1]]}else return d[b]}var g=b("../../lib");l.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo};l.flat=function(d,b){for(var e=Array(d.length),g=0;g<d.length;g++)e[g]=b;return e};l.p2c=function(d,b){for(var e=Array(d.length),g=0;g<d.length;g++)e[g]=d[g].p2c(b);return e};l.getDistanceFunction=function(d,b,e,g){return"closest"===d?g||l.quadrature(b,
e):"x"===d?b:e};l.getClosest=function(d,b,e){if(!1!==e.index)0<=e.index&&e.index<d.length?e.distance=0:e.index=!1;else for(var g=0;g<d.length;g++){var h=b(d[g]);h<=e.distance&&(e.index=g,e.distance=h)}return e};l.inbox=function(d,b,e){return 0>d*b||0===d?e:Infinity};l.quadrature=function(d,b){return function(e){var g=d(e);e=b(e);return Math.sqrt(g*g+e*e)}};l.makeEventData=function(d,b,e){var g="index"in d?d.index:d.pointNumber,h={data:b._input,fullData:b,curveNumber:b.index,pointNumber:g};if(b._indexToPoints){var k=
b._indexToPoints[g];1===k.length?h.pointIndex=k[0]:h.pointIndices=k}else h.pointIndex=g;b._module.eventData?h=b._module.eventData(h,d,b,e,g):("xVal"in d?h.x=d.xVal:"x"in d&&(h.x=d.x),"yVal"in d?h.y=d.yVal:"y"in d&&(h.y=d.y),d.xa&&(h.xaxis=d.xa),d.ya&&(h.yaxis=d.ya),void 0!==d.zLabelVal&&(h.z=d.zLabelVal));l.appendArrayPointValue(h,b,g);return h};l.appendArrayPointValue=function(d,b,e){var h=b._arrayAttrs;if(h)for(var m=0;m<h.length;m++){var t=h[m],f=k[t]||t;void 0===d[f]&&(t=g.nestedProperty(b,t).get(),
t=n(t,e),void 0!==t&&(d[f]=t))}};l.appendArrayMultiPointValues=function(d,b,e){var h=b._arrayAttrs;if(h)for(var m=0;m<h.length;m++){var t=h[m],f=k[t]||t;if(void 0===d[f]){t=g.nestedProperty(b,t).get();for(var c=Array(e.length),q=0;q<e.length;q++)c[q]=n(t,e[q]);d[f]=c}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color"}},{"../../lib":414}],331:[function(b,p,l){function n(a,b,f,n){function l(a,c){for(var d=null,b=Infinity,f,e=0;e<a.length;e++)f=a[e].spikeDistance,
f<b&&f<=c&&(d=a[e],b=f);return d}function p(a){return a?{xa:a.xa,ya:a.ya,x:void 0!==a.xSpike?a.xSpike:(a.x0+a.x1)/2,y:void 0!==a.ySpike?a.ySpike:(a.y0+a.y1)/2,distance:a.distance,spikeDistance:a.spikeDistance,curveNumber:a.trace.index,color:a.color,pointNumber:a.index}:null}f||(f="xy");var v=Array.isArray(f)?f:[f],w=a._fullLayout,y=w._plots||[];f=y[f];var B=w._has("cartesian");f&&(f=f.overlays.map(function(a){return a.id}),v=v.concat(f));var E=v.length;f=Array(E);for(var G=Array(E),K=!1,H=0;H<E;H++){var L=
v[H],J=y[L];J?(K=!0,f[H]=A.getFromId(a,J.xaxis._id),G[H]=A.getFromId(a,J.yaxis._id)):(L=w[L]._subplot,f[H]=L.xaxis,G[H]=L.yaxis)}(y=b.hovermode||w.hovermode)&&!K&&(y="closest");if(-1===["x","y","closest"].indexOf(y)||!a.calcdata||a.querySelector(".zoombox")||a._dragging)return C.unhoverRaw(a,b);L=-1===w.hoverdistance?Infinity:w.hoverdistance;var F=-1===w.spikedistance?Infinity:w.spikedistance;K=[];E=[];H={hLinePoint:null,vLinePoint:null};if(Array.isArray(b))for(y="array",J=0;J<b.length;J++){var N=
a.calcdata[b[J].curveNumber||0];"skip"!==N[0].trace.hoverinfo&&E.push(N)}else{for(J=0;J<a.calcdata.length;J++){N=a.calcdata[J];var X=N[0].trace;"skip"!==X.hoverinfo&&-1!==v.indexOf(z.getSubplot(X))&&E.push(N)}if(b.target){if(!1===q.triggerHandler(a,"plotly_beforehover",b))return;J=b.target.getBoundingClientRect();var na=b.clientX-J.left;var oa=b.clientY-J.top;if(0>na||na>J.width||0>oa||oa>J.height)return C.unhoverRaw(a,b);b.pointerX=b.offsetX;b.pointerY=b.offsetY}else na="xpx"in b?b.xpx:f[0]._length/
2,b.pointerX=na+f[0]._offset,oa="ypx"in b?b.ypx:G[0]._length/2,b.pointerY=oa+G[0]._offset;na="xval"in b?z.flat(v,b.xval):z.p2c(f,na);oa="yval"in b?z.flat(v,b.yval):z.p2c(G,oa);if(!t(na[0])||!t(oa[0]))return c.warn("Fx.hover failed",b,a),C.unhoverRaw(a,b)}var Aa=Infinity;for(J=0;J<E.length;J++)if((N=E[J])&&N[0]&&N[0].trace&&!0===N[0].trace.visible&&(X=N[0].trace,-1===["carpet","contourcarpet"].indexOf(X._module.name))){var ka=z.getSubplot(X);var Y=v.indexOf(ka);var ca=y;N={cd:N,trace:X,xa:f[Y],ya:G[Y],
maxHoverDistance:L,maxSpikeDistance:F,index:!1,distance:Math.min(Aa,L),spikeDistance:Infinity,xSpike:void 0,ySpike:void 0,color:x.defaultLine,name:X.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0};w[ka]&&(N.subplot=w[ka]._subplot);ka=K.length;if("array"===ca)if(Y=b[J],"pointNumber"in Y)N.index=Y.pointNumber,ca="closest";else{ca="";if("xval"in Y){var la=Y.xval;ca="x"}if("yval"in Y){var sa=Y.yval;ca=ca?"closest":"y"}}else la=na[Y],sa=oa[Y];
if(0!==L)if(X._module&&X._module.hoverPoints){if(ca=X._module.hoverPoints(N,la,sa,ca,w._hoverlayer))for(var da=0;da<ca.length;da++)Y=ca[da],t(Y.x0)&&t(Y.y0)&&K.push(h(Y,y))}else c.log("Unrecognized trace type in hover:",X);"closest"===y&&K.length>ka&&(K.splice(0,ka),Aa=K[0].distance);B&&0!==F&&0===K.length&&(N.distance=F,N.index=!1,(X=X._module.hoverPoints(N,la,sa,"closest",w._hoverlayer))&&(X=X.filter(function(a){return a.spikeDistance<=F})),X&&X.length)&&(N=X.filter(function(a){return a.xa.showspikes}),
N.length&&(N=N[0],t(N.x0)&&t(N.y0)&&(N=p(N),!H.vLinePoint||H.vLinePoint.spikeDistance>N.spikeDistance))&&(H.vLinePoint=N),X=X.filter(function(a){return a.ya.showspikes}),X.length&&(X=X[0],t(X.x0)&&t(X.y0)&&(N=p(X),!H.hLinePoint||H.hLinePoint.spikeDistance>N.spikeDistance))&&(H.hLinePoint=N))}v={fullLayout:w,container:w._hoverlayer,outerContainer:w._paperdiv,event:b};a._spikepoints={vLinePoint:H.vLinePoint,hLinePoint:H.hLinePoint};B&&0!==F&&0!==K.length&&(la=K.filter(function(a){return a.ya.showspikes}),
la=l(la,F),H.hLinePoint=p(la),la=K.filter(function(a){return a.xa.showspikes}),la=l(la,F),H.vLinePoint=p(la));if(0===K.length)return a=C.unhoverRaw(a,b),!B||null===H.hLinePoint&&null===H.vLinePoint||e(H,v),a;B&&e(H,v);K.sort(function(a,c){return a.distance-c.distance});B=a._hoverdata;v=[];for(J=0;J<K.length;J++)la=K[J],v.push(z.makeEventData(la,la.trace,la.cd));a._hoverdata=v;la="y"===y&&1<E.length;sa=x.combine(w.plot_bgcolor||x.background,w.paper_bgcolor);y=g(K,{hovermode:y,rotateLabels:la,bgColor:sa,
container:w._hoverlayer,outerContainer:w._paperdiv,commonLabelOpts:w.hoverlabel,hoverdistance:w.hoverdistance},a);k(K,la?"xa":"ya",w);d(y,la);b.target&&b.target.tagName&&(w=D.getComponentMethod("annotations","hasClickToShow")(a,v),r(m.select(b.target),w?"pointer":""));b.target&&!n&&u(a,b,B)&&(B&&a.emit("plotly_unhover",{event:b,points:B}),a.emit("plotly_hover",{event:b,points:a._hoverdata,xaxes:f,yaxes:G,xvals:na,yvals:oa}))}function g(c,d,b){var f=d.hovermode,e=d.rotateLabels,g=d.bgColor,h=d.container,
k=d.outerContainer,q=d.commonLabelOpts||{},r=d.fontFamily||F.HOVERFONT,t=d.fontSize||F.HOVERFONTSIZE,n=c[0],l=n.xa,u=n.ya,p="y"===f?"yLabel":"xLabel",w=n[p],y=(String(w)||"").split(" ")[0];k=k.node().getBoundingClientRect();var C=k.top,G=k.width,K=k.height,A=void 0!==w&&n.distance<=d.hoverdistance&&("x"===f||"y"===f);if(A){k=!0;for(d=0;d<c.length;d++){k&&void 0===c[d].zLabel&&(k=!1);var z=c[d].hoverinfo||c[d].trace.hoverinfo;z=Array.isArray(z)?z:z.split("+");if(-1===z.indexOf("all")&&-1===z.indexOf(f)){A=
!1;break}}k&&(A=!1)}d=h.selectAll("g.axistext").data(A?[0]:[]);d.enter().append("g").classed("axistext",!0);d.exit().remove();d.each(function(){var d=m.select(this),e=d.selectAll("path").data([0]),g=d.selectAll("text").data([0]);e.enter().append("path").style({"stroke-width":"1px"});e.style({fill:q.bgcolor||x.defaultLine,stroke:q.bordercolor||x.background});g.enter().append("text").attr("data-notex",1);g.text(w).call(v.font,q.font.family||r,q.font.size||t,q.font.color||x.background).call(a.positionText,
0,0).call(a.convertToTspans,b);d.attr("transform","");var h=g.node().getBoundingClientRect();"x"===f?(g.attr("text-anchor","middle").call(a.positionText,0,"top"===l.side?C-h.bottom-E-J:C-h.top+E+J),g="top"===l.side?"-":"",e.attr("d","M0,0L"+E+","+g+E+"H"+(J+h.width/2)+"v"+g+(2*J+h.height)+"H-"+(J+h.width/2)+"V"+g+E+"H-"+E+"Z"),d.attr("transform","translate("+(l._offset+(n.x0+n.x1)/2)+","+(u._offset+("top"===l.side?0:u._length))+")")):(g.attr("text-anchor","right"===u.side?"start":"end").call(a.positionText,
("right"===u.side?1:-1)*(J+E),C-h.top-h.height/2),g="right"===u.side?"":"-",e.attr("d","M0,0L"+g+E+","+E+"V"+(J+h.height/2)+"h"+g+(2*J+h.width)+"V-"+(J+h.height/2)+"H"+g+E+"V-"+E+"Z"),d.attr("transform","translate("+(l._offset+("right"===u.side?l._length:0))+","+(u._offset+(n.y0+n.y1)/2)+")"));c=c.filter(function(a){return void 0!==a.zLabelVal||(a[p]||"").split(" ")[0]===y})});h=h.selectAll("g.hovertext").data(c,function(a){return[a.trace.index,a.index,a.x0,a.y0,a.name,a.attr,a.xa,a.ya||""].join()});
h.enter().append("g").classed("hovertext",!0).each(function(){var a=m.select(this);a.append("rect").call(x.fill,x.addOpacity(g,.8));a.append("text").classed("name",!0);a.append("path").style("stroke-width","1px");a.append("text").classed("nums",!0).call(v.font,r,t)});h.exit().remove();h.each(function(c){var d=m.select(this).attr("transform",""),h="",k="",q=x.opacity(c.color)?c.color:x.defaultLine,n=x.combine(q,g),l=c.borderColor||x.contrast(n);void 0!==c.nameOverride&&(c.name=c.nameOverride);c.name&&
(h=a.plainText(c.name||""),q=Math.round(c.nameLength),-1<q&&h.length>q&&(h=3<q?h.substr(0,q-3)+"...":h.substr(0,q)));void 0!==c.extraText&&(k+=c.extraText);void 0!==c.zLabel?(void 0!==c.xLabel&&(k+="x: "+c.xLabel+"<br>"),void 0!==c.yLabel&&(k+="y: "+c.yLabel+"<br>"),k+=(k?"z: ":"")+c.zLabel):A&&c[f+"Label"]===w?k=c[("x"===f?"y":"x")+"Label"]||"":void 0===c.xLabel?void 0!==c.yLabel&&(k=c.yLabel):k=void 0===c.yLabel?c.xLabel:"("+c.xLabel+", "+c.yLabel+")";c.text&&!Array.isArray(c.text)&&(k+=(k?"<br>":
"")+c.text);""===k&&(""===h&&d.remove(),k=h);q=d.select("text.nums").call(v.font,c.fontFamily||r,c.fontSize||t,c.fontColor||l).text(k).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,b);var u=d.select("text.name"),p=0;h&&h!==k?(u.call(v.font,c.fontFamily||r,c.fontSize||t,n).text(h).attr("data-notex",1).call(a.positionText,0,0).call(a.convertToTspans,b),p=u.node().getBoundingClientRect().width+2*J):(u.remove(),d.select("rect").remove());d.select("path").style({fill:n,stroke:l});
var y=q.node().getBoundingClientRect();h=c.xa._offset+(c.x0+c.x1)/2;k=c.ya._offset+(c.y0+c.y1)/2;n=Math.abs(c.x1-c.x0);l=Math.abs(c.y1-c.y0);var z=y.width+E+J+p;c.ty0=C-y.top;c.bx=y.width+2*J;c.by=y.height+2*J;c.anchor="start";c.txwidth=y.width;c.tx2width=p;c.offset=0;e?(c.pos=h,y=k+l/2+z<=K,("top"===c.idealAlign||!y)&&0<=k-l/2-z?(k-=l/2,c.anchor="end"):y?(k+=l/2,c.anchor="start"):c.anchor="middle"):(c.pos=k,y=h+n/2+z<=G,("left"===c.idealAlign||!y)&&0<=h-n/2-z?(h-=n/2,c.anchor="end"):y?(h+=n/2,c.anchor=
"start"):c.anchor="middle");q.attr("text-anchor",c.anchor);p&&u.attr("text-anchor",c.anchor);d.attr("transform","translate("+h+","+k+")"+(e?"rotate("+B+")":""))});return h}function k(a,c,d){function b(a){var c=a[0],d=a[a.length-1];h=c.pmin-c.pos-c.dp+c.size;k=d.pos+d.dp+d.size-c.pmax;if(.01<h){for(q=a.length-1;0<=q;q--)a[q].dp+=h;g=!1}if(!(.01>k)){if(-.01>h){for(q=a.length-1;0<=q;q--)a[q].dp-=k;g=!1}if(g){for(m=d=0;m<a.length;m++)r=a[m],r.pos+r.dp+r.size>c.pmax&&d++;for(m=a.length-1;0<=m&&!(0>=d);m--)r=
a[m],r.pos>c.pmax-1&&(r.del=!0,d--);for(m=0;m<a.length&&!(0>=d);m++)if(r=a[m],r.pos<c.pmin+1)for(r.del=!0,d--,k=2*r.size,q=a.length-1;0<=q;q--)a[q].dp-=k;for(m=a.length-1;0<=m&&!(0>=d);m--)r=a[m],r.pos+r.dp+r.size>c.pmax&&(r.del=!0,d--)}}}for(var f=0,e=a.map(function(a,b){var f=a[c];return[{i:b,dp:0,pos:a.pos,posref:a.posref,size:a.by*("x"===f._id.charAt(0)?y:1)/2,pmin:0,pmax:"x"===f._id.charAt(0)?d.width:d.height}]}).sort(function(a,c){return a[0].posref-c[0].posref}),g,h,k,m,q,r,t;!g&&f<=a.length;){f++;
g=!0;for(m=0;m<e.length-1;){var n=e[m];t=e[m+1];var l=n[n.length-1],u=t[0];h=l.pos+l.dp+l.size-u.pos-u.dp+u.size;if(.01<h&&l.pmin===u.pmin&&l.pmax===u.pmax){for(q=t.length-1;0<=q;q--)t[q].dp+=h;n.push.apply(n,t);e.splice(m+1,1);t=0;for(q=n.length-1;0<=q;q--)t+=n[q].dp;k=t/n.length;for(q=n.length-1;0<=q;q--)n[q].dp-=k;g=!1}else m++}e.forEach(b)}for(m=e.length-1;0<=m;m--)for(f=e[m],q=f.length-1;0<=q;q--)n=f[q],t=a[n.i],t.offset=n.dp,t.del=n.del}function d(c,d){c.each(function(c){var b=m.select(this);
if(c.del)b.remove();else{var f="end"===c.anchor?-1:1,e=b.select("text.nums"),g={start:1,end:-1,middle:0}[c.anchor],h=g*(E+J),k=h+g*(c.txwidth+J),q=0,r=c.offset;"middle"===c.anchor&&(h-=c.tx2width/2,k+=c.txwidth/2+J);d&&(r*=-G,q=c.offset*w);b.select("path").attr("d","middle"===c.anchor?"M-"+(c.bx/2+c.tx2width/2)+","+(r-c.by/2)+"h"+c.bx+"v"+c.by+"h-"+c.bx+"Z":"M0,0L"+(f*E+q)+","+(E+r)+"v"+(c.by/2-E)+"h"+f*c.bx+"v-"+c.by+"H"+(f*E+q)+"V"+(r-E)+"Z");e.call(a.positionText,h+q,r+c.ty0-c.by/2+J);c.tx2width&&
(b.select("text.name").call(a.positionText,k+g*J+q,r+c.ty0-c.by/2+J),b.select("rect").call(v.setRect,k+(g-1)*c.tx2width/2+q,r-c.by/2-1,c.tx2width,c.by+2))}})}function h(a,d){function b(c,d,b){(d=k(d,b))&&(a[c]=d)}var f=a.index,e=a.trace||{},g=a.cd[0],h=a.cd[f]||{},k=Array.isArray(f)?function(a,d){return c.castOption(g,f,a)||c.extractOption({},e,"",d)}:function(a,d){return c.extractOption(h,e,a,d)};b("hoverinfo","hi","hoverinfo");b("color","hbg","hoverlabel.bgcolor");b("borderColor","hbc","hoverlabel.bordercolor");
b("fontFamily","htf","hoverlabel.font.family");b("fontSize","hts","hoverlabel.font.size");b("fontColor","htc","hoverlabel.font.color");b("nameLength","hnl","hoverlabel.namelength");a.posref="y"===d?a.xa._offset+(a.x0+a.x1)/2:a.ya._offset+(a.y0+a.y1)/2;a.x0=c.constrain(a.x0,0,a.xa._length);a.x1=c.constrain(a.x1,0,a.xa._length);a.y0=c.constrain(a.y0,0,a.ya._length);a.y1=c.constrain(a.y1,0,a.ya._length);void 0!==a.xLabelVal&&(a.xLabel="xLabel"in a?a.xLabel:A.hoverLabelText(a.xa,a.xLabelVal),a.xVal=a.xa.c2d(a.xLabelVal));
void 0!==a.yLabelVal&&(a.yLabel="yLabel"in a?a.yLabel:A.hoverLabelText(a.ya,a.yLabelVal),a.yVal=a.ya.c2d(a.yLabelVal));void 0!==a.zLabelVal&&void 0===a.zLabel&&(a.zLabel=String(a.zLabelVal));if(!(isNaN(a.xerr)||"log"===a.xa.type&&0>=a.xerr)){var m=A.tickText(a.xa,a.xa.c2l(a.xerr),"hover").text;a.xLabel=void 0!==a.xerrneg?a.xLabel+(" +"+m+" / -"+A.tickText(a.xa,a.xa.c2l(a.xerrneg),"hover").text):a.xLabel+(" \u00b1 "+m);"x"===d&&(a.distance+=1)}isNaN(a.yerr)||"log"===a.ya.type&&0>=a.yerr||(m=A.tickText(a.ya,
a.ya.c2l(a.yerr),"hover").text,a.yLabel=void 0!==a.yerrneg?a.yLabel+(" +"+m+" / -"+A.tickText(a.ya,a.ya.c2l(a.yerrneg),"hover").text):a.yLabel+(" \u00b1 "+m),"y"===d&&(a.distance+=1));d=a.hoverinfo||a.trace.hoverinfo;"all"!==d&&(d=Array.isArray(d)?d:d.split("+"),-1===d.indexOf("x")&&(a.xLabel=void 0),-1===d.indexOf("y")&&(a.yLabel=void 0),-1===d.indexOf("z")&&(a.zLabel=void 0),-1===d.indexOf("text")&&(a.text=void 0),-1===d.indexOf("name")&&(a.name=void 0));return a}function e(a,c){var d=c.container,
b=c.fullLayout;c=c.event;var e=!!a.hLinePoint;var g=!!a.vLinePoint;d.selectAll(".spikeline").remove();if(g||e){b=x.combine(b.plot_bgcolor,b.paper_bgcolor);if(e){var h=a.hLinePoint;var k=h&&h.xa;e=h&&h.ya;if("cursor"===e.spikesnap){k=c.pointerX;var m=c.pointerY}else k=k._offset+h.x,m=e._offset+h.y;var q=1.5>f.readability(h.color,b)?x.contrast(b):h.color;h=e.spikemode;var r=e.spikethickness;q=e.spikecolor||q;var t=e._boundingBox;t=(t.left+t.right)/2<k?t.right:t.left;if(-1!==h.indexOf("toaxis")||-1!==
h.indexOf("across")){if(-1!==h.indexOf("toaxis")){var n=t;var l=k}-1!==h.indexOf("across")&&(n=e._counterSpan[0],l=e._counterSpan[1]);d.insert("line",":first-child").attr({x1:n,x2:l,y1:m,y2:m,"stroke-width":r,stroke:q,"stroke-dasharray":v.dashStyle(e.spikedash,r)}).classed("spikeline",!0).classed("crisp",!0);d.insert("line",":first-child").attr({x1:n,x2:l,y1:m,y2:m,"stroke-width":r+2,stroke:b}).classed("spikeline",!0).classed("crisp",!0)}-1!==h.indexOf("marker")&&d.insert("circle",":first-child").attr({cx:t+
("right"!==e.side?r:-r),cy:m,r:r,fill:q}).classed("spikeline",!0)}if(g){k=(n=a.vLinePoint)&&n.xa;e=n&&n.ya;"cursor"===k.spikesnap?(a=c.pointerX,c=c.pointerY):(a=k._offset+n.x,c=e._offset+n.y);e=1.5>f.readability(n.color,b)?x.contrast(b):n.color;n=k.spikemode;l=k.spikethickness;e=k.spikecolor||e;g=k._boundingBox;g=(g.top+g.bottom)/2<c?g.bottom:g.top;if(-1!==n.indexOf("toaxis")||-1!==n.indexOf("across")){if(-1!==n.indexOf("toaxis")){var u=g;var p=c}-1!==n.indexOf("across")&&(u=k._counterSpan[0],p=k._counterSpan[1]);
d.insert("line",":first-child").attr({x1:a,x2:a,y1:u,y2:p,"stroke-width":l,stroke:e,"stroke-dasharray":v.dashStyle(k.spikedash,l)}).classed("spikeline",!0).classed("crisp",!0);d.insert("line",":first-child").attr({x1:a,x2:a,y1:u,y2:p,"stroke-width":l+2,stroke:b}).classed("spikeline",!0).classed("crisp",!0)}-1!==n.indexOf("marker")&&d.insert("circle",":first-child").attr({cx:a,cy:g-("top"!==k.side?l:-l),r:l,fill:e}).classed("spikeline",!0)}}}function u(a,c,d){if(!d||d.length!==a._hoverdata.length)return!0;
for(c=d.length-1;0<=c;c--){var b=d[c],f=a._hoverdata[c];if(b.curveNumber!==f.curveNumber||String(b.pointNumber)!==String(f.pointNumber))return!0}return!1}var m=b("d3"),t=b("fast-isnumeric"),f=b("tinycolor2"),c=b("../../lib"),q=b("../../lib/events"),a=b("../../lib/svg_text_utils"),r=b("../../lib/override_cursor"),v=b("../drawing"),x=b("../color"),C=b("../dragelement"),A=b("../../plots/cartesian/axes"),D=b("../../registry"),z=b("./helpers"),F=b("./constants"),B=F.YANGLE;b=Math.PI*B/180;var y=1/Math.sin(b),
w=Math.cos(b),G=Math.sin(b),E=F.HOVERARROWSIZE,J=F.HOVERTEXTPAD;l.hover=function(a,d,b,f){a=c.getGraphDiv(a);c.throttle(a._fullLayout._uid+F.HOVERID,F.HOVERMINTIME,function(){n(a,d,b,f)})};l.loneHover=function(a,c){a={color:a.color||x.defaultLine,x0:a.x0||a.x||0,x1:a.x1||a.x||0,y0:a.y0||a.y||0,y1:a.y1||a.y||0,xLabel:a.xLabel,yLabel:a.yLabel,zLabel:a.zLabel,text:a.text,name:a.name,idealAlign:a.idealAlign,borderColor:a.borderColor,fontFamily:a.fontFamily,fontSize:a.fontSize,fontColor:a.fontColor,trace:{index:0,
hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0};var b=m.select(c.container),f=c.outerContainer?m.select(c.outerContainer):b;b={hovermode:"closest",rotateLabels:!1,bgColor:c.bgColor||x.background,container:b,outerContainer:f};c=g([a],b,c.gd);d(c,b.rotateLabels);return c.node()}},{"../../lib":414,"../../lib/events":405,"../../lib/override_cursor":425,"../../lib/svg_text_utils":437,"../../plots/cartesian/axes":458,"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"./constants":328,
"./helpers":330,d3:86,"fast-isnumeric":95,tinycolor2:256}],332:[function(b,p,l){var n=b("../../lib");p.exports=function(b,k,d,h){h=h||{};d("hoverlabel.bgcolor",h.bgcolor);d("hoverlabel.bordercolor",h.bordercolor);d("hoverlabel.namelength",h.namelength);n.coerceFont(d,"hoverlabel.font",h.font)}},{"../../lib":414}],333:[function(b,p,l){var n=b("d3"),g=b("../../lib");l=b("../dragelement");var k=b("./helpers"),d=b("./layout_attributes");p.exports={moduleType:"component",name:"fx",constants:b("./constants"),
schema:{layout:d},attributes:b("./attributes"),layoutAttributes:d,supplyLayoutGlobalDefaults:b("./layout_global_defaults"),supplyDefaults:b("./defaults"),supplyLayoutDefaults:b("./layout_defaults"),calc:b("./calc"),getDistanceFunction:k.getDistanceFunction,getClosest:k.getClosest,inbox:k.inbox,quadrature:k.quadrature,appendArrayPointValue:k.appendArrayPointValue,castHoverOption:function(d,b,k){return g.castOption(d,b,"hoverlabel."+k)},castHoverinfo:function(d,b,k){return g.castOption(d,k,"hoverinfo",
function(e){return g.coerceHoverinfo({hoverinfo:e},{_module:d._module},b)})},hover:b("./hover").hover,unhover:l.unhover,loneHover:b("./hover").loneHover,loneUnhover:function(d){d=g.isD3Selection(d)?d:n.select(d);d.selectAll("g.hovertext").remove();d.selectAll(".spikeline").remove()},click:b("./click")}},{"../../lib":414,"../dragelement":313,"./attributes":325,"./calc":326,"./click":327,"./constants":328,"./defaults":329,"./helpers":330,"./hover":331,"./layout_attributes":334,"./layout_defaults":335,
"./layout_global_defaults":336,d3:86}],334:[function(b,p,l){l=b("./constants");b=b("../../plots/font_attributes")({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});b.family.dflt=l.HOVERFONT;b.size.dflt=l.HOVERFONTSIZE;p.exports={dragmode:{valType:"enumerated",role:"info",values:"zoom pan select lasso orbit turntable".split(" "),dflt:"zoom",editType:"modebar",description:"Determines the mode of drag interactions. *select* and *lasso* apply only to scatter traces with markers or text. *orbit* and *turntable* apply only to 3D scenes."},
hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],editType:"modebar",description:"Determines the mode of hover interactions."},hoverdistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:"Sets the default distance (in pixels) to look for data to add hover labels (-1 means no cutoff, 0 means no looking for data). This is only a real distance for hovering on point-like objects, like scatter points. For area-like objects (bars, scatter fills, etc) hovering is on inside the area and off outside, but these objects will not supersede hover on point-like objects in case of conflict."},
spikedistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:"Sets the default distance (in pixels) to look for data to draw spikelines to (-1 means no cutoff, 0 means no looking for data). As with hoverdistance, distance does not apply to area-like objects. In addition, some objects can be hovered on but will not generate spikelines, such as scatter fills."},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:"Sets the background color of all hover labels on graph"},
bordercolor:{valType:"color",role:"style",editType:"none",description:"Sets the border color of all hover labels on graph."},font:b,namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:"Sets the default length (in number of characters) of the trace name in the hover labels for all traces. -1 shows the whole name regardless of length. 0-3 shows the first 0-3 characters, and an integer >3 will show the whole name if it is less than that many characters, but if it is longer, will truncate to `namelength - 3` characters and add an ellipsis."},
editType:"none"}}},{"../../plots/font_attributes":485,"./constants":328}],335:[function(b,p,l){var n=b("../../lib"),g=b("./layout_attributes");p.exports=function(b,d,h){n.coerce(b,d,g,"dragmode",void 0);if(d._has("cartesian")){for(var e=!0,k=0;k<h.length;k++)if("h"!==h[k].orientation){e=!1;break}d._isHoriz=e;h=d._isHoriz?"y":"x"}else h="closest";n.coerce(b,d,g,"hovermode",h)&&(n.coerce(b,d,g,"hoverdistance",void 0),n.coerce(b,d,g,"spikedistance",void 0));b=d._has("mapbox");h=d._has("geo");e=d._basePlotModules.length;
"zoom"===d.dragmode&&((b||h)&&1===e||b&&h&&2===e)&&(d.dragmode="pan")}},{"../../lib":414,"./layout_attributes":334}],336:[function(b,p,l){var n=b("../../lib"),g=b("./hoverlabel_defaults"),k=b("./layout_attributes");p.exports=function(d,b){g(d,b,function(e,g){return n.coerce(d,b,k,e,g)})}},{"../../lib":414,"./hoverlabel_defaults":332,"./layout_attributes":334}],337:[function(b,p,l){function n(d,b,g,h,f){g=b(d+"gap",g);var c=b("domain."+d);b(d+"side");d=Array(h);b=c[0];c=(c[1]-b)/(h-g);g=c*(1-g);for(var e=
0;e<h;e++){var a=b+c*e;d[f?h-1-e:e]=[a,a+g]}return d}function g(d,b,g,h,f){function c(a,c){-1!==b.indexOf(c)&&void 0===h[c]?(e[a]=c,h[c]=a):e[a]=""}var e=Array(g),a;if(Array.isArray(d))for(a=0;a<g;a++)c(a,d[a]);else for(c(0,f),a=1;a<g;a++)c(a,f+(a+1));return e}var k=b("../../lib");l=b("../../lib/regex").counter;var d=b("../../plots/domain").attributes;b=b("../../plots/cartesian/constants").idRegex;var h={rows:{valType:"integer",min:1,role:"info",editType:"plot",description:"The number of rows in the grid. If you provide a 2D `subplots` array or a `yaxes` array, its length is used as the default. But it's also possible to have a different length, if you want to leave a row at the end for non-cartesian subplots."},
roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",role:"info",editType:"plot",description:"Is the first row the top or the bottom? Note that columns are always enumerated from left to right."},columns:{valType:"integer",min:1,role:"info",editType:"plot",description:"The number of columns in the grid. If you provide a 2D `subplots` array, the length of its longest row is used as the default. If you give an `xaxes` array, its length is used as the default. But it's also possible to have a different length, if you want to leave a row at the end for non-cartesian subplots."},
subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[l("xy").toString(),""],editType:"plot"},role:"info",editType:"plot",description:"Used for freeform grids, where some axes may be shared across subplots but others are not. Each entry should be a cartesian subplot id, like *xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes within the same column, and y axes within the same row. Non-cartesian subplots and traces that support `domain` can place themselves in this grid separately using the `gridcell` attribute."},
xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[b.x.toString(),""],editType:"plot"},role:"info",editType:"plot",description:"Used with `yaxes` when the x and y axes are shared across columns and rows. Each entry should be an x axis id like *x*, *x2*, etc., or ** to not put an x axis in that column. Entries other than ** must be unique. Ignored if `subplots` is present. If missing but `yaxes` is present, will generate consecutive IDs."},yaxes:{valType:"info_array",freeLength:!0,
items:{valType:"enumerated",values:[b.y.toString(),""],editType:"plot"},role:"info",editType:"plot",description:"Used with `yaxes` when the x and y axes are shared across columns and rows. Each entry should be an y axis id like *y*, *y2*, etc., or ** to not put a y axis in that row. Entries other than ** must be unique. Ignored if `subplots` is present. If missing but `xaxes` is present, will generate consecutive IDs."},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",
role:"info",editType:"plot",description:"If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`, we can generate defaults using consecutive axis IDs, in two ways: *coupled* gives one x axis per column and one y axis per row. *independent* uses a new xy pair for each cell, left-to-right across each row then iterating rows according to `roworder`."},xgap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:"Horizontal space between grid cells, expressed as a fraction of the total width available to one cell. Defaults to 0.1 for coupled-axes grids and 0.2 for independent grids."},
ygap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:"Vertical space between grid cells, expressed as a fraction of the total height available to one cell. Defaults to 0.1 for coupled-axes grids and 0.3 for independent grids."},domain:d({name:"grid",editType:"plot",noGridCell:!0},{description:"The first and last cells end exactly at the domain edges, with no grout around the edges."}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",
role:"info",editType:"ticks",description:"Sets where the x axis labels and titles go. *bottom* means the very bottom of the grid. *bottom plot* is the lowest plot that each x axis is used in. *top* and *top plot* are similar."},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",role:"info",editType:"ticks",description:"Sets where the y axis labels and titles go. *left* means the very left edge of the grid. *left plot* is the leftmost plot that each y axis is used in. *right* and *right plot* are similar."},
editType:"plot"};p.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:function(d,b){function e(a,c){return k.coerce(g,r,h,a,c)}var g=d.grid;if(g){d=Array.isArray(g.subplots)&&Array.isArray(g.subplots[0]);var f=Array.isArray(g.xaxes),c=Array.isArray(g.yaxes);if(d){var q=g.subplots.length;var a=g.subplots[0].length}else c&&(q=g.yaxes.length),f&&(a=g.xaxes.length);var r=b.grid={};b=e("rows",q);a=e("columns",a);1<b*a&&(d||f||c||"independent"===e("pattern")&&
(d=!0),r._hasSubplotGrid=d,f="top to bottom"===e("roworder"),r._domains={x:n("x",e,d?.2:.1,a),y:n("y",e,d?.3:.1,b,f)})}},contentDefaults:function(d,b){var e=b.grid;if(e&&e._domains){var h=d.grid;b=b._subplots;d=e._hasSubplotGrid;var f=e.rows,c=e.columns,k="independent"===e.pattern,a,r=e._axisMap={};if(d){var n=h.subplots||[];var l=e.subplots=Array(f);var u=1;for(h=0;h<f;h++){var p=l[h]=Array(c),D=n[h]||[];for(a=0;a<c;a++){if(k){var z=1===u?"xy":"x"+u+"y"+u;u++}else z=D[a];p[a]="";if(-1!==b.cartesian.indexOf(z)){var F=
z.indexOf("y");var B=z.slice(0,F);F=z.slice(F);void 0!==r[B]&&r[B]!==a||void 0!==r[F]&&r[F]!==h||(p[a]=z,r[B]=a,r[F]=h)}}}}else e.xaxes=g(h.xaxes,b.xaxis,c,r,"x"),e.yaxes=g(h.yaxes,b.yaxis,f,r,"y");k=e._anchors={};a="top to bottom"===e.roworder;for(var y in r)if(h=y.charAt(0),z=e[h+"side"],8>z.length)k[y]="free";else if("x"===h)if("t"===z.charAt(0)===a?(h=0,n=1,u=f):(h=f-1,u=n=-1),d)for(B=r[y];h!==u;h+=n){if(z=l[h][B])if(F=z.indexOf("y"),z.slice(0,F)===y){k[y]=z.slice(F);break}}else for(;h!==u;h+=
n){if(F=e.yaxes[h],-1!==b.cartesian.indexOf(y+F)){k[y]=F;break}}else if("l"===z.charAt(0)?(h=0,n=1,u=c):(h=c-1,u=n=-1),d)for(B=r[y];h!==u;h+=n){if(z=l[B][h])if(F=z.indexOf("y"),z.slice(F)===y){k[y]=z.slice(0,F);break}}else for(;h!==u;h+=n)if(B=e.xaxes[h],-1!==b.cartesian.indexOf(B+y)){k[y]=B;break}}}}},{"../../lib":414,"../../lib/regex":429,"../../plots/cartesian/constants":463,"../../plots/domain":484}],338:[function(b,p,l){b=b("../../plots/cartesian/constants");p.exports={_isLinkedToArray:"image",
visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:"Determines whether or not this image is visible."},source:{valType:"string",role:"info",editType:"arraydraw",description:"Specifies the URL of the image to be used. The URL must be accessible from the domain where the plot code is run, and can be either relative or absolute."},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether images are drawn below or above traces. When `xref` and `yref` are both set to `paper`, image is drawn below the entire plot area."},
sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:"Sets the image container size horizontally. The image will be sized based on the `position` value. When `xref` is set to `paper`, units are sized relative to the plot width."},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:"Sets the image container size vertically. The image will be sized based on the `position` value. When `yref` is set to `paper`, units are sized relative to the plot height."},
sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:"Specifies which dimension of the image to constrain."},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:"Sets the image's x position. When `xref` is set to `paper`, units are sized relative to the plot height. See `xref` for more info"},
y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:"Sets the image's y position. When `yref` is set to `paper`, units are sized relative to the plot height. See `yref` for more info"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},
xref:{valType:"enumerated",values:["paper",b.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:"Sets the images's x coordinate axis. If set to a x axis id (e.g. *x* or *x2*), the `x` position refers to an x data coordinate If set to *paper*, the `x` position refers to the distance from the left of plot in normalized coordinates where *0* (*1*) corresponds to the left (right)."},yref:{valType:"enumerated",values:["paper",b.idRegex.y.toString()],dflt:"paper",role:"info",
editType:"arraydraw",description:"Sets the images's y coordinate axis. If set to a y axis id (e.g. *y* or *y2*), the `y` position refers to a y data coordinate. If set to *paper*, the `y` position refers to the distance from the bottom of the plot in normalized coordinates where *0* (*1*) corresponds to the bottom (top)."},editType:"arraydraw"}},{"../../plots/cartesian/constants":463}],339:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib/to_log_range");p.exports=function(b,d,h,e){d=d||{};
var k="log"===h&&"linear"===d.type;h="linear"===h&&"log"===d.type;if(k||h){b=b._fullLayout.images;h=d._id.charAt(0);for(var m,t,f=0;f<b.length;f++)if(m=b[f],t="images["+f+"].",m[h+"ref"]===d._id){var c=m[h];m=m["size"+h];k?(c=g(c,d.range),m=m/Math.pow(10,c)/2,m=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10):(c=Math.pow(10,c),m=c*(Math.pow(10,m/2)-Math.pow(10,-m/2)));n(c)?n(m)||(m=null):m=c=null;e(t+h,c);e(t+"size"+h,m)}}}},{"../../lib/to_log_range":439,"fast-isnumeric":95}],340:[function(b,p,l){function n(d,
b,m){function e(a,c){return g.coerce(d,b,h,a,c)}var f=e("source");if(!e("visible",!!f))return b;e("layer");e("xanchor");e("yanchor");e("sizex");e("sizey");e("sizing");e("opacity");m={_fullLayout:m};f=["x","y"];for(var c=0;2>c;c++){var q=f[c],a=k.coerceRef(d,b,m,q,"paper");k.coercePosition(b,m,e,a,q,0)}return b}var g=b("../../lib"),k=b("../../plots/cartesian/axes"),d=b("../../plots/array_container_defaults"),h=b("./attributes");p.exports=function(b,g){d(b,g,{name:"images",handleItemDefaults:n})}},
{"../../lib":414,"../../plots/array_container_defaults":454,"../../plots/cartesian/axes":458,"./attributes":338}],341:[function(b,p,l){var n=b("d3"),g=b("../drawing"),k=b("../../plots/cartesian/axes"),d=b("../../constants/xmlns_namespaces");p.exports=function(b){function e(a){var c=n.select(this);if(!this.img||this.img.src!==a.source){c.attr("xmlns",d.svg);var f=new Promise(function(d){function b(){c.remove();d()}var f=new Image;this.img=f;f.setAttribute("crossOrigin","anonymous");f.onerror=b;f.onload=
function(){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;a.getContext("2d").drawImage(this,0,0);a=a.toDataURL("image/png");c.attr("xlink:href",a);d()};c.on("error",b);f.src=a.source}.bind(this));b._promises.push(f)}}function h(a){var c=n.select(this),d=k.getFromId(b,a.xref),f=k.getFromId(b,a.yref),e=m._size,h=d?Math.abs(d.l2p(a.sizex)-d.l2p(0)):a.sizex*e.w,q=f?Math.abs(f.l2p(a.sizey)-f.l2p(0)):a.sizey*e.h,r=h*p.x[a.xanchor].offset,t=q*p.y[a.yanchor].offset,l=p.x[a.xanchor].sizing+
p.y[a.yanchor].sizing;r=(d?d.r2p(a.x)+d._offset:a.x*e.w+e.l)+r;e=(f?f.r2p(a.y)+f._offset:e.h-a.y*e.h+e.t)+t;switch(a.sizing){case "fill":l+=" slice";break;case "stretch":l="none"}c.attr({x:r,y:e,width:h,height:q,preserveAspectRatio:l,opacity:a.opacity});a=(d?d._id:"")+(f?f._id:"");c.call(g.setClipUrl,a?"clip"+m._uid+a:null)}var m=b._fullLayout,t=[],f={},c=[],q;for(q=0;q<m.images.length;q++){var a=m.images[q];if(a.visible)if("below"===a.layer&&"paper"!==a.xref&&"paper"!==a.yref){var r=a.xref+a.yref;
var l=m._plots[r];l?(l.mainplot&&(r=l.mainplot.id),f[r]||(f[r]=[]),f[r].push(a)):c.push(a)}else"above"===a.layer?t.push(a):c.push(a)}var p={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};q=m._imageLowerLayer.selectAll("image").data(c);r=m._imageUpperLayer.selectAll("image").data(t);q.enter().append("image");r.enter().append("image");q.exit().remove();
r.exit().remove();q.each(function(a){e.bind(this)(a);h.bind(this)(a)});r.each(function(a){e.bind(this)(a);h.bind(this)(a)});t=Object.keys(m._plots);for(q=0;q<t.length;q++)r=t[q],c=m._plots[r],c.imagelayer&&(r=c.imagelayer.selectAll("image").data(f[r]||[]),r.enter().append("image"),r.exit().remove(),r.each(function(a){e.bind(this)(a);h.bind(this)(a)}))}},{"../../constants/xmlns_namespaces":397,"../../plots/cartesian/axes":458,"../drawing":316,d3:86}],342:[function(b,p,l){p.exports={moduleType:"component",
name:"images",layoutAttributes:b("./attributes"),supplyLayoutDefaults:b("./defaults"),includeBasePlot:b("../../plots/cartesian/include_components")("images"),draw:b("./draw"),convertCoords:b("./convert_coords")}},{"../../plots/cartesian/include_components":468,"./attributes":338,"./convert_coords":339,"./defaults":340,"./draw":341}],343:[function(b,p,l){l.isRightAnchor=function(b){return"right"===b.xanchor||"auto"===b.xanchor&&b.x>=2/3};l.isCenterAnchor=function(b){return"center"===b.xanchor||"auto"===
b.xanchor&&b.x>1/3&&b.x<2/3};l.isBottomAnchor=function(b){return"bottom"===b.yanchor||"auto"===b.yanchor&&b.y<=1/3};l.isMiddleAnchor=function(b){return"middle"===b.yanchor||"auto"===b.yanchor&&b.y>1/3&&b.y<2/3}},{}],344:[function(b,p,l){l=b("../../plots/font_attributes");b=b("../color/attributes");p.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:b.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},
borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:l({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:"Determines the order at which the legend items are displayed. If *normal*, the items are displayed top-to-bottom in the same order as the input data. If *reversed*, the items are displayed in the opposite order as *normal*. If *grouped*, the items are displayed in groups (when a trace `legendgroup` is provided). if *grouped+reversed*, the items are displayed in the opposite order as *grouped*."},
tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:"Sets the amount of vertical space (in px) between legend groups."},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",editType:"legend",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:"Sets the legend's horizontal position anchor. This anchor binds the `x` position to the *left*, *center* or *right* of the legend."},
y:{valType:"number",min:-2,max:3,dflt:1,role:"style",editType:"legend",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"legend",description:"Sets the legend's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the legend."},editType:"legend"}},{"../../plots/font_attributes":485,"../color/attributes":290}],345:[function(b,
p,l){p.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],346:[function(b,p,l){var n=b("../../registry"),g=b("../../lib"),k=b("./attributes"),d=b("../../plots/layout_attributes"),h=b("./helpers");p.exports=function(b,l,m){function e(a,d){return g.coerce(f,c,k,a,d)}for(var f=b.legend||{},c={},q=0,a="normal",r,u,p,C,A=0;A<m.length;A++){var D=m[A];h.legendGetsTrace(D)&&(q++,n.traceIs(D,"pie")&&q++);if(n.traceIs(D,"bar")&&"stack"===l.barmode||-1!==["tonextx",
"tonexty"].indexOf(D.fill))a=h.isGrouped({traceorder:a})?"grouped+reversed":"reversed";void 0!==D.legendgroup&&""!==D.legendgroup&&(a=h.isReversed({traceorder:a})?"reversed+grouped":"grouped")}!1!==g.coerce(b,l,d,"showlegend",1<q)&&(l.legend=c,e("bgcolor",l.paper_bgcolor),e("bordercolor"),e("borderwidth"),g.coerceFont(e,"font",l.font),e("orientation"),"h"===c.orientation&&((b=b.xaxis)&&b.rangeslider&&b.rangeslider.visible?(r=0,p="left",u=1.1,C="bottom"):(r=0,p="left",u=-.1,C="top")),e("traceorder",
a),h.isGrouped(l.legend)&&e("tracegroupgap"),e("x",r),e("xanchor",p),e("y",u),e("yanchor",C),g.noneOrAll(f,c,["x","y"]))}},{"../../lib":414,"../../plots/layout_attributes":500,"../../registry":517,"./attributes":344,"./helpers":350}],347:[function(b,p,l){function n(d,b){function f(f){a.convertToTspans(f,b,function(){var f=d.data()[0][0];if(f.trace.showlegend){var e=d.select("g[class*=math-group]"),g=e.node(),h=b._fullLayout.legend.font.size*C;if(g){h=c.bBox(g);g=h.height;var k=h.width;c.setTranslate(e,
0,g/4)}else{e=d.select(".legendtext");var m=a.lineCount(e);k=e.node();g=h*m;k=k?c.bBox(k).width:0;a.positionText(e,40,h*(.3+(1-m)/2))}g=Math.max(g,16)+3;f.height=g;f.width=k}else d.remove()})}var e=d.data()[0][0],g=b._fullLayout,h=e.trace,k=t.traceIs(h,"pie"),m=h.index;h=k?e.label:h.name;var q=d.selectAll("text.legendtext").data([0]);q.enter().append("text").classed("legendtext",!0);q.attr("text-anchor","start").classed("user-select-none",!0).call(c.font,g.legend.font).text(h);if(b._context.edits.legendText&&
!k)q.call(a.makeEditable,{gd:b}).call(f).on("edit",function(a){this.text(a).call(f);var c=a;this.text()||(a="    ");var d=e.trace._fullInput||{},g={};-1!==["ohlc","candlestick"].indexOf(d.type)?(c=e.trace.transforms,c=c[c.length-1].direction,g[c+".name"]=a):t.hasTransform(d,"groupby")?(g=t.getTransformIndices(d,"groupby"),g=u.keyedContainer(d,"transforms["+g[g.length-1]+"].styles","target","value.name"),""===c?g.remove(e.trace._group):g.set(e.trace._group,a),g=g.constructUpdate()):g.name=a;return t.call("restyle",
b,g,m)});else f(q)}function g(a,c){var d,b=1,f=a.selectAll("rect").data([0]);f.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(q.fill,"rgba(0,0,0,0)");f.on("mousedown",function(){d=(new Date).getTime();d-c._legendMouseDownTime<w?b+=1:(b=1,c._legendMouseDownTime=d)});f.on("mouseup",function(){if(!c._dragged&&!c._editing){var d=c._fullLayout.legend;(new Date).getTime()-c._legendMouseDownTime>w&&(b=Math.max(b-1,1));1===b?d._clickTimeout=setTimeout(function(){r(a,
c,b)},w):2===b&&(d._clickTimeout&&clearTimeout(d._clickTimeout),c._legendMouseDownTime=0,r(a,c,b))}})}function k(a,d,b){var f=a._fullLayout,g=f.legend,h=g.borderwidth,k=B.isGrouped(g),m=0;g._width=0;g._height=0;if(B.isVertical(g))k&&d.each(function(a,d){c.setTranslate(this,0,d*g.tracegroupgap)}),b.each(function(a){var d=a[0];a=d.height;d=d.width;c.setTranslate(this,h,5+h+g._height+a/2);g._height+=a;g._width=Math.max(g._width,d)}),g._width+=45+2*h,g._height+=10+2*h,k&&(g._height+=(g._lgroupsLength-
1)*g.tracegroupgap),m=40;else if(k){var q=[g._width];k=d.data();for(var r=0,t=k.length;r<t;r++){var n=k[r].map(function(a){return a[0].width});n=40+Math.max.apply(null,n);g._width+=g.tracegroupgap+n;q.push(g._width)}d.each(function(a,d){c.setTranslate(this,q[d],0)});d.each(function(){var a=0;e.select(this).selectAll("g.traces").each(function(d){d=d[0].height;c.setTranslate(this,0,5+h+a+d/2);a+=d});g._height=Math.max(g._height,a)});g._height+=10+2*h;g._width+=2*h}else{var l=0,u=0,p=0,v=0,w=0,x=g.tracegroupgap||
5;b.each(function(a){p=Math.max(40+a[0].width,p);w+=40+a[0].width+x});var y=f.width-(f.margin.r+f.margin.l)>h+w-x;b.each(function(a){var d=a[0];a=y?40+a[0].width:p;h+v+x+a>f.width-(f.margin.r+f.margin.l)&&(v=0,l+=u,g._height+=u,u=0);c.setTranslate(this,h+v,5+h+d.height/2+l);g._width+=x+a;g._height=Math.max(g._height,d.height);v+=x+a;u=Math.max(d.height,u)});g._width+=2*h;g._height+=10+2*h}g._width=Math.ceil(g._width);g._height=Math.ceil(g._height);b.each(function(d){d=d[0];var b=e.select(this).select(".legendtoggle");
c.setRect(b,0,-d.height/2,(a._context.edits.legendText?0:g._width)+m,d.height)})}function d(a){var c=a._fullLayout.legend,d="left";y.isRightAnchor(c)?d="right":y.isCenterAnchor(c)&&(d="center");var b="top";y.isBottomAnchor(c)?b="bottom":y.isMiddleAnchor(c)&&(b="middle");m.autoMargin(a,"legend",{x:c.x,y:c.y,l:c._width*A[d],r:c._width*D[d],b:c._height*D[b],t:c._height*A[b]})}function h(a){var c=a._fullLayout.legend,d="left";y.isRightAnchor(c)?d="right":y.isCenterAnchor(c)&&(d="center");m.autoMargin(a,
"legend",{x:c.x,y:.5,l:c._width*A[d],r:c._width*D[d],b:0,t:0})}var e=b("d3"),u=b("../../lib"),m=b("../../plots/plots"),t=b("../../registry"),f=b("../dragelement"),c=b("../drawing"),q=b("../color"),a=b("../../lib/svg_text_utils"),r=b("./handle_click"),v=b("./constants");l=b("../../constants/interactions");var x=b("../../constants/alignment"),C=x.LINE_SPACING,A=x.FROM_TL,D=x.FROM_BR,z=b("./get_legend_data"),F=b("./style"),B=b("./helpers"),y=b("./anchor_utils"),w=l.DBLCLICKDELAY;p.exports=function(a){function b(d,
b,f){x._scrollY=a._fullLayout.legend._scrollY=d;c.setTranslate(P,0,-d);c.setRect(U,ea,v.scrollBarMargin+d*f,v.scrollBarWidth,b);A.select("rect").attr({y:x.borderwidth+d})}var l=a._fullLayout,p="legend"+l._uid;if(l._infolayer&&a.calcdata){a._legendMouseDownTime||(a._legendMouseDownTime=0);var x=l.legend,B=l.showlegend&&z(a.calcdata,x),C=l.hiddenlabels||[];if(l.showlegend&&B.length){var G=l._infolayer.selectAll("g.legend").data([0]);G.enter().append("g").attr({"class":"legend","pointer-events":"all"});
var A=l._topdefs.selectAll("#"+p).data([0]);A.enter().append("clipPath").attr("id",p).append("rect");var D=G.selectAll("rect.bg").data([0]);D.enter().append("rect").attr({"class":"bg","shape-rendering":"crispEdges"});D.call(q.stroke,x.bordercolor).call(q.fill,x.bgcolor).style("stroke-width",x.borderwidth+"px");var P=G.selectAll("g.scrollbox").data([0]);P.enter().append("g").attr("class","scrollbox");var U=G.selectAll("rect.scrollbar").data([0]);U.enter().append("rect").attr({"class":"scrollbar",rx:20,
ry:3,width:0,height:0}).call(q.fill,"#808BA4");var aa=P.selectAll("g.groups").data(B);aa.enter().append("g").attr("class","groups");aa.exit().remove();var W=aa.selectAll("g.traces").data(u.identity);W.enter().append("g").attr("class","traces");W.exit().remove();W.call(F,a).style("opacity",function(a){var c=a[0].trace;return t.traceIs(c,"pie")?-1!==C.indexOf(a[0].label)?.5:1:"legendonly"===c.visible?.5:1}).each(function(){e.select(this).call(n,a).call(g,a)});0!==G.enter().size()&&(k(a,aa,W),d(a));
var R=l.width;B=l.height;k(a,aa,W);x._height>B?h(a):d(a);var T=l._size;aa=T.l+T.w*x.x;W=T.t+T.h*(1-x.y);y.isRightAnchor(x)?aa-=x._width:y.isCenterAnchor(x)&&(aa-=x._width/2);y.isBottomAnchor(x)?W-=x._height:y.isMiddleAnchor(x)&&(W-=x._height/2);var ea=x._width,S=T.w;ea>S?(aa=T.l,ea=S):(aa+ea>R&&(aa=R-ea),0>aa&&(aa=0),ea=Math.min(R-aa,x._width));R=x._height;S=T.h;R>S?(W=T.t,R=S):(W+R>B&&(W=B-R),0>W&&(W=0),R=Math.min(B-W,x._height));c.setTranslate(G,aa,W);U.on(".drag",null);G.on("wheel",null);if(x._height<=
R||a._context.staticPlot)D.attr({width:ea-x.borderwidth,height:R-x.borderwidth,x:x.borderwidth/2,y:x.borderwidth/2}),c.setTranslate(P,0,0),A.select("rect").attr({width:ea-2*x.borderwidth,height:R-2*x.borderwidth,x:x.borderwidth,y:x.borderwidth}),c.setClipUrl(P,p),c.setRect(U,0,0,0,0),delete x._scrollY;else{var V=Math.max(v.scrollBarMinHeight,R*R/x._height),ba=R-V-2*v.scrollBarMargin,ja=x._height-R,X=ba/ja,na=Math.min(x._scrollY||0,ja);D.attr({width:ea-2*x.borderwidth+v.scrollBarWidth+v.scrollBarMargin,
height:R-x.borderwidth,x:x.borderwidth/2,y:x.borderwidth/2});A.select("rect").attr({width:ea-2*x.borderwidth+v.scrollBarWidth+v.scrollBarMargin,height:R-2*x.borderwidth,x:x.borderwidth,y:x.borderwidth+na});c.setClipUrl(P,p);b(na,V,X);G.on("wheel",function(){na=u.constrain(x._scrollY+e.event.deltaY/ba*ja,0,ja);b(na,V,X);0!==na&&na!==ja&&e.event.preventDefault()});var oa,Aa;p=e.behavior.drag().on("dragstart",function(){oa=e.event.sourceEvent.clientY;Aa=na}).on("drag",function(){var a=e.event.sourceEvent;
2===a.buttons||a.ctrlKey||(na=u.constrain((a.clientY-oa)/X+Aa,0,ja),b(na,V,X))});U.call(p)}if(a._context.edits.legendPosition){var ka,Y,ca,la;G.classed("cursor-move",!0);f.init({element:G.node(),gd:a,prepFn:function(){var a=c.getTranslate(G);ca=a.x;la=a.y},moveFn:function(a,d){a=ca+a;d=la+d;c.setTranslate(G,a,d);ka=f.align(a,0,T.l,T.l+T.w,x.xanchor);Y=f.align(d,0,T.t+T.h,T.t,x.yanchor)},doneFn:function(){void 0!==ka&&void 0!==Y&&t.call("relayout",a,{"legend.x":ka,"legend.y":Y})},clickFn:function(c,
d){var b=l._infolayer.selectAll("g.traces").filter(function(){var a=this.getBoundingClientRect();return d.clientX>=a.left&&d.clientX<=a.right&&d.clientY>=a.top&&d.clientY<=a.bottom});0<b.size()&&(1===c?G._clickTimeout=setTimeout(function(){r(b,a,c)},w):2===c&&(G._clickTimeout&&clearTimeout(G._clickTimeout),r(b,a,c)))}})}}else l._infolayer.selectAll(".legend").remove(),l._topdefs.select("#"+p).remove(),m.autoMargin(a,"legend")}}},{"../../constants/alignment":391,"../../constants/interactions":394,
"../../lib":414,"../../lib/svg_text_utils":437,"../../plots/plots":502,"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"./anchor_utils":343,"./constants":345,"./get_legend_data":348,"./handle_click":349,"./helpers":350,"./style":352,d3:86}],348:[function(b,p,l){var n=b("../../registry"),g=b("./helpers");p.exports=function(b,d){function h(a,c){""!==a&&g.isGrouped(d)?-1===k.indexOf(a)?(k.push(a),m=!0,e[a]=[[c]]):e[a].push([c]):(a="~~i"+f,k.push(a),e[a]=[[c]],f++)}var e={},
k=[],m=!1,t={},f=0,c;for(c=0;c<b.length;c++){var q=b[c];var a=q[0];var r=a.trace,l=r.legendgroup;if(g.legendGetsTrace(r)&&r.showlegend)if(n.traceIs(r,"pie"))for(t[l]||(t[l]={}),a=0;a<q.length;a++){var p=q[a].label;t[l][p]||(h(l,{label:p,color:q[a].color,i:q[a].i,trace:r}),t[l][p]=!0)}else h(l,a)}if(!k.length)return[];b=k.length;if(m&&g.isGrouped(d))for(q=Array(b),c=0;c<b;c++)t=e[k[c]],q[c]=g.isReversed(d)?t.reverse():t;else{q=[Array(b)];for(c=0;c<b;c++)t=e[k[c]][0],q[0][g.isReversed(d)?b-c-1:c]=t;
b=1}d._lgroupsLength=b;return q}},{"../../registry":517,"./helpers":350}],349:[function(b,p,l){var n=b("../../lib"),g=b("../../registry"),k=!0;p.exports=function(d,b,e){function h(c,d,b){var f=r.indexOf(c),e=a[d];e||(e=a[d]=[]);-1===r.indexOf(c)&&(r.push(c),f=r.length-1);e[f]=b;return f}function m(a,c){var d=a._fullInput;if(g.hasTransform(d,"groupby")){var b=l[d.index];b||(b=g.getTransformIndices(d,"groupby"),b=n.keyedContainer(d,"transforms["+b[b.length-1]+"].styles","target","value.visible"),l[d.index]=
b);var f=b.get(a._group);void 0===f&&(f=!0);!1!==f&&b.set(a._group,c);p[d.index]=h(d.index,"visible",!1===d.visible?!1:!0)}else h(d.index,"visible",!1===d.visible?!1:c)}if(!b._dragged&&!b._editing){var t=b._fullLayout.hiddenlabels?b._fullLayout.hiddenlabels.slice():[];d=d.data()[0][0];var f=b._fullData,c=d.trace,q=c.legendgroup,a={},r=[],l=[],p=[];1===e&&k&&b.data&&b._context.showTips&&n.notifier(n._(b,"Double-click on legend to isolate one trace"),"long");k=!1;if(g.traceIs(c,"pie")){var C=d.label;
d=t.indexOf(C);1===e?-1===d?t.push(C):t.splice(d,1):2===e&&(t=[],b.calcdata[0].forEach(function(a){C!==a.label&&t.push(a.label)}),b._fullLayout.hiddenlabels&&b._fullLayout.hiddenlabels.length===t.length&&-1===d&&(t=[]));g.call("relayout",b,"hiddenlabels",t)}else{var A=q&&q.length,D=[];if(A)for(d=0;d<f.length;d++){var z=f[d];z.visible&&z.legendgroup===q&&D.push(d)}if(1===e){switch(c.visible){case !0:var F="legendonly";break;case !1:F=!1;break;case "legendonly":F=!0}if(A)for(d=0;d<f.length;d++)!1!==
f[d].visible&&f[d].legendgroup===q&&m(f[d],F);else m(c,F)}else if(2===e){F=!0;for(d=0;d<f.length;d++)if(D=f[d]===c,!D&&(D=A&&f[d].legendgroup===q,!D&&!0===f[d].visible&&!g.traceIs(f[d],"notLegendIsolatable"))){F=!1;break}for(d=0;d<f.length;d++)if(!1!==f[d].visible&&!g.traceIs(f[d],"notLegendIsolatable"))switch(c.visible){case "legendonly":m(f[d],!0);break;case !0:e=F?!0:"legendonly",D=(D=f[d]===c)||A&&f[d].legendgroup===q,m(f[d],D?!0:e)}}for(d=0;d<l.length;d++)if(f=l[d])for(A=f.constructUpdate(),
e=Object.keys(A),f=0;f<e.length;f++)c=e[f],q=a[c]=a[c]||[],q[p[d]]=A[c];q=Object.keys(a);for(d=0;d<q.length;d++)for(c=q[d],f=0;f<r.length;f++)a[c].hasOwnProperty(f)||(a[c][f]=void 0);g.call("restyle",b,a,r)}}}},{"../../lib":414,"../../registry":517}],350:[function(b,p,l){l.legendGetsTrace=function(b){return b.visible&&void 0!==b.showlegend};l.isGrouped=function(b){return-1!==(b.traceorder||"").indexOf("grouped")};l.isVertical=function(b){return"h"!==b.orientation};l.isReversed=function(b){return-1!==
(b.traceorder||"").indexOf("reversed")}},{}],351:[function(b,p,l){p.exports={moduleType:"component",name:"legend",layoutAttributes:b("./attributes"),supplyLayoutDefaults:b("./defaults"),draw:b("./draw"),style:b("./style")}},{"./attributes":344,"./defaults":346,"./draw":347,"./style":352}],352:[function(b,p,l){var n=b("d3"),g=b("../../registry"),k=b("../../lib"),d=b("../drawing"),h=b("../color"),e=b("../../traces/scatter/subtypes"),u=b("../../traces/pie/style_one");p.exports=function(b,t){b.each(function(d){var c=
n.select(this).selectAll("g.layers").data([0]);c.enter().append("g").classed("layers",!0);c.style("opacity",d[0].trace.opacity);c.selectAll("g.legendfill").data([d]).enter().append("g").classed("legendfill",!0);c.selectAll("g.legendlines").data([d]).enter().append("g").classed("legendlines",!0);c=c.selectAll("g.legendsymbols").data([d]);c.enter().append("g").classed("legendsymbols",!0);c.selectAll("g.legendpoints").data([d]).enter().append("g").classed("legendpoints",!0)}).each(function(d){var c=
d[0].trace,b=c.marker||{},a=b.line||{};d=n.select(this).select("g.legendpoints").selectAll("path.legendbar").data(g.traceIs(c,"bar")?[d]:[]);d.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)");d.exit().remove();d.each(function(c){var d=n.select(this);c=c[0];var f=(c.mlw+1||a.width+1)-1;d.style("stroke-width",f+"px").call(h.fill,c.mc||b.color);f&&d.call(h.stroke,c.mlc||a.color)})}).each(function(d){var c=d[0].trace;d=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(g.traceIs(c,
"box-violin")&&c.visible?[d]:[]);d.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)");d.exit().remove();d.each(function(){var d=c.line.width,a=n.select(this);a.style("stroke-width",d+"px").call(h.fill,c.fillcolor);d&&a.call(h.stroke,c.line.color)})}).each(function(d){var c=d[0].trace,b=n.select(this).select("g.legendpoints").selectAll("path.legendpie").data(g.traceIs(c,"pie")&&c.visible?[d]:[]);b.enter().append("path").classed("legendpie",
!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)");b.exit().remove();b.size()&&b.call(u,d[0],c)}).each(function(b){var c=b[0].trace,f=c.visible&&c.fill&&"none"!==c.fill,a=e.hasLines(c);(c=c.contours)&&"constraint"===c.type&&(a=c.showlines,f="="!==c._operation);f=n.select(this).select(".legendfill").selectAll("path").data(f?[b]:[]);f.enter().append("path").classed("js-fill",!0);f.exit().remove();f.attr("d","M5,0h30v6h-30z").call(d.fillGroupStyle);b=n.select(this).select(".legendlines").selectAll("path").data(a?
[b]:[]);b.enter().append("path").classed("js-line",!0).attr("d","M5,0h30");b.exit().remove();b.call(d.lineGroupStyle)}).each(function(b){function c(a,c,d){a=k.nestedProperty(g,a).get();c=Array.isArray(a)&&c?c(a):a;if(d){if(c<d[0])return d[0];if(c>d[1])return d[1]}return c}function f(a){return a[0]}var a=b[0],g=a.trace;b=e.hasMarkers(g);var h=e.hasText(g),m=e.hasLines(g);if(b||h||m){var l={};var u={};b&&(l.mc=c("marker.color",f),l.mo=c("marker.opacity",k.mean,[.2,1]),l.ms=c("marker.size",k.mean,[2,
16]),l.mlc=c("marker.line.color",f),l.mlw=c("marker.line.width",k.mean,[0,5]),u.marker={sizeref:1,sizemin:1,sizemode:"diameter"});m&&(u.line={width:c("line.width",f,[0,10])});h&&(l.tx="Aa",l.tp=c("textposition",f),l.ts=10,l.tc=c("textfont.color",f),l.tf=c("textfont.family",f));l=[k.minExtend(a,l)];u=k.minExtend(g,u)}a=n.select(this).select("g.legendpoints");m=a.selectAll("path.scatterpts").data(b?l:[]);m.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)");m.exit().remove();
m.call(d.pointStyle,u,t);b&&(l[0].mrc=3);b=a.selectAll("g.pointtext").data(h?l:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)");b.exit().remove();b.selectAll("text").call(d.textPointStyle,u,t)})}},{"../../lib":414,"../../registry":517,"../../traces/pie/style_one":557,"../../traces/scatter/subtypes":587,"../color":291,"../drawing":316,d3:86}],353:[function(b,p,l){function n(a,c){var d=c.currentTarget,b=d.getAttribute("data-attr");c=d.getAttribute("data-val")||
!0;var e=a._fullLayout,g={},h=f.list(a,null,!0),k="on",q;if("zoom"===b){d="in"===c?.5:2;b=(1+d)/2;var r=(1-d)/2;for(q=0;q<h.length;q++)if(d=h[q],!d.fixedrange){var t=d._name;if("auto"===c)g[t+".autorange"]=!0;else if("reset"===c){if(void 0===d._rangeInitial)g[t+".autorange"]=!0;else{var n=d._rangeInitial.slice();g[t+".range[0]"]=n[0];g[t+".range[1]"]=n[1]}void 0!==d._showSpikeInitial&&(g[t+".showspikes"]=d._showSpikeInitial,"on"!==k||d._showSpikeInitial||(k="off"))}else n=[d.r2l(d.range[0]),d.r2l(d.range[1])],
n=[b*n[0]+r*n[1],b*n[1]+r*n[0]],g[t+".range[0]"]=d.l2r(n[0]),g[t+".range[1]"]=d.l2r(n[1])}e._cartesianSpikesEnabled=k}else{if("hovermode"===b&&("x"===c||"y"===c))c=e._isHoriz?"y":"x",d.setAttribute("data-val",c);else if("hovermode"===b&&"closest"===c){for(q=0;q<h.length;q++)d=h[q],"on"!==k||d.showspikes||(k="off");e._cartesianSpikesEnabled=k}g[b]=c}m.call("relayout",a,g)}function g(a,c){c=c.currentTarget;var d=c.getAttribute("data-attr");c=c.getAttribute("data-val")||!0;var b=a._fullLayout._subplots.gl3d,
e={};d=d.split(".");for(var f=0;f<b.length;f++)e[b[f]+"."+d[1]]=c;e.dragmode="pan"===c?c:"zoom";m.call("relayout",a,e)}function k(a,d){d=d.currentTarget.getAttribute("data-attr");for(var b=a._fullLayout,e=b._subplots.gl3d,f={},g=0;g<e.length;g++){var h=e[g],k=h+".camera";h=b[h]._scene;"resetDefault"===d?f[k]=null:"resetLastSave"===d&&(f[k]=c.extendDeep({},h.cameraInitial))}m.call("relayout",a,f)}function d(a,d){d=d.currentTarget;var b=d._previousVal||!1,e=a.layout,f=a._fullLayout,g=f._subplots.gl3d,
h=["xaxis","yaxis","zaxis"],k=["showspikes","spikesides","spikethickness","spikecolor"],q={};if(b)b=c.extendDeep(e,b),d._previousVal=null;else{b={"allaxes.showspikes":!1};for(e=0;e<g.length;e++){var r=g[e];var t=f[r],n=q[r]={};n.hovermode=t.hovermode;b[r+".hovermode"]=!1;for(var l=0;3>l;l++){var u=h[l];r=n[u]={};for(var p=0;p<k.length;p++){var K=k[p];r[K]=t[u][K]}}}d._previousVal=c.extendDeep({},q)}m.call("relayout",a,b)}function h(a,c){var d=c.currentTarget;c=d.getAttribute("data-attr");d=d.getAttribute("data-val")||
!0;for(var b=a._fullLayout,e=b._subplots.geo,f=0;f<e.length;f++){var g=e[f],h=b[g];"zoom"===c?(h=h.projection.scale,m.call("relayout",a,g+".projection.scale","in"===d?2*h:.5*h)):"reset"===c&&u(a,"geo")}}function e(a){var c=a._fullLayout;c=c._has("cartesian")?c._isHoriz?"y":"x":"closest";m.call("relayout",a,"hovermode",a._fullLayout.hovermode?!1:c)}function u(a,c){var d=a._fullLayout;c=d._subplots[c];for(var b={},e=0;e<c.length;e++)for(var f=c[e],g=d[f]._subplot.viewInitial,h=Object.keys(g),k=0;k<
h.length;k++){var q=h[k];b[f+"."+q]=g[q]}m.call("relayout",a,b)}var m=b("../../registry"),t=b("../../plots/plots"),f=b("../../plots/cartesian/axis_ids"),c=b("../../lib");b=b("../../../build/ploticon");var q=c._;p=p.exports={};p.toImage={name:"toImage",title:function(a){return q(a,"Download plot as a png")},icon:b.camera,click:function(a){var d="png";c.notifier(q(a,"Taking snapshot - this may take a few seconds"),"long");c.isIE()&&(c.notifier(q(a,"IE only supports svg.  Changing format to svg."),"long"),
d="svg");m.call("downloadImage",a,{format:d}).then(function(d){c.notifier(q(a,"Snapshot succeeded")+" - "+d,"long")}).catch(function(){c.notifier(q(a,"Sorry, there was a problem downloading your snapshot!"),"long")})}};p.sendDataToCloud={name:"sendDataToCloud",title:function(a){return q(a,"Edit in Chart Studio")},icon:b.disk,click:function(a){t.sendDataToCloud(a)}};p.zoom2d={name:"zoom2d",title:function(a){return q(a,"Zoom")},attr:"dragmode",val:"zoom",icon:b.zoombox,click:n};p.pan2d={name:"pan2d",
title:function(a){return q(a,"Pan")},attr:"dragmode",val:"pan",icon:b.pan,click:n};p.select2d={name:"select2d",title:function(a){return q(a,"Box Select")},attr:"dragmode",val:"select",icon:b.selectbox,click:n};p.lasso2d={name:"lasso2d",title:function(a){return q(a,"Lasso Select")},attr:"dragmode",val:"lasso",icon:b.lasso,click:n};p.zoomIn2d={name:"zoomIn2d",title:function(a){return q(a,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:n};p.zoomOut2d={name:"zoomOut2d",title:function(a){return q(a,
"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:n};p.autoScale2d={name:"autoScale2d",title:function(a){return q(a,"Autoscale")},attr:"zoom",val:"auto",icon:b.autoscale,click:n};p.resetScale2d={name:"resetScale2d",title:function(a){return q(a,"Reset axes")},attr:"zoom",val:"reset",icon:b.home,click:n};p.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(a){return q(a,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:n};
p.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(a){return q(a,"Compare data on hover")},attr:"hovermode",val:function(a){return a._fullLayout._isHoriz?"y":"x"},icon:b.tooltip_compare,gravity:"ne",click:n};p.zoom3d={name:"zoom3d",title:function(a){return q(a,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:b.zoombox,click:g};p.pan3d={name:"pan3d",title:function(a){return q(a,"Pan")},attr:"scene.dragmode",val:"pan",icon:b.pan,click:g};p.orbitRotation={name:"orbitRotation",title:function(a){return q(a,
"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:b["3d_rotate"],click:g};p.tableRotation={name:"tableRotation",title:function(a){return q(a,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:b["z-axis"],click:g};p.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(a){return q(a,"Reset camera to default")},attr:"resetDefault",icon:b.home,click:k};p.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(a){return q(a,"Reset camera to last save")},
attr:"resetLastSave",icon:b.movie,click:k};p.hoverClosest3d={name:"hoverClosest3d",title:function(a){return q(a,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:d};p.zoomInGeo={name:"zoomInGeo",title:function(a){return q(a,"Zoom in")},attr:"zoom",val:"in",icon:b.zoom_plus,click:h};p.zoomOutGeo={name:"zoomOutGeo",title:function(a){return q(a,"Zoom out")},attr:"zoom",val:"out",icon:b.zoom_minus,click:h};p.resetGeo={name:"resetGeo",title:function(a){return q(a,
"Reset")},attr:"reset",val:null,icon:b.autoscale,click:h};p.hoverClosestGeo={name:"hoverClosestGeo",title:function(a){return q(a,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:e};p.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(a){return q(a,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:e};p.hoverClosestPie={name:"hoverClosestPie",title:function(a){return q(a,
"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:b.tooltip_basic,gravity:"ne",click:e};p.toggleHover={name:"toggleHover",title:function(a){return q(a,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:b.tooltip_basic,gravity:"ne",click:function(a,c){e(a);d(a,c)}};p.resetViews={name:"resetViews",title:function(a){return q(a,"Reset views")},icon:b.home,click:function(a,c){var d=c.currentTarget;d.setAttribute("data-attr","zoom");d.setAttribute("data-val",
"reset");n(a,c);d.setAttribute("data-attr","resetLastSave");k(a,c);u(a,"geo");u(a,"mapbox")}};p.toggleSpikelines={name:"toggleSpikelines",title:function(a){return q(a,"Toggle Spike Lines")},icon:b.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(a){var c=a._fullLayout;c._cartesianSpikesEnabled="on"===c._cartesianSpikesEnabled?"off":"on";c=a._fullLayout;for(var d=f.list(a,null,!0),b={},e,g,h=0;h<d.length;h++)e=d[h],g=e._name,b[g+".showspikes"]="on"===c._cartesianSpikesEnabled?!0:e._showSpikeInitial;
m.call("relayout",a,b)}};p.resetViewMapbox={name:"resetViewMapbox",title:function(a){return q(a,"Reset view")},attr:"reset",icon:b.home,click:function(a){u(a,"mapbox")}}},{"../../../build/ploticon":10,"../../lib":414,"../../plots/cartesian/axis_ids":461,"../../plots/plots":502,"../../registry":517}],354:[function(b,p,l){l.manage=b("./manage")},{"./manage":355}],355:[function(b,p,l){function n(b,c,e){function a(a){if(a.length){for(var d=[],b=0;b<a.length;b++){var e=a[b];-1===c.indexOf(e)&&d.push(t[e])}y.push(d)}}
var f=b._fullLayout;b=b._fullData;var h=f._has("cartesian"),m=f._has("gl3d"),q=f._has("geo"),n=f._has("pie"),l=f._has("gl2d"),u=f._has("ternary"),p=f._has("mapbox"),B=f._has("polar");f=g(f);var y=[];a(["toImage","sendDataToCloud"]);var w=[],G=[],E=[],J=[];1<(h||l||n||u)+q+m+p+B?(G=["toggleHover"],E=["resetViews"]):q?(w=["zoomInGeo","zoomOutGeo"],G=["hoverClosestGeo"],E=["resetGeo"]):m?(G=["hoverClosest3d"],E=["resetCameraDefault3d","resetCameraLastSave3d"]):p?(G=["toggleHover"],E=["resetViewMapbox"]):
G=l?["hoverClosestGl2d"]:n?["hoverClosestPie"]:["toggleHover"];h&&(G=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);!h&&!l||f||(w=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==E[0]&&(E=["resetScale2d"]));m?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(h||l)&&!f||u?J=["zoom2d","pan2d"]:p||q?J=["pan2d"]:B&&(J=["zoom2d"]);k(b)&&J.push("select2d","lasso2d");a(J);a(w.concat(E));a(G);return d(y,e)}function g(d){d=h.list({_fullLayout:d},null,!0);for(var c=0;c<d.length;c++)if(!d[c].fixedrange)return!1;
return!0}function k(d){for(var c=!1,b=0;b<d.length&&!c;b++){var a=d[b];if(a._module&&a._module.selectPoints)if(u.traceIs(a,"scatter-like")){if(e.hasMarkers(a)||e.hasText(a))c=!0}else if(u.traceIs(a,"box-violin")){if("all"===a.boxpoints||"all"===a.points)c=!0}else c=!0}return c}function d(d,c){if(c.length)if(Array.isArray(c[0]))for(var b=0;b<c.length;b++)d.push(c[b]);else d.push(c);return d}var h=b("../../plots/cartesian/axis_ids"),e=b("../../traces/scatter/subtypes"),u=b("../../registry"),m=b("./modebar"),
t=b("./buttons");p.exports=function(d){var c=d._fullLayout,b=d._context,a=c._modeBar;if(b.displayModeBar){if(!Array.isArray(b.modeBarButtonsToRemove))throw Error("*modeBarButtonsToRemove* configuration options must be an array.");if(!Array.isArray(b.modeBarButtonsToAdd))throw Error("*modeBarButtonsToAdd* configuration options must be an array.");var e=b.modeBarButtons;if(Array.isArray(e)&&e.length)for(b=0;b<e.length;b++)for(var f=e[b],g=0;g<f.length;g++){var h=f[g];if("string"===typeof h)if(void 0!==
t[h])e[b][g]=t[h];else throw Error("*modeBarButtons* configuration options invalid button name");}else e=n(d,b.modeBarButtonsToRemove,b.modeBarButtonsToAdd);a?a.update(d,e):c._modeBar=m(d,e)}else a&&(a.destroy(),delete c._modeBar)}},{"../../plots/cartesian/axis_ids":461,"../../registry":517,"../../traces/scatter/subtypes":587,"./buttons":353,"./modebar":356}],356:[function(b,p,l){function n(d){this.container=d.container;this.element=document.createElement("div");this.update(d.graphInfo,d.buttons);
this.container.appendChild(this.element)}var g=b("d3"),k=b("../../lib"),d=b("../../../build/ploticon");b=n.prototype;b.update=function(d,b){this.graphInfo=d;d=this.graphInfo._context;this.element.className="hover"===d.displayModeBar?"modebar modebar--hover":"modebar";var e=!this.hasButtons(b),g=this.hasLogo!==d.displaylogo;if(e||g)this.removeAllButtons(),this.updateButtons(b),d.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0);this.updateActiveButton()};b.updateButtons=function(d){var b=
this;this.buttons=d;this.buttonElements=[];this.buttonsNames=[];this.buttons.forEach(function(d){var e=b.createGroup();d.forEach(function(d){var f=d.name;if(!f)throw Error("must provide button 'name' in button config");if(-1!==b.buttonsNames.indexOf(f))throw Error("button name '"+f+"' is taken");b.buttonsNames.push(f);d=b.createButton(d);b.buttonElements.push(d);e.appendChild(d)});b.element.appendChild(e)})};b.createGroup=function(){var d=document.createElement("div");d.className="modebar-group";
return d};b.createButton=function(b){var e=this,h=document.createElement("a");h.setAttribute("rel","tooltip");h.className="modebar-btn";var k=b.title;void 0===k?k=b.name:"function"===typeof k&&(k=k(this.graphInfo));(k||0===k)&&h.setAttribute("data-title",k);void 0!==b.attr&&h.setAttribute("data-attr",b.attr);k=b.val;void 0!==k&&("function"===typeof k&&(k=k(this.graphInfo)),h.setAttribute("data-val",k));if("function"!==typeof b.click)throw Error("must provide button 'click' function in button config");
h.addEventListener("click",function(d){b.click(e.graphInfo,d);e.updateActiveButton(d.currentTarget)});h.setAttribute("data-toggle",b.toggle||!1);b.toggle&&g.select(h).classed("active",!0);h.appendChild(this.createIcon(b.icon||d.question,b.name));h.setAttribute("data-gravity",b.gravity||"n");return h};b.createIcon=function(d,b){var e=d.ascent-d.descent,g=document.createElementNS("http://www.w3.org/2000/svg","svg"),h=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("height",
"1em");g.setAttribute("width",d.width/e+"em");g.setAttribute("viewBox",[0,0,d.width,e].join(" "));b="toggleSpikelines"===b?"matrix(1.5 0 0 -1.5 0 "+d.ascent+")":"matrix(1 0 0 -1 0 "+d.ascent+")";h.setAttribute("d",d.path);h.setAttribute("transform",b);g.appendChild(h);return g};b.updateActiveButton=function(d){var b=this.graphInfo._fullLayout,h=void 0!==d?d.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var e=d.getAttribute("data-val")||!0,f=d.getAttribute("data-attr"),c="true"===
d.getAttribute("data-toggle");d=g.select(d);c?f===h&&d.classed("active",!d.classed("active")):(f=null===f?f:k.nestedProperty(b,f).get(),d.classed("active",f===e))})};b.hasButtons=function(d){var b=this.buttons;if(!b||d.length!==b.length)return!1;for(var g=0;g<d.length;++g){if(d[g].length!==b[g].length)return!1;for(var h=0;h<d[g].length;h++)if(d[g][h].name!==b[g][h].name)return!1}return!0};b.getLogo=function(){var b=this.createGroup(),e=document.createElement("a");e.href="https://plot.ly/";e.target=
"_blank";e.setAttribute("data-title",k._(this.graphInfo,"Produced with Plotly"));e.className="modebar-btn plotlyjsicon modebar-btn--logo";e.appendChild(this.createIcon(d.plotlylogo));b.appendChild(e);return b};b.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1};b.destroy=function(){k.removeElement(this.container.querySelector(".modebar"))};p.exports=function(d,b){var e=d._fullLayout;d=new n({graphInfo:d,container:e._paperdiv.node(),
buttons:b});e._privateplot&&g.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE");return d}},{"../../../build/ploticon":10,"../../lib":414,d3:86}],357:[function(b,p,l){l=b("../../plots/font_attributes");var n=b("../color/attributes"),g=b("../../lib/extend").extendFlat;b=b("./button_attributes");b=g(b,{_isLinkedToArray:"button",description:"Sets the specifications for each buttons. By default, a range selector comes with no buttons."});p.exports={visible:{valType:"boolean",
role:"info",editType:"plot",description:"Determines whether or not this range selector is visible. Note that range selectors are only available for x axes of `type` set to or auto-typed to *date*."},buttons:b,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:"Sets the range selector's horizontal position anchor. This anchor binds the `x` position to the *left*, *center* or *right* of the range selector."},
y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:"Sets the range selector's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the range selector."},font:l({editType:"plot",description:"Sets the font of the range selector button text."}),
bgcolor:{valType:"color",dflt:n.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",
description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},{"../../lib/extend":406,"../../plots/font_attributes":485,"../color/attributes":290,"./button_attributes":358}],358:[function(b,p,l){p.exports={step:{valType:"enumerated",role:"info",values:"month year day hour minute second all".split(" "),dflt:"month",editType:"plot",description:"The unit of measurement that the `count` value will set the range by."},stepmode:{valType:"enumerated",role:"info",values:["backward",
"todate"],dflt:"backward",editType:"plot",description:"Sets the range update mode. If *backward*, the range update shifts the start of range back *count* times *step* milliseconds. If *todate*, the range update shifts the start of range back to the first timestamp from *count* times *step* milliseconds back. For example, with `step` set to *year* and `count` set to *1* the range update shifts the start of the range back to January 01 of the current year. Month and year *todate* are currently available only for the built-in (Gregorian) calendar."},
count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:"Sets the number of steps to take to update the range. Use with `step` to specify the update interval."},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot"}},{}],359:[function(b,p,l){p.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],360:[function(b,p,l){function n(d,b,f){d=d.buttons||[];b=b.buttons=[];for(var c,g,
a=0;a<d.length;a++)if(c=d[a],g={},k.isPlainObject(c)){var h=k.coerce(c,g,e,"step",void 0);"all"!==h&&(!f||"gregorian"===f||"month"!==h&&"year"!==h?k.coerce(c,g,e,"stepmode",void 0):g.stepmode="backward",k.coerce(c,g,e,"count",void 0));k.coerce(c,g,e,"label",void 0);g._index=a;b.push(g)}return b}function g(d,b,e){e=e.filter(function(a){return b[a].anchor===d._id});for(var c=0,f=0;f<e.length;f++){var a=b[e[f]].domain;a&&(c=Math.max(a[1],c))}return[d.domain[0],c+u.yPad]}var k=b("../../lib"),d=b("../color"),
h=b("./attributes"),e=b("./button_attributes"),u=b("./constants");p.exports=function(b,e,f,c,q){function a(a,c){return k.coerce(m,t,h,a,c)}var m=b.rangeselector||{},t=e.rangeselector={};q=n(m,t,q);a("visible",0<q.length)&&(c=g(e,f,c),a("x",c[0]),a("y",c[1]),k.noneOrAll(b,e,["x","y"]),a("xanchor"),a("yanchor"),k.coerceFont(a,"font",f.font),b=a("bgcolor"),a("activecolor",d.contrast(b,u.lightAmount,u.darkAmount)),a("bordercolor"),a("borderwidth"))}},{"../../lib":414,"../color":291,"./attributes":357,
"./button_attributes":358,"./constants":359}],361:[function(b,p,l){function n(c){c=a.list(c,"x",!0);for(var d=[],b=0;b<c.length;b++){var e=c[b];e.rangeselector&&e.rangeselector.visible&&d.push(e)}return d}function g(a){return a._id}function k(a,c,d){if("all"===c.step)return!0===a.autorange;c=Object.keys(d);return a.range[0]===d[c[0]]&&a.range[1]===d[c[1]]}function d(a,c,d){a=a.selectAll("rect").data([0]);a.enter().append("rect").classed("selector-rect",!0);a.attr("shape-rendering","crispEdges");a.attr({rx:A.rx,
ry:A.ry});a.call(f.stroke,c.bordercolor).call(f.fill,d._isActive||d._isHovered?c.activecolor:c.bgcolor).style("stroke-width",c.borderwidth+"px")}function h(a,d,b,e){a=a.selectAll("text").data([0]);a.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0);a.attr("text-anchor","middle");a.call(c.font,d.font).text(b.label?b.label:"all"===b.step?"all":b.count+b.step.charAt(0)).call(function(a){q.convertToTspans(a,e)})}function e(a,d,b,e,f){var g=0,h=0,k=b.borderwidth;d.each(function(){var a=
u.select(this).select(".selector-text");a=Math.max(b.font.size*v*q.lineCount(a),16)+3;h=Math.max(h,a)});d.each(function(){var a=u.select(this),d=a.select(".selector-rect"),e=a.select(".selector-text"),f=e.node()&&c.bBox(e.node()).width,m=b.font.size*v,r=q.lineCount(e);f=Math.max(f+10,A.minButtonWidth);a.attr("transform","translate("+(k+g)+","+k+")");d.attr({x:0,y:0,width:f,height:h});q.positionText(e,f/2,h/2-(r-1)*m/2+3);g+=f+5});var m=a._fullLayout._size;d=m.l+m.w*b.x;m=m.t+m.h*(1-b.y);var n="left";
r.isRightAnchor(b)&&(d-=g,n="right");r.isCenterAnchor(b)&&(d-=g/2,n="center");var l="top";r.isBottomAnchor(b)&&(m-=h,l="bottom");r.isMiddleAnchor(b)&&(m-=h/2,l="middle");g=Math.ceil(g);h=Math.ceil(h);d=Math.round(d);m=Math.round(m);t.autoMargin(a,e+"-range-selector",{x:b.x,y:b.y,l:g*x[n],r:g*C[n],b:h*C[l],t:h*x[l]});f.attr("transform","translate("+d+","+m+")")}var u=b("d3"),m=b("../../registry"),t=b("../../plots/plots"),f=b("../color"),c=b("../drawing"),q=b("../../lib/svg_text_utils"),a=b("../../plots/cartesian/axis_ids"),
r=b("../legend/anchor_utils");l=b("../../constants/alignment");var v=l.LINE_SPACING,x=l.FROM_TL,C=l.FROM_BR,A=b("./constants"),D=b("./get_update_object");p.exports=function(a){var c=a._fullLayout._infolayer.selectAll(".rangeselector").data(n(a),g);c.enter().append("g").classed("rangeselector",!0);c.exit().remove();c.style({cursor:"pointer","pointer-events":"all"});c.each(function(c){var b=u.select(this),f=c.rangeselector,g=b.selectAll("g.button").data(f.buttons);g.enter().append("g").classed("button",
!0);g.exit().remove();g.each(function(b){var e=u.select(this),g=D(c,b);b._isActive=k(c,b,g);e.call(d,f,b);e.call(h,f,b,a);e.on("click",function(){a._dragged||m.call("relayout",a,g)});e.on("mouseover",function(){b._isHovered=!0;e.call(d,f,b)});e.on("mouseout",function(){b._isHovered=!1;e.call(d,f,b)})});e(a,g,f,c._name,b)})}},{"../../constants/alignment":391,"../../lib/svg_text_utils":437,"../../plots/cartesian/axis_ids":461,"../../plots/plots":502,"../../registry":517,"../color":291,"../drawing":316,
"../legend/anchor_utils":343,"./constants":359,"./get_update_object":362,d3:86}],362:[function(b,p,l){var n=b("d3");p.exports=function(b,k){var d=b._name,g={};if("all"===k.step)g[d+".autorange"]=!0;else{var e=b.range,l=new Date(b.r2l(e[1])),m=k.step,t=k.count;switch(k.stepmode){case "backward":var f=b.l2r(+n.time[m].utc.offset(l,-t));break;case "todate":k=n.time[m].utc.offset(l,-t),f=b.l2r(+n.time[m].utc.ceil(k))}b=[f,e[1]];g[d+".range[0]"]=b[0];g[d+".range[1]"]=b[1]}return g}},{d3:86}],363:[function(b,
p,l){p.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:b("./attributes")}}},layoutAttributes:b("./attributes"),handleDefaults:b("./defaults"),draw:b("./draw")}},{"./attributes":357,"./defaults":360,"./draw":361}],364:[function(b,p,l){b=b("../color/attributes");p.exports={bgcolor:{valType:"color",dflt:b.background,role:"style",editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:b.defaultLine,role:"style",
editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"plot",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:"Determines whether or not the range slider range is computed in relation to the input data. If `range` is provided, then `autorange` is set to *false*."},range:{valType:"info_array",
role:"info",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:"Sets the range of the range slider. If not set, defaults to the full xaxis range. If the axis `type` is *log*, then you must take the log of your desired range. If the axis `type` is *date*, it should be date strings, like date data, though Date objects and unix milliseconds will be accepted and converted to strings. If the axis `type` is *category*, it should be numbers, using the scale where each category is assigned a serial number from zero in the order it appears."},
thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"plot",description:"The height of the range slider as a fraction of the total plot area height."},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:"Determines whether or not the range slider will be visible. If visible, perpendicular axes will be set to `fixedrange`"},editType:"calc"}},{"../color/attributes":290}],365:[function(b,p,l){var n=b("../../plots/cartesian/axis_ids").list,g=b("../../plots/cartesian/autorange").getAutoRange,
k=b("./constants");p.exports=function(d){d=n(d,"x",!0);for(var b=0;b<d.length;b++){var e=d[b],l=e[k.name];l&&l.visible&&l.autorange&&e._min.length&&e._max.length&&(l._input.autorange=!0,l._input.range=l.range=g(e))}}},{"../../plots/cartesian/autorange":457,"../../plots/cartesian/axis_ids":461,"./constants":366}],366:[function(b,p,l){p.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",
maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",
slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],367:[function(b,p,l){var n=b("../../lib"),g=b("./attributes"),k=b("./oppaxis_attributes"),d=b("../../plots/cartesian/axis_ids");p.exports=function(b,e,l){function h(a,d){return n.coerce(f,c,g,a,d)}function t(a,c,d,b){return n.coerce(a,c,k,d,b)}if(b[l].rangeslider){n.isPlainObject(b[l].rangeslider)||(b[l].rangeslider=
{});var f=b[l].rangeslider;b=e[l];var c=b.rangeslider={};if(h("visible")){h("bgcolor",e.plot_bgcolor);h("bordercolor");h("borderwidth");h("thickness");b._rangesliderAutorange=h("autorange",!b.isValidRange(f.range));h("range");if(b=e._subplots){b=b.cartesian.filter(function(a){return a.substr(0,a.indexOf("y"))===d.name2id(l)}).map(function(a){return a.substr(a.indexOf("y"),a.length)});b=n.simpleMap(b,d.id2name);for(var q=0;q<b.length;q++){var a=b[q],r=f[a]||{},u=c[a]={};a=e[a];var p;r.range&&a.isValidRange(r.range)&&
(p="fixed");var C=t(r,u,"rangemode",p);"match"!==C&&t(r,u,"range",a.range.slice());a._rangesliderAutorange="auto"===C}}c._input=f}}}},{"../../lib":414,"../../plots/cartesian/axis_ids":461,"./attributes":364,"./oppaxis_attributes":370}],368:[function(b,p,l){function n(a){var c=F.list({_fullLayout:a},"x",!0),d=w.name,b=[];if(a._has("gl2d"))return b;for(a=0;a<c.length;a++){var e=c[a];e[d]&&e[d].visible&&b.push(e)}return b}function g(c,d,b,e){var f=c.select("rect."+w.slideBoxClassName).node(),g=c.select("rect."+
w.grabAreaMinClassName).node(),h=c.select("rect."+w.grabAreaMaxClassName).node();c.on("mousedown",function(){function m(m){var q=+m.clientX-n;switch(t){case f:var r="ew-resize";m=u+q;q=p+q;break;case g:r="col-resize";m=u+q;q=p;break;case h:r="col-resize";m=u;q=p+q;break;default:r="ew-resize",m=l,q=l+q}if(q<m){var v=q;q=m;m=v}e._pixelMin=m;e._pixelMax=q;y(a.select(w),r);k(c,d,b,e)}function q(){w.removeEventListener("mousemove",m);w.removeEventListener("mouseup",q);x.removeElement(w)}var r=a.event,
t=r.target,n=r.clientX,l=n-c.node().getBoundingClientRect().left,u=e.d2p(b._rl[0]),p=e.d2p(b._rl[1]),w=B.coverSlip();w.addEventListener("mousemove",m);w.addEventListener("mouseup",q)})}function k(a,c,d,b){var e=d.l2r(x.constrain(b.p2d(b._pixelMin),b._rl[0],b._rl[1])),f=d.l2r(x.constrain(b.p2d(b._pixelMax),b._rl[0],b._rl[1]));window.requestAnimationFrame(function(){r.call("relayout",c,d._name+".range",[e,f])})}function d(a,c,d,b,e,f){c=w.handleWidth/2;var g=x.constrain(b.d2p(d._rl[0]),0,b._width);
d=x.constrain(b.d2p(d._rl[1]),0,b._width);a.select("rect."+w.slideBoxClassName).attr("x",g).attr("width",d-g);a.select("rect."+w.maskMinClassName).attr("width",g);a.select("rect."+w.maskMaxClassName).attr("x",d).attr("width",b._width-d);"match"!==f.rangemode&&(f=b._height-x.constrain(b.d2pOppAxis(e._rl[1]),0,b._height),e=b._height-x.constrain(b.d2pOppAxis(e._rl[0]),0,b._height),a.select("rect."+w.maskMinOppAxisClassName).attr("x",g).attr("height",f).attr("width",d-g),a.select("rect."+w.maskMaxOppAxisClassName).attr("x",
g).attr("y",e).attr("height",b._height-e).attr("width",d-g),a.select("rect."+w.slideBoxClassName).attr("y",f).attr("height",e-f));e=Math.round(x.constrain(g-c,-c,b._width+c))-.5;b=Math.round(x.constrain(d-c,-c,b._width+c))+.5;a.select("g."+w.grabberMinClassName).attr("transform","translate("+e+",0.5)");a.select("g."+w.grabberMaxClassName).attr("transform","translate("+b+",0.5)")}function h(a,c,d,b){a=a.selectAll("rect."+w.bgClassName).data([0]);a.enter().append("rect").classed(w.bgClassName,!0).attr({x:0,
y:0,"shape-rendering":"crispEdges"});d=0===b.borderwidth%2?b.borderwidth:b.borderwidth-1;var e=-b._offsetShift;c=C.crispRound(c,b.borderwidth);a.attr({width:b._width+d,height:b._height+d,transform:"translate("+e+","+e+")",fill:b.bgcolor,stroke:b.bordercolor,"stroke-width":c})}function e(a,c,d,b){a=c._fullLayout._topdefs.selectAll("#"+b._clipId).data([0]);a.enter().append("clipPath").attr("id",b._clipId).append("rect").attr({x:0,y:0});a.select("rect").attr({width:b._width,height:b._height})}function u(c,
d,b,e){var f=F.getSubplots(d,b),g=d.calcdata;c=c.selectAll("g."+w.rangePlotClassName).data(f,x.identity);c.enter().append("g").attr("class",function(a){return w.rangePlotClassName+" "+a}).call(C.setClipUrl,e._clipId);c.order();c.exit().remove();var h;c.each(function(c,f){var k=a.select(this);f=0===f;var q=F.getFromId(d,c,"y"),r=q._name,t=e[r],n={data:[],layout:{xaxis:{type:b.type,domain:[0,1],range:e.range.slice(),calendar:b.calendar},width:e._width,height:e._height,margin:{t:0,b:0,l:0,r:0}},_context:d._context};
n.layout[r]={type:q.type,domain:[0,1],range:"match"!==t.rangemode?t.range.slice():q.range.slice(),calendar:q.calendar};v.supplyDefaults(n);k={id:c,plotgroup:k,xaxis:n._fullLayout.xaxis,yaxis:n._fullLayout[r]};f?h=k:(k.mainplot="xy",k.mainplotinfo=h);z.rangePlot(d,k,m(g,c))})}function m(a,c){for(var d=[],b=0;b<a.length;b++){var e=a[b],f=e[0].trace;f.xaxis+f.yaxis===c&&d.push(e)}return d}function t(a,c,d,b,e){c=a.selectAll("rect."+w.maskMinClassName).data([0]);c.enter().append("rect").classed(w.maskMinClassName,
!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges");c.attr("height",b._height).call(A.fill,w.maskColor);c=a.selectAll("rect."+w.maskMaxClassName).data([0]);c.enter().append("rect").classed(w.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges");c.attr("height",b._height).call(A.fill,w.maskColor);"match"!==e.rangemode&&(e=a.selectAll("rect."+w.maskMinOppAxisClassName).data([0]),e.enter().append("rect").classed(w.maskMinOppAxisClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),
e.attr("width",b._width).call(A.fill,w.maskOppAxisColor),a=a.selectAll("rect."+w.maskMaxOppAxisClassName).data([0]),a.enter().append("rect").classed(w.maskMaxOppAxisClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),a.attr("width",b._width).style("border-top",w.maskOppBorder).call(A.fill,w.maskOppAxisColor))}function f(a,c,d,b){c._context.staticPlot||(a=a.selectAll("rect."+w.slideBoxClassName).data([0]),a.enter().append("rect").classed(w.slideBoxClassName,!0).attr("y",0).attr("cursor",
w.slideBoxCursor).attr("shape-rendering","crispEdges"),a.attr({height:b._height,fill:w.slideBoxFill}))}function c(a,c,d,b){d=a.selectAll("g."+w.grabberMinClassName).data([0]);d.enter().append("g").classed(w.grabberMinClassName,!0);a=a.selectAll("g."+w.grabberMaxClassName).data([0]);a.enter().append("g").classed(w.grabberMaxClassName,!0);var e={x:0,width:w.handleWidth,rx:w.handleRadius,fill:A.background,stroke:A.defaultLine,"stroke-width":w.handleStrokeWidth,"shape-rendering":"crispEdges"},f={y:Math.round(b._height/
4),height:Math.round(b._height/2)},g=d.selectAll("rect."+w.handleMinClassName).data([0]);g.enter().append("rect").classed(w.handleMinClassName,!0).attr(e);g.attr(f);g=a.selectAll("rect."+w.handleMaxClassName).data([0]);g.enter().append("rect").classed(w.handleMaxClassName,!0).attr(e);g.attr(f);c._context.staticPlot||(c={width:w.grabAreaWidth,x:0,y:0,fill:w.grabAreaFill,cursor:w.grabAreaCursor},d=d.selectAll("rect."+w.grabAreaMinClassName).data([0]),d.enter().append("rect").classed(w.grabAreaMinClassName,
!0).attr(c),d.attr("height",b._height),d=a.selectAll("rect."+w.grabAreaMaxClassName).data([0]),d.enter().append("rect").classed(w.grabAreaMaxClassName,!0).attr(c),d.attr("height",b._height))}function q(a){for(var c=Object.keys(a._fullLayout._pushmargin||{}),d=0;d<c.length;d++){var b=c[d];-1!==b.indexOf(w.name)&&v.autoMargin(a,b)}}var a=b("d3"),r=b("../../registry"),v=b("../../plots/plots"),x=b("../../lib"),C=b("../drawing"),A=b("../color"),D=b("../titles"),z=b("../../plots/cartesian"),F=b("../../plots/cartesian/axes"),
B=b("../dragelement"),y=b("../../lib/setcursor"),w=b("./constants");p.exports=function(b){var k=b._fullLayout,m=n(k),r=k._infolayer.selectAll("g."+w.containerClassName).data(m,function(a){return a._name});r.enter().append("g").classed(w.containerClassName,!0).attr("pointer-events","all");r.exit().each(function(c){var d=a.select(this);c=c[w.name];d.remove();k._topdefs.select("#"+c._clipId).remove()});r.exit().size()&&q(b);0!==m.length&&r.each(function(m){var q=a.select(this),r=m[w.name],n=k[F.id2name(m.anchor)],
l=r[F.id2name(m.anchor)];if(r.range){var p=r.range,x=m.range;p[0]=m.l2r(Math.min(m.r2l(p[0]),m.r2l(x[0])));p[1]=m.l2r(Math.max(m.r2l(p[1]),m.r2l(x[1])));r._input.range=p.slice()}m.cleanRange("rangeslider.range");p=k.margin;var y=k._size;x=m.domain;for(var B=(m._boundingBox||{}).height||0,E=Infinity,C=F.getSubplots(b,m),A=0;A<C.length;A++){var G=F.getFromId(b,C[A].substr(C[A].indexOf("y")));E=Math.min(E,G.domain[0])}r._id=w.name+m._id;r._clipId=r._id+"-"+k._uid;r._width=y.w*(x[1]-x[0]);r._height=(k.height-
p.b-p.t)*r.thickness;r._offsetShift=Math.floor(r.borderwidth/2);C=Math.round(y.t+y.h*(1-E)+B+r._offsetShift+w.extraPad);q.attr("transform","translate("+Math.round(p.l+y.w*x[0])+","+C+")");var z=m.r2l(r.range[0]);y=m.r2l(r.range[1]);var K=y-z;r.p2d=function(a){return a/r._width*K+z};r.d2p=function(a){return(a-z)/K*r._width};r._rl=[z,y];if("match"!==l.rangemode){var H=n.r2l(l.range[0]),J=n.r2l(l.range[1])-H;r.d2pOppAxis=function(a){return(a-H)/J*r._height}}q.call(h,b,m,r).call(e,b,m,r).call(u,b,m,r).call(t,
b,m,r,l).call(f,b,m,r).call(c,b,m,r);g(q,b,m,r);d(q,b,m,r,n,l);"bottom"===m.side&&D.draw(b,m._id+"title",{propContainer:m,propName:m._name+".title",placeholder:k._dfltTitle.x,attributes:{x:m._offset+m._length/2,y:C+r._height+r._offsetShift+10+1.5*m.titlefont.size,"text-anchor":"middle"}});v.autoMargin(b,r._id,{x:x[0],y:E,l:0,r:0,t:0,b:r._height+p.b+B,pad:w.extraPad+2*r._offsetShift})})}},{"../../lib":414,"../../lib/setcursor":433,"../../plots/cartesian":469,"../../plots/cartesian/axes":458,"../../plots/plots":502,
"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"../titles":384,"./constants":366,d3:86}],369:[function(b,p,l){l=b("../../lib");var n=b("./attributes"),g=b("./oppaxis_attributes");p.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:l.extendFlat({},n,{yaxis:g})}}},layoutAttributes:b("./attributes"),handleDefaults:b("./defaults"),calcAutorange:b("./calc_autorange"),draw:b("./draw")}},{"../../lib":414,"./attributes":364,"./calc_autorange":365,
"./defaults":367,"./draw":368,"./oppaxis_attributes":370}],370:[function(b,p,l){p.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",role:"style",editType:"calc",description:"Determines whether or not the range of this axis in the rangeslider use the same value than in the main plot when zooming in/out. If *auto*, the autorange will be used. If *fixed*, the `range` is used. If *match*, the current range of the corresponding y-axis on the main subplot is used."},
range:{valType:"info_array",role:"style",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:"Sets the range of this axis for the rangeslider."},editType:"calc"}},{}],371:[function(b,p,l){l=b("../annotations/attributes");var n=b("../../traces/scatter/attributes").line,g=b("../drawing/attributes").dash;b=b("../../lib/extend").extendFlat;p.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange+arraydraw",
description:"Determines whether or not this shape is visible."},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calcIfAutorange+arraydraw",description:"Specifies the shape type to be drawn. If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`) If *circle*, a circle is drawn from ((`x0`+`x1`)/2, (`y0`+`y1`)/2)) with radius (|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|) If *rect*, a rectangle is drawn linking (`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`) If *path*, draw a custom SVG path using `path`."},
layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:b({},l.xref,{description:"Sets the shape's x coordinate axis. If set to an x axis id (e.g. *x* or *x2*), the `x` position refers to an x coordinate If set to *paper*, the `x` position refers to the distance from the left side of the plotting area in normalized coordinates where *0* (*1*) corresponds to the left (right) side. If the axis `type` is *log*, then you must take the log of your desired range. If the axis `type` is *date*, then you must convert the date to unix time in milliseconds."}),
x0:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the shape's starting x position. See `type` for more info."},x1:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the shape's end x position. See `type` for more info."},yref:b({},l.yref,{description:"Sets the annotation's y coordinate axis. If set to an y axis id (e.g. *y* or *y2*), the `y` position refers to an y coordinate If set to *paper*, the `y` position refers to the distance from the bottom of the plotting area in normalized coordinates where *0* (*1*) corresponds to the bottom (top)."}),
y0:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the shape's starting y position. See `type` for more info."},y1:{valType:"any",role:"info",editType:"calcIfAutorange+arraydraw",description:"Sets the shape's end y position. See `type` for more info."},path:{valType:"string",role:"info",editType:"calcIfAutorange+arraydraw",description:"For `type` *path* - a valid SVG path but with the pixel values replaced by data values. There are a few restrictions / quirks only absolute instructions, not relative. So the allowed segments are: M, L, H, V, Q, C, T, S, and Z arcs (A) are not allowed because radius rx and ry are relative. In the future we could consider supporting relative commands, but we would have to decide on how to handle date and log axes. Note that even as is, Q and C Bezier paths that are smooth on linear axes may not be smooth on log, and vice versa. no chained \"polybezier\" commands - specify the segment type for each one. On category axes, values are numbers scaled to the serial numbers of categories because using the categories themselves there would be no way to describe fractional positions On data axes: because space and T are both normal components of path strings, we can't use either to separate date from time parts. Therefore we'll use underscore for this purpose: 2015-02-21_13:45:56.789"},
opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:b({},n.color,{editType:"arraydraw"}),width:b({},n.width,{editType:"calcIfAutorange+arraydraw"}),dash:b({},g,{editType:"arraydraw"}),role:"info",editType:"calcIfAutorange+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:"Sets the color filling the shape's interior."},editType:"arraydraw"}},{"../../lib/extend":406,
"../../traces/scatter/attributes":565,"../annotations/attributes":281,"../drawing/attributes":315}],372:[function(b,p,l){function n(b,g,k,t,f){var c="category"===b.type?b.r2c:b.d2c;if(void 0!==g)return[c(g),c(k)];if(t){g=Infinity;k=-Infinity;t=t.match(d.segmentRE);var e;"date"===b.type&&(c=h.decodeDate(c));for(b=0;b<t.length;b++){var a=t[b];a=f[a.charAt(0)].drawn;void 0!==a&&(!(e=t[b].substr(1).match(d.paramRE))||e.length<a||(a=c(e[a]),a<g&&(g=a),a>k&&(k=a)))}if(k>=g)return[g,k]}}var g=b("../../lib"),
k=b("../../plots/cartesian/axes"),d=b("./constants"),h=b("./helpers");p.exports=function(b){var e=g.filterVisible(b._fullLayout.shapes);if(e.length&&b._fullData.length)for(var h=0;h<e.length;h++){var t=e[h],f=t.line.width/2,c;if("paper"!==t.xref){var q=k.getFromId(b,t.xref);(c=n(q,t.x0,t.x1,t.path,d.paramIsX))&&k.expand(q,c,{ppad:f})}"paper"!==t.yref&&(q=k.getFromId(b,t.yref),(c=n(q,t.y0,t.y1,t.path,d.paramIsY))&&k.expand(q,c,{ppad:f}))}}},{"../../lib":414,"../../plots/cartesian/axes":458,"./constants":373,
"./helpers":376}],373:[function(b,p,l){p.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],374:[function(b,p,l){var n=
b("../../plots/array_container_defaults"),g=b("./shape_defaults");p.exports=function(b,d){n(b,d,{name:"shapes",handleItemDefaults:g})}},{"../../plots/array_container_defaults":454,"./shape_defaults":378}],375:[function(b,p,l){function n(a,c){function d(d){var e={"data-index":c,"fill-rule":"evenodd",d:k(a,b)},h=b.line.width?b.line.color:"rgba(0,0,0,0)";d=d.append("path").attr(e).style("opacity",b.opacity).call(t.stroke,h).call(t.fill,b.fillcolor).call(f.dashLine,b.line.dash,b.line.width);e=(b.xref+
b.yref).replace(/paper/g,"");d.call(f.setClipUrl,e?"clip"+a._fullLayout._uid+e:null);a._context.edits.shapePosition&&g(a,d,b,c)}a._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+c+'"]').remove();var b=a._fullLayout.shapes[c];if((a.layout.shapes||[])[c]&&!1!==b.visible)if("below"!==b.layer)d(a._fullLayout._shapeUpperLayer);else if("paper"===b.xref||"paper"===b.yref)d(a._fullLayout._shapeLowerLayer);else{var e=a._fullLayout._plots[b.xref+b.yref];e?d((e.mainplotinfo||e).shapelayer):d(a._fullLayout._shapeLowerLayer)}}
function g(a,d,b,f){function g(a){var b=ca.right-ca.left,e=ca.bottom-ca.top,f=a.clientX-ca.left,g=a.clientY-ca.top;a=10<b&&10<e&&!a.shiftKey?c.getCursor(f/b,1-g/e):"move";q(d,a);la=a.split("-")[0]}function t(c,e){if("path"===b.type){var f=function(a){return Aa(na(a)+c)};ja&&"date"===ja.type&&(f=r.encodeDate(f));var g=function(a){return ka(oa(a)+e)};X&&"date"===X.type&&(g=r.encodeDate(g));b.path=h(V,f,g);l[ba]=b.path}else l[C]=b.x0=Aa(u+c),l[A]=b.y0=ka(p+e),l[H]=b.x1=Aa(v+c),l[L]=b.y1=ka(x+e);d.attr("d",
k(a,b))}function n(c,e){if("path"===b.type){var f=function(a){return Aa(na(a)+c)};ja&&"date"===ja.type&&(f=r.encodeDate(f));var g=function(a){return ka(oa(a)+e)};X&&"date"===X.type&&(g=r.encodeDate(g));b.path=h(V,f,g);l[ba]=b.path}else{f=~la.indexOf("n")?N+e:N;g=~la.indexOf("s")?M+e:M;var m=~la.indexOf("w")?Z+c:Z,q=~la.indexOf("e")?Q+c:Q;10<g-f&&(l[P]=b[R]=ka(f),l[U]=b[T]=ka(g));10<q-m&&(l[aa]=b[ea]=Aa(m),l[W]=b[S]=Aa(q))}d.attr("d",k(a,b))}var l,u,p,v,x,C,A,H,L,N,M,Z,Q,P,U,aa,W,R,T,ea,S,V,ba,ja,
X,na,oa,Aa,ka,Y={element:d.node(),gd:a,prepFn:function(c){ja=m.getFromId(a,b.xref);X=m.getFromId(a,b.yref);na=r.getDataToPixel(a,ja);oa=r.getDataToPixel(a,X,!0);Aa=r.getPixelToData(a,ja);ka=r.getPixelToData(a,X,!0);var d="shapes["+f+"]";"path"===b.type?(V=b.path,ba=d+".path"):(u=na(b.x0),p=oa(b.y0),v=na(b.x1),x=oa(b.y1),C=d+".x0",A=d+".y0",H=d+".x1",L=d+".y1");u<v?(Z=u,aa=d+".x0",ea="x0",Q=v,W=d+".x1",S="x1"):(Z=v,aa=d+".x1",ea="x1",Q=u,W=d+".x0",S="x0");p<x?(N=p,P=d+".y0",R="y0",M=x,U=d+".y1",T=
"y1"):(N=x,P=d+".y1",R="y1",M=p,U=d+".y0",T="y0");l={};g(c);Y.moveFn="move"===la?t:n},doneFn:function(){q(d);e.call("relayout",a,l)}},ca=Y.element.getBoundingClientRect(),la;c.init(Y);d.node().onmousemove=g}function k(a,c){var b=c.type,e=m.getFromId(a,c.xref),f=m.getFromId(a,c.yref),g=a._fullLayout._size;if(e){var h=r.shapePositionToRange(e);var k=function(a){return e._offset+e.r2p(h(a,!0))}}else k=function(a){return g.l+g.w*a};if(f){var q=r.shapePositionToRange(f);var t=function(a){return f._offset+
f.r2p(q(a,!0))}}else t=function(a){return g.t+g.h*(1-a)};if("path"===b)return e&&"date"===e.type&&(k=r.decodeDate(k)),f&&"date"===f.type&&(t=r.decodeDate(t)),d(c.path,k,t);a=k(c.x0);var n=k(c.x1);k=t(c.y0);c=t(c.y1);if("line"===b)return"M"+a+","+k+"L"+n+","+c;if("rect"===b)return"M"+a+","+k+"H"+n+"V"+c+"H"+a+"Z";b=(a+n)/2;c=(k+c)/2;a=Math.abs(b-a);k=Math.abs(c-k);t="A"+a+","+k;a=b+a+","+c;return"M"+a+t+" 0 1,1 "+(b+","+(c-k))+t+" 0 0,1 "+a+"Z"}function d(c,d,b){return c.replace(a.segmentRE,function(c){var e=
0,f=c.charAt(0),g=a.paramIsX[f],h=a.paramIsY[f],k=a.numParams[f],m=c.substr(1).replace(a.paramRE,function(a){g[e]?a=d(a):h[e]&&(a=b(a));e++;e>k&&(a="X");return a});e>k&&(m=m.replace(/[\s,]*X.*/,""),u.log("Ignoring extra params in segment "+c));return f+m})}function h(c,d,b){return c.replace(a.segmentRE,function(c){var e=0,f=c.charAt(0),g=a.paramIsX[f],h=a.paramIsY[f],k=a.numParams[f];c=c.substr(1).replace(a.paramRE,function(a){if(e>=k)return a;g[e]?a=d(a):h[e]&&(a=b(a));e++;return a});return f+c})}
var e=b("../../registry"),u=b("../../lib"),m=b("../../plots/cartesian/axes"),t=b("../color"),f=b("../drawing"),c=b("../dragelement"),q=b("../../lib/setcursor"),a=b("./constants"),r=b("./helpers");p.exports={draw:function(a){var c=a._fullLayout;c._shapeUpperLayer.selectAll("path").remove();c._shapeLowerLayer.selectAll("path").remove();c._shapeSubplotLayers.selectAll("path").remove();for(var d=0;d<c.shapes.length;d++)c.shapes[d].visible&&n(a,d)},drawOne:n}},{"../../lib":414,"../../lib/setcursor":433,
"../../plots/cartesian/axes":458,"../../registry":517,"../color":291,"../dragelement":313,"../drawing":316,"./constants":373,"./helpers":376}],376:[function(b,p,l){l.rangeToShapePosition=function(b){return"log"===b.type?b.r2d:function(b){return b}};l.shapePositionToRange=function(b){return"log"===b.type?b.d2r:function(b){return b}};l.decodeDate=function(b){return function(g){g.replace&&(g=g.replace("_"," "));return b(g)}};l.encodeDate=function(b){return function(g){return b(g).replace(" ","_")}};
l.getDataToPixel=function(b,g,k){var d=b._fullLayout._size;if(g){var h=l.shapePositionToRange(g);b=function(d){return g._offset+g.r2p(h(d,!0))};"date"===g.type&&(b=l.decodeDate(b))}else b=k?function(b){return d.t+d.h*(1-b)}:function(b){return d.l+d.w*b};return b};l.getPixelToData=function(b,g,k){var d=b._fullLayout._size;if(g){var h=l.rangeToShapePosition(g);b=function(d){return h(g.p2r(d-g._offset))}}else b=k?function(b){return 1-(b-d.t)/d.h}:function(b){return(b-d.l)/d.w};return b}},{}],377:[function(b,
p,l){l=b("./draw");p.exports={moduleType:"component",name:"shapes",layoutAttributes:b("./attributes"),supplyLayoutDefaults:b("./defaults"),includeBasePlot:b("../../plots/cartesian/include_components")("shapes"),calcAutorange:b("./calc_autorange"),draw:l.draw,drawOne:l.drawOne}},{"../../plots/cartesian/include_components":468,"./attributes":371,"./calc_autorange":372,"./defaults":374,"./draw":375}],378:[function(b,p,l){var n=b("../../lib"),g=b("../../plots/cartesian/axes"),k=b("./attributes"),d=b("./helpers");
p.exports=function(b,e,l,m,t){function f(a,c){return n.coerce(b,e,k,a,c)}t=t||{};if(!f("visible",!t.itemIsNotPlainObject))return e;f("layer");f("opacity");f("fillcolor");f("line.color");f("line.width");f("line.dash");m=f("type",b.path?"path":"rect");t=["x","y"];for(var c=0;2>c;c++){var h=t[c],a={_fullLayout:l},r=g.coerceRef(b,e,a,h,"","paper");if("path"!==m){if("paper"!==r){var u=g.getFromId(a,r);var p=d.rangeToShapePosition(u);u=d.shapePositionToRange(u)}else u=p=n.identity;var C=h+"0";h+="1";var A=
b[C],D=b[h];b[C]=u(b[C],!0);b[h]=u(b[h],!0);g.coercePosition(e,a,f,r,C,.25);g.coercePosition(e,a,f,r,h,.75);e[C]=p(e[C]);e[h]=p(e[h]);b[C]=A;b[h]=D}}"path"===m?f("path"):n.noneOrAll(b,e,["x0","x1","y0","y1"]);return e}},{"../../lib":414,"../../plots/cartesian/axes":458,"./attributes":371,"./helpers":376}],379:[function(b,p,l){l=b("../../plots/font_attributes");var n=b("../../plots/pad_attributes"),g=b("../../lib/extend").extendDeepAll,k=b("../../plot_api/edit_types").overrideAll,d=b("../../plots/animation_attributes");
b=b("./constants");p.exports=k({_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:"Determines whether or not the slider is visible."},active:{valType:"number",role:"info",min:0,dflt:0,description:"Determines which button (by index starting from 0) is considered active."},steps:{_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:"Sets the Plotly method to be called when the slider value is changed. If the `skip` method is used, the API slider will function as normal but will perform no API calls and will not bind automatically to state updates. This may be used to create a component interface and attach to slider events manually via JavaScript."},
args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:"Sets the arguments values to be passed to the Plotly method set in `method` on slide."},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:"Sets the value of the slider step, used to refer to the step programatically. Defaults to the slider label if not provided."},execute:{valType:"boolean",
role:"info",dflt:!0,description:"When true, the API method is executed. When false, all other behaviors are the same and command execution is skipped. This may be useful when hooking into, for example, the `plotly_sliderchange` method and executing the API command manually without losing the benefit of the slider automatically binding to the state of the plot through the specification of `method` and `args`."}},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",
description:"Determines whether this slider length is set in units of plot *fraction* or in *pixels. Use `len` to set the value."},len:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the length of the slider This measure excludes the padding of both ends. That is, the slider's length is this length minus the padding on both ends."},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:g({},n,{description:"Set the padding of the slider component along each side."},
{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:"Sets the slider's horizontal position anchor. This anchor binds the `x` position to the *left*, *center* or *right* of the range selector."},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:"Sets the slider's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the range selector."},
transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:d.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:"Shows the currently-selected value above the slider."},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",
description:"The alignment of the value readout relative to the length of the slider."},offset:{valType:"number",dflt:10,role:"info",description:"The amount of space, in pixels, between the current value label and the slider."},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:l({description:"Sets the font of the current value label text."})},
font:l({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:b.gripBgActiveColor,description:"Sets the background color of the slider grip while dragging."},bgcolor:{valType:"color",role:"style",dflt:b.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:b.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:b.railBorderWidth,
role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:b.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:b.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:b.minorTickLength,role:"style",
description:"Sets the length in pixels of minor step tick marks"}},"arraydraw","from-root")},{"../../lib/extend":406,"../../plot_api/edit_types":443,"../../plots/animation_attributes":453,"../../plots/font_attributes":485,"../../plots/pad_attributes":501,"./constants":380}],380:[function(b,p,l){p.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",
gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,
gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],381:[function(b,p,l){function n(d,b,e){function c(a,c){return k.coerce(d,b,h,a,c)}var f=g(d,b);c("visible",0<f.length)&&(c("active"),c("x"),c("y"),k.noneOrAll(d,b,["x","y"]),
c("xanchor"),c("yanchor"),c("len"),c("lenmode"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),k.coerceFont(c,"font",e.font),c("currentvalue.visible")&&(c("currentvalue.xanchor"),c("currentvalue.prefix"),c("currentvalue.suffix"),c("currentvalue.offset"),k.coerceFont(c,"currentvalue.font",b.font)),c("transition.duration"),c("transition.easing"),c("bgcolor"),c("activebgcolor"),c("bordercolor"),c("borderwidth"),c("ticklen"),c("tickwidth"),c("tickcolor"),c("minorticklen"))}function g(d,b){function e(a,d){return k.coerce(c,
g,u,a,d)}d=d.steps||[];b=b.steps=[];for(var c,g,a=0;a<d.length;a++)c=d[a],g={},e("method"),k.isPlainObject(c)&&("skip"===g.method||Array.isArray(c.args))&&(e("args"),e("label","step-"+a),e("value",g.label),e("execute"),b.push(g));return b}var k=b("../../lib"),d=b("../../plots/array_container_defaults"),h=b("./attributes"),e=b("./constants").name,u=h.steps;p.exports=function(b,g){d(b,g,{name:e,handleItemDefaults:n})}},{"../../lib":414,"../../plots/array_container_defaults":454,"./attributes":379,"./constants":380}],
382:[function(b,p,l){function n(a,c){a=a[E.name];for(var d=[],b=0;b<a.length;b++){var e=a[b];e.visible&&e.steps.length&&(e._gd=c,d.push(e))}return d}function g(a){return a._index}function k(a,c){var d=y.tester.selectAll("g."+E.labelGroupClass).data(c.steps);d.enter().append("g").classed(E.labelGroupClass,!0);var b=0,e=0;d.each(function(a){var d=z.select(this);if(a=u(d,{step:a},c).node())a=y.bBox(a),e=Math.max(e,a.height),b=Math.max(b,a.width)});d.remove();var f=c._dims={};f.inputAreaWidth=Math.max(E.railWidth,
E.gripHeight);var g=a._fullLayout._size;f.lx=g.l+g.w*c.x;f.ly=g.t+g.h*(1-c.y);f.outerLength="fraction"===c.lenmode?Math.round(g.w*c.len):c.len;f.inputAreaStart=0;f.inputAreaLength=Math.round(f.outerLength-c.pad.l-c.pad.r);f.labelStride=Math.max(1,Math.ceil((b+E.labelPadding)/((f.inputAreaLength-2*E.stepInset)/(c.steps.length-1))));f.labelHeight=e;f.currentValueMaxWidth=0;f.currentValueHeight=0;f.currentValueTotalHeight=0;f.currentValueMaxLines=1;if(c.currentvalue.visible){var k=y.tester.append("g");
d.each(function(a){var d=h(k,c,a.label);a=d.node()&&y.bBox(d.node())||{width:0,height:0};d=w.lineCount(d);f.currentValueMaxWidth=Math.max(f.currentValueMaxWidth,Math.ceil(a.width));f.currentValueHeight=Math.max(f.currentValueHeight,Math.ceil(a.height));f.currentValueMaxLines=Math.max(f.currentValueMaxLines,d)});f.currentValueTotalHeight=f.currentValueHeight+c.currentvalue.offset;k.remove()}f.height=f.currentValueTotalHeight+E.tickOffset+c.ticklen+E.labelOffset+f.labelHeight+c.pad.t+c.pad.b;d="left";
G.isRightAnchor(c)&&(f.lx-=f.outerLength,d="right");G.isCenterAnchor(c)&&(f.lx-=f.outerLength/2,d="center");g="top";G.isBottomAnchor(c)&&(f.ly-=f.height,g="bottom");G.isMiddleAnchor(c)&&(f.ly-=f.height/2,g="middle");f.outerLength=Math.ceil(f.outerLength);f.height=Math.ceil(f.height);f.lx=Math.round(f.lx);f.ly=Math.round(f.ly);F.autoMargin(a,E.autoMarginIdRoot+c._index,{x:c.x,y:c.y,l:f.outerLength*K[d],r:f.outerLength*H[d],b:f.height*H[g],t:f.height*K[g]})}function d(a,c,d){d.active>=d.steps.length&&
(d.active=0);c.call(h,d).call(A,d).call(m,d).call(q,d).call(C,a,d).call(e,a,d);a=d._dims;y.setTranslate(c,a.lx+d.pad.l,a.ly+d.pad.t);c.call(r,d,d.active/(d.steps.length-1),!1);c.call(h,d)}function h(a,c,d){if(c.currentvalue.visible){var b=a.selectAll("text").data([0]),e=c._dims;switch(c.currentvalue.xanchor){case "right":a=e.inputAreaLength-E.currentValueInset-e.currentValueMaxWidth;var f="left";break;case "center":a=.5*e.inputAreaLength;f="middle";break;default:a=E.currentValueInset,f="left"}b.enter().append("text").classed(E.labelClass,
!0).classed("user-select-none",!0).attr({"text-anchor":f,"data-notex":1});f=c.currentvalue.prefix?c.currentvalue.prefix:"";f="string"===typeof d?f+d:f+c.steps[c.active].label;c.currentvalue.suffix&&(f+=c.currentvalue.suffix);b.call(y.font,c.currentvalue.font).text(f).call(w.convertToTspans,c._gd);d=w.lineCount(b);w.positionText(b,a,(e.currentValueMaxLines+1-d)*c.currentvalue.font.size*J);return b}}function e(a,d,b){var e=a.selectAll("rect."+E.gripRectClass).data([0]);e.enter().append("rect").classed(E.gripRectClass,
!0).call(c,d,a,b).style("pointer-events","all");e.attr({width:E.gripWidth,height:E.gripHeight,rx:E.gripRadius,ry:E.gripRadius}).call(B.stroke,b.bordercolor).call(B.fill,b.bgcolor).style("stroke-width",b.borderwidth+"px")}function u(a,c,d){a=a.selectAll("text").data([0]);a.enter().append("text").classed(E.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1});a.call(y.font,d.font).text(c.step.label).call(w.convertToTspans,d._gd);return a}function m(a,c){a=a.selectAll("g."+
E.labelsClass).data([0]);var d=c._dims;a.enter().append("g").classed(E.labelsClass,!0);a=a.selectAll("g."+E.labelGroupClass).data(d.labelSteps);a.enter().append("g").classed(E.labelGroupClass,!0);a.exit().remove();a.each(function(a){var b=z.select(this);b.call(u,a,c);y.setTranslate(b,v(c,a.fraction),E.tickOffset+c.ticklen+c.font.size*J+E.labelOffset+d.currentValueTotalHeight)})}function t(a,c,d,b,e){b=Math.round(b*(d.steps.length-1));b!==d.active&&f(a,c,d,b,!0,e)}function f(a,c,d,b,e,f){var g=d.active;
d._input.active=d.active=b;b=d.steps[d.active];c.call(r,d,d.active/(d.steps.length-1),f);c.call(h,d);a.emit("plotly_sliderchange",{slider:d,step:d.steps[d.active],interaction:e,previousActive:g});b&&b.method&&e&&(c._nextMethod?(c._nextMethod.step=b,c._nextMethod.doCallback=e,c._nextMethod.doTransition=f):(c._nextMethod={step:b,doCallback:e,doTransition:f},c._nextMethodRaf=window.requestAnimationFrame(function(){var d=c._nextMethod.step;d.method&&(d.execute&&F.executeAPICommand(a,d.method,d.args),
c._nextMethod=null,c._nextMethodRaf=null)})))}function c(a,c,d){var b=d.node(),e=z.select(c);a.on("mousedown",function(){var a=d.data()[0];c.emit("plotly_sliderstart",{slider:a});var f=d.select("."+E.gripRectClass);z.event.stopPropagation();z.event.preventDefault();f.call(B.fill,a.activebgcolor);var g=x(a,z.mouse(b)[0]);t(c,d,a,g,!0);a._dragging=!0;e.on("mousemove",function(){var a=d.data()[0],e=x(a,z.mouse(b)[0]);t(c,d,a,e,!1)});e.on("mouseup",function(){var a=d.data()[0];a._dragging=!1;f.call(B.fill,
a.bgcolor);e.on("mouseup",null);e.on("mousemove",null);c.emit("plotly_sliderend",{slider:a,step:a.steps[a.active]})})})}function q(a,c){a=a.selectAll("rect."+E.tickRectClass).data(c.steps);var d=c._dims;a.enter().append("rect").classed(E.tickRectClass,!0);a.exit().remove();a.attr({width:c.tickwidth+"px","shape-rendering":"crispEdges"});a.each(function(a,b){a=0===b%d.labelStride;var e=z.select(this);e.attr({height:a?c.ticklen:c.minorticklen}).call(B.fill,c.tickcolor);y.setTranslate(e,v(c,b/(c.steps.length-
1))-.5*c.tickwidth,(a?E.tickOffset:E.minorTickOffset)+d.currentValueTotalHeight)})}function a(a){var c=a._dims;c.labelSteps=[];for(var d=a.steps.length,b=0;b<d;b+=c.labelStride)c.labelSteps.push({fraction:b/(d-1),step:a.steps[b]})}function r(a,c,d,b){a=a.select("rect."+E.gripRectClass);d=v(c,d);c._invokingCommand||(b&&0<c.transition.duration&&(a=a.transition().duration(c.transition.duration).ease(c.transition.easing)),a.attr("transform","translate("+(d-.5*E.gripWidth)+","+c._dims.currentValueTotalHeight+
")"))}function v(a,c){a=a._dims;return a.inputAreaStart+E.stepInset+(a.inputAreaLength-2*E.stepInset)*Math.min(1,Math.max(0,c))}function x(a,c){a=a._dims;return Math.min(1,Math.max(0,(c-E.stepInset-a.inputAreaStart)/(a.inputAreaLength-2*E.stepInset-2*a.inputAreaStart)))}function C(a,d,b){var e=a.selectAll("rect."+E.railTouchRectClass).data([0]),f=b._dims;e.enter().append("rect").classed(E.railTouchRectClass,!0).call(c,d,a,b).style("pointer-events","all");e.attr({width:f.inputAreaLength,height:Math.max(f.inputAreaWidth,
E.tickOffset+b.ticklen+f.labelHeight)}).call(B.fill,b.bgcolor).attr("opacity",0);y.setTranslate(e,0,f.currentValueTotalHeight)}function A(a,c){a=a.selectAll("rect."+E.railRectClass).data([0]);var d=c._dims;a.enter().append("rect").classed(E.railRectClass,!0);a.attr({width:d.inputAreaLength-2*E.railInset,height:E.railWidth,rx:E.railRadius,ry:E.railRadius,"shape-rendering":"crispEdges"}).call(B.stroke,c.bordercolor).call(B.fill,c.bgcolor).style("stroke-width",c.borderwidth+"px");y.setTranslate(a,E.railInset,
.5*(d.inputAreaWidth-E.railWidth)+d.currentValueTotalHeight)}function D(a){for(var c=Object.keys(a._fullLayout._pushmargin||{}),d=0;d<c.length;d++){var b=c[d];-1!==b.indexOf(E.autoMarginIdRoot)&&F.autoMargin(a,b)}}var z=b("d3"),F=b("../../plots/plots"),B=b("../color"),y=b("../drawing"),w=b("../../lib/svg_text_utils"),G=b("../legend/anchor_utils"),E=b("./constants");b=b("../../constants/alignment");var J=b.LINE_SPACING,K=b.FROM_TL,H=b.FROM_BR;p.exports=function(c){var b=c._fullLayout,e=n(b,c);b=b._infolayer.selectAll("g."+
E.containerClassName).data(0<e.length?[0]:[]);b.enter().append("g").classed(E.containerClassName,!0).style("cursor","ew-resize");b.exit().remove();b.exit().size()&&D(c);if(0!==e.length){b=b.selectAll("g."+E.groupClassName).data(e,g);b.enter().append("g").classed(E.groupClassName,!0);b.exit().each(function(a){z.select(this).remove();a._commandObserver.remove();delete a._commandObserver;F.autoMargin(c,E.autoMarginIdRoot+a._index)});for(var h=0;h<e.length;h++)k(c,e[h]);b.each(function(b){if(!(2>b.steps.length)){var e=
z.select(this);a(b);F.manageCommandObserver(c,b,b.steps,function(a){var d=e.data()[0];d.active!==a.index&&(d._dragging||f(c,e,d,a.index,!1,!0))});d(c,z.select(this),b)}})}}},{"../../constants/alignment":391,"../../lib/svg_text_utils":437,"../../plots/plots":502,"../color":291,"../drawing":316,"../legend/anchor_utils":343,"./constants":380,d3:86}],383:[function(b,p,l){l=b("./constants");p.exports={moduleType:"component",name:l.name,layoutAttributes:b("./attributes"),supplyLayoutDefaults:b("./defaults"),
draw:b("./draw")}},{"./attributes":379,"./constants":380,"./defaults":381,"./draw":382}],384:[function(b,p,l){var n=b("d3"),g=b("fast-isnumeric"),k=b("../../plots/plots"),d=b("../../registry"),h=b("../../lib"),e=b("../drawing"),u=b("../color"),m=b("../../lib/svg_text_utils"),t=b("../../constants/interactions");p.exports={draw:function(c,b,a){function q(a){h.syncOrAsync([l,p],a)}function l(a){if(w){var d="";w.rotate&&(d+="rotate("+[w.rotate,y.x,y.y]+")");w.offset&&(d+="translate(0, "+w.offset+")")}else d=
null;a.attr("transform",d);a.style({"font-family":J,"font-size":n.round(K,2)+"px",fill:u.rgb(H),opacity:L*u.opacity(H),"font-weight":k.fontWeight}).attr(y).call(m.convertToTspans,c);return k.previousPromises(c)}function p(a){a=n.select(a.node().parentNode);if(B&&B.selection&&B.side&&M){a.attr("transform",null);var c=0,d={left:"right",right:"left",top:"bottom",bottom:"top"}[B.side],b=-1!==["left","top"].indexOf(B.side)?-1:1,f=g(B.pad)?B.pad:2,k=e.bBox(a.node()),m={left:0,top:0,right:G.width,bottom:G.height};
m=B.maxShift||(m[B.side]-k[B.side])*("left"===B.side||"top"===B.side?-1:1);if(0>m)c=m;else{var q=B.offsetLeft||0,r=B.offsetTop||0;k.left-=q;k.right-=q;k.top-=r;k.bottom-=r;B.selection.each(function(){var a=e.bBox(this);h.bBoxIntersect(k,a,f)&&(c=Math.max(c,b*(a[B.side]-k[d])+f))});c=Math.min(m,c)}(0<c||0>m)&&a.attr("transform","translate("+{left:[-c,0],right:[c,0],top:[0,-c],bottom:[0,c]}[B.side]+")")}}function C(){L=0;N=!0;Q.text(z).on("mouseover.opacity",function(){n.select(this).transition().duration(t.SHOW_PLACEHOLDER).style("opacity",
1)}).on("mouseout.opacity",function(){n.select(this).transition().duration(t.HIDE_PLACEHOLDER).style("opacity",0)})}var A=a.propContainer,D=a.propName,z=a.placeholder,F=a.traceIndex,B=a.avoid||{},y=a.attributes,w=a.transform;a=a.containerGroup;var G=c._fullLayout,E=A.titlefont||{},J=E.family,K=E.size,H=E.color,L=1,N=!1,M=(A.title||"").trim(),Z;"title"===D?Z="titleText":-1!==D.indexOf("axis")?Z="axisTitleText":D.indexOf(!0)&&(Z="colorbarTitleText");A=c._context.edits[Z];""===M?L=0:M.replace(f," % ")===
z.replace(f," % ")&&(L=.2,N=!0,A||(M=""));Z=M||A;a||(a=G._infolayer.selectAll(".g-"+b).data([0]),a.enter().append("g").classed("g-"+b,!0));var Q=a.selectAll("text").data(Z?[0]:[]);Q.enter().append("text");Q.text(M).attr("class",b);Q.exit().remove();if(!Z)return a;Q.call(q);if(A){if(M)Q.on(".opacity",null);else C();Q.call(m.makeEditable,{gd:c}).on("edit",function(a){void 0!==F?d.call("restyle",c,D,a,F):d.call("relayout",c,D,a)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",
function(a){this.text(a||" ").call(m.positionText,y.x,y.y)})}Q.classed("js-placeholder",N);return a}};var f=/ [XY][0-9]* /},{"../../constants/interactions":394,"../../lib":414,"../../lib/svg_text_utils":437,"../../plots/plots":502,"../../registry":517,"../color":291,"../drawing":316,d3:86,"fast-isnumeric":95}],385:[function(b,p,l){l=b("../../plots/font_attributes");var n=b("../color/attributes"),g=b("../../lib/extend").extendFlat,k=b("../../plot_api/edit_types").overrideAll;b=b("../../plots/pad_attributes");
p.exports=k({_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:"Determines whether or not the update menu is visible."},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:"Determines whether the buttons are accessible via a dropdown menu or whether the buttons are stacked horizontally or vertically"},direction:{valType:"enumerated",values:["left","right","up",
"down"],dflt:"down",role:"info",description:"Determines the direction in which the buttons are laid out, whether in a dropdown menu or a row/column of buttons. For `left` and `up`, the buttons will still appear in left-to-right or top-to-bottom order respectively."},active:{valType:"integer",role:"info",min:-1,dflt:0,description:"Determines which button (by index starting from 0) is considered active."},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},
buttons:{_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:"Sets the Plotly method to be called on click. If the `skip` method is used, the API updatemenu will function as normal but will perform no API calls and will not bind automatically to state updates. This may be used to create a component interface and attach to updatemenu events manually via JavaScript."},args:{valType:"info_array",role:"info",
freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:"Sets the arguments values to be passed to the Plotly method set in `method` on click."},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:"When true, the API method is executed. When false, all other behaviors are the same and command execution is skipped. This may be useful when hooking into, for example, the `plotly_buttonclicked` method and executing the API command manually without losing the benefit of the updatemenu automatically binding to the state of the plot through the specification of `method` and `args`."}},
x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:"Sets the update menu's horizontal position anchor. This anchor binds the `x` position to the *left*, *center* or *right* of the range selector."},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},
yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:"Sets the update menu's vertical position anchor This anchor binds the `y` position to the *top*, *middle* or *bottom* of the range selector."},pad:g({},b,{description:"Sets the padding around the buttons or dropdown menu."}),font:l({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},
bordercolor:{valType:"color",dflt:n.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}},"arraydraw","from-root")},{"../../lib/extend":406,"../../plot_api/edit_types":443,"../../plots/font_attributes":485,"../../plots/pad_attributes":501,"../color/attributes":290}],386:[function(b,p,l){p.exports={name:"updatemenus",
containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},
minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],387:[function(b,p,l){function n(d,b,e){function c(a,c){return k.coerce(d,b,h,a,c)}var f=g(d,b);c("visible",0<f.length)&&(c("active"),c("direction"),c("type"),c("showactive"),c("x"),c("y"),k.noneOrAll(d,b,["x","y"]),c("xanchor"),c("yanchor"),c("pad.t"),
c("pad.r"),c("pad.b"),c("pad.l"),k.coerceFont(c,"font",e.font),c("bgcolor",e.paper_bgcolor),c("bordercolor"),c("borderwidth"))}function g(d,b){d=d.buttons||[];b=b.buttons=[];for(var e,c,g=0;g<d.length;g++)e=d[g],c={},k.coerce(e,c,u,"method",void 0),k.isPlainObject(e)&&("skip"===c.method||Array.isArray(e.args))&&(k.coerce(e,c,u,"args",void 0),k.coerce(e,c,u,"label",void 0),k.coerce(e,c,u,"execute",void 0),c._index=g,b.push(c));return b}var k=b("../../lib"),d=b("../../plots/array_container_defaults"),
h=b("./attributes"),e=b("./constants").name,u=h.buttons;p.exports=function(b,g){d(b,g,{name:e,handleItemDefaults:n})}},{"../../lib":414,"../../plots/array_container_defaults":454,"./attributes":385,"./constants":386}],388:[function(b,p,l){function n(a){a=a[E.name];for(var c=[],d=0;d<a.length;d++){var b=a[d];b.visible&&c.push(b)}return c}function g(a){return a._index}function k(a,c){return+a.attr(E.menuIndexAttrName)===c._index}function d(a,c,d,b,f,g,k,m){c._input.active=c.active=k;"buttons"===c.type?
e(a,b,null,null,c):"dropdown"===c.type&&(f.attr(E.menuIndexAttrName,"-1"),h(a,b,f,g,c),m||e(a,b,f,g,c))}function h(c,d,b,f,g){var h=d.selectAll("g."+E.headerClassName).data([0]),m=g._dims;h.enter().append("g").classed(E.headerClassName,!0).style("pointer-events","all");var q={y:g.pad.t,yPad:0,x:g.pad.l,xPad:0,index:0},n={width:m.headerWidth,height:m.headerHeight};h.call(t,g,g.buttons[g.active]||E.blankHeaderOpts,c).call(x,g,q,n);q=d.selectAll("text."+E.headerArrowClassName).data([0]);q.enter().append("text").classed(E.headerArrowClassName,
!0).classed("user-select-none",!0).attr("text-anchor","end").call(B.font,g.font).text(E.arrowSymbol[g.direction]);q.attr({x:m.headerWidth-E.arrowOffsetX+g.pad.l,y:m.headerHeight/2+E.textOffsetY+g.pad.t});h.on("click",function(){b.call(C);b.attr(E.menuIndexAttrName,k(b,g)?-1:String(g._index));e(c,d,b,f,g)});h.on("mouseover",function(){h.call(a)});h.on("mouseout",function(){h.call(r,g)});B.setTranslate(d,m.lx,m.ly)}function e(c,b,e,f,g){e||(e=b,e.attr("pointer-events","all"));var h=-1!==+e.attr(E.menuIndexAttrName)||
"buttons"===g.type?g.buttons:[],k="dropdown"===g.type?E.dropdownButtonClassName:E.buttonClassName,n=e.selectAll("g."+k).data(h);h=n.enter().append("g").classed(k,!0);k=n.exit();"dropdown"===g.type?(h.attr("opacity","0").transition().attr("opacity","1"),k.transition().attr("opacity","0").remove()):k.remove();var l=0,p=0;h=g._dims;k=-1!==["up","down"].indexOf(g.direction);"dropdown"===g.type&&(k?p=h.headerHeight+E.gapButtonHeader:l=h.headerWidth+E.gapButtonHeader);"dropdown"===g.type&&"up"===g.direction&&
(p=-E.gapButtonHeader+E.gapButton-h.openHeight);"dropdown"===g.type&&"left"===g.direction&&(l=-E.gapButtonHeader+E.gapButton-h.openWidth);var w={x:h.lx+l+g.pad.l,y:h.ly+p+g.pad.t,yPad:E.gapButton,xPad:E.gapButton,index:0};l={l:w.x+g.borderwidth,t:w.y+g.borderwidth};n.each(function(h,k){var m=D.select(this);m.call(t,g,h,c).call(x,g,w);m.on("click",function(){D.event.defaultPrevented||(d(c,g,h,b,e,f,k),h.execute&&z.executeAPICommand(c,h.method,h.args),c.emit("plotly_buttonclicked",{menu:g,button:h,
active:g.active}))});m.on("mouseover",function(){m.call(a)});m.on("mouseout",function(){m.call(r,g);n.call(q,g)})});n.call(q,g);k?(l.w=Math.max(h.openWidth,h.headerWidth),l.h=w.y-l.t):(l.w=w.x-l.l,l.h=Math.max(h.openHeight,h.headerHeight));l.direction=g.direction;f&&(n.size()?u(c,b,e,f,g,l):m(f))}function u(a,c,d,b,e,f){c=e.direction;a=e._dims;e=e.active;var g,h;if("up"===c||"down"===c)for(c=h=0;c<e;c++)h+=a.heights[c]+E.gapButton;else for(c=g=0;c<e;c++)g+=a.widths[c]+E.gapButton;b.enable(f,g,h);
b.hbar&&b.hbar.attr("opacity","0").transition().attr("opacity","1");b.vbar&&b.vbar.attr("opacity","0").transition().attr("opacity","1")}function m(a){var c=!!a.hbar,d=!!a.vbar;c&&a.hbar.transition().attr("opacity","0").each("end",function(){c=!1;d||a.disable()});d&&a.vbar.transition().attr("opacity","0").each("end",function(){d=!1;c||a.disable()})}function t(a,d,b,e){a.call(f,d).call(c,d,b,e)}function f(a,c){a=a.selectAll("rect").data([0]);a.enter().append("rect").classed(E.itemRectClassName,!0).attr({rx:E.rx,
ry:E.ry,"shape-rendering":"crispEdges"});a.call(F.stroke,c.bordercolor).call(F.fill,c.bgcolor).style("stroke-width",c.borderwidth+"px")}function c(a,c,d,b){a=a.selectAll("text").data([0]);a.enter().append("text").classed(E.itemTextClassName,!0).classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1});a.call(B.font,c.font).text(d.label).call(y.convertToTspans,b)}function q(a,c){var d=c.active;a.each(function(a,b){a=D.select(this);b===d&&c.showactive&&a.select("rect."+E.itemRectClassName).call(F.fill,
E.activeColor)})}function a(a){a.select("rect."+E.itemRectClassName).call(F.fill,E.hoverColor)}function r(a,c){a.select("rect."+E.itemRectClassName).call(F.fill,c.bgcolor)}function v(a,c){var d=c._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},b=B.tester.selectAll("g."+E.dropdownButtonClassName).data(c.buttons);b.enter().append("g").classed(E.dropdownButtonClassName,!0);var e=-1!==["up","down"].indexOf(c.direction);b.each(function(b,f){var g=
D.select(this);g.call(t,c,b,a);g=g.select("."+E.itemTextClassName);b=g.node()&&B.bBox(g.node()).width;b=Math.max(b+E.textPadX,E.minWidth);var h=c.font.size*G;g=y.lineCount(g);g=Math.max(h*g,E.minHeight)+E.textOffsetY;g=Math.ceil(g);b=Math.ceil(b);d.widths[f]=b;d.heights[f]=g;d.height1=Math.max(d.height1,g);d.width1=Math.max(d.width1,b);e?(d.totalWidth=Math.max(d.totalWidth,b),d.openWidth=d.totalWidth,d.totalHeight+=g+E.gapButton,d.openHeight+=g+E.gapButton):(d.totalWidth+=b+E.gapButton,d.openWidth+=
b+E.gapButton,d.totalHeight=Math.max(d.totalHeight,g),d.openHeight=d.totalHeight)});e?d.totalHeight-=E.gapButton:d.totalWidth-=E.gapButton;d.headerWidth=d.width1+E.arrowPadX;d.headerHeight=d.height1;"dropdown"===c.type&&(e?(d.width1+=E.arrowPadX,d.totalHeight=d.height1):d.totalWidth=d.width1,d.totalWidth+=E.arrowPadX);b.remove();b=d.totalWidth+c.pad.l+c.pad.r;var f=d.totalHeight+c.pad.t+c.pad.b,g=a._fullLayout._size;d.lx=g.l+g.w*c.x;d.ly=g.t+g.h*(1-c.y);g="left";w.isRightAnchor(c)&&(d.lx-=b,g="right");
w.isCenterAnchor(c)&&(d.lx-=b/2,g="center");var h="top";w.isBottomAnchor(c)&&(d.ly-=f,h="bottom");w.isMiddleAnchor(c)&&(d.ly-=f/2,h="middle");d.totalWidth=Math.ceil(d.totalWidth);d.totalHeight=Math.ceil(d.totalHeight);d.lx=Math.round(d.lx);d.ly=Math.round(d.ly);z.autoMargin(a,E.autoMarginIdRoot+c._index,{x:c.x,y:c.y,l:b*({right:1,center:.5}[g]||0),r:b*({left:1,center:.5}[g]||0),b:f*({top:1,middle:.5}[h]||0),t:f*({bottom:1,middle:.5}[h]||0)})}function x(a,c,d,b){b=b||{};var e=a.select("."+E.itemRectClassName),
f=a.select("."+E.itemTextClassName),g=c.borderwidth,h=d.index,k=c._dims;B.setTranslate(a,g+d.x,g+d.y);a=-1!==["up","down"].indexOf(c.direction);g=b.height||(a?k.heights[h]:k.height1);e.attr({x:0,y:0,width:b.width||(a?k.width1:k.widths[h]),height:g});c=c.font.size*G;b=y.lineCount(f);y.positionText(f,E.textOffsetX,g/2-(b-1)*c/2+E.textOffsetY);a?d.y+=k.heights[h]+d.yPad:d.x+=k.widths[h]+d.xPad;d.index++}function C(a){a.selectAll("g."+E.dropdownButtonClassName).remove()}function A(a){for(var c=Object.keys(a._fullLayout._pushmargin||
{}),d=0;d<c.length;d++){var b=c[d];-1!==b.indexOf(E.autoMarginIdRoot)&&z.autoMargin(a,b)}}var D=b("d3"),z=b("../../plots/plots"),F=b("../color"),B=b("../drawing"),y=b("../../lib/svg_text_utils"),w=b("../legend/anchor_utils"),G=b("../../constants/alignment").LINE_SPACING,E=b("./constants"),J=b("./scrollbox");p.exports=function(a){var c=a._fullLayout,b=n(c),f=c._menulayer.selectAll("g."+E.containerClassName).data(0<b.length?[0]:[]);f.enter().append("g").classed(E.containerClassName,!0).style("cursor",
"pointer");f.exit().remove();f.exit().size()&&A(a);if(0!==b.length){var m=f.selectAll("g."+E.headerGroupClassName).data(b,g);m.enter().append("g").classed(E.headerGroupClassName,!0);var q=f.selectAll("g."+E.dropdownButtonGroupClassName).data([0]);q.enter().append("g").classed(E.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(f=0;f<b.length;f++)v(a,b[f]);var r=new J(a,q,"updatemenus"+c._uid);m.enter().size()&&(q.node().parentNode.appendChild(q.node()),q.call(C).attr(E.menuIndexAttrName,
"-1"));m.exit().each(function(c){D.select(this).remove();q.call(C).attr(E.menuIndexAttrName,"-1");z.autoMargin(a,E.autoMarginIdRoot+c._index)});m.each(function(c){var b=D.select(this),f="dropdown"===c.type?q:null;z.manageCommandObserver(a,c,c.buttons,function(e){d(a,c,c.buttons[e.index],b,f,r,e.index,!0)});"dropdown"===c.type?(h(a,b,q,r,c),k(q,c)&&e(a,b,q,r,c)):e(a,b,null,null,c)})}}},{"../../constants/alignment":391,"../../lib/svg_text_utils":437,"../../plots/plots":502,"../color":291,"../drawing":316,
"../legend/anchor_utils":343,"./constants":386,"./scrollbox":390,d3:86}],389:[function(b,p,l){arguments[4][383][0].apply(l,arguments)},{"./attributes":385,"./constants":386,"./defaults":387,"./draw":388,dup:383}],390:[function(b,p,l){function n(d,b,g){this.gd=d;this.container=b;this.id=g;this.vbar=this.hbar=this.translateY=this.translateX=this.position=null;this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]);this.bg.exit().on(".drag",null).on("wheel",null).remove();this.bg.enter().append("rect").classed("scrollbox-bg",
!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}p.exports=n;var g=b("d3"),k=b("../color"),d=b("../drawing"),h=b("../../lib");n.barWidth=2;n.barLength=20;n.barRadius=2;n.barPad=1;n.barColor="#808BA4";n.prototype.enable=function(b,h,m){var e=this.gd._fullLayout,f=e.width,c=e.height;this.position=b;b=this.position.l;var q=this.position.w,a=this.position.t,r=this.position.h,l=this.position.direction,u="down"===l,p="left"===l,A="up"===l,D=q,z=r;u||p||"right"===l||A||(this.position.direction=
"down",u=!0);if(u||A){var F=b;var B=F+D;u?(A=a,l=Math.min(A+z,c)):(l=a+z,A=Math.max(l-z,0));z=l-A}else A=a,l=A+z,p?(B=b+D,F=Math.max(B-D,0)):(F=b,B=Math.min(F+D,f)),D=B-F;this._box={l:F,t:A,w:D,h:z};u=q>D;var y=n.barLength+2*n.barPad;p=n.barWidth+2*n.barPad;var w=a+r;w+p>c&&(w=c-p);c=this.container.selectAll("rect.scrollbar-horizontal").data(u?[0]:[]);c.exit().on(".drag",null).remove();c.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,n.barColor);u?(this.hbar=c.attr({rx:n.barRadius,
ry:n.barRadius,x:b,y:w,width:y,height:p}),this._hbarXMin=b+y/2,this._hbarTranslateMax=D-y):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);c=r>z;D=n.barWidth+2*n.barPad;y=n.barLength+2*n.barPad;w=b+q;w+D>f&&(w=f-D);f=this.container.selectAll("rect.scrollbar-vertical").data(c?[0]:[]);f.exit().on(".drag",null).remove();f.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,n.barColor);c?(this.vbar=f.attr({rx:n.barRadius,ry:n.barRadius,x:w,y:a,width:D,height:y}),
this._vbarYMin=a+y/2,this._vbarTranslateMax=z-y):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);f=this.id;z=F-.5;B=c?B+D+.5:B+.5;A-=.5;l=u?l+p+.5:l+.5;e=e._topdefs.selectAll("#"+f).data(u||c?[0]:[]);e.exit().remove();e.enter().append("clipPath").attr("id",f).append("rect");u||c?(this._clipRect=e.select("rect").attr({x:Math.floor(z),y:Math.floor(A),width:Math.ceil(B)-Math.floor(z),height:Math.ceil(l)-Math.floor(A)}),this.container.call(d.setClipUrl,f),this.bg.attr({x:b,y:a,
width:q,height:r})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(d.setClipUrl,null),delete this._clipRect);if(u||c)e=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this)),this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(e),e=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault();g.event.sourceEvent.stopPropagation()}).on("drag",
this._onBarDrag.bind(this)),u&&this.hbar.on(".drag",null).call(e),c&&this.vbar.on(".drag",null).call(e);this.setTranslate(h,m)};n.prototype.disable=function(){if(this.hbar||this.vbar)this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(d.setClipUrl,null),delete this._clipRect;this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,
delete this._vbarYMin,delete this._vbarTranslateMax)};n.prototype._onBoxDrag=function(){var d=this.translateX,b=this.translateY;this.hbar&&(d-=g.event.dx);this.vbar&&(b-=g.event.dy);this.setTranslate(d,b)};n.prototype._onBoxWheel=function(){var d=this.translateX,b=this.translateY;this.hbar&&(d+=g.event.deltaY);this.vbar&&(b+=g.event.deltaY);this.setTranslate(d,b)};n.prototype._onBarDrag=function(){var d=this.translateX,b=this.translateY;if(this.hbar){d+=this._hbarXMin;var k=d+this._hbarTranslateMax;
d=(h.constrain(g.event.x,d,k)-d)/(k-d)*(this.position.w-this._box.w)}this.vbar&&(b+=this._vbarYMin,k=b+this._vbarTranslateMax,b=(h.constrain(g.event.y,b,k)-b)/(k-b)*(this.position.h-this._box.h));this.setTranslate(d,b)};n.prototype.setTranslate=function(b,g){var e=this.position.w-this._box.w,k=this.position.h-this._box.h;b=h.constrain(b||0,0,e);g=h.constrain(g||0,0,k);this.translateX=b;this.translateY=g;this.container.call(d.setTranslate,this._box.l-this.position.l-b,this._box.t-this.position.t-g);
this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+b-.5),y:Math.floor(this.position.t+g-.5)});this.hbar&&this.hbar.call(d.setTranslate,b+b/e*this._hbarTranslateMax,g);this.vbar&&this.vbar.call(d.setTranslate,b,g+g/k*this._vbarTranslateMax)}},{"../../lib":414,"../color":291,"../drawing":316,d3:86}],391:[function(b,p,l){p.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,
middle:.5,top:1},LINE_SPACING:1.3,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],392:[function(b,p,l){p.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],393:[function(b,p,l){p.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},{}],394:[function(b,p,l){p.exports={SHOW_PLACEHOLDER:100,
HIDE_PLACEHOLDER:1E3,DBLCLICKDELAY:300,DESELECTDIM:.2}},{}],395:[function(b,p,l){p.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1E4,ONEAVGYEAR:315576E5,ONEAVGMONTH:26298E5,ONEDAY:864E5,ONEHOUR:36E5,ONEMIN:6E4,ONESEC:1E3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,MINUS_SIGN:"\u2212"}},{}],396:[function(b,p,l){p.exports={entityToUnicode:{mu:"\u03bc","#956":"\u03bc",amp:"&","#28":"&",lt:"<","#60":"<",gt:">","#62":">",nbsp:"\u00a0","#160":"\u00a0",times:"\u00d7","#215":"\u00d7",plusmn:"\u00b1","#177":"\u00b1",
deg:"\u00b0","#176":"\u00b0"}}},{}],397:[function(b,p,l){l.xmlns="http://www.w3.org/2000/xmlns/";l.svg="http://www.w3.org/2000/svg";l.xlink="http://www.w3.org/1999/xlink";l.svgAttrs={xmlns:l.svg,"xmlns:xlink":l.xlink}},{}],398:[function(b,p,l){l.version="1.35.2";b("es6-promise").polyfill();b("../build/plotcss");b("./fonts/mathjax_config");p=b("./registry");p=l.register=p.register;for(var n=b("./plot_api"),g=Object.keys(n),k=0;k<g.length;k++){var d=g[k];l[d]=n[d];p({moduleType:"apiMethod",name:d,fn:n[d]})}p(b("./traces/scatter"));
p([b("./components/fx"),b("./components/legend"),b("./components/annotations"),b("./components/annotations3d"),b("./components/shapes"),b("./components/images"),b("./components/updatemenus"),b("./components/sliders"),b("./components/rangeslider"),b("./components/rangeselector"),b("./components/grid"),b("./components/errorbars")]);p([b("./locale-en"),b("./locale-en-us")]);l.Icons=b("../build/ploticon");l.Plots=b("./plots/plots");l.Fx=b("./components/fx");l.Snapshot=b("./snapshot");l.PlotSchema=b("./plot_api/plot_schema");
l.Queue=b("./lib/queue");l.d3=b("d3")},{"../build/plotcss":9,"../build/ploticon":10,"./components/annotations":289,"./components/annotations3d":278,"./components/errorbars":322,"./components/fx":333,"./components/grid":337,"./components/images":342,"./components/legend":351,"./components/rangeselector":363,"./components/rangeslider":369,"./components/shapes":377,"./components/sliders":383,"./components/updatemenus":389,"./fonts/mathjax_config":399,"./lib/queue":428,"./locale-en":441,"./locale-en-us":440,
"./plot_api":445,"./plot_api/plot_schema":449,"./plots/plots":502,"./registry":517,"./snapshot":522,"./traces/scatter":577,d3:86,"es6-promise":93}],399:[function(b,p,l){"undefined"!==typeof MathJax?(l.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):l.MathJax=!1},{}],400:[function(b,p,l){var n=Math.PI;l.deg2rad=function(b){return b/180*n};l.rad2deg=function(b){return b/n*180};l.wrap360=
function(b){b%=360;return 0>b?b+360:b};l.wrap180=function(b){180<Math.abs(b)&&(b-=360*Math.round(b/360));return b}},{}],401:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../constants/numerical").BADNUM,k=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;p.exports=function(d){"string"===typeof d&&(d=d.replace(k,""));return n(d)?Number(d):g}},{"../constants/numerical":395,"fast-isnumeric":95}],402:[function(b,p,l){var n=b("fast-isnumeric"),g=b("tinycolor2"),k=b("../plots/attributes"),d=b("../components/colorscale/get_scale");
p=Object.keys(b("../components/colorscale/scales"));var h=b("./nested_property"),e=b("./regex").counter,u=b("../constants/interactions").DESELECTDIM,m=b("./angles").wrap180,t=b("./is_array").isArrayOrTypedArray;l.valObjectMeta={data_array:{description:"An {array} of data. The value MUST be an {array}, or we ignore it. Note that typed arrays (e.g. Float32Array) are supported.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(d,c,b){t(d)?c.set(d):void 0!==b&&c.set(b)}},enumerated:{description:"Enumerated value type. The available values are listed in `values`.",
requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(d,c,b,a){a.coerceNumber&&(d=+d);-1===a.values.indexOf(d)?c.set(b):c.set(d)},validateFunction:function(d,c){c.coerceNumber&&(d=+d);c=c.values;for(var b=0;b<c.length;b++){var a=String(c[b]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){if((new RegExp(a.substr(1,a.length-2))).test(d))return!0}else if(d===c[b])return!0}return!1}},"boolean":{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],
coerceFunction:function(d,c,b){!0===d||!1===d?c.set(d):c.set(b)}},number:{description:"A number or a numeric value (e.g. a number inside a string). When applicable, values greater (less) than `max` (`min`) are coerced to the `dflt`.",requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(d,c,b,a){!n(d)||void 0!==a.min&&d<a.min||void 0!==a.max&&d>a.max?c.set(b):c.set(+d)}},integer:{description:"An integer or an integer inside a string. When applicable, values greater (less) than `max` (`min`) are coerced to the `dflt`.",
requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(d,c,b,a){d%1||!n(d)||void 0!==a.min&&d<a.min||void 0!==a.max&&d>a.max?c.set(b):c.set(+d)}},string:{description:"A string value. Numbers are converted to strings except for attributes with `strict` set to true.",requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(d,c,b,a){"string"!==typeof d?!0===a.strict||"number"!==typeof d?c.set(b):c.set(String(d)):a.noBlank&&!d?c.set(b):
c.set(d)}},color:{description:"A string describing color. Supported formats: - hex (e.g. '#d3d3d3') - rgb (e.g. 'rgb(255, 0, 0)') - rgba (e.g. 'rgb(255, 0, 0, 0.5)') - hsl (e.g. 'hsl(0, 100%, 50%)') - hsv (e.g. 'hsv(0, 100%, 100%)') - named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)",requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(d,c,b){g(d).isValid()?c.set(d):c.set(b)}},colorlist:{description:"A list of colors. Must be an {array} containing valid colors.",
requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(d,c,b){function a(a){return g(a).isValid()}Array.isArray(d)&&d.length?d.every(a)?c.set(d):c.set(b):c.set(b)}},colorscale:{description:["A Plotly colorscale either picked by a name: (any of",p.join(", "),") customized as an {array} of 2-element {arrays} where the first element is the normalized color level value (starting at *0* and ending at *1*), and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],
coerceFunction:function(b,c,e){c.set(d(b,e))}},angle:{description:"A number (in degree) between -180 and 180.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(d,c,b){"auto"===d?c.set("auto"):n(d)?c.set(m(+d)):c.set(b)}},subplotid:{description:"An id string of a subplot type (given by dflt), optionally followed by an integer >1. e.g. if dflt='geo', we can have 'geo', 'geo2', 'geo3', ...",requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(d,c,b){"string"===typeof d&&e(b).test(d)?
c.set(d):c.set(b)},validateFunction:function(d,c){c=c.dflt;return d===c?!0:"string"!==typeof d?!1:e(c).test(d)?!0:!1}},flaglist:{description:"A string representing a combination of flags (order does not matter here). Combine any of the available `flags` with *+*. (e.g. ('lines+markers')). Values in `extras` cannot be combined.",requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(d,c,b,a){if("string"!==typeof d)c.set(b);else if(-1!==(a.extras||[]).indexOf(d))c.set(d);
else{d=d.split("+");for(var e=0;e<d.length;){var f=d[e];-1===a.flags.indexOf(f)||d.indexOf(f)<e?d.splice(e,1):e++}d.length?c.set(d.join("+")):c.set(b)}}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(d,c,b){void 0===d?c.set(b):c.set(d)}},info_array:{description:"An {array} of plot information.",requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(d,c,b,a){function e(a,c,d){var b;void 0===d&&(d=c.dflt);
l.valObjectMeta[c.valType].coerceFunction(a,{set:function(a){b=a}},d,c);return b}var f=2===a.dimensions;if(Array.isArray(d)){a=a.items;var g=[],h=Array.isArray(a),k=h?a.length:d.length,m;b=Array.isArray(b)?b:[];if(f)for(f=0;f<k;f++){g[f]=[];var q=Array.isArray(d[f])?d[f]:[];var t=h?a[f].length:q.length;for(m=0;m<t;m++){var n=e(q[m],h?a[f][m]:a,(b[f]||[])[m]);void 0!==n&&(g[f][m]=n)}}else for(f=0;f<k;f++)n=e(d[f],h?a[f]:a,b[f]),void 0!==n&&(g[f]=n);c.set(g)}else c.set(b)},validateFunction:function(d,
c){if(!Array.isArray(d))return!1;var b=c.items,a=Array.isArray(b),e=2===c.dimensions;if(!c.freeLength&&d.length!==b.length)return!1;for(var f=0;f<d.length;f++)if(e){if(!Array.isArray(d[f])||!c.freeLength&&d[f].length!==b[f].length)return!1;for(var g=0;g<d[f].length;g++)if(!l.validate(d[f][g],a?b[f][g]:b))return!1}else if(!l.validate(d[f],a?b[f]:b))return!1;return!0}}};l.coerce=function(d,c,b,a,e){b=h(b,a).get();d=h(d,a);c=h(c,a);a=d.get();void 0===e&&(e=b.dflt);if(b.arrayOk&&t(a))return c.set(a),
a;l.valObjectMeta[b.valType].coerceFunction(a,c,e,b);return c.get()};l.coerce2=function(d,c,b,a,e){var f=h(d,a);d=l.coerce(d,c,b,a,e);f=f.get();return void 0!==f&&null!==f?d:!1};l.coerceFont=function(d,c,b){var a={};b=b||{};a.family=d(c+".family",b.family);a.size=d(c+".size",b.size);a.color=d(c+".color",b.color);return a};l.coerceHoverinfo=function(d,c,b){var a=c._module.attributes;a=a.hoverinfo?{hoverinfo:a.hoverinfo}:k;var e=a.hoverinfo;if(1===b._dataLength){b="all"===e.dflt?e.flags.slice():e.dflt.split("+");
b.splice(b.indexOf("name"),1);var f=b.join("+")}return l.coerce(d,c,a,"hoverinfo",f)};l.coerceSelectionMarkerOpacity=function(d,c){if(d.marker){var b=d.marker.opacity;if(void 0!==b){if(!t(b)&&!d.selected&&!d.unselected){var a=b;var e=u*b}c("selected.marker.opacity",a);c("unselected.marker.opacity",e)}}};l.validate=function(d,c){var b=l.valObjectMeta[c.valType];if(c.arrayOk&&t(d))return!0;if(b.validateFunction)return b.validateFunction(d,c);var a={},e=a;b.coerceFunction(d,{set:function(a){e=a}},a,
c);return e!==a}},{"../components/colorscale/get_scale":304,"../components/colorscale/scales":310,"../constants/interactions":394,"../plots/attributes":455,"./angles":400,"./is_array":415,"./nested_property":422,"./regex":429,"fast-isnumeric":95,tinycolor2:256}],403:[function(b,p,l){function n(a){return a&&v.componentsRegistry.calendars&&"string"===typeof a&&"gregorian"!==a}function g(a,c){return String(a+Math.pow(10,c)).substr(1)}function k(a,c,d,b,e){if(c||d||b||e)if(a+=" "+g(c,2)+":"+g(d,2),b||
e)if(a+=":"+g(b,2),e){for(c=4;0===e%10;)--c,e/=10;a+="."+g(e,c)}return a}function d(a,c,d,b){a=a.replace(G,function(a){a=Math.min(+a.charAt(1)||6,6);return(c/1E3%1+2).toFixed(a).substr(2).replace(/0+$/,"")||"0"});var e=new Date(Math.floor(c+.05));if(n(b))try{a=v.getComponentMethod("calendars","worldCalFmt")(a,c,b)}catch(Z){return"Invalid"}return d(a)(e)}var h=b("d3"),e=b("fast-isnumeric"),u=b("./loggers"),m=b("./mod");p=b("../constants/numerical");var t=p.BADNUM,f=p.ONEDAY,c=p.ONEHOUR,q=p.ONEMIN,
a=p.ONESEC,r=p.EPOCHJD,v=b("../registry"),x=h.time.format.utc,C=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,A=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,D=(new Date).getFullYear()-70;l.dateTick0=function(a,c){return n(a)?c?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[a]:v.getComponentMethod("calendars","CANONICAL_TICK")[a]:
c?"2000-01-02":"2000-01-01"};l.dfltRange=function(a){return n(a)?v.getComponentMethod("calendars","DFLTRANGE")[a]:["2000-01-01","2001-01-01"]};l.isJSDate=function(a){return"object"===typeof a&&null!==a&&"function"===typeof a.getTime};l.dateTime2ms=function(d,b){if(l.isJSDate(d))return d=Number(d)-d.getTimezoneOffset()*q,d>=z&&d<=F?d:t;if("string"!==typeof d&&"number"!==typeof d)return t;d=String(d);var e=n(b),g=d.charAt(0);!e||"G"!==g&&"g"!==g||(d=d.substr(1),b="");g=e&&"chinese"===b.substr(0,7);
var h=d.match(g?A:C);if(!h)return t;d=h[1];var k=h[3]||"1",m=Number(h[5]||1),p=Number(h[7]||0),u=Number(h[9]||0);h=Number(h[11]||0);if(e){if(2===d.length)return t;d=Number(d);try{var w=v.getComponentMethod("calendars","getCal")(b);if(g){var x="i"===k.charAt(k.length-1);k=parseInt(k,10);var y=w.newDate(d,w.toMonthIndex(d,k,x),m)}else y=w.newDate(d,Number(k),m)}catch(T){return t}return y?(y.toJD()-r)*f+p*c+u*q+h*a:t}d=2===d.length?(Number(d)+2E3-D)%100+D:Number(d);--k;b=new Date(Date.UTC(2E3,k,m,p,
u));b.setUTCFullYear(d);return b.getUTCMonth()!==k||b.getUTCDate()!==m?t:b.getTime()+h*a};var z=l.MIN_MS=l.dateTime2ms("-9999");var F=l.MAX_MS=l.dateTime2ms("9999-12-31 23:59:59.9999");l.isDateTime=function(a,c){return l.dateTime2ms(a,c)!==t};var B=90*f,y=3*c,w=5*q;l.ms2DateTime=function(d,b,e){if("number"!==typeof d||!(d>=z&&d<=F))return t;b||(b=0);var g=Math.floor(10*m(d+.05,1)),h=Math.round(d-g/10);if(n(e)){var l=Math.floor(h/f)+r;d=Math.floor(m(d,f));try{var p=v.getComponentMethod("calendars",
"getCal")(e).fromJD(l).formatDate("yyyy-mm-dd")}catch(P){p=x("G%Y-%m-%d")(new Date(h))}if("-"===p.charAt(0))for(;11>p.length;)p="-0"+p.substr(1);else for(;10>p.length;)p="0"+p;e=b<B?Math.floor(d/c):0;h=b<B?Math.floor(d%c/q):0;l=b<y?Math.floor(d%q/a):0;b=b<w?d%a*10+g:0}else d=new Date(h),p=x("%Y-%m-%d")(d),e=b<B?d.getUTCHours():0,h=b<B?d.getUTCMinutes():0,l=b<y?d.getUTCSeconds():0,b=b<w?10*d.getUTCMilliseconds()+g:0;return k(p,e,h,l,b)};l.ms2DateTimeLocal=function(a){if(!(a>=z+f&&a<=F-f))return t;
var c=Math.floor(10*m(a+.05,1)),d=new Date(Math.round(a-c/10));a=h.time.format("%Y-%m-%d")(d);var b=d.getHours(),e=d.getMinutes(),g=d.getSeconds();c=10*d.getUTCMilliseconds()+c;return k(a,b,e,g,c)};l.cleanDate=function(a,c,d){if(l.isJSDate(a)||"number"===typeof a){if(n(d))return u.error("JS Dates and milliseconds are incompatible with world calendars",a),c;a=l.ms2DateTimeLocal(+a);if(!a&&void 0!==c)return c}else if(!l.isDateTime(a,d))return u.error("unrecognized date",a),c;return a};var G=/%\d?f/g,
E=[59,59.9,59.99,59.999,59.9999];l.formatDate=function(b,h,k,r,t,l){t=n(t)&&t;if(!h)if("y"===k)h=l.year;else if("m"===k)h=l.month;else if("d"===k)h=l.dayMonth+"\n"+l.year;else{h=k;k=m(b+.05,f);k=g(Math.floor(k/c),2)+":"+g(m(Math.floor(k/q),60),2);if("M"!==h){e(h)||(h=0);var p=(100+Math.min(m(b/a,60),E[h])).toFixed(h).substr(1);0<h&&(p=p.replace(/0+$/,"").replace(/[\.]$/,""));k+=":"+p}return k+"\n"+d(l.dayMonthYear,b,r,t)}return d(h,b,r,t)};var J=3*f;l.incrementMonth=function(a,c,d){d=n(d)&&d;var b=
m(a,f);a=Math.round(a-b);if(d)try{var e=Math.round(a/f)+r,g=v.getComponentMethod("calendars","getCal")(d),h=g.fromJD(e);c%12?g.add(h,c,"m"):g.add(h,c/12,"y");return(h.toJD()-r)*f+b}catch(P){u.error("invalid ms "+a+" in calendar "+d)}a=new Date(a+J);return a.setUTCMonth(a.getUTCMonth()+c)+b-J};l.findExactDates=function(a,c){for(var d=0,b=0,g=0,h=0,k,m=n(c)&&v.getComponentMethod("calendars","getCal")(c),q=0;q<a.length;q++)if(c=a[q],!e(c))h++;else if(!(c%f))if(m)try{k=m.fromJD(c/f+r),1===k.day()?1===
k.month()?d++:b++:g++}catch(aa){}else k=new Date(c),1===k.getUTCDate()?0===k.getUTCMonth()?d++:b++:g++;b+=d;a=a.length-h;return{exactYears:d/a,exactMonths:b/a,exactDays:(g+b)/a}}},{"../constants/numerical":395,"../registry":517,"./loggers":419,"./mod":421,d3:86,"fast-isnumeric":95}],404:[function(b,p,l){p.exports=function(b,g){Array.isArray(b)||(b=[]);b.length=g;return b}},{}],405:[function(b,p,l){var n=b("events").EventEmitter;p.exports={init:function(b){if(b._ev instanceof n)return b;var g=new n,
d=new n;b._ev=g;b._internalEv=d;b.on=g.on.bind(g);b.once=g.once.bind(g);b.removeListener=g.removeListener.bind(g);b.removeAllListeners=g.removeAllListeners.bind(g);b._internalOn=d.on.bind(d);b._internalOnce=d.once.bind(d);b._removeInternalListener=d.removeListener.bind(d);b._removeAllInternalListeners=d.removeAllListeners.bind(d);b.emit=function(h,e){"undefined"!==typeof jQuery&&jQuery(b).trigger(h,e);g.emit(h,e);d.emit(h,e)};return b},triggerHandler:function(b,k,d){var g;"undefined"!==typeof jQuery&&
(g=jQuery(b).triggerHandler(k,d));b=b._ev;if(!b)return g;k=b._events[k];if(!k)return g;"function"===typeof k&&(k=[k]);b=k.pop();for(var e=0;e<k.length;e++)k[e](d);d=b(d);return void 0!==g?g:d},purge:function(b){delete b._ev;delete b.on;delete b.once;delete b.removeListener;delete b.removeAllListeners;delete b.emit;delete b._ev;delete b._internalEv;delete b._internalOn;delete b._internalOnce;delete b._removeInternalListener;delete b._removeAllInternalListeners;return b}}},{events:5}],406:[function(b,
p,l){function n(d,b,e,l){var h=d[0],t=d.length,f,c,q;if(2===t&&k(h)&&k(d[1])&&0===h.length){a:{var a=d[1];for(c=0;c<a.length;c++){var r=a[c];if(null!==r&&"object"===typeof r){a=!1;break a}void 0!==r&&(h[c]=r)}a=!0}if(a)return h;h.splice(0,h.length)}for(r=1;r<t;r++)for(f in a=d[r],a){var p=h[f];c=a[f];if(l&&k(c))h[f]=c;else if(b&&c&&(g(c)||(q=k(c))))q?(q=!1,p=p&&k(p)?p:[]):p=p&&g(p)?p:{},h[f]=n([p,c],b,e,l);else if("undefined"!==typeof c||e)h[f]=c}return h}var g=b("./is_plain_object.js"),k=Array.isArray;
l.extendFlat=function(){return n(arguments,!1,!1,!1)};l.extendDeep=function(){return n(arguments,!0,!1,!1)};l.extendDeepAll=function(){return n(arguments,!0,!0,!1)};l.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)}},{"./is_plain_object.js":416}],407:[function(b,p,l){p.exports=function(b){for(var g={},k=[],d=0,h=0;h<b.length;h++){var e=b[h];1!==g[e]&&(g[e]=1,k[d++]=e)}return k}},{}],408:[function(b,p,l){function n(b){return!0===b.visible}function g(b){return!0===b[0].trace.visible}p.exports=
function(b){for(var d=Array.isArray(b)&&Array.isArray(b[0])&&b[0][0]&&b[0][0].trace?g:n,h=[],e=0;e<b.length;e++){var k=b[e];d(k)&&h.push(k)}return h}},{}],409:[function(b,p,l){function n(d,b,e,f,c,g,a,h){e-=d;var k=c-d;c=a-c;f-=b;a=g-b;h-=g;g=e*h-c*f;if(0===g)return null;h=(k*h-c*a)/g;k=(k*f-e*a)/g;return 0>k||1<k||0>h||1<h?null:{x:d+e*h,y:b+f*h}}function g(d,b,e,f,c){var g=f*d+c*b;if(0>g)return f*f+c*c;if(g>e)return e=f-d,b=c-b,e*e+b*b;b=f*b-c*d;return b*b/e}var k=b("./mod");l.segmentsIntersect=
n;l.segmentDistance=function(d,b,e,f,c,h,a,k){if(n(d,b,e,f,c,h,a,k))return 0;var m=e-d,q=f-b,r=a-c,t=k-h,l=m*m+q*q,p=r*r+t*t;d=Math.min(g(m,q,l,c-d,h-b),g(m,q,l,a-d,k-b),g(r,t,p,d-c,b-h),g(r,t,p,e-c,f-h));return Math.sqrt(d)};var d,h,e;l.getTextLocation=function(b,g,t,f){if(b!==h||f!==e)d={},h=b,e=f;if(d[t])return d[t];var c=b.getPointAtLength(k(t-f/2,g));f=b.getPointAtLength(k(t+f/2,g));var m=Math.atan((f.y-c.y)/(f.x-c.x));b=b.getPointAtLength(k(t,g));c={x:(4*b.x+c.x+f.x)/6,y:(4*b.y+c.y+f.y)/6,theta:m};
return d[t]=c};l.clearLocationCache=function(){h=null};l.getVisibleSegment=function(d,b,e){function f(b){var e=d.getPointAtLength(b);0===b?t=e:b===k&&(n=e);b=e.x<c?c-e.x:e.x>g?e.x-g:0;e=e.y<a?a-e.y:e.y>h?e.y-h:0;return Math.sqrt(b*b+e*e)}var c=b.left,g=b.right,a=b.top,h=b.bottom;b=0;for(var k=d.getTotalLength(),m=k,t,n,l=f(b);l;){b+=l+e;if(b>m)return;l=f(b)}for(l=f(m);l;){m-=l+e;if(b>m)return;l=f(m)}return{min:b,max:m,len:m-b,total:k,isClosed:0===b&&m===k&&.1>Math.abs(t.x-n.x)&&.1>Math.abs(t.y-n.y)}};
l.findPointOnPath=function(d,b,e,f){f=f||{};var c=f.pathLength||d.getTotalLength(),g=f.tolerance||.001;f=f.iterationLimit||30;for(var a=d.getPointAtLength(0)[e]>d.getPointAtLength(c)[e]?-1:1,h=0,k=0,m,t,n;h<f&&!(m=(k+c)/2,t=d.getPointAtLength(m),n=t[e]-b,Math.abs(n)<g);)0<a*n?c=m:k=m,h++;return t}},{"./mod":421}],410:[function(b,p,l){p.exports=function(b){if("string"===typeof b){var g=document.getElementById(b);if(null===g)throw Error("No DOM element with id '"+b+"' exists on the page.");return g}if(null===
b||void 0===b)throw Error("DOM element provided is null or undefined");return b}},{}],411:[function(b,p,l){function n(d,b){d[3]*=b;return d}function g(b){if(d(b))return u;b=h(b);return b.length?b:u}function k(b){return d(b)?b:1}var d=b("fast-isnumeric"),h=b("color-normalize"),e=b("../components/colorscale");b=b("../components/color/attributes").defaultLine;var u=h(b);p.exports=function(d,b,f){var c=d.color,m=Array.isArray(c),a=Array.isArray(b),r=[];var t=void 0!==d.colorscale?e.makeColorScaleFunc(e.extractScale(d.colorscale,
d.cmin,d.cmax)):g;d=m?function(a,c){return void 0===a[c]?u:h(t(a[c]))}:g;var l=a?function(a,c){return void 0===a[c]?1:k(a[c])}:k;if(m||a)for(var p=0;p<f;p++)m=d(c,p),a=l(b,p),r[p]=n(m,a);else r=n(h(c),b);return r}},{"../components/color/attributes":290,"../components/colorscale":306,"color-normalize":67,"fast-isnumeric":95}],412:[function(b,p,l){var n=b("superscript-text"),g=b("../constants/string_mappings");p.exports=function(b){b=b.replace(/<br>/g,"\n");for(var d=0;0<=(d=b.indexOf("<sup>",d));){var h=
b.indexOf("</sup>",d);if(h<d)break;b=b.slice(0,d)+n(b.slice(d+5,h))+b.slice(h+6)}b=b.replace(/<.*>/g,"");d=g.entityToUnicode;for(h=0;0<=(h=b.indexOf("&",h));){var e=b.indexOf(";",h);if(e<h)h+=1;else{var k=d[b.slice(h+1,e)];b=k?b.slice(0,h)+k+b.slice(e+1):b.slice(0,h)+b.slice(e+1)}}return""+b}},{"../constants/string_mappings":396,"superscript-text":254}],413:[function(b,p,l){p.exports=function(b){return b}},{}],414:[function(b,p,l){var n=b("d3"),g=b("fast-isnumeric");l=b("../constants/numerical");
var k=l.FP_SAFE,d=l.BADNUM,h=p.exports={};h.nestedProperty=b("./nested_property");h.keyedContainer=b("./keyed_container");h.relativeAttr=b("./relative_attr");h.isPlainObject=b("./is_plain_object");h.mod=b("./mod");h.toLogRange=b("./to_log_range");h.relinkPrivateKeys=b("./relink_private");h.ensureArray=b("./ensure_array");p=b("./is_array");h.isTypedArray=p.isTypedArray;h.isArrayOrTypedArray=p.isArrayOrTypedArray;p=b("./coerce");h.valObjectMeta=p.valObjectMeta;h.coerce=p.coerce;h.coerce2=p.coerce2;
h.coerceFont=p.coerceFont;h.coerceHoverinfo=p.coerceHoverinfo;h.coerceSelectionMarkerOpacity=p.coerceSelectionMarkerOpacity;h.validate=p.validate;p=b("./dates");h.dateTime2ms=p.dateTime2ms;h.isDateTime=p.isDateTime;h.ms2DateTime=p.ms2DateTime;h.ms2DateTimeLocal=p.ms2DateTimeLocal;h.cleanDate=p.cleanDate;h.isJSDate=p.isJSDate;h.formatDate=p.formatDate;h.incrementMonth=p.incrementMonth;h.dateTick0=p.dateTick0;h.dfltRange=p.dfltRange;h.findExactDates=p.findExactDates;h.MIN_MS=p.MIN_MS;h.MAX_MS=p.MAX_MS;
p=b("./search");h.findBin=p.findBin;h.sorterAsc=p.sorterAsc;h.sorterDes=p.sorterDes;h.distinctVals=p.distinctVals;h.roundUp=p.roundUp;p=b("./stats");h.aggNums=p.aggNums;h.len=p.len;h.mean=p.mean;h.variance=p.variance;h.stdev=p.stdev;h.interp=p.interp;p=b("./matrix");h.init2dArray=p.init2dArray;h.transposeRagged=p.transposeRagged;h.dot=p.dot;h.translationMatrix=p.translationMatrix;h.rotationMatrix=p.rotationMatrix;h.rotationXYMatrix=p.rotationXYMatrix;h.apply2DTransform=p.apply2DTransform;h.apply2DTransform2=
p.apply2DTransform2;p=b("./angles");h.deg2rad=p.deg2rad;h.rad2deg=p.rad2deg;h.wrap360=p.wrap360;h.wrap180=p.wrap180;p=b("./geometry2d");h.segmentsIntersect=p.segmentsIntersect;h.segmentDistance=p.segmentDistance;h.getTextLocation=p.getTextLocation;h.clearLocationCache=p.clearLocationCache;h.getVisibleSegment=p.getVisibleSegment;h.findPointOnPath=p.findPointOnPath;p=b("./extend");h.extendFlat=p.extendFlat;h.extendDeep=p.extendDeep;h.extendDeepAll=p.extendDeepAll;h.extendDeepNoArrays=p.extendDeepNoArrays;
p=b("./loggers");h.log=p.log;h.warn=p.warn;h.error=p.error;p=b("./regex");h.counterRegex=p.counter;p=b("./throttle");h.throttle=p.throttle;h.throttleDone=p.done;h.clearThrottle=p.clear;h.getGraphDiv=b("./get_graph_div");h._=b("./localize");h.notifier=b("./notifier");h.filterUnique=b("./filter_unique");h.filterVisible=b("./filter_visible");h.pushUnique=b("./push_unique");h.cleanNumber=b("./clean_number");h.ensureNumber=function(c){if(!g(c))return d;c=Number(c);return c<-k||c>k?d:g(c)?Number(c):d};
h.noop=b("./noop");h.identity=b("./identity");h.swapAttrs=function(c,d,a,b){a||(a="x");b||(b="y");for(var e=0;e<d.length;e++){var f=d[e],g=h.nestedProperty(c,f.replace("?",a));f=h.nestedProperty(c,f.replace("?",b));var k=g.get();g.set(f.get());f.set(k)}};h.raiseToTop=function(c){c.parentNode.appendChild(c)};h.cancelTransition=function(c){return c.transition().duration(0)};h.constrain=function(c,d,a){return d>a?Math.max(a,Math.min(d,c)):Math.max(d,Math.min(a,c))};h.bBoxIntersect=function(c,d,a){a=
a||0;return c.left<=d.right+a&&d.left<=c.right+a&&c.top<=d.bottom+a&&d.top<=c.bottom+a};h.simpleMap=function(c,d,a,b){for(var e=c.length,f=Array(e),g=0;g<e;g++)f[g]=d(c[g],a,b);return f};h.randstr=function v(d,a,b){b||(b=16);void 0===a&&(a=24);if(0>=a)return"0";var e=Math.log(Math.pow(2,a))/Math.log(b),f="",g;for(g=2;Infinity===e;g*=2)e=Math.log(Math.pow(2,a/g))/Math.log(b)*g;var h=e-Math.floor(e);for(g=0;g<Math.floor(e);g++){var k=Math.floor(Math.random()*b).toString(b);f=k+f}h&&(e=Math.pow(b,h),
k=Math.floor(Math.random()*e).toString(b),f=k+f);e=parseInt(f,b);return d&&-1<d.indexOf(f)||Infinity!==e&&e>=Math.pow(2,a)?v(d,a,b):f};h.OptionControl=function(d,a){d||(d={});a||(a="opt");var b={optionList:[],_newoption:function(e){e[a]=d;b[e.name]=e;b.optionList.push(e)}};b["_"+a]=d;return b};h.smooth=function(d,a){a=Math.round(a)||0;if(2>a)return d;var b=d.length,e=2*b,f=2*a-1,g=Array(f),h=Array(b),k,m,q;for(k=0;k<f;k++)g[k]=(1-Math.cos(Math.PI*(k+1)/a))/(2*a);for(k=0;k<b;k++){for(m=q=0;m<f;m++){var t=
k+m+1-a;t<-b?t-=e*Math.round(t/e):t>=e&&(t-=e*Math.floor(t/e));0>t?t=-1-t:t>=b&&(t=e-1-t);q+=d[t]*g[m]}h[k]=q}return h};h.syncOrAsync=function(d,a,b){function e(){return h.syncOrAsync(d,a,b)}for(var f;d.length;)if(f=d.splice(0,1)[0],(f=f(a))&&f.then)return f.then(e).then(void 0,h.promiseError);return b&&b(a)};h.stripTrailingSlash=function(d){return"/"===d.substr(-1)?d.substr(0,d.length-1):d};h.noneOrAll=function(d,a,b){if(d){var e=!1,f=!0,g;for(g=0;g<b.length;g++){var h=d[b[g]];void 0!==h&&null!==
h?e=!0:f=!1}if(e&&!f)for(g=0;g<b.length;g++)d[b[g]]=a[b[g]]}};h.mergeArray=function(d,a,b){if(h.isArrayOrTypedArray(d))for(var e=Math.min(d.length,a.length),f=0;f<e;f++)a[f][b]=d[f]};h.fillArray=function(d,a,b,e){e=e||h.identity;if(h.isArrayOrTypedArray(d))for(var f=0;f<a.length;f++)a[f][b]=e(d[f])};h.castOption=function(d,a,b,e){e=e||h.identity;d=h.nestedProperty(d,b).get();return h.isArrayOrTypedArray(d)?Array.isArray(a)&&h.isArrayOrTypedArray(d[a[0]])?e(d[a[0]][a[1]]):e(d[a]):d};h.extractOption=
function(d,a,b,e){if(b in d)return d[b];d=h.nestedProperty(a,e).get();if(!Array.isArray(d))return d};h.tagSelected=function(d,a,b){var e=a.selectedpoints;a=a._indexToPoints;if(a){var f={};for(var h in a)for(var k=a[h],m=0;m<k.length;m++)f[k[m]]=h}for(h=0;h<e.length;h++)k=a=e[h],g(k)&&0<=k&&0===k%1&&(a=f?f[a]:a,a=b?b[a]:a,void 0!==a&&a<d.length&&(d[a].selected=1))};h.getTargetArray=function(d,a){a=a.target;return"string"===typeof a&&a?(d=h.nestedProperty(d,a).get(),Array.isArray(d)?d:!1):Array.isArray(a)?
a:!1};h.minExtend=function(d,a){var b={};"object"!==typeof a&&(a={});var e=Object.keys(d),f;for(f=0;f<e.length;f++){var g=e[f];var k=d[g];"_"!==g.charAt(0)&&"function"!==typeof k&&("module"===g?b[g]=k:Array.isArray(k)?b[g]=k.slice(0,3):b[g]=k&&"object"===typeof k?h.minExtend(d[g],a[g]):k)}e=Object.keys(a);for(f=0;f<e.length;f++)g=e[f],k=a[g],"object"===typeof k&&g in b&&"object"===typeof b[g]||(b[g]=k);return b};h.titleCase=function(d){return d.charAt(0).toUpperCase()+d.substr(1)};h.containsAny=function(d,
a){for(var b=0;b<a.length;b++)if(-1!==d.indexOf(a[b]))return!0;return!1};h.isPlotDiv=function(d){d=n.select(d);return d.node()instanceof HTMLElement&&d.size()&&d.classed("js-plotly-plot")};h.removeElement=function(d){var a=d&&d.parentNode;a&&a.removeChild(d)};h.addStyleRule=function(d,a){if(!h.styleSheet){var b=document.createElement("style");b.appendChild(document.createTextNode(""));document.head.appendChild(b);h.styleSheet=b.sheet}b=h.styleSheet;b.insertRule?b.insertRule(d+"{"+a+"}",0):b.addRule?
b.addRule(d,a,0):h.warn("addStyleRule failed")};h.isIE=function(){return"undefined"!==typeof window.navigator.msSaveBlob};h.isD3Selection=function(d){return d&&"function"===typeof d.classed};h.objectFromPath=function(d,a){d=d.split(".");for(var b,e=b={},f=0;f<d.length;f++){var g=d[f],h;(h=d[f].match(/(.*)\[([0-9]+)\]/))?(g=h[1],h=h[2],b=b[g]=[],b[h]=f===d.length-1?a:{},b=b[h]):(b[g]=f===d.length-1?a:{},b=b[g])}return e};var e=/^([^\[\.]+)\.(.+)?/,u=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;h.expandObjectPaths=
function(d){var a,b;if("object"===typeof d&&!Array.isArray(d))for(b in d)if(d.hasOwnProperty(b))if(a=b.match(e)){var f=d[b];var g=a[1];delete d[b];d[g]=h.extendDeepNoArrays(d[g]||{},h.objectFromPath(b,h.expandObjectPaths(f))[g])}else if(a=b.match(u)){f=d[b];g=a[1];var k=parseInt(a[2]);delete d[b];d[g]=d[g]||[];"."===a[3]?(a=a[4],g=d[g][k]=d[g][k]||{},h.extendDeepNoArrays(g,h.objectFromPath(a,h.expandObjectPaths(f)))):d[g][k]=h.expandObjectPaths(f)}else d[b]=h.expandObjectPaths(d[b]);return d};h.numSeparate=
function(d,a,b){b||(b=!1);if("string"!==typeof a||0===a.length)throw Error("Separator string required for formatting!");"number"===typeof d&&(d=String(d));var e=/(\d+)(\d{3})/,f=a.charAt(0);a=a.charAt(1);d=d.split(".");var g=d[0];f=1<d.length?f+d[1]:"";if(a&&(1<d.length||4<g.length||b))for(;e.test(g);)g=g.replace(e,"$1"+a+"$2");return g+f};var m=/%{([^\s%{}]*)}/g,t=/^\w*$/;h.templateString=function(d,a){var b={};return d.replace(m,function(d,e){if(t.test(e))return a[e]||"";b[e]=b[e]||h.nestedProperty(a,
e).get;return b[e]()||""})};h.subplotSort=function(d,a){for(var b=Math.min(d.length,a.length)+1,e=0,f=0,g=0;g<b;g++){var h=d.charCodeAt(g)||0,k=a.charCodeAt(g)||0,m=48<=h&&57>=h,q=48<=k&&57>=k;m&&(e=10*e+h-48);q&&(f=10*f+k-48);if(!m||!q){if(e!==f)return e-f;if(h!==k)return h-k}}return f-e};var f=2E9;h.seedPseudoRandom=function(){f=2E9};h.pseudoRandom=function(){var d=f;f=(69069*f+1)%4294967296;return 429496729>Math.abs(f-d)?h.pseudoRandom():f/4294967296}},{"../constants/numerical":395,"./angles":400,
"./clean_number":401,"./coerce":402,"./dates":403,"./ensure_array":404,"./extend":406,"./filter_unique":407,"./filter_visible":408,"./geometry2d":409,"./get_graph_div":410,"./identity":413,"./is_array":415,"./is_plain_object":416,"./keyed_container":417,"./localize":418,"./loggers":419,"./matrix":420,"./mod":421,"./nested_property":422,"./noop":423,"./notifier":424,"./push_unique":427,"./regex":429,"./relative_attr":430,"./relink_private":431,"./search":432,"./stats":435,"./throttle":438,"./to_log_range":439,
d3:86,"fast-isnumeric":95}],415:[function(b,p,l){var n="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},g="undefined"===typeof DataView?function(){}:DataView;l.isTypedArray=function(b){return n.isView(b)&&!(b instanceof g)};l.isArrayOrTypedArray=function(b){return Array.isArray(b)||l.isTypedArray(b)}},{}],416:[function(b,p,l){p.exports=function(b){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(b):
"[object Object]"===Object.prototype.toString.call(b)&&Object.getPrototypeOf(b)===Object.prototype}},{}],417:[function(b,p,l){var n=b("./nested_property"),g=/^\w*$/;p.exports=function(b,d,h,e){h=h||"name";e=e||"value";var k,m={};var t=d&&d.length?n(b,d).get():b;d=d||"";t=t||[];var f={};for(k=0;k<t.length;k++)f[t[k][h]]=k;var c=g.test(e),q={set:function(a,d){var b=null===d?4:0,g=f[a];void 0===g?(b|=3,g=t.length,f[a]=g):d!==(c?t[g][e]:n(t[g],e).get())&&(b|=2);var k=t[g]=t[g]||{};k[h]=a;c?k[e]=d:n(k,
e).set(d);null!==d&&(b&=-5);m[g]|=b;return q},get:function(a){a=f[a];if(void 0!==a)return c?t[a][e]:n(t[a],e).get()},rename:function(a,c){var d=f[a];if(void 0===d)return q;m[d]|=1;f[c]=d;delete f[a];t[d][h]=c;return q},remove:function(a){var d=f[a];if(void 0===d)return q;var b=t[d];if(2<Object.keys(b).length)return m[d]|=2,q.set(a,null);if(c){for(k=d;k<t.length;k++)m[k]|=3;for(k=d;k<t.length;k++)f[t[k][h]]--;t.splice(d,1);delete f[a]}else n(b,e).set(null),m[d]|=6;return q},constructUpdate:function(){for(var a,
b,f={},g=Object.keys(m),k=0;k<g.length;k++)b=g[k],a=d+"["+b+"]",t[b]?(m[b]&1&&(f[a+"."+h]=t[b][h]),m[b]&2&&(f[a+"."+e]=c?m[b]&4?null:t[b][e]:m[b]&4?null:n(t[b],e).get())):f[a]=null;return f}};return q}},{"./nested_property":422}],418:[function(b,p,l){var n=b("../registry");p.exports=function(b,k){for(var d=b._context.locale,g=0;2>g;g++){for(var e=b._context.locales,l=0;2>l;l++){if(e=(e[d]||{}).dictionary)if(e=e[k])return e;e=n.localeRegistry}l=d.split("-")[0];if(l===d)break;d=l}return k}},{"../registry":517}],
419:[function(b,p,l){function n(b,d){if(b.apply)b.apply(b,d);else for(var g=0;g<d.length;g++)b(d[g])}var g=b("../plot_api/plot_config");b=p.exports={};b.log=function(){if(1<g.logging){for(var b=["LOG:"],d=0;d<arguments.length;d++)b.push(arguments[d]);n(console.trace||console.log,b)}};b.warn=function(){if(0<g.logging){for(var b=["WARN:"],d=0;d<arguments.length;d++)b.push(arguments[d]);n(console.trace||console.log,b)}};b.error=function(){if(0<g.logging){for(var b=["ERROR:"],d=0;d<arguments.length;d++)b.push(arguments[d]);
n(console.error,b)}}},{"../plot_api/plot_config":448}],420:[function(b,p,l){l.init2dArray=function(b,g){for(var k=Array(b),d=0;d<b;d++)k[d]=Array(g);return k};l.transposeRagged=function(b){var g=0,k=b.length,d,h;for(d=0;d<k;d++)g=Math.max(g,b[d].length);var e=Array(g);for(d=0;d<g;d++)for(e[d]=Array(k),h=0;h<k;h++)e[d][h]=b[h][d];return e};l.dot=function(b,g){if(!b.length||!g.length||b.length!==g.length)return null;var k=b.length,d;if(b[0].length){var h=Array(k);for(d=0;d<k;d++)h[d]=l.dot(b[d],g)}else if(g[0].length)for(g=
l.transposeRagged(g),h=Array(g.length),d=0;d<g.length;d++)h[d]=l.dot(b,g[d]);else for(d=h=0;d<k;d++)h+=b[d]*g[d];return h};l.translationMatrix=function(b,g){return[[1,0,b],[0,1,g],[0,0,1]]};l.rotationMatrix=function(b){b=b*Math.PI/180;return[[Math.cos(b),-Math.sin(b),0],[Math.sin(b),Math.cos(b),0],[0,0,1]]};l.rotationXYMatrix=function(b,g,k){return l.dot(l.dot(l.translationMatrix(g,k),l.rotationMatrix(b)),l.translationMatrix(-g,-k))};l.apply2DTransform=function(b){return function(){var g=arguments;
3===g.length&&(g=g[0]);g=1===arguments.length?g[0]:[g[0],g[1]];return l.dot(b,[g[0],g[1],1]).slice(0,2)}};l.apply2DTransform2=function(b){var g=l.apply2DTransform(b);return function(b){return g(b.slice(0,2)).concat(g(b.slice(2,4)))}}},{}],421:[function(b,p,l){p.exports=function(b,g){b%=g;return 0>b?b+g:b}},{}],422:[function(b,p,l){function n(a,c){return function(){var d=a,b,e;for(b=0;b<c.length-1;b++){var f=c[b];if(-1===f){f=!0;var g=[];for(e=0;e<d.length;e++)g[e]=n(d[e],c.slice(b+1))(),g[e]!==g[0]&&
(f=!1);return f?g[0]:g}if("number"===typeof f&&!m(d))return;d=d[f];if("object"!==typeof d||null===d)return}if("object"===typeof d&&null!==d&&(g=d[c[b]],null!==g))return g}}function g(a,d){return void 0!==a&&null!==a&&("object"!==typeof a||(m(a)?a.length:Object.keys(a).length))||t(a)&&"]"===d.charAt(d.length-1)||d.match(q)&&void 0!==a?!1:!m(a)||d.match(c)?!0:(a=f(d))&&""===a.index}function k(a,c,b){return function(e){var f=a,q="",t=[[a,q]],r=g(e,b),n;for(n=0;n<c.length-1;n++){var l=c[n];if("number"===
typeof l&&!m(f))throw"array index but container is not an array";if(-1===l){r=f;l=c.slice(n+1);var p=e,u=b,v=m(p),x=!0,J=p,K=u.replace("-1",0),H=v?!1:g(p,K),L=l[0];for(q=0;q<r.length;q++)K=u.replace("-1",q),v&&(J=p[q%p.length],H=g(J,K)),H&&(x=!1),h(r,q,L,H)&&k(r[q],l,u.replace("-1",q))(J);if(r=!x)break;else return}if(!h(f,l,c[n+1],r))break;f=f[l];if("object"!==typeof f||null===f)throw"container is not an object";q=d(q,l);t.push([f,q])}if(r)a:for(n===c.length-1&&delete f[c[n]],e=t.length-1;0<=e;e--){n=
t[e][0];q=t[e][1];l=!1;if(m(n))for(f=n.length-1;0<=f;f--)g(n[f],d(q,f))?l?n[f]=void 0:n.pop():l=!0;else if("object"===typeof n&&null!==n)for(r=Object.keys(n),l=!1,f=r.length-1;0<=f;f--)g(n[r[f]],d(q,r[f]))?delete n[r[f]]:l=!0;if(l)break a}else f[c[n]]=e}}function d(a,c){var d=c;u(c)?d="["+c+"]":a&&(d="."+c);return a+d}function h(a,c,d,b){if(void 0===a[c]){if(b)return!1;a[c]="number"===typeof d?[]:{}}return!0}function e(a,c,d){return{set:function(){throw"bad container";},get:function(){},astr:c,parts:d,
obj:a}}var u=b("fast-isnumeric"),m=b("./is_array").isArrayOrTypedArray,t=b("./is_plain_object"),f=b("../plot_api/container_array_match");p.exports=function(a,c){if(u(c))c=String(c);else if("string"!==typeof c||"[-1]"===c.substr(c.length-4))throw"bad property string";for(var d=0,b=c.split("."),f,g;d<b.length;){if(f=String(b[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(f[1])b[d]=f[1];else if(0===d)b.splice(0,1);else throw"bad property string";f=f[2].substr(1,f[2].length-2).split("][");for(g=0;g<
f.length;g++)d++,b.splice(d,0,Number(f[g]))}d++}return"object"!==typeof a?e(a,c,b):{set:k(a,b,c),get:n(a,b),astr:c,parts:b,obj:a}};var c=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,q=/(^|\.)args\[/},{"../plot_api/container_array_match":442,"./is_array":415,"./is_plain_object":416,"fast-isnumeric":95}],423:[function(b,p,l){p.exports=function(){}},{}],424:[function(b,p,l){var n=b("d3"),g=b("fast-isnumeric"),k=[];p.exports=function(d,b){function e(d){d.duration(700).style("opacity",0).each("end",
function(d){d=k.indexOf(d);-1!==d&&k.splice(d,1);n.select(this).remove()})}if(-1===k.indexOf(d)){k.push(d);var h=1E3;g(b)?h=b:"long"===b&&(h=3E3);d=n.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0);d.selectAll(".notifier-note").data(k).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(d){var b=n.select(this);b.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){b.transition().call(e)});
var f=b.append("p");d=d.split(/<br\s*\/?>/g);for(var c=0;c<d.length;c++)c&&f.append("br"),f.append("span").text(d[c]);b.transition().duration(700).style("opacity",1).transition().delay(h).call(e)})}}},{d3:86,"fast-isnumeric":95}],425:[function(b,p,l){var n=b("./setcursor");p.exports=function(b,k){var d=b.attr("data-savedcursor");if(k){if(!d){d=(b.attr("class")||"").split(" ");for(var g=0;g<d.length;g++){var e=d[g];0===e.indexOf("cursor-")&&b.attr("data-savedcursor",e.substr(7)).classed(e,!1)}b.attr("data-savedcursor")||
b.attr("data-savedcursor","!!")}n(b,k)}else d&&(b.attr("data-savedcursor",null),"!!"===d?n(b):n(b,d))}},{"./setcursor":433}],426:[function(b,p,l){var n=b("./matrix").dot,g=b("../constants/numerical").BADNUM,k=p.exports={};k.tester=function(d){function b(a,d){var b=a[0],e=a[1];return b===g||b<t||b>f||e===g||e<c||e>q||d&&r(a)?!1:!0}function h(a,d){var b=a[0];a=a[1];if(b===g||b<t||b>f||a===g||a<c||a>q)return!1;var e=m.length,h=m[0][0],k=m[0][1],r=0,n;for(n=1;n<e;n++){var l=h;var p=k;h=m[n][0];k=m[n][1];
var u=Math.min(l,h);if(!(b<u||b>Math.max(l,h)||a>Math.max(p,k)))if(a<Math.min(p,k))b!==u&&r++;else{l=h===l?a:p+(b-l)*(k-p)/(h-l);if(a===l)return 1===n&&d?!1:!0;a<=l&&b!==u&&r++}}return 1===r%2}if(Array.isArray(d[0][0]))return k.multitester(d);var m=d.slice(),t=m[0][0],f=t,c=m[0][1],q=c;m.push(m[0]);for(d=1;d<m.length;d++)t=Math.min(t,m[d][0]),f=Math.max(f,m[d][0]),c=Math.min(c,m[d][1]),q=Math.max(q,m[d][1]);var a=!1;if(5===m.length)if(m[0][0]===m[1][0]){if(m[2][0]===m[3][0]&&m[0][1]===m[3][1]&&m[1][1]===
m[2][1]){a=!0;var r=function(a){return a[0]===m[0][0]}}}else m[0][1]===m[1][1]&&m[2][1]===m[3][1]&&m[0][0]===m[3][0]&&m[1][0]===m[2][0]&&(a=!0,r=function(a){return a[1]===m[0][1]});var n=!0,l=m[0];for(d=1;d<m.length;d++)if(l[0]!==m[d][0]||l[1]!==m[d][1]){n=!1;break}return{xmin:t,xmax:f,ymin:c,ymax:q,pts:m,contains:a?b:h,isRect:a,degenerate:n}};k.multitester=function(d){for(var b=[],g=d[0][0][0],h=g,t=d[0][0][1],f=t,c=0;c<d.length;c++){var q=k.tester(d[c]);q.subtract=d[c].subtract;b.push(q);g=Math.min(g,
q.xmin);h=Math.max(h,q.xmax);t=Math.min(t,q.ymin);f=Math.max(f,q.ymax)}return{xmin:g,xmax:h,ymin:t,ymax:f,pts:[],contains:function(a,c){for(var d=!1,e=0;e<b.length;e++)b[e].contains(a,c)&&(d=!1===b[e].subtract);return d},isRect:!1,degenerate:!1}};var d=k.isSegmentBent=function(d,b,g,k){var e=d[b],f=[d[g][0]-e[0],d[g][1]-e[1]],c=n(f,f),h=Math.sqrt(c);h=[-f[1]/h,f[0]/h];for(b+=1;b<g;b++){var a=[d[b][0]-e[0],d[b][1]-e[1]];var m=n(a,f);if(0>m||m>c||Math.abs(n(a,h))>k)return!0}return!1};k.filter=function(b,
e){function g(c){b.push(c);c=h.length;var a=k;h.splice(f+1);for(var g=a+1;g<b.length;g++)if(g===b.length-1||d(b,a,g+1,e))h.push(b[g]),h.length<c-2&&(k=g,f=h.length-1),a=g}var h=[b[0]],k=0,f=0;if(1<b.length){var c=b.pop();g(c)}return{addPt:g,raw:b,filtered:h}}},{"../constants/numerical":395,"./matrix":420}],427:[function(b,p,l){p.exports=function(b,g){if(g instanceof RegExp){var k=g.toString(),d;for(d=0;d<b.length;d++)if(b[d]instanceof RegExp&&b[d].toString()===k)return b;b.push(g)}else!g&&0!==g||
-1!==b.indexOf(g)||b.push(g);return b}},{}],428:[function(b,p,l){var n=b("../lib"),g=b("../plot_api/plot_config"),k={add:function(b,h,e,k,m){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1};var d=b.undoQueue.index;if(b.autoplay)b.undoQueue.inSequence||(b.autoplay=!1);else{if(!b.undoQueue.sequence||b.undoQueue.beginSequence){var f={undo:{calls:[],args:[]},redo:{calls:[],args:[]}};b.undoQueue.queue.splice(d,b.undoQueue.queue.length-d,f);b.undoQueue.index+=1}else f=b.undoQueue.queue[d-1];b.undoQueue.beginSequence=
!1;f&&(f.undo.calls.unshift(h),f.undo.args.unshift(e),f.redo.calls.push(k),f.redo.args.push(m));b.undoQueue.queue.length>g.queueLength&&(b.undoQueue.queue.shift(),b.undoQueue.index--)}},startSequence:function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1};b.undoQueue.sequence=!0;b.undoQueue.beginSequence=!0},stopSequence:function(b){b.undoQueue=b.undoQueue||{index:0,queue:[],sequence:!1};b.undoQueue.sequence=!1;b.undoQueue.beginSequence=!1},undo:function(b){var d;if(b.framework&&b.framework.isPolar)b.framework.undo();
else if(!(void 0===b.undoQueue||isNaN(b.undoQueue.index)||0>=b.undoQueue.index)){b.undoQueue.index--;var e=b.undoQueue.queue[b.undoQueue.index];b.undoQueue.inSequence=!0;for(d=0;d<e.undo.calls.length;d++)k.plotDo(b,e.undo.calls[d],e.undo.args[d]);b.undoQueue.inSequence=!1;b.autoplay=!1}},redo:function(b){var d;if(b.framework&&b.framework.isPolar)b.framework.redo();else if(!(void 0===b.undoQueue||isNaN(b.undoQueue.index)||b.undoQueue.index>=b.undoQueue.queue.length)){var e=b.undoQueue.queue[b.undoQueue.index];
b.undoQueue.inSequence=!0;for(d=0;d<e.redo.calls.length;d++)k.plotDo(b,e.redo.calls[d],e.redo.args[d]);b.undoQueue.inSequence=!1;b.autoplay=!1;b.undoQueue.index++}},plotDo:function(b,g,e){b.autoplay=!0;for(var d=[],h,k=0;k<e.length;k++)h=e[k],d[k]=h===b?h:"object"===typeof h?Array.isArray(h)?n.extendDeep([],h):n.extendDeepAll({},h):h;g.apply(null,d)}};p.exports=k},{"../lib":414,"../plot_api/plot_config":448}],429:[function(b,p,l){l.counter=function(b,g,k){g=(g||"")+(k?"":"$");return"xy"===b?new RegExp("^x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+
g):new RegExp("^"+b+"([2-9]|[1-9][0-9]+)?"+g)}},{}],430:[function(b,p,l){var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,g=/^[^\.\[\]]+$/;p.exports=function(b,d){for(;d;){var h=b.match(n);if(h)b=h[1];else if(b.match(g))b="";else throw Error("bad relativeAttr call:"+[b,d]);if("^"===d.charAt(0))d=d.slice(1);else break}return b&&"["!==d.charAt(0)?b+"."+d:b+d}},{}],431:[function(b,p,l){var n=b("./is_array").isArrayOrTypedArray,g=b("./is_plain_object");p.exports=function e(b,h){for(var d in h){var m=h[d],t=b[d];if(t!==
m)if("_"===d.charAt(0)||"function"===typeof m)d in b||(b[d]=m);else if(n(m)&&n(t)&&g(m[0])){if("customdata"!==d&&"ids"!==d)for(var f=Math.min(m.length,t.length),c=0;c<f;c++)t[c]!==m[c]&&g(m[c])&&g(t[c])&&e(t[c],m[c])}else g(m)&&g(t)&&(e(t,m),Object.keys(t).length||delete b[d])}}},{"./is_array":415,"./is_plain_object":416}],432:[function(b,p,l){function n(b,d){return b<d}function g(b,d){return b<=d}function k(b,d){return b>d}function d(b,d){return b>=d}var h=b("fast-isnumeric"),e=b("./loggers");l.findBin=
function(b,m,t){if(h(m.start))return t?Math.ceil((b-m.start)/m.size-1E-9)-1:Math.floor((b-m.start)/m.size+1E-9);var f=0,c=m.length,q=0,a=1<c?(m[c-1]-m[0])/(c-1):1;var r=0<=a?t?n:g:t?d:k;for(b+=1E-9*a*(t?-1:1)*(0<=a?1:-1);f<c&&100>q++;)t=Math.floor((f+c)/2),r(m[t],b)?f=t+1:c=t;90<q&&e.log("Long binary search...");return f-1};l.sorterAsc=function(b,d){return b-d};l.sorterDes=function(b,d){return d-b};l.distinctVals=function(b){b=b.slice();b.sort(l.sorterAsc);for(var d=b.length-1,e=b[d]-b[0]||1,f=e/
(d||1)/1E4,c=[b[0]],g=0;g<d;g++)b[g+1]>b[g]+f&&(e=Math.min(e,b[g+1]-b[g]),c.push(b[g+1]));return{vals:c,minDiff:e}};l.roundUp=function(b,d,e){for(var f=0,c=d.length-1,g=0,a=e?0:1,h=e?1:0,k=e?Math.ceil:Math.floor;f<c&&100>g++;)e=k((f+c)/2),d[e]<=b?f=e+a:c=e-h;return d[f]}},{"./loggers":419,"fast-isnumeric":95}],433:[function(b,p,l){p.exports=function(b,g){(b.attr("class")||"").split(" ").forEach(function(g){0===g.indexOf("cursor-")&&b.classed(g,!1)});g&&b.classed("cursor-"+g,!0)}},{}],434:[function(b,
p,l){var n=b("../components/color"),g=function(){};p.exports=function(b){for(var d in b)"function"===typeof b[d]&&(b[d]=g);b.destroy=function(){b.container.parentNode.removeChild(b.container)};d=document.createElement("div");d.textContent="Webgl is not supported by your browser - visit http://get.webgl.org for more info";d.style.cursor="pointer";d.style.fontSize="24px";d.style.color=n.defaults[0];b.container.appendChild(d);b.container.style.background="#FFFFFF";b.container.onclick=function(){window.open("http://get.webgl.org")};
return!1}},{"../components/color":291}],435:[function(b,p,l){var n=b("fast-isnumeric"),g=b("./is_array").isArrayOrTypedArray;l.aggNums=function(b,d,h,e){var k;if(!e||e>h.length)e=h.length;n(d)||(d=!1);if(g(h[0])){var m=Array(e);for(k=0;k<e;k++)m[k]=l.aggNums(b,d,h[k]);h=m}for(k=0;k<e;k++)n(d)?n(h[k])&&(d=b(+d,+h[k])):d=h[k];return d};l.len=function(b){return l.aggNums(function(b){return b+1},0,b)};l.mean=function(b,d){d||(d=l.len(b));return l.aggNums(function(b,d){return b+d},0,b)/d};l.variance=function(b,
d,g){d||(d=l.len(b));n(g)||(g=l.mean(b,d));return l.aggNums(function(b,d){return b+Math.pow(d-g,2)},0,b)/d};l.stdev=function(b,d,g){return Math.sqrt(l.variance(b,d,g))};l.interp=function(b,d){if(!n(d))throw"n should be a finite number";d=d*b.length-.5;if(0>d)return b[0];if(d>b.length-1)return b[b.length-1];var g=d%1;return g*b[Math.ceil(d)]+(1-g)*b[Math.floor(d)]}},{"./is_array":415,"fast-isnumeric":95}],436:[function(b,p,l){var n=b("color-normalize");p.exports=function(b){return b?n(b):[0,0,0,1]}},
{"color-normalize":67}],437:[function(b,p,l){function n(c,b,d){var f="math-output-"+u.randstr([],64),g=e.select("body").append("div").attr({id:f}).style({visibility:"hidden",position:"absolute"}).style({"font-size":b.fontSize+"px"}).text(c.replace(q,"\\lt ").replace(a,"\\gt "));MathJax.Hub.Queue(["Typeset",MathJax.Hub,g.node()],function(){var a=e.select("body").select("#MathJax_SVG_glyphs");if(g.select(".MathJax_SVG").empty()||!g.select("svg").node())u.log("There was an error in the tex syntax.",
c),d();else{var b=g.select("svg").node().getBoundingClientRect();d(g.select(".MathJax_SVG"),a,b)}g.remove()})}function g(a,c){return a?(a=a.match(c))&&(a[3]||a[4]):null}function k(a,c){if(!a)return"";for(var b=0;b<c.length;b++){var d=c[b];a=a.replace(d.regExp,d.sub)}return a}function d(a,c){function b(){n++;var c=document.createElementNS(m.svg,"tspan");e.select(c).attr({class:"line",dy:n*f+"em"});a.appendChild(c);l=c;var b=t;t=[{node:c}];if(1<b.length)for(c=1;c<b.length;c++)d(b[c])}function d(a){var c=
a.type,b={};if("a"===c){var d="a";var f=a.target,g=a.href,h=a.popup;g&&(b={"xlink:xlink:show":"_blank"===f||"_"!==f.charAt(0)?"new":"replace",target:f,"xlink:xlink:href":g},h&&(b.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+h+'");return false;'))}else d="tspan";a.style&&(b.style=a.style);d=document.createElementNS(m.svg,d);"sup"===c||"sub"===c?(l.appendChild(document.createTextNode(C)),l.appendChild(d),f=document.createElementNS(m.svg,"tspan"),f.appendChild(document.createTextNode(C)),
e.select(f).attr("dy",x[c]),b.dy=v[c],l.appendChild(d),l.appendChild(f)):l.appendChild(d);e.select(d).attr(b);l=a.node=d;t.push(a)}function h(a){if(1===t.length)u.log("Ignoring unexpected end tag </"+a+">.",c);else{var b=t.pop();a!==b.type&&u.log("Start tag <"+b.type+"> doesnt match end tag <"+a+">. Pretending it did match.",c);l=t[t.length-1].node}}c=k(c,z).replace(F," ");var q=!1,t=[],n=-1;if(w.test(c))b();else{var l=a;t=[{node:a}]}for(var p=c.split(B),D=0;D<p.length;D++){var L=p[D],N=L.match(y),
V=N&&N[2].toLowerCase(),ba=r[V];if("br"===V)b();else if(void 0===ba)l.appendChild(document.createTextNode(L));else if(N[1])h(V);else{L=N[4];N={type:V};var ja=g(L,G);ja?(ja=ja.replace(H,"$1 fill:"),ba&&(ja+=";"+ba)):ba&&(ja=ba);ja&&(N.style=ja);"a"===V&&(q=!0,V=g(L,E))&&(ba=document.createElement("a"),ba.href=V,-1!==A.indexOf(ba.protocol)&&(N.href=encodeURI(decodeURI(V)),N.target=g(L,J)||"_blank",N.popup=g(L,K)));d(N)}}return q}function h(a,c,b){var d=b.horizontalAlign;b=b.verticalAlign||"top";var e=
a.node().getBoundingClientRect(),f=c.node().getBoundingClientRect(),g;var h="bottom"===b?function(){return e.bottom-g.height}:"middle"===b?function(){return e.top+(e.height-g.height)/2}:function(){return e.top};var k="right"===d?function(){return e.right-g.width}:"center"===d?function(){return e.left+(e.width-g.width)/2}:function(){return e.left};return function(){g=this.node().getBoundingClientRect();this.style({top:h()-f.top+"px",left:k()-f.left+"px","z-index":1E3});return this}}var e=b("d3"),u=
b("../lib"),m=b("../constants/xmlns_namespaces"),t=b("../constants/string_mappings"),f=b("../constants/alignment").LINE_SPACING,c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;l.convertToTspans=function(a,b,f){function g(){m.empty()||(q=a.attr("class")+"-math",m.select("svg."+q).remove());a.text("").style("white-space","pre");d(a.node(),h)&&a.style("pointer-events","all");l.positionText(a);f&&f.call(a)}var h=a.text(),k=!a.attr("data-notex")&&"undefined"!==typeof MathJax&&h.match(c),m=e.select(a.node().parentNode);
if(!m.empty()){var q=a.attr("class")?a.attr("class").split(" ")[0]:"text";q+="-math";m.selectAll("svg."+q).remove();m.selectAll("g."+q+"-group").remove();a.style("display",null).attr({"data-unformatted":h,"data-math":"N"});k?(b&&b._promises||[]).push(new Promise(function(c){a.style("display","none");var b=parseInt(a.node().style.fontSize,10);n(k[2],{fontSize:b},function(d,e,k){m.selectAll("svg."+q).remove();m.selectAll("g."+q+"-group").remove();if((d=d&&d.select("svg"))&&d.node()){var t=m.append("g").classed(q+
"-group",!0).attr({"pointer-events":"none","data-unformatted":h,"data-math":"Y"});t.node().appendChild(d.node());e&&e.node()&&d.node().insertBefore(e.node().cloneNode(!0),d.node().firstChild);d.attr({"class":q,height:k.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});e=a.node().style.fill||"black";d.select("g").attr({fill:e,stroke:e});e=d.node().getBoundingClientRect().width;k=d.node().getBoundingClientRect().height;var r=+a.attr("x")-e*{start:0,middle:.5,
end:1}[a.attr("text-anchor")||"start"],n=-(b||a.node().getBoundingClientRect().height)/4;"y"===q[0]?(t.attr({transform:"rotate("+[-90,+a.attr("x"),+a.attr("y")]+") translate("+[-e/2,n-k/2]+")"}),d.attr({x:+a.attr("x"),y:+a.attr("y")})):"l"===q[0]?d.attr({x:a.attr("x"),y:n-k/2}):"a"===q[0]?d.attr({x:0,y:n}):d.attr({x:r,y:+a.attr("y")+n-k/2});f&&f.call(a,t);c(t)}else g(),c()})})):g();return a}};var q=/(<|&lt;|&#60;)/g,a=/(>|&gt;|&#62;)/g,r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",
i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},v={sub:"0.3em",sup:"-0.6em"},x={sub:"-0.21em",sup:"0.42em"},C="\u200b",A=["http:","https:","mailto:","",void 0,":"],D=new RegExp("</?("+Object.keys(r).join("|")+")( [^>]*)?/?>","g"),z=Object.keys(t.entityToUnicode).map(function(a){return{regExp:new RegExp("&"+a+";","g"),sub:t.entityToUnicode[a]}}),F=/(\r\n?|\n)/g,B=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,w=/<br(\s+.*)?>/i,G=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,
E=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,J=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,K=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i,H=/(^|;)\s*color:/;l.plainText=function(a){return(a||"").replace(D," ")};l.lineCount=function(a){return a.selectAll("tspan.line").size()||1};l.positionText=function(a,c,b){return a.each(function(){function a(a,c){void 0===c?(c=d.attr(a),null===c&&(d.attr(a,0),c=0)):d.attr(a,c);return c}var d=e.select(this),f=a("x",c),g=a("y",b);"text"===this.nodeName&&
d.selectAll("tspan.line").attr({x:f,y:g})})};l.makeEditable=function(a,c){function b(){f();a.style({opacity:0});var c=q.attr("class");(c=c?"."+c.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(a.node().parentNode).select(c).style({opacity:0})}function d(a){a=a.node();var c=document.createRange();c.selectNodeContents(a);var b=window.getSelection();b.removeAllRanges();b.addRange(c);a.focus()}function f(){var b=e.select(g).select(".svg-container"),f=b.append("div"),k=a.node().style,q=parseFloat(k.fontSize||
12);f.classed("plugin-editable editable",!0).style({position:"absolute","font-family":k.fontFamily||"Arial","font-size":q,color:c.fill||k.fill||"black",opacity:1,"background-color":c.background||"transparent",outline:"#ffffff33 1px solid",margin:[-q/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c.text||a.attr("data-unformatted")).call(h(a,b,c)).on("blur",function(){g._editing=!1;a.text(this.textContent).style({opacity:1});var c=e.select(this).attr("class");
(c=c?"."+c.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(a.node().parentNode).select(c).style({opacity:0});c=this.textContent;e.select(this).transition().duration(0).remove();e.select(document).on("mouseup",null);m.edit.call(a,c)}).on("focus",function(){var a=this;g._editing=!0;e.select(document).on("mouseup",function(){if(e.event.target===a)return!1;document.activeElement===f.node()&&f.node().blur()})}).on("keyup",function(){27===e.event.which?(g._editing=!1,a.style({opacity:1}),
e.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),m.cancel.call(a,this.textContent)):(m.input.call(a,this.textContent),e.select(this).call(h(a,b,c)))}).on("keydown",function(){13===e.event.which&&this.blur()}).call(d)}var g=c.gd,k=c.delegate,m=e.dispatch("edit","input","cancel"),q=k||a;a.style({"pointer-events":k?"none":"all"});if(1!==a.size())throw Error("boo");if(c.immediate)b();else q.on("click",b);return e.rebind(a,m,"on")}},{"../constants/alignment":391,
"../constants/string_mappings":396,"../constants/xmlns_namespaces":397,"../lib":414,d3:86}],438:[function(b,p,l){function n(b){b&&null!==b.timer&&(clearTimeout(b.timer),b.timer=null)}var g={};l.throttle=function(b,d,h){function e(){h();k.ts=Date.now();k.onDone&&(k.onDone(),k.onDone=null)}var k=g[b],m=Date.now();if(!k){for(var t in g)g[t].ts<m-6E4&&delete g[t];k=g[b]={ts:0,timer:null}}n(k);m>k.ts+d?e():k.timer=setTimeout(function(){e();k.timer=null},d)};l.done=function(b){var d=g[b];return d&&d.timer?
new Promise(function(b){var e=d.onDone;d.onDone=function(){e&&e();b();d.onDone=null}}):Promise.resolve()};l.clear=function(b){if(b)n(g[b]),delete g[b];else for(var d in g)l.clear(d)}},{}],439:[function(b,p,l){var n=b("fast-isnumeric");p.exports=function(b,k){if(0<b)return Math.log(b)/Math.LN10;b=Math.log(Math.min(k[0],k[1]))/Math.LN10;n(b)||(b=Math.log(Math.max(k[0],k[1]))/Math.LN10-6);return b}},{"fast-isnumeric":95}],440:[function(b,p,l){p.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},
format:{date:"%m/%d/%Y"}}},{}],441:[function(b,p,l){p.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:"Sunday Monday Tuesday Wednesday Thursday Friday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),periods:["AM","PM"],dateTime:"%a %b %e %X %Y",
date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],442:[function(b,p,l){var n=b("../registry");p.exports=function(b){for(var g=n.layoutArrayContainers,d=n.layoutArrayRegexes,h=b.split("[")[0],e,l,m=0;m<d.length;m++)if((l=b.match(d[m]))&&0===l.index){e=l[0];break}e||(e=g[g.indexOf(h)]);if(!e)return!1;b=b.substr(e.length);return b?(l=b.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))?{array:e,index:Number(l[1]),
property:l[3]||""}:!1:{array:e,index:"",property:""}}},{"../registry":517}],443:[function(b,p,l){function n(b){for(var d={},e=0;e<b.length;e++)d[b[e]]=!1;return d}function g(b,e,f){b=d({},b);for(var c in b){var g=b[c];h(g)&&(b[c]=k(g,e,f,c))}"from-root"===f&&(b.editType=e);return b}function k(b,e,f,c){if(b.valType){f=d({},b);f.editType=e;if(Array.isArray(b.items))for(f.items=Array(b.items.length),c=0;c<b.items.length;c++)f.items[c]=k(b.items[c],e,"from-root");return f}return g(b,e,"_"===c.charAt(0)?
"nested":"from-root")}b=b("../lib");var d=b.extendFlat,h=b.isPlainObject;b={valType:"flaglist",extras:["none"],flags:"calc calcIfAutorange clearAxisTypes plot style colorbars".split(" "),description:"trace attributes should include an `editType` string matching this flaglist. *calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata` to force it to be regenerated *calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata` if there is at least one autoranged axis. *clearAxisTypes* resets the types of the axes this trace is on, because new data could cause the automatic axis type detection to change. Log type will not be cleared, as that is never automatically chosen so must have been user-specified. *plot* calls `Plotly.plot` but without first clearing `gd.calcdata`. *style* only calls `module.style` for all trace modules and redraws the legend. *colorbars* only redraws colorbars."};
l={valType:"flaglist",extras:["none"],flags:"calc calcIfAutorange plot legend ticks margins layoutstyle modebar camera arraydraw".split(" "),description:"layout attributes should include an `editType` string matching this flaglist. *calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata` to force it to be regenerated *calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata` if there is at least one autoranged axis. *plot* calls `Plotly.plot` but without first clearing `gd.calcdata`. *legend* only redraws the legend. *ticks* only redraws axis ticks, labels, and gridlines. *margins* recomputes ticklabel automargins. *layoutstyle* reapplies global and SVG cartesian axis styles. *modebar* just updates the modebar. *camera* just updates the camera settings for gl3d scenes. *arraydraw* allows component arrays to invoke the redraw routines just for the component(s) that changed."};
var e=b.flags.slice().concat(["clearCalc","fullReplot"]),u=l.flags.slice().concat("layoutReplot");p.exports={traces:b,layout:l,traceFlags:function(){return n(e)},layoutFlags:function(){return n(u)},update:function(b,d){if((d=d.editType)&&"none"!==d){d=d.split("+");for(var e=0;e<d.length;e++)b[d[e]]=!0}},overrideAll:g}},{"../lib":414}],444:[function(b,p,l){function n(a,b){var c=a[b],d=b.charAt(0);c&&"paper"!==c&&(a[b]=f(c,d))}function g(a){var b="middle",c="center";-1!==a.indexOf("top")?b="top":-1!==
a.indexOf("bottom")&&(b="bottom");-1!==a.indexOf("left")?c="left":-1!==a.indexOf("right")&&(c="right");return b+" "+c}function k(a,b){return b in a&&"object"===typeof a[b]&&0===Object.keys(a[b]).length}function d(b){var c=b.search(a);if(0<c)return b.substr(0,c)}var h=b("fast-isnumeric"),e=b("gl-mat4/fromQuat"),u=b("../registry"),m=b("../lib"),t=b("../plots/plots");p=b("../plots/cartesian/axis_ids");var f=p.cleanId,c=p.getFromTrace,q=b("../components/color");l.clearPromiseQueue=function(a){Array.isArray(a._promises)&&
0<a._promises.length&&m.log("Clearing previous rejected promises from queue.");a._promises=[]};l.cleanLayout=function(a){var b;a||(a={});a.xaxis1&&(a.xaxis||(a.xaxis=a.xaxis1),delete a.xaxis1);a.yaxis1&&(a.yaxis||(a.yaxis=a.yaxis1),delete a.yaxis1);a.scene1&&(a.scene||(a.scene=a.scene1),delete a.scene1);var c=(t.subplotsRegistry.cartesian||{}).attrRegex,d=(t.subplotsRegistry.gl3d||{}).attrRegex,g=Object.keys(a);for(b=0;b<g.length;b++){var h=g[b];if(c&&c.test(h)){h=a[h];h.anchor&&"free"!==h.anchor&&
(h.anchor=f(h.anchor));h.overlaying&&(h.overlaying=f(h.overlaying));h.type||(h.isdate?h.type="date":h.islog?h.type="log":!1===h.isdate&&!1===h.islog&&(h.type="linear"));if("withzero"===h.autorange||"tozero"===h.autorange)h.autorange=!0,h.rangemode="tozero";delete h.islog;delete h.isdate;delete h.categories;k(h,"domain")&&delete h.domain;void 0!==h.autotick&&(void 0===h.tickmode&&(h.tickmode=h.autotick?"auto":"linear"),delete h.autotick)}else if(d&&d.test(h)){h=a[h];var r=h.cameraposition;if(Array.isArray(r)&&
4===r[0].length){var l=r[1],p=r[2],u=e([],r[0]),v=[];for(r=0;3>r;++r)v[r]=l[r]+p*u[2+4*r];h.camera={eye:{x:v[0],y:v[1],z:v[2]},center:{x:l[0],y:l[1],z:l[2]},up:{x:u[1],y:u[5],z:u[9]}};delete h.cameraposition}}}c=Array.isArray(a.annotations)?a.annotations.length:0;for(b=0;b<c;b++)d=a.annotations[b],m.isPlainObject(d)&&(d.ref&&("paper"===d.ref?(d.xref="paper",d.yref="paper"):"data"===d.ref&&(d.xref="x",d.yref="y"),delete d.ref),n(d,"xref"),n(d,"yref"));c=Array.isArray(a.shapes)?a.shapes.length:0;for(b=
0;b<c;b++)d=a.shapes[b],m.isPlainObject(d)&&(n(d,"xref"),n(d,"yref"));if(b=a.legend)3<b.x?(b.x=1.02,b.xanchor="left"):-2>b.x&&(b.x=-.02,b.xanchor="right"),3<b.y?(b.y=1.02,b.yanchor="bottom"):-2>b.y&&(b.y=-.02,b.yanchor="top");"rotate"===a.dragmode&&(a.dragmode="orbit");q.clean(a);return a};l.cleanData=function(a,b){var c=[];b=a.concat(Array.isArray(b)?b:[]).filter(function(a){return"uid"in a}).map(function(a){return a.uid});for(var d=0;d<a.length;d++){var e=a[d],h;if(!("uid"in e)||-1!==c.indexOf(e.uid)){for(h=
0;100>h;h++){var r=m.randstr(b);if(-1===c.indexOf(r))break}e.uid=m.randstr(b);b.push(e.uid)}c.push(e.uid);"histogramy"===e.type&&"xbins"in e&&!("ybins"in e)&&(e.ybins=e.xbins,delete e.xbins);e.error_y&&"opacity"in e.error_y&&(h=q.defaults,h=e.error_y.color||(u.traceIs(e,"bar")?q.defaultLine:h[d%h.length]),e.error_y.color=q.addOpacity(q.rgb(h),q.opacity(h)*e.error_y.opacity),delete e.error_y.opacity);"bardir"in e&&("h"!==e.bardir||!u.traceIs(e,"bar")&&"histogram"!==e.type.substr(0,9)||(e.orientation=
"h",l.swapXYData(e)),delete e.bardir);"histogramy"===e.type&&l.swapXYData(e);if("histogramx"===e.type||"histogramy"===e.type)e.type="histogram";"scl"in e&&(e.colorscale=e.scl,delete e.scl);"reversescl"in e&&(e.reversescale=e.reversescl,delete e.reversescl);e.xaxis&&(e.xaxis=f(e.xaxis,"x"));e.yaxis&&(e.yaxis=f(e.yaxis,"y"));u.traceIs(e,"gl3d")&&e.scene&&(e.scene=t.subplotsRegistry.gl3d.cleanId(e.scene));if(!u.traceIs(e,"pie")&&!u.traceIs(e,"bar"))if(Array.isArray(e.textposition))for(h=0;h<e.textposition.length;h++)e.textposition[h]=
g(e.textposition[h]);else e.textposition&&(e.textposition=g(e.textposition));u.traceIs(e,"2dMap")&&("YIGnBu"===e.colorscale&&(e.colorscale="YlGnBu"),"YIOrRd"===e.colorscale&&(e.colorscale="YlOrRd"));u.traceIs(e,"markerColorscale")&&e.marker&&(h=e.marker,"YIGnBu"===h.colorscale&&(h.colorscale="YlGnBu"),"YIOrRd"===h.colorscale&&(h.colorscale="YlOrRd"));if("surface"===e.type&&m.isPlainObject(e.contours))for(r=["x","y","z"],h=0;h<r.length;h++){var n=e.contours[r[h]];m.isPlainObject(n)&&(n.highlightColor&&
(n.highlightcolor=n.highlightColor,delete n.highlightColor),n.highlightWidth&&(n.highlightwidth=n.highlightWidth,delete n.highlightWidth))}if(Array.isArray(e.transforms))for(r=e.transforms,h=0;h<r.length;h++)if(n=r[h],m.isPlainObject(n))switch(n.type){case "filter":n.filtersrc&&(n.target=n.filtersrc,delete n.filtersrc);n.calendar&&(n.valuecalendar||(n.valuecalendar=n.calendar),delete n.calendar);break;case "groupby":if(n.styles=n.styles||n.style,n.styles&&!Array.isArray(n.styles)){var p=n.styles,
w=Object.keys(p);n.styles=[];for(var v=0;v<w.length;v++)n.styles.push({target:w[v],value:p[w[v]]})}}k(e,"line")&&delete e.line;"marker"in e&&(k(e.marker,"line")&&delete e.marker.line,k(e,"marker")&&delete e.marker);q.clean(e)}};l.swapXYData=function(a){m.swapAttrs(a,"? ?0 d? ?bins nbins? autobin? ?src error_?".split(" "));Array.isArray(a.z)&&Array.isArray(a.z[0])&&(a.transpose?delete a.transpose:a.transpose=!0);if(a.error_x&&a.error_y){var b=a.error_y;b="copy_ystyle"in b?b.copy_ystyle:!(b.color||
b.thickness||b.width);m.swapAttrs(a,["error_?.copy_ystyle"]);b&&m.swapAttrs(a,["error_?.color","error_?.thickness","error_?.width"])}if("string"===typeof a.hoverinfo){var c=a.hoverinfo.split("+");for(b=0;b<c.length;b++)"x"===c[b]?c[b]="y":"y"===c[b]&&(c[b]="x");a.hoverinfo=c.join("+")}};l.coerceTraceIndices=function(a,b){return h(b)?[b]:Array.isArray(b)&&b.length?b:a.data.map(function(a,b){return b})};l.manageArrayContainers=function(a,b,c){var d=a.obj,e=a.parts,f=e.length,g=e[f-1],k=h(g);k&&null===
b?(a=e.slice(0,f-1).join("."),m.nestedProperty(d,a).get().splice(g,1)):(k&&void 0===a.get()&&void 0===a.get()&&(c[a.astr]=null),a.set(b))};var a=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;l.hasParent=function(a,b){for(b=d(b);b;){if(b in a)return!0;b=d(b)}return!1};var r=["x","y","z"];l.clearAxisTypes=function(a,b,d){for(var e=0;e<b.length;e++)for(var f=a._fullData[e],g=0;3>g;g++){var h=c(a,f,r[g]);if(h&&"log"!==h.type){var k=h._name;h=h._id.substr(1);if("scene"===h.substr(0,5)){if(void 0!==d[h])continue;k=
h+"."+k}h=k+".type";void 0===d[k]&&void 0===d[h]&&m.nestedProperty(a.layout,h).set(null)}}};l.clearAxisAutomargins=function(a){for(var b=Object.keys(a._fullLayout._pushmargin),c=0;c<b.length;c++)-1!==b[c].indexOf("automargin")&&delete a._fullLayout._pushmargin[b[c]]}},{"../components/color":291,"../lib":414,"../plots/cartesian/axis_ids":461,"../plots/plots":502,"../registry":517,"fast-isnumeric":95,"gl-mat4/fromQuat":120}],445:[function(b,p,l){p=b("./plot_api");l.plot=p.plot;l.newPlot=p.newPlot;l.restyle=
p.restyle;l.relayout=p.relayout;l.redraw=p.redraw;l.update=p.update;l.react=p.react;l.extendTraces=p.extendTraces;l.prependTraces=p.prependTraces;l.addTraces=p.addTraces;l.deleteTraces=p.deleteTraces;l.moveTraces=p.moveTraces;l.purge=p.purge;l.addFrames=p.addFrames;l.deleteFrames=p.deleteFrames;l.animate=p.animate;l.setPlotConfig=p.setPlotConfig;l.toImage=b("./to_image");l.validate=b("./validate");l.downloadImage=b("../snapshot/download")},{"../snapshot/download":519,"./plot_api":447,"./to_image":451,
"./validate":452}],446:[function(b,p,l){var n=b("../lib/nested_property"),g=b("../lib/is_plain_object"),k=b("../lib/noop"),d=b("../lib/loggers"),h=b("../lib/search").sorterAsc,e=b("../registry");l.containerArrayMatch=b("./container_array_match");var u=l.isAddVal=function(b){return"add"===b||g(b)},m=l.isRemoveVal=function(b){return null===b||"remove"===b};l.applyContainerArrayChanges=function(b,f,c,g){var a=f.astr,q=e.getComponentMethod(a,"supplyLayoutDefaults"),t=e.getComponentMethod(a,"draw"),l=
e.getComponentMethod(a,"drawOne");g=g.replot||g.recalc||q===k||t===k;var p=b.layout,A=b._fullLayout;if(c[""]){1<Object.keys(c).length&&d.warn("Full array edits are incompatible with other edits",a);l=c[""][""];if(m(l))f.set(null);else if(Array.isArray(l))f.set(l);else return d.warn("Unrecognized full array edit value",a,l),!0;if(g)return!1;q(p,A);t(b);return!0}var D=Object.keys(c).map(Number).sort(h),z=f.get(),F=z||[],B=n(A,a).get(),y=[],w=-1,G=F.length,E;for(E=0;E<D.length;E++){var J=D[E];var K=
c[J];var H=Object.keys(K);var L=K[""];var N=u(L);if(0>J||J>F.length-(N?0:1))d.warn("index out of range",a,J);else if(void 0!==L)1<H.length&&d.warn("Insertion & removal are incompatible with edits to the same index.",a,J),m(L)?y.push(J):N?("add"===L&&(L={}),F.splice(J,0,L),B&&B.splice(J,0,{})):d.warn("Unrecognized full object edit value",a,J,L),-1===w&&(w=J);else for(L=0;L<H.length;L++)n(F[J],H[L]).set(K[H[L]])}for(E=y.length-1;0<=E;E--)F.splice(y[E],1),B&&B.splice(y[E],1);F.length?z||f.set(F):f.set(null);
if(g)return!1;q(p,A);if(l!==k){if(-1===w)f=D;else{G=Math.max(F.length,G);f=[];for(E=0;E<D.length;E++){J=D[E];if(J>=w)break;f.push(J)}for(E=w;E<G;E++)f.push(E)}for(E=0;E<f.length;E++)l(b,f[E])}else t(b);return!0}},{"../lib/is_plain_object":416,"../lib/loggers":419,"../lib/nested_property":422,"../lib/noop":423,"../lib/search":432,"../registry":517,"./container_array_match":442}],447:[function(b,p,l){function n(a,b){try{a._fullLayout._paper.style("background",b)}catch(Aa){w.error(Aa)}}function g(a,
b){b=Q.combine(b,"white");n(a,b)}function k(a,b){a._context||(a._context=w.extendDeep({},aa));a=a._context;var c;if(b){var d=Object.keys(b);for(c=0;c<d.length;c++){var e=d[c];"editable"!==e&&"edits"!==e&&e in a&&(a[e]="setBackground"===e&&"opaque"===b[e]?g:b[e])}b.plot3dPixelRatio&&!a.plotGlPixelRatio&&(a.plotGlPixelRatio=a.plot3dPixelRatio);e=b.editable;if(void 0!==e)for(a.editable=e,d=Object.keys(a.edits),c=0;c<d.length;c++)a.edits[d[c]]=e;if(b.edits)for(d=Object.keys(b.edits),c=0;c<d.length;c++)e=
d[c],e in a.edits&&(a.edits[e]=b.edits[e])}a.staticPlot&&(a.editable=!1,a.edits={},a.autosizable=!1,a.scrollZoom=!1,a.doubleClick=!1,a.showTips=!1,a.showLink=!1,a.displayModeBar=!1);"hover"!==a.displayModeBar||y||(a.displayModeBar=!0);if("transparent"===a.setBackground||"function"!==typeof a.setBackground)a.setBackground=n}function d(a,b,c){var d=F.select(a).selectAll(".plot-container").data([0]);d.enter().insert("div",":first-child").classed("plot-container plotly",!0);d=d.selectAll(".svg-container").data([0]);
d.enter().append("div").classed("svg-container",!0).style("position","relative");d.html("");b&&(a.data=b);c&&(a.layout=c);L.manager.fillLayout(a);d.style({width:a._fullLayout.width+"px",height:a._fullLayout.height+"px"});a.framework=L.manager.framework(a);a.framework({data:a.data,layout:a.layout},d.node());a.framework.setUndoPoint();d=a.framework.svg();b=1;c=a._fullLayout.title;""!==c&&c||(b=0);var e=function(){this.call(U.convertToTspans,a)};d=d.select(".title-group text").call(e);if(a._context.edits.titleText){var f=
w._(a,"Click to enter Plot title");c&&c!==f||(b=.2,d.attr({"data-unformatted":f}).text(f).style({opacity:b}).on("mouseover.opacity",function(){F.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){F.select(this).transition().duration(1E3).style("opacity",0)}));var g=function(){this.call(U.makeEditable,{gd:a}).on("edit",function(b){a.framework({layout:{title:b}});this.text(b).call(e);this.call(g)}).on("cancel",function(){var a=this.attr("data-unformatted");
this.text(a).call(e)})};d.call(g)}a._context.setBackground(a,a._fullLayout.paper_bgcolor);H.addLinks(a);return Promise.resolve()}function h(a,b){b+=1;var c=[],d;for(d=0;d<a.length;d++){var e=a[d];0>e?c.push(b+e):c.push(e)}return c}function e(a,b,c){var d;for(d=0;d<b.length;d++){var e=b[d];if(e!==parseInt(e,10))throw Error("all values in "+c+" must be integers");if(e>=a.data.length||e<-a.data.length)throw Error(c+" must be valid indices for gd.data.");if(-1<b.indexOf(e,d+1)||0<=e&&-1<b.indexOf(-a.data.length+
e)||0>e&&-1<b.indexOf(a.data.length+e))throw Error("each index in "+c+" must be unique.");}}function u(a,b,c){if(!Array.isArray(a.data))throw Error("gd.data must be an array.");if("undefined"===typeof b)throw Error("currentIndices is a required argument.");Array.isArray(b)||(b=[b]);e(a,b,"currentIndices");"undefined"===typeof c||Array.isArray(c)||(c=[c]);"undefined"!==typeof c&&e(a,c,"newIndices");if("undefined"!==typeof c&&b.length!==c.length)throw Error("current and new indices must be of equal length.");
}function m(a,b,c){if(!Array.isArray(a.data))throw Error("gd.data must be an array.");if("undefined"===typeof b)throw Error("traces must be defined.");Array.isArray(b)||(b=[b]);for(a=0;a<b.length;a++){var d=b[a];if("object"!==typeof d||Array.isArray(d)||null===d)throw Error("all values in traces array must be non-array objects");}"undefined"===typeof c||Array.isArray(c)||(c=[c]);if("undefined"!==typeof c&&c.length!==b.length)throw Error("if indices is specified, traces.length must equal indices.length");
}function t(a,b,c,d,f){var g=w.isPlainObject(d);if(!Array.isArray(a.data))throw Error("gd.data must be an array");if(!w.isPlainObject(b))throw Error("update must be a key:value object");if("undefined"===typeof c)throw Error("indices must be an integer or array of integers");e(a,c,"indices");for(var k in b){if(!Array.isArray(b[k])||b[k].length!==c.length)throw Error("attribute "+k+" must be an array of length equal to indices array length");if(g&&!(k in d&&Array.isArray(d[k])&&d[k].length===b[k].length))throw Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object");
}g=c;k=w.isPlainObject(d);c=[];Array.isArray(g)||(g=[g]);g=h(g,a.data.length-1);for(var m in b)for(var q=0;q<g.length;q++){var n=a.data[g[q]];var r=w.nestedProperty(n,m);n=r.get();var t=b[m][q];if(!w.isArrayOrTypedArray(t))throw Error("attribute: "+m+" index: "+q+" must be an array");if(!w.isArrayOrTypedArray(n))throw Error("cannot extend missing or non-array attribute: "+m);if(n.constructor!==t.constructor)throw Error("cannot extend array with an array of a different type: "+m);var l=k?d[m][q]:d;
B(l)||(l=-1);c.push({prop:r,target:n,insert:t,maxp:Math.floor(l)})}a={};b={};for(d=0;d<c.length;d++)m=c[d].prop,g=f(c[d].target,c[d].insert,c[d].maxp),m.set(g[0]),Array.isArray(a[m.astr])||(a[m.astr]=[]),a[m.astr].push(g[1]),Array.isArray(b[m.astr])||(b[m.astr]=[]),b[m.astr].push(c[d].target.length);return{update:a,maxPoints:b}}function f(a,b){var c=new a.constructor(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a){return void 0===a?null:a}function q(a,b,d){function e(){return d.map(function(){})}
function f(a){a=M.id2name(a);-1===F.indexOf(a)&&F.push(a)}function g(a){return"LAYOUT"+a+".autorange"}function h(a){return"LAYOUT"+a+".range"}function k(f,g,h){if(Array.isArray(f))f.forEach(function(a){k(a,g,h)});else if(!(f in b||R.hasParent(b,f))){var m="LAYOUT"===f.substr(0,6)?w.nestedProperty(a.layout,f.replace("LAYOUT","")):w.nestedProperty(n[d[h]],f);f in p||(p[f]=e());void 0===p[f][h]&&(p[f][h]=c(m.get()));void 0!==g&&m.set(g)}}var m=a._fullLayout,q=a._fullData,n=a.data,r,t=ea.traceFlags(),
l={},p={},u;for(u in b){if(R.hasParent(b,u))throw Error("cannot set "+u+"and a parent attribute simultaneously");var v=b[u],y;l[u]=v;if("LAYOUT"===u.substr(0,6)){var x=w.nestedProperty(a.layout,u.replace("LAYOUT",""));p[u]=[c(x.get())];x.set(Array.isArray(v)?v[0]:v);t.calc=!0}else{p[u]=e();for(r=0;r<d.length;r++){var B=n[d[r]];var E=q[d[r]];x=w.nestedProperty(B,u);var G=x.get();var z=Array.isArray(v)?v[r%v.length]:v;if(void 0!==z){if((y=K.getTraceValObject(E,x.parts))&&y.impliedEdits&&null!==z)for(var A in y.impliedEdits)k(w.relativeAttr(u,
A),y.impliedEdits[A],r);else if("colorbar.thicknessmode"===u&&x.get()!==z&&-1!==["fraction","pixels"].indexOf(z)&&E.colorbar){var C=-1!==["top","bottom"].indexOf(E.colorbar.orient)?m.height-m.margin.t-m.margin.b:m.width-m.margin.l-m.margin.r;k("colorbar.thickness",E.colorbar.thickness*("fraction"===z?1/C:C),r)}else"colorbar.lenmode"===u&&x.get()!==z&&-1!==["fraction","pixels"].indexOf(z)&&E.colorbar?(C=-1!==["top","bottom"].indexOf(E.colorbar.orient)?m.width-m.margin.l-m.margin.r:m.height-m.margin.t-
m.margin.b,k("colorbar.len",E.colorbar.len*("fraction"===z?1/C:C),r)):"colorbar.tick0"!==u&&"colorbar.dtick"!==u||k("colorbar.tickmode","linear",r);if("type"===u&&"pie"===z!==("pie"===G)){C="x";var D="y";"bar"!==z&&"bar"!==G||"h"!==B.orientation||(C="y",D="x");w.swapAttrs(B,["?","?src"],"labels",C);w.swapAttrs(B,["d?","?0"],"label",C);w.swapAttrs(B,["?","?src"],"values",D);"pie"===G?(w.nestedProperty(B,"marker.color").set(w.nestedProperty(B,"marker.colors").get()),m._pielayer.selectAll("g.trace").remove()):
J.traceIs(B,"cartesian")&&w.nestedProperty(B,"marker.colors").set(w.nestedProperty(B,"marker.color").get())}p[u][r]=c(G);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(u)){if("orientation"===u){if(x.set(z),G=B.x&&!B.y?"h":"v",(x.get()||G)===E.orientation)continue}else"orientationaxes"===u&&(B.orientation={v:"h",h:"v"}[E.orientation]);R.swapXYData(B);t.calc=t.clearAxisTypes=!0}else-1!==H.dataArrayContainers.indexOf(x.parts[0])?(R.manageArrayContainers(x,z,p),t.calc=!0):(y?
y.arrayOk&&(w.isArrayOrTypedArray(z)||w.isArrayOrTypedArray(G))?t.calc=!0:ea.update(t,y):t.calc=!0,x.set(z))}}-1!==["swapxyaxes","orientationaxes"].indexOf(u)&&M.swap(a,d);"orientationaxes"===u&&(r=w.nestedProperty(a.layout,"hovermode"),"x"===r.get()?r.set("y"):"y"===r.get()&&r.set("x"));if(-1!==["orientation","type"].indexOf(u)){var F=[];for(r=0;r<d.length;r++)v=n[d[r]],J.traceIs(v,"cartesian")&&(f(v.xaxis||"x"),f(v.yaxis||"y"),"type"===u&&k(["autobinx","autobiny"],!0,r));k(F.map(g),!0,0);k(F.map(h),
[0,1],0)}}}m=!1;q=M.list(a);for(r=0;r<q.length;r++)if(q[r].autorange){m=!0;break}if(t.calc||t.calcIfAutorange&&m)t.clearCalc=!0;if(t.calc||t.plot||t.calcIfAutorange)t.fullReplot=!0;return{flags:t,undoit:p,redoit:l,traces:d,eventData:w.extendDeepNoArrays([],[l,d])}}function a(a,b){function d(a,e){if(Array.isArray(a))a.forEach(function(a){d(a,e)});else if(!(a in b||R.hasParent(b,a))){var g=w.nestedProperty(f,a);a in l||(l[a]=c(g.get()));void 0!==e&&g.set(e)}}function e(a){a=M.name2id(a.split(".")[0]);
p[a]=1;return a}var f=a.layout,g=a._fullLayout,h=Object.keys(b),k=M.list(a),m={},q,t;for(q=0;q<h.length;q++)if(0===h[q].indexOf("allaxes")){for(t=0;t<k.length;t++){var n=k[t]._id.substr(1);n=-1!==n.indexOf("scene")?n+".":"";n=h[q].replace("allaxes",n+k[t]._name);b[n]||(b[n]=b[h[q]])}delete b[h[q]]}h=ea.layoutFlags();k={};var l={},p={},u,y;for(y in b){if(R.hasParent(b,y))throw Error("cannot set "+y+"and a parent attribute simultaneously");q=w.nestedProperty(f,y);t=b[y];var x=q.parts.length;for(n=x-
1;0<n&&"string"!==typeof q.parts[x-1];)n--;x=q.parts[n];var B=q.parts[n-1]+"."+x,E=q.parts.slice(0,n).join("."),G=w.nestedProperty(a.layout,E).get(),z=w.nestedProperty(g,E).get(),A=q.get();if(void 0!==t){k[y]=t;l[y]="reverse"===x?t:c(A);if((n=K.getLayoutValObject(g,q.parts))&&n.impliedEdits&&null!==t)for(var C in n.impliedEdits)d(w.relativeAttr(y,C),n.impliedEdits[C]);-1!==["width","height"].indexOf(y)&&null===t?g[y]=a._initialAutoSize[y]:B.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?(e(B),w.nestedProperty(g,
E+"._inputRange").set(null)):B.match(/^[xyz]axis[0-9]*\.autorange$/)?(e(B),w.nestedProperty(g,E+"._inputRange").set(null),B=w.nestedProperty(g,E).get(),B._inputDomain&&(B._input.domain=B._inputDomain.slice())):B.match(/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/)&&w.nestedProperty(g,E+"._inputDomain").set(null);if("type"===x){var D=G;B="linear"===z.type&&"log"===t;var H="log"===z.type&&"linear"===t;B||H?(D&&D.range?z.autorange?B&&(D.range=D.range[1]>D.range[0]?[1,2]:[2,1]):(H=D.range[0],D=D.range[1],B?
(0>=H&&0>=D&&d(E+".autorange",!0),0>=H?H=D/1E6:0>=D&&(D=H/1E6),d(E+".range[0]",Math.log(H)/Math.LN10),d(E+".range[1]",Math.log(D)/Math.LN10)):(d(E+".range[0]",Math.pow(10,H)),d(E+".range[1]",Math.pow(10,D)))):d(E+".autorange",!0),Array.isArray(g._subplots.polar)&&g._subplots.polar.length&&g[q.parts[0]]&&"radialaxis"===q.parts[1]&&delete g[q.parts[0]]._subplot.viewInitial["radialaxis.range"],J.getComponentMethod("annotations","convertCoords")(a,z,t,d),J.getComponentMethod("images","convertCoords")(a,
z,t,d)):(d(E+".autorange",!0),d(E+".range",null));w.nestedProperty(g,E+"._inputRange").set(null)}else x.match(S.AX_NAME_PATTERN)&&(B=w.nestedProperty(g,y).get(),(D=(t||{}).type)&&"-"!==D||(D="linear"),J.getComponentMethod("annotations","convertCoords")(a,B,D,d),J.getComponentMethod("images","convertCoords")(a,B,D,d));if(B=W.containerArrayMatch(y)){var F=B.array;q=B.index;x=B.property;G=E=(w.nestedProperty(f,F)||[])[q]||{};n=n||{editType:"calc"};z=-1!==n.editType.indexOf("calcIfAutorange");""===q?
(z?h.calc=!0:ea.update(h,n),z=!1):""===x&&(G=t,W.isAddVal(t)?l[y]=null:W.isRemoveVal(t)?G=l[y]=E:w.warn("unrecognized full object value",b));z&&(v(a,G,"x")||v(a,G,"y"))?h.calc=!0:ea.update(h,n);m[F]||(m[F]={});(n=m[F][q])||(n=m[F][q]={});n[x]=t;delete b[y]}else"reverse"===x?(G.range?G.range.reverse():(d(E+".autorange",!0),G.range=[1,0]),z.autorange?h.calc=!0:h.plot=!0):(g._has("scatter-like")&&g._has("regl")&&"dragmode"===y&&("lasso"===t||"select"===t)&&"lasso"!==A&&"select"!==A?h.plot=!0:n?ea.update(h,
n):h.calc=!0,q.set(t))}}for(F in m)W.applyContainerArrayChanges(a,w.nestedProperty(f,F),m[F],h)||(h.plot=!0);g=g._axisConstraintGroups||[];for(u in p)for(q=0;q<g.length;q++)if(m=g[q],m[u]){h.calc=!0;for(var na in m)p[na]||(M.getFromId(a,na)._constraintShrinkable=!0)}if(r(a)||b.height||b.width)h.plot=!0;if(h.plot||h.calc)h.layoutReplot=!0;return{flags:h,undoit:l,redoit:k,eventData:w.extendDeep({},k)}}function r(a){var b=a._fullLayout,c=b.width,d=b.height;a.layout.autosize&&H.plotAutoSize(a,a.layout,
b);return b.width!==c||b.height!==d}function v(a,b,c){if(!w.isPlainObject(b))return!1;b=b[c+"ref"]||c;var d=M.getFromId(a,b);d||b.charAt(0)!==c||(d=M.getFromId(a,c));return(d||{}).autorange}function x(a,b,c,d){if(b.length!==c.length)return{fullReplot:!0,clearCalc:!0};var e=ea.traceFlags();e.arrays={};var f={getValObject:function(a){return K.getTraceValObject(g,a)},flags:e,immutable:d,gd:a};for(d=0;d<b.length;d++){var g=c[d];f.autoranged=g.xaxis?M.getFromId(a,g.xaxis).autorange||M.getFromId(a,g.yaxis).autorange:
!1;A(b[d],g,[],f)}if(e.calc||e.plot||e.calcIfAutorange)e.fullReplot=!0;return e}function C(a,b,c,d){var e=ea.layoutFlags();e.arrays={};A(b,c,[],{getValObject:function(a){return K.getLayoutValObject(c,a)},flags:e,immutable:d,gd:a});if(e.plot||e.calc)e.layoutReplot=!0;return e}function A(a,b,c,d){function e(){var a=f.editType;-1!==a.indexOf("calcIfAutorange")&&(r||void 0===r&&(v(t,b,"x")||v(t,b,"y")))?k.calc=!0:q&&-1!==a.indexOf("arraydraw")?w.pushUnique(k.arrays[q],n):ea.update(k,f)}var f,g,h=d.getValObject,
k=d.flags,m=d.immutable,q=d.inArray,n=d.arrayIndex,t=d.gd,r=d.autoranged,l=b._fullInput,p=a._fullInput;l&&l!==b&&(b=l);p&&p!==a&&(a=p);for(g in a){if(k.calc)return;l=a[g];p=b[g];if("_"!==g.charAt(0)&&"function"!==typeof l&&l!==p){if("tick0"===g||"dtick"===g){var u=b.tickmode;if("auto"===u||"array"===u||!u)continue}if("range"!==g||!b.autorange)if("zmin"!==g&&"zmax"!==g||"contourcarpet"!==b.type)if(u=c.concat(g),f=h(u)){var y=f.valType,x="data_array"===f.valType||f.arrayOk,B=Array.isArray(l),E=Array.isArray(p);
if(B&&E){var G="_input_"+g,z=a[G];G=b[G];if(Array.isArray(z)&&z===G)continue}if(void 0===p)x&&B?k.calc=!0:e();else if(f._isLinkedToArray){x=[];B=!1;q||(k.arrays[g]=x);E=Math.min(l.length,p.length);z=Math.max(l.length,p.length);if(E!==z)if("arraydraw"===f.editType)B=!0;else{e();continue}for(y=0;y<E;y++)A(l[y],p[y],u.concat(y),w.extendFlat({inArray:g,arrayIndex:y},d));if(B)for(y=E;y<z;y++)x.push(y)}else!y&&w.isPlainObject(l)?A(l,p,u,d):x?B&&E?m&&(k.calc=!0):B!==E?k.calc=!0:e():B&&E?(l.length!==p.length||
String(l)!==String(p))&&e():e()}}}for(g in b)if(!(g in a||"_"===g.charAt(0)||"function"===typeof b[g]))if(f=h(c.concat(g)),("data_array"===f.valType||f.arrayOk)&&Array.isArray(b[g])){k.calc=!0;break}else e()}function D(a,b){for(var c in a){var d=a[c],e=b[c];if(d!==e)if(w.isPlainObject(d)&&w.isPlainObject(e)){if(D(d,e))return!0}else if(Array.isArray(d)&&Array.isArray(e)){if(d.length!==e.length)return!0;for(var f=0;f<d.length;f++)if(d[f]!==e[f])if(w.isPlainObject(d[f])&&w.isPlainObject(e[f])){if(D(d[f],
e[f]))return!0}else return!0}else return!0}}function z(a){var b=F.select(a),c=a._fullLayout;c._container=b.selectAll(".plot-container").data([0]);c._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0);c._paperdiv=c._container.selectAll(".svg-container").data([0]);c._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative");c._glcontainer=c._paperdiv.selectAll(".gl-container").data([{}]);c._glcontainer.enter().append("div").classed("gl-container",
!0);c._glcanvas=null;c._paperdiv.selectAll(".main-svg").remove();c._paper=c._paperdiv.insert("svg",":first-child").classed("main-svg",!0);c._toppaper=c._paperdiv.append("svg").classed("main-svg",!0);if(!c._uid){var d=[];F.selectAll("defs").each(function(){this.id&&d.push(this.id.split("-")[1])});c._uid=w.randstr(d)}c._paperdiv.selectAll(".main-svg").attr(P.svgAttrs);c._defs=c._paper.append("defs").attr("id","defs-"+c._uid);c._clips=c._defs.append("g").classed("clips",!0);c._topdefs=c._toppaper.append("defs").attr("id",
"topdefs-"+c._uid);c._topclips=c._topdefs.append("g").classed("clips",!0);c._bgLayer=c._paper.append("g").classed("bglayer",!0);c._draggers=c._paper.append("g").classed("draglayer",!0);b=c._paper.append("g").classed("layer-below",!0);c._imageLowerLayer=b.append("g").classed("imagelayer",!0);c._shapeLowerLayer=b.append("g").classed("shapelayer",!0);c._cartesianlayer=c._paper.append("g").classed("cartesianlayer",!0);c._polarlayer=c._paper.append("g").classed("polarlayer",!0);c._ternarylayer=c._paper.append("g").classed("ternarylayer",
!0);c._geolayer=c._paper.append("g").classed("geolayer",!0);c._pielayer=c._paper.append("g").classed("pielayer",!0);c._glimages=c._paper.append("g").classed("glimages",!0);b=c._toppaper.append("g").classed("layer-above",!0);c._imageUpperLayer=b.append("g").classed("imagelayer",!0);c._shapeUpperLayer=b.append("g").classed("shapelayer",!0);c._infolayer=c._toppaper.append("g").classed("infolayer",!0);c._menulayer=c._toppaper.append("g").classed("menulayer",!0);c._zoomlayer=c._toppaper.append("g").classed("zoomlayer",
!0);c._hoverlayer=c._toppaper.append("g").classed("hoverlayer",!0);a.emit("plotly_framework")}var F=b("d3"),B=b("fast-isnumeric"),y=b("has-hover"),w=b("../lib"),G=b("../lib/events"),E=b("../lib/queue"),J=b("../registry"),K=b("./plot_schema"),H=b("../plots/plots"),L=b("../plots/polar/legacy"),N=b("../plots/cartesian/graph_interact"),M=b("../plots/cartesian/axes"),Z=b("../components/drawing"),Q=b("../components/color"),P=b("../constants/xmlns_namespaces"),U=b("../lib/svg_text_utils"),aa=b("./plot_config"),
W=b("./manage_arrays"),R=b("./helpers"),T=b("./subroutines"),ea=b("./edit_types"),S=b("../plots/cartesian/constants");p=b("../plots/cartesian/constraints");var V=p.enforce,ba=p.clean,ja=b("../plots/cartesian/autorange").doAutoRange,X=0;l.plot=function(a,b,c,e){function f(){var b=a.calcdata,c;J.getComponentMethod("legend","draw")(a);J.getComponentMethod("rangeselector","draw")(a);J.getComponentMethod("sliders","draw")(a);J.getComponentMethod("updatemenus","draw")(a);for(c=0;c<b.length;c++){var d=b[c];
var e=d[0].trace;!0===e.visible&&e._module.colorbar?e._module.colorbar(a,d):H.autoMargin(a,"cb"+e.uid)}H.doAutoMargin(a);return H.previousPromises(a)}function g(){if(p){var b=r._subplots.cartesian,c=r._modules,d=[],e,f;for(f=0;f<c.length;f++)w.pushUnique(d,c[f].setPositions);if(d.length)for(e=0;e<b.length;e++)for(c=r._plots[b[e]],f=0;f<d.length;f++)d[f](a,c);J.getComponentMethod("errorbars","calc")(a);return w.syncOrAsync([J.getComponentMethod("shapes","calcAutorange"),J.getComponentMethod("annotations",
"calcAutorange"),h,J.getComponentMethod("rangeslider","calcAutorange")],a)}h()}function h(){if(!a._transitioning){for(var b=M.list(a,"",!0),c=0;c<b.length;c++){var d=b[c];ba(a,d);ja(d)}V(a);t&&M.saveRangeInitial(a)}}function m(){return M.doTicks(a,"redraw")}a=w.getGraphDiv(a);G.init(a);if(w.isPlainObject(b)){var q=b;b=q.data;c=q.layout;e=q.config;var n=q.frames}if(!1===G.triggerHandler(a,"plotly_beforeplot",[b,c,e]))return Promise.reject();b||c||w.isPlotDiv(a)||w.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",
a);k(a,e);c||(c={});F.select(a).classed("js-plotly-plot",!0);Z.makeTester();Array.isArray(a._promises)||(a._promises=[]);var t=0===(a.data||[]).length&&Array.isArray(b);Array.isArray(b)&&(R.cleanData(b,a.data),t?a.data=b:a.data.push.apply(a.data,b),a.empty=!1);if(!a.layout||t)a.layout=R.cleanLayout(c);if(a._dragging&&!a._transitioning)return a._replotPending=!0,Promise.reject();a._replotPending=!1;H.supplyDefaults(a);var r=a._fullLayout;e=r._has("cartesian");if(!r._has("polar")&&b&&b[0]&&b[0].r)return w.log("Legacy polar charts are deprecated!"),
d(a,b,c);r._replotting=!0;t&&z(a);a.framework!==z&&(a.framework=z,z(a));Z.initGradients(a);t&&M.saveShowSpikeInitial(a);var p=!a.calcdata||a.calcdata.length!==(a._fullData||[]).length;p&&H.doCalcdata(a);for(b=0;b<a.calcdata.length;b++)a.calcdata[b][0].trace=a._fullData[b];var u=JSON.stringify(r._size);b=[H.previousPromises,function(){if(n)return l.addFrames(a,n)},function(){for(var b=r._basePlotModules,c=0;c<b.length;c++)b[c].drawFramework&&b[c].drawFramework(a);!r._glcanvas&&r._has("gl")&&(r._glcanvas=
r._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(a){return a.key}),r._glcanvas.enter().append("canvas").attr("class",function(a){return"gl-canvas gl-canvas-"+a.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"visible","pointer-events":"none"}));r._glcanvas&&r._glcanvas.attr("width",r.width).attr("height",r.height);return w.syncOrAsync([T.layoutStyles],
a)},f,function(){if(JSON.stringify(r._size)!==u)return w.syncOrAsync([f,T.layoutStyles],a)}];e&&b.push(g);b.push(T.layoutStyles);e&&b.push(m);b.push(function(){var b=a.calcdata,c,d=r._infolayer.selectAll("g.rangeslider-container");for(c=0;c<b.length;c++){var e=b[c][0].trace,f=!0===e.visible,g=e.uid;if(!f||!J.traceIs(e,"2dMap")){var h=".hm"+g+",.contour"+g+",#clip"+g;r._paper.selectAll(h).remove();d.selectAll(h).remove()}f&&e._module.colorbar||r._infolayer.selectAll(".cb"+g).remove()}b=r._basePlotModules;
for(c=0;c<b.length;c++)b[c].plot(a);c=r._paper.selectAll(".layer-subplot");r._shapeSubplotLayers=c.selectAll(".shapelayer");H.style(a);J.getComponentMethod("shapes","draw")(a);J.getComponentMethod("annotations","draw")(a);H.addLinks(a);r._replotting=!1;return H.previousPromises(a)},function(){J.getComponentMethod("shapes","draw")(a);J.getComponentMethod("images","draw")(a);J.getComponentMethod("annotations","draw")(a);J.getComponentMethod("legend","draw")(a);J.getComponentMethod("rangeslider","draw")(a);
J.getComponentMethod("rangeselector","draw")(a);J.getComponentMethod("sliders","draw")(a);J.getComponentMethod("updatemenus","draw")(a)},N,H.rehover,H.previousPromises);(b=w.syncOrAsync(b,a))&&b.then||(b=Promise.resolve());return b.then(function(){a.emit("plotly_afterplot");return a})};l.setPlotConfig=function(a){return w.extendFlat(aa,a)};l.redraw=function(a){a=w.getGraphDiv(a);if(!w.isPlotDiv(a))throw Error("This element is not a Plotly plot: "+a);R.cleanData(a.data,a.data);R.cleanLayout(a.layout);
a.calcdata=void 0;return l.plot(a).then(function(){a.emit("plotly_redraw");return a})};l.newPlot=function(a,b,c,d){a=w.getGraphDiv(a);H.cleanPlot([],{},a._fullData||{},a._fullLayout||{});H.purge(a);return l.plot(a,b,c,d)};l.extendTraces=function ca(a,b,c,d){a=w.getGraphDiv(a);var e=t(a,b,c,d,function(a,b,c){if(w.isTypedArray(a))if(0>c){var d=new a.constructor(0);a=f(a,b);if(0>c)var e=a;else e=d,d=a}else if(e=new a.constructor(c),d=new a.constructor(a.length+b.length-c),c===b.length)e.set(b),d.set(a);
else if(c<b.length)c=b.length-c,e.set(b.subarray(c)),d.set(a),d.set(b.subarray(0,c),a.length);else{c-=b.length;var g=a.length-c;e.set(a.subarray(g));e.set(b,c);d.set(a.subarray(0,g))}else e=a.concat(b),d=0<=c&&c<e.length?e.splice(0,e.length-c):[];return[e,d]}),g=l.redraw(a);E.add(a,l.prependTraces,[a,e.update,c,e.maxPoints],ca,arguments);return g};l.prependTraces=function la(a,b,c,d){a=w.getGraphDiv(a);var e=t(a,b,c,d,function(a,b,c){if(w.isTypedArray(a))if(0>=c){var d=new a.constructor(0);a=f(b,
a);if(0>c)var e=a;else e=d,d=a}else e=new a.constructor(c),d=new a.constructor(a.length+b.length-c),c===b.length?(e.set(b),d.set(a)):c<b.length?(c=b.length-c,e.set(b.subarray(0,c)),d.set(b.subarray(c)),d.set(a,c)):(c-=b.length,e.set(b),e.set(a.subarray(0,c),b.length),d.set(a.subarray(c)));else e=b.concat(a),d=0<=c&&c<e.length?e.splice(c,e.length):[];return[e,d]}),g=l.redraw(a);E.add(a,l.extendTraces,[a,e.update,c,e.maxPoints],la,arguments);return g};l.addTraces=function la(a,b,c){a=w.getGraphDiv(a);
var d=[],e=l.deleteTraces,f=[a,d],g=[a,b],h;m(a,b,c);Array.isArray(b)||(b=[b]);b=b.map(function(a){return w.extendFlat({},a)});R.cleanData(b,a.data);for(h=0;h<b.length;h++)a.data.push(b[h]);for(h=0;h<b.length;h++)d.push(-b.length+h);if("undefined"===typeof c)return b=l.redraw(a),E.add(a,e,f,la,g),b;Array.isArray(c)||(c=[c]);try{u(a,d,c)}catch(ha){throw a.data.splice(a.data.length-b.length,b.length),ha;}E.startSequence(a);E.add(a,e,f,la,g);b=l.moveTraces(a,d,c);E.stopSequence(a);return b};l.deleteTraces=
function la(a,b){a=w.getGraphDiv(a);var c=[],d=l.addTraces,f=[a,c,b],g=[a,b],k;if("undefined"===typeof b)throw Error("indices must be an integer or array of integers.");Array.isArray(b)||(b=[b]);e(a,b,"indices");b=h(b,a.data.length-1);b.sort(w.sorterDes);for(k=0;k<b.length;k+=1){var m=a.data.splice(b[k],1)[0];c.push(m)}b=l.redraw(a);E.add(a,d,f,la,g);return b};l.moveTraces=function da(a,b,c){a=w.getGraphDiv(a);var d=[],e=[],f=[a,c,b],g=[a,b,c],k;u(a,b,c);b=Array.isArray(b)?b:[b];if("undefined"===
typeof c)for(c=[],k=0;k<b.length;k++)c.push(-b.length+k);c=Array.isArray(c)?c:[c];b=h(b,a.data.length-1);c=h(c,a.data.length-1);for(k=0;k<a.data.length;k++)-1===b.indexOf(k)&&d.push(a.data[k]);for(k=0;k<b.length;k++)e.push({newIndex:c[k],trace:a.data[b[k]]});e.sort(function(a,b){return a.newIndex-b.newIndex});for(k=0;k<e.length;k+=1)d.splice(e[k].newIndex,0,e[k].trace);a.data=d;b=l.redraw(a);E.add(a,da,f,da,g);return b};l.restyle=function ya(a,b,c,d){a=w.getGraphDiv(a);R.clearPromiseQueue(a);var e=
{};if("string"===typeof b)e[b]=c;else if(w.isPlainObject(b))e=w.extendFlat({},b),void 0===d&&(d=c);else return w.warn("Restyle fail.",b,c,d),Promise.reject();Object.keys(e).length&&(a.changed=!0);b=R.coerceTraceIndices(a,d);var f=q(a,e,b);e=f.flags;e.clearCalc&&(a.calcdata=void 0);e.clearAxisTypes&&R.clearAxisTypes(a,b,{});b=[];e.fullReplot?b.push(l.plot):(b.push(H.previousPromises),H.supplyDefaults(a),e.style&&b.push(T.doTraceStyle),e.colorbars&&b.push(T.doColorBars));b.push(H.rehover);E.add(a,ya,
[a,f.undoit,f.traces],ya,[a,f.redoit,f.traces]);(e=w.syncOrAsync(b,a))&&e.then||(e=Promise.resolve());return e.then(function(){a.emit("plotly_restyle",f.eventData);return a})};l.relayout=function ya(b,c,d){b=w.getGraphDiv(b);R.clearPromiseQueue(b);if(b.framework&&b.framework.isPolar)return Promise.resolve(b);var e={};if("string"===typeof c)e[c]=d;else if(w.isPlainObject(c))e=w.extendFlat({},c);else return w.warn("Relayout fail.",c,d),Promise.reject();Object.keys(e).length&&(b.changed=!0);var f=a(b,
e);c=f.flags;c.calc&&(b.calcdata=void 0);c.margins&&R.clearAxisAutomargins(b);d=[H.previousPromises];c.layoutReplot?d.push(T.layoutReplot):Object.keys(e).length&&(H.supplyDefaults(b),c.legend&&d.push(T.doLegend),c.layoutstyle&&d.push(T.layoutStyles),c.ticks&&d.push(T.doTicksRelayout),c.modebar&&d.push(T.doModeBar),c.camera&&d.push(T.doCamera));d.push(H.rehover);E.add(b,ya,[b,f.undoit],ya,[b,f.redoit]);(e=w.syncOrAsync(d,b))&&e.then||(e=Promise.resolve(b));return e.then(function(){b.emit("plotly_relayout",
f.eventData);return b})};l.update=function ha(b,c,d,e){b=w.getGraphDiv(b);R.clearPromiseQueue(b);if(b.framework&&b.framework.isPolar)return Promise.resolve(b);w.isPlainObject(c)||(c={});w.isPlainObject(d)||(d={});Object.keys(c).length&&(b.changed=!0);Object.keys(d).length&&(b.changed=!0);e=R.coerceTraceIndices(b,e);var f=q(b,w.extendFlat({},c),e);c=f.flags;var g=a(b,w.extendFlat({},d)),h=g.flags;if(c.clearCalc||h.calc)b.calcdata=void 0;c.clearAxisTypes&&R.clearAxisTypes(b,e,d);h.margins&&R.clearAxisAutomargins(b);
d=[];if(c.fullReplot&&h.layoutReplot){var k=b.data,m=b.layout;b.data=void 0;b.layout=void 0;d.push(function(){return l.plot(b,k,m)})}else c.fullReplot?d.push(l.plot):h.layoutReplot?d.push(T.layoutReplot):(d.push(H.previousPromises),H.supplyDefaults(b),c.style&&d.push(T.doTraceStyle),c.colorbars&&d.push(T.doColorBars),h.legend&&d.push(T.doLegend),h.layoutstyle&&d.push(T.layoutStyles),h.ticks&&d.push(T.doTicksRelayout),h.modebar&&d.push(T.doModeBar),h.camera&&d.push(T.doCamera));d.push(H.rehover);E.add(b,
ha,[b,f.undoit,g.undoit,f.traces],ha,[b,f.redoit,g.redoit,f.traces]);(d=w.syncOrAsync(d,b))&&d.then||(d=Promise.resolve(b));return d.then(function(){b.emit("plotly_update",{data:f.eventData,layout:g.eventData});return b})};l.react=function(a,b,c,d){function e(){return l.addFrames(a,q)}var f;a=w.getGraphDiv(a);var g=a._fullData,h=a._fullLayout;if(w.isPlotDiv(a)&&g&&h){if(w.isPlainObject(b)){var m=b;b=m.data;c=m.layout;d=m.config;var q=m.frames}m=!1;d&&(m=w.extendDeep({},a._context),a._context=void 0,
k(a,d),m=D(m,a._context));a.data=b||[];R.cleanData(a.data,[]);a.layout=c||{};R.cleanLayout(a.layout);H.supplyDefaults(a);d=a._fullLayout;var t=void 0===d.datarevision;g=x(a,g,a._fullData,t);h=C(a,h,d,t);r(a)&&(h.layoutReplot=!0);if(g.calc||h.calc)a.calcdata=void 0;h.margins&&R.clearAxisAutomargins(a);d=[];q&&(a._transitionData={},H.createTransitionData(a),d.push(e));if(g.fullReplot||h.layoutReplot||m)a._fullLayout._skipDefaults=!0,d.push(l.plot);else{for(f in h.arrays)if(m=h.arrays[f],m.length)if(t=
J.getComponentMethod(f,"drawOne"),t!==w.noop)for(var n=0;n<m.length;n++)t(a,m[n]);else{m=J.getComponentMethod(f,"draw");if(m===w.noop)throw Error("cannot draw components: "+f);m(a)}d.push(H.previousPromises);g.style&&d.push(T.doTraceStyle);g.colorbars&&d.push(T.doColorBars);h.legend&&d.push(T.doLegend);h.layoutstyle&&d.push(T.layoutStyles);h.ticks&&d.push(T.doTicksRelayout);h.modebar&&d.push(T.doModeBar);h.camera&&d.push(T.doCamera)}d.push(H.rehover);(f=w.syncOrAsync(d,a))&&f.then||(f=Promise.resolve(a))}else f=
l.newPlot(a,b,c,d);return f.then(function(){a.emit("plotly_react",{data:b,layout:c});return a})};l.animate=function(a,b,c){function d(a,b){var c=0;return function(){if(a&&++c===b)return a()}}a=w.getGraphDiv(a);if(!w.isPlotDiv(a))throw Error("This element is not a Plotly plot: "+a+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var e=a._transitionData;e._frameQueue||(e._frameQueue=[]);c=H.supplyAnimationDefaults(c);
var f=c.transition,g=c.frame;void 0===e._frameWaitingCnt&&(e._frameWaitingCnt=0);return new Promise(function(h,k){function m(){if(0!==e._frameQueue.length){for(;e._frameQueue.length;){var b=e._frameQueue.pop();if(b.onInterrupt)b.onInterrupt()}a.emit("plotly_animationinterrupted",[])}}function q(b){if(0!==b.length){for(var m=0;m<b.length;m++){var q="byname"===b[m].type?H.computeFrame(a,b[m].name):b[m].data;var r=m;r=Array.isArray(g)?r>=g.length?g[0]:g[r]:g;var n=m;n=Array.isArray(f)?n>=f.length?f[0]:
f[n]:f;n.duration=Math.min(n.duration,r.duration);q={frame:q,name:b[m].name,frameOpts:r,transitionOpts:n};m===b.length-1&&(q.onComplete=d(h,2),q.onInterrupt=k);e._frameQueue.push(q)}"immediate"===c.mode&&(e._lastFrameAt=-Infinity);e._animationRaf||t()}}function r(){if(e._currentFrame&&e._currentFrame.onComplete)e._currentFrame.onComplete();var b=e._currentFrame=e._frameQueue.shift();if(b){var c=b.name?b.name.toString():null;a._fullLayout._currentFrame=c;e._lastFrameAt=Date.now();e._timeToNext=b.frameOpts.duration;
H.transition(a,b.frame.data,b.frame.layout,R.coerceTraceIndices(a,b.frame.traces),b.frameOpts,b.transitionOpts).then(function(){if(b.onComplete)b.onComplete()});a.emit("plotly_animatingframe",{name:c,frame:b.frame,animation:{frame:b.frameOpts,transition:b.transitionOpts}})}else a.emit("plotly_animated"),window.cancelAnimationFrame(e._animationRaf),e._animationRaf=null}function t(){a.emit("plotly_animating");e._lastFrameAt=-Infinity;e._timeToNext=0;e._runningTransitions=0;e._currentFrame=null;var b=
function(){e._animationRaf=window.requestAnimationFrame(b);Date.now()-e._lastFrameAt>e._timeToNext&&r()};b()}function n(a){Array.isArray(f)?a.transitionOpts=l>=f.length?f[l]:f[0]:a.transitionOpts=f;l++;return a}var l=0,p,u=[],v=void 0===b||null===b;var y=Array.isArray(b);if(!v&&!y&&w.isPlainObject(b))u.push({type:"object",data:n(w.extendFlat({},b))});else if(v||-1!==["string","number"].indexOf(typeof b))for(y=0;y<e._frames.length;y++)(p=e._frames[y])&&(v||String(p.group)===String(b))&&u.push({type:"byname",
name:String(p.name),data:n({name:p.name})});else if(y)for(y=0;y<b.length;y++)p=b[y],-1!==["number","string"].indexOf(typeof p)?(p=String(p),u.push({type:"byname",name:p,data:n({name:p})})):w.isPlainObject(p)&&u.push({type:"object",data:n(w.extendFlat({},p))});for(y=0;y<u.length;y++)if(p=u[y],"byname"===p.type&&!e._frameHash[p.data.name]){w.warn('animate failure: frame not found: "'+p.data.name+'"');k();return}-1!==["next","immediate"].indexOf(c.mode)&&m();"reverse"===c.direction&&u.reverse();var x=
a._fullLayout._currentFrame;if(x&&c.fromcurrent){v=-1;for(y=0;y<u.length;y++)if(p=u[y],"byname"===p.type&&p.name===x){v=y;break}if(0<v&&v<u.length-1){x=[];for(y=0;y<u.length;y++)p=u[y],("byname"!==u[y].type||y>v)&&x.push(p);u=x}}0<u.length?q(u):(a.emit("plotly_animated"),h())})};l.addFrames=function(a,b,c){a=w.getGraphDiv(a);if(null===b||void 0===b)return Promise.resolve();if(!w.isPlotDiv(a))throw Error("This element is not a Plotly plot: "+a+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");
var d,e=a._transitionData._frames,f=a._transitionData._frameHash;if(!Array.isArray(b))throw Error("addFrames failure: frameList must be an Array of frame definitions"+b);var g=e.length+2*b.length;var h=[],k={};for(d=b.length-1;0<=d;d--)if(w.isPlainObject(b[d])){var m=b[d].name;var q=(f[m]||k[m]||{}).name,r=b[d].name,n=f[q]||k[q];q&&r&&"number"===typeof r&&n&&5>X&&(X++,w.warn('addFrames: overwriting frame "'+(f[q]||k[q]).name+'" with a frame whose name of type "number" also equates to "'+q+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),
5===X&&w.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed."));k[m]={name:m};h.push({frame:H.supplyFrameDefaults(b[d]),index:c&&void 0!==c[d]&&null!==c[d]?c[d]:g+d})}h.sort(function(a,b){return a.index>b.index?-1:a.index<b.index?1:0});b=[];c=[];k=e.length;for(d=h.length-1;0<=d;d--){g=h[d].frame;"number"===typeof g.name&&w.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings");
if(!g.name)for(;f[g.name="frame "+a._transitionData._counter++];);if(f[g.name]){for(m=0;m<e.length&&(e[m]||{}).name!==g.name;m++);b.push({type:"replace",index:m,value:g});c.unshift({type:"replace",index:m,value:e[m]})}else m=Math.max(0,Math.min(h[d].index,k)),b.push({type:"insert",index:m,value:g}),c.unshift({type:"delete",index:m}),k++}e=d=H.modifyFrames;f=[a,c];h=[a,b];E&&E.add(a,d,f,e,h);return H.modifyFrames(a,b)};l.deleteFrames=function(a,b){a=w.getGraphDiv(a);if(!w.isPlotDiv(a))throw Error("This element is not a Plotly plot: "+
a);var c,d=a._transitionData._frames,e=[],f=[];if(!b)for(b=[],c=0;c<d.length;c++)b.push(c);b=b.slice(0);b.sort();for(c=b.length-1;0<=c;c--){var g=b[c];e.push({type:"delete",index:g});f.unshift({type:"insert",index:g,value:d[g]})}c=b=H.modifyFrames;f=[a,f];g=[a,e];E&&E.add(a,b,f,c,g);return H.modifyFrames(a,e)};l.purge=function(a){a=w.getGraphDiv(a);var b=a._fullLayout||{};H.cleanPlot([],{},a._fullData||[],b);H.purge(a);G.purge(a);b._container&&b._container.remove();delete a._context;return a}},{"../components/color":291,
"../components/drawing":316,"../constants/xmlns_namespaces":397,"../lib":414,"../lib/events":405,"../lib/queue":428,"../lib/svg_text_utils":437,"../plots/cartesian/autorange":457,"../plots/cartesian/axes":458,"../plots/cartesian/constants":463,"../plots/cartesian/constraints":465,"../plots/cartesian/graph_interact":467,"../plots/plots":502,"../plots/polar/legacy":505,"../registry":517,"./edit_types":443,"./helpers":444,"./manage_arrays":446,"./plot_config":448,"./plot_schema":449,"./subroutines":450,
d3:86,"fast-isnumeric":95,"has-hover":174}],448:[function(b,p,l){p.exports={staticPlot:!1,editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,
displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:1,globalTransforms:[],locale:"en-US",locales:{}}},{}],449:[function(b,p,l){function n(a,b){var d,e,f=a._basePlotModules;if(f){for(d=0;d<f.length;d++){var g=f[d];if(g.attrRegex&&g.attrRegex.test(b)){if(g.layoutAttrOverrides)return g.layoutAttrOverrides;if(!h&&g.layoutAttributes)var h=
g.layoutAttributes}if((g=g.baseLayoutAttrOverrides)&&b in g)return g[b]}if(h)return h}if(f=a._modules)for(d=0;d<f.length;d++)if((a=f[d].layoutAttributes)&&b in a)return a[b];for(e in c.componentsRegistry)if(g=c.componentsRegistry[e],!g.schema&&b===g.name)return g.layoutAttributes;return b in r?r[b]:"radialaxis"===b||"angularaxis"===b?A[b]:A.layout[b]||!1}function g(a,b,c){if(!a)return!1;if(a._isLinkedToArray)if(k(b[c]))c++;else if(c<b.length)return!1;for(;c<b.length;c++){var d=a[b[c]];if(q.isPlainObject(d))a=
d;else break;if(c===b.length-1)break;if(a._isLinkedToArray){if(c++,!k(b[c]))return!1}else if("info_array"===a.valType){c++;d=b[c];if(!k(d))return!1;var e=a.items;if(Array.isArray(e)){if(d>=e.length)return!1;if(2===a.dimensions){c++;if(b.length===c)break;a=b[c];if(!k(a))return!1;a=e[d][a]}else a=e[d]}else a=e}}return a}function k(a){return a===Math.round(a)&&0<=a}function d(){var a={},b;F(a,r);for(b in c.subplotsRegistry){var d=c.subplotsRegistry[b];d.layoutAttributes&&("cartesian"===d.name?(f(a,d,
"xaxis"),f(a,d,"yaxis")):f(a,d,"subplot"===d.attr?d.name:d.attr))}z(a,{radialaxis:A.radialaxis,angularaxis:A.angularaxis});z(a,A.layout);for(b in c.componentsRegistry){d=c.componentsRegistry[b];var e=d.schema;if(e&&(e.subplots||e.layout)){if((d=e.subplots)&&d.xaxis&&!d.yaxis)for(var g in d.xaxis)delete a.yaxis[g]}else d.layoutAttributes&&(e=d.layoutAttributes,d=q.nestedProperty(a,d.name),d.set(F(d.get()||{},e)))}return{layoutAttributes:u(a)}}function h(a){var b=F({},c.transformsRegistry[a].attributes);
Object.keys(c.componentsRegistry).forEach(function(d){var e=c.componentsRegistry[d];e.schema&&e.schema.transforms&&e.schema.transforms[a]&&Object.keys(e.schema.transforms[a]).forEach(function(c){var d=e.schema.transforms[a][c];c=q.nestedProperty(b,c);c.set(F(c.get()||{},d))})});return{attributes:u(b)}}function e(){var a={frames:q.extendDeepAll({},v)};u(a);return a.frames}function u(a){m(a);t(a);return a}function m(a){function b(a){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",
a,"."].join(" "),editType:"none"}}l.crawl(a,function(a,c,d){l.isValObject(a)?"data_array"===a.valType?(a.role="data",d[c+"src"]=b(c)):!0===a.arrayOk&&(d[c+"src"]=b(c)):q.isPlainObject(a)&&(a.role="object")})}function t(a){l.crawl(a,function(a,b,c){if(a){var d=a._isLinkedToArray;d&&(delete a._isLinkedToArray,c[b]={items:{}},c[b].items[d]=a,c[b].role="object")}})}function f(a,b,c){a=q.nestedProperty(a,c);b=F({},b.layoutAttributes);b._isSubplotObj=!0;a.set(b)}var c=b("../registry"),q=b("../lib"),a=b("../plots/attributes"),
r=b("../plots/layout_attributes"),v=b("../plots/frame_attributes"),x=b("../plots/animation_attributes"),C=b("../plots/polar/legacy/area_attributes"),A=b("../plots/polar/legacy/axis_attributes"),D=b("./edit_types"),z=q.extendFlat,F=q.extendDeepAll,B=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];l.IS_SUBPLOT_OBJ="_isSubplotObj";l.IS_LINKED_TO_ARRAY="_isLinkedToArray";l.DEPRECATED="_deprecated";l.UNDERSCORE_ATTRS=B;l.get=function(){var b={};c.allTypes.concat("area").forEach(function(d){if("area"===
d){var e={attributes:C};var f={}}else e=c.modules[d]._module,f=e.basePlotModule;var g={type:null};F(g,a);F(g,e.attributes);f.attributes&&F(g,f.attributes);g.type=d;f={meta:e.meta||{},attributes:u(g)};e.layoutAttributes&&(g={},F(g,e.layoutAttributes),f.layoutAttributes=u(g));b[d]=f});var f={};Object.keys(c.transformsRegistry).forEach(function(a){f[a]=h(a)});return{defs:{valObjects:q.valObjectMeta,metaKeys:B.concat(["description","role","editType","impliedEdits"]),editType:{traces:D.traces,layout:D.layout},
impliedEdits:{description:"Sometimes when an attribute is changed, other attributes must be altered as well in order to achieve the intended result. For example, when `range` is specified, it is important to set `autorange` to `false` or the new `range` value would be lost in the redraw. `impliedEdits` is the mechanism to do this: `impliedEdits: {autorange: false}`. Each key is a relative paths to the attribute string to change, using *^* to ascend into the parent container, for example `range[0]` has `impliedEdits: {*^autorange*: false}`. A value of `undefined` means that the attribute will not be changed, but its previous value should be recorded in case we want to reverse this change later. For example, `autorange` has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined} because the range will likely be changed by redraw."}},
traces:b,layout:d(),transforms:f,frames:e(),animation:u(x)}};l.crawl=function(a,b,c,d){var e=c||0;d=d||"";Object.keys(a).forEach(function(c){var f=a[c];if(-1===B.indexOf(c)){var g=(d?d+".":"")+c;b(f,c,a,e,g);l.isValObject(f)||q.isPlainObject(f)&&"impliedEdits"!==c&&l.crawl(f,b,e+1,g)}})};l.isValObject=function(a){return a&&void 0!==a.valType};l.findArrayAttributes=function(b){function c(a,c,f,g){e=e.slice(0,g).concat([c]);!a||"data_array"!==a.valType&&!0!==a.arrayOk||"colorbar"===e[g-1]&&("ticktext"===
c||"tickvals"===c)||(a=e.join("."),c=q.nestedProperty(b,a).get(),q.isArrayOrTypedArray(c)&&d.push(a))}var d=[],e=[];l.crawl(a,c);b._module&&b._module.attributes&&l.crawl(b._module.attributes,c);if(b.transforms)for(var f=b.transforms,g=0;g<f.length;g++){var h=f[g]._module;h&&(e=["transforms["+g+"]"],l.crawl(h.attributes,c,1))}b._fullInput&&b._fullInput._module&&b._fullInput._module.attributes&&(l.crawl(b._fullInput._module.attributes,c),d=q.filterUnique(d));return d};l.getTraceValObject=function(b,
d){var e=d[0],f=1;if("transforms"===e){if(!Array.isArray(b.transforms))return!1;e=d[1];if(!k(e)||e>=b.transforms.length)return!1;b=(b=(c.transformsRegistry[b.transforms[e].type]||{}).attributes)&&b[d[2]];f=3}else if("area"===b.type)b=C[e];else{var h=b._module;h||(h=(c.modules[b.type||a.type.dflt]||{})._module);if(!h)return!1;b=(b=h.attributes)&&b[e];b||(h=h.basePlotModule)&&h.attributes&&(b=h.attributes[e]);b||(b=a[e])}return g(b,d,f)};l.getLayoutValObject=function(a,b){a=n(a,b[0]);return g(a,b,1)}},
{"../lib":414,"../plots/animation_attributes":453,"../plots/attributes":455,"../plots/frame_attributes":486,"../plots/layout_attributes":500,"../plots/polar/legacy/area_attributes":503,"../plots/polar/legacy/axis_attributes":504,"../registry":517,"./edit_types":443}],450:[function(b,p,l){function n(a,b,c){for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if(!(e[0]>=a[1]||e[1]<=a[0])&&f[0]<b[1]&&f[1]>b[0])return!0}return!1}function g(a,b){return(a.ticks||a.showline)&&(b===a._mainSubplot||"all"===
a.mirror||"allticks"===a.mirror)}function k(a,b,c){if(!c.showline||!c._lw)return!1;if("all"===c.mirror||"allticks"===c.mirror)return!0;var d=c._anchorAxis;if(!d)return!1;var e=x.FROM_BL[b];return c.side===b?d.domain[e]===a.domain[e]:c.mirror&&d.domain[1-e]===a.domain[1-e]}function d(a,b,c,d){if(k(a,b,c))return c._lw;for(var e=0;e<d.length;e++){var f=d[e];if(f._mainAxis===c._mainAxis&&k(a,b,f))return f._lw}return 0}var h=b("d3"),e=b("../registry"),u=b("../plots/plots"),m=b("../lib"),t=b("../components/color"),
f=b("../components/drawing"),c=b("../components/titles"),q=b("../components/modebar"),a=b("../plots/cartesian/axes"),r=b("../plots/cartesian/graph_interact"),v=b("../plots/cartesian/constants"),x=b("../constants/alignment");l.layoutStyles=function(a){return m.syncOrAsync([u.doAutoMargin,l.lsInner],a)};l.lsInner=function(b){function c(a,b,c){var d=a._lw/2;return"x"===a._id.charAt(0)?b?"top"===c?b._offset-m-d:b._offset+b._length+m+d:k.t+k.h*(1-(a.position||0))+d%1:b?"right"===c?b._offset+b._length+
m+d:b._offset-m-d:k.l+k.w*(a.position||0)+d%1}var e=b._fullLayout,k=e._size,m=k.p,r=a.list(b),p=e._has("cartesian"),u;for(u=0;u<r.length;u++){var G=r[u];G.setScale();var E=G._anchorAxis;G._linepositions={};G._lw=f.crispRound(b,G.linewidth,1);G._mainLinePosition=c(G,E,G.side);G._mainMirrorPosition=G.mirror&&E?c(G,E,x.OPPOSITE_SIDE[G.side]):null}e._paperdiv.style({width:e.width+"px",height:e.height+"px"}).selectAll(".main-svg").call(f.setSize,e.width,e.height);b._context.setBackground(b,e.paper_bgcolor);
G=e._paper.selectAll("g.subplot");var C=[],K=[];G.each(function(a){var b=e._plots[a];if(b.mainplot)b.bg&&b.bg.remove(),b.bg=void 0;else{var c=b.xaxis.domain,d=b.yaxis.domain,f=[];n(c,d,K)?f=[0]:(C.push(a),K.push([c,d]));var g=b.plotgroup.selectAll(".bg").data(f);g.enter().append("rect").classed("bg",!0);g.exit().remove();g.each(function(){b.bg=g;var a=b.plotgroup.node();a.insertBefore(this,a.childNodes[0])})}});E=e._bgLayer.selectAll(".bg").data(C);E.enter().append("rect").classed("bg",!0);E.exit().remove();
E.each(function(a){e._plots[a].bg=h.select(this)});G.each(function(a){function b(a){return"M"+G+","+a+"H"+z}function h(a){return"M"+w._offset+","+a+"h"+w._length}function k(a){return"M"+a+","+D+"V"+C}function q(a){return"M"+a+","+y._offset+"v"+y._length}function n(b,c,d){if(!b.showline||a!==b._mainSubplot)return"";if(!b._anchorAxis)return d(b._mainLinePosition);d=c(b._mainLinePosition);b.mirror&&(d+=c(b._mainMirrorPosition));return d}var l=e._plots[a],w=l.xaxis,y=l.yaxis;l.bg&&p&&l.bg.call(f.setRect,
w._offset-m,y._offset-m,w._length+2*m,y._length+2*m).call(t.fill,e.plot_bgcolor).style("stroke-width",0);l.clipId="clip"+e._uid+a+"plot";var x=e._clips.selectAll("#"+l.clipId).data([0]);x.enter().append("clipPath").attr({"class":"plotclip",id:l.clipId}).append("rect");x.selectAll("rect").attr({width:w._length,height:y._length});f.setTranslate(l.plot,w._offset,y._offset);if(l._hasClipOnAxisFalse){var B=null;x=l.clipId}else B=l.clipId,x=null;f.setClipUrl(l.plot,B);for(u=0;u<v.traceLayerClasses.length;u++)B=
v.traceLayerClasses[u],"scatterlayer"!==B&&"barlayer"!==B&&l.plot.selectAll("g."+B).call(f.setClipUrl,x);l.layerClipId=x;if(p){var E="M0,0";if(g(w,a)){x=d(w,"left",y,r);var G=w._offset-(x?m+x:0);x=d(w,"right",y,r);var z=w._offset+w._length+(x?m+x:0);B=c(w,y,"bottom");var A=c(w,y,"top");(x=!w._anchorAxis||a!==w._mainSubplot)&&w.ticks&&"allticks"===w.mirror&&(w._linepositions[a]=[B,A]);E=n(w,b,h);x&&w.showline&&("all"===w.mirror||"allticks"===w.mirror)&&(E+=b(B)+b(A));l.xlines.style("stroke-width",
w._lw+"px").call(t.stroke,w.showline?w.linecolor:"rgba(0,0,0,0)")}l.xlines.attr("d",E);E="M0,0";if(g(y,a)){x=d(y,"bottom",w,r);var C=y._offset+y._length+(x?m:0);x=d(y,"top",w,r);var D=y._offset-(x?m:0);B=c(y,w,"left");A=c(y,w,"right");(x=!y._anchorAxis||a!==w._mainSubplot)&&y.ticks&&"allticks"===y.mirror&&(y._linepositions[a]=[B,A]);E=n(y,k,q);x&&y.showline&&("all"===y.mirror||"allticks"===y.mirror)&&(E+=k(B)+k(A));l.ylines.style("stroke-width",y._lw+"px").call(t.stroke,y.showline?y.linecolor:"rgba(0,0,0,0)")}l.ylines.attr("d",
E)}});a.makeClipPaths(b);l.drawMainTitle(b);q.manage(b);return b._promises.length&&Promise.all(b._promises)};l.drawMainTitle=function(a){var b=a._fullLayout;c.draw(a,"gtitle",{propContainer:b,propName:"title",placeholder:b._dfltTitle.plot,attributes:{x:b.width/2,y:b._size.t/2,"text-anchor":"middle"}})};l.doTraceStyle=function(a){for(var b=0;b<a.calcdata.length;b++){var c=a.calcdata[b],d=(((c[0]||{}).trace||{})._module||{}).arraysToCalcdata;d&&d(c,c[0].trace)}u.style(a);e.getComponentMethod("legend",
"draw")(a);return u.previousPromises(a)};l.doColorBars=function(a){for(var b=0;b<a.calcdata.length;b++){var c=a.calcdata[b][0];if((c.t||{}).cb){var d=c.trace;c=c.t.cb;e.traceIs(d,"contour")&&c.line({width:!1!==d.contours.showlines?d.line.width:0,dash:d.line.dash,color:"line"===d.contours.coloring?c._opts.line.color:d.line.color});e.traceIs(d,"markerColorscale")?c.options(d.marker.colorbar)():c.options(d.colorbar)()}}return u.previousPromises(a)};l.layoutReplot=function(a){var b=a.layout;a.layout=
void 0;return e.call("plot",a,"",b)};l.doLegend=function(a){e.getComponentMethod("legend","draw")(a);return u.previousPromises(a)};l.doTicksRelayout=function(b){a.doTicks(b,"redraw");l.drawMainTitle(b);return u.previousPromises(b)};l.doModeBar=function(a){var b=a._fullLayout;q.manage(a);r(a);for(var c=0;c<b._basePlotModules.length;c++){var d=b._basePlotModules[c].updateFx;d&&d(b)}return u.previousPromises(a)};l.doCamera=function(a){a=a._fullLayout;for(var b=a._subplots.gl3d,c=0;c<b.length;c++){var d=
a[b[c]];d._scene.setCamera(d.camera)}}},{"../components/color":291,"../components/drawing":316,"../components/modebar":354,"../components/titles":384,"../constants/alignment":391,"../lib":414,"../plots/cartesian/axes":458,"../plots/cartesian/constants":463,"../plots/cartesian/graph_interact":467,"../plots/plots":502,"../registry":517,d3:86}],451:[function(b,p,l){var n=b("./plot_api"),g=b("../lib"),k=b("../snapshot/helpers"),d=b("../snapshot/tosvg"),h=b("../snapshot/svgtoimg"),e={format:{valType:"enumerated",
values:["png","jpeg","webp","svg"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:"Sets the exported image width. Defaults to the value found in `layout.width`"},height:{valType:"number",min:1,description:"Sets the exported image height. Defaults to the value found in `layout.height`"},scale:{valType:"number",min:0,dflt:1,description:"Sets a scaling for the generated image. If set, all features of a graphs (e.g. text, line width) are scaled, unlike simply setting a bigger *width* and *height*."},
setBackground:{valType:"any",dflt:!1,description:"Sets the image background mode. By default, the image background is determined by `layout.paper_bgcolor`, the *transparent* mode. One might consider setting `setBackground` to *opaque* when exporting a *jpeg* image as JPEGs do not support opacity."},imageDataOnly:{valType:"boolean",dflt:!1,description:"Determines whether or not the return value is prefixed by the image format's corresponding 'data:image;' spec."}},u=/^data:image\/\w+;base64,/;p.exports=
function(b,t){function f(a){return!(a in t)||g.validate(t[a],e[a])}function c(a,b){return g.coerce(t,p,e,a,b)}function m(){return new Promise(function(a){setTimeout(a,k.getDelay(y._fullLayout))})}function a(){return new Promise(function(a,b){var c=d(y,C,z),e=y._fullLayout.width,f=y._fullLayout.height;n.purge(y);document.body.removeChild(y);if("svg"===C)return B?a(c):a("data:image/svg+xml,"+encodeURIComponent(c));var k=document.createElement("canvas");k.id=g.randstr();h({format:C,width:e,height:f,
scale:z,canvas:k,svg:c,promise:!0}).then(a).catch(b)})}t=t||{};if(g.isPlainObject(b)){var r=b.data||[];var l=b.layout||{};b=b.config||{}}else b=g.getGraphDiv(b),r=g.extendDeep([],b.data),l=g.extendDeep({},b.layout),b=b._context;if(!f("width")||!f("height"))throw Error("Height and width should be pixel values.");if(!f("format"))throw Error("Image format is not jpeg, png, svg or webp.");var p={},C=c("format"),A=c("width"),D=c("height"),z=c("scale"),F=c("setBackground"),B=c("imageDataOnly"),y=document.createElement("div");
y.style.position="absolute";y.style.left="-5000px";document.body.appendChild(y);var w=g.extendFlat({},l);A&&(w.width=A);D&&(w.height=D);var G=g.extendFlat({},b,{staticPlot:!0,setBackground:F}),E=k.getRedrawFunc(y);return new Promise(function(b,c){n.plot(y,r,w,G).then(E).then(m).then(a).then(function(a){a=B?a.replace(u,""):a;b(a)}).catch(function(a){c(a)})})}},{"../lib":414,"../snapshot/helpers":521,"../snapshot/svgtoimg":523,"../snapshot/tosvg":525,"./plot_api":447}],452:[function(b,p,l){function n(a,
b,e,g,m,q){q=q||[];for(var r=Object.keys(a),l=0;l<r.length;l++){var p=r[l];if("transforms"!==p){var u=q.slice();u.push(p);var w=a[p],v=b[p],x=e;var A=d(p);A=x[A.keyMinusId];var C="info_array"===(A||{}).valType,D="colorscale"===(A||{}).valType;x=(A||{}).items;var L=e;var N=p,M=d(N),Z=M.keyMinusId;M=M.id;L=Z in L&&L[Z]._isSubplotObj&&M?!0:N in L;if(L)if(t(w)&&t(v))n(w,v,A,g,m,u);else if(C&&f(w))if(w.length>v.length&&g.push(k("unused",m,u.concat(v.length))),p=v.length,(C=Array.isArray(x))&&(p=Math.min(p,
x.length)),2===A.dimensions)for(D=0;D<p;D++)if(f(w[D]))for(w[D].length>v[D].length&&g.push(k("unused",m,u.concat(D,v[D].length))),M=v[D].length,A=0;A<(C?Math.min(M,x[D].length):M);A++)L=C?x[D][A]:x,N=w[D][A],Z=v[D][A],h.validate(N,L)?Z!==N&&Z!==+N&&g.push(k("dynamic",m,u.concat(D,A),N,Z)):g.push(k("value",m,u.concat(D,A),N));else g.push(k("array",m,u.concat(D),w[D]));else for(D=0;D<p;D++)L=C?x[D]:x,N=w[D],Z=v[D],h.validate(N,L)?Z!==N&&Z!==+N&&g.push(k("dynamic",m,u.concat(D),N,Z)):g.push(k("value",
m,u.concat(D),N));else if(A.items&&!C&&f(w)){x=x[Object.keys(x)[0]];p=[];for(A=0;A<v.length;A++)D=v[A]._index||A,C=u.slice(),C.push(D),t(w[D])&&t(v[A])&&(p.push(D),n(w[D],v[A],x,g,m,C));for(A=0;A<w.length;A++)C=u.slice(),C.push(A),t(w[A])?-1===p.indexOf(A)&&g.push(k("unused",m,C)):g.push(k("object",m,C,w[A]))}else!t(w)&&t(v)?g.push(k("object",m,u,w)):c(w)||!c(v)||C||D?p in b?h.validate(w,A)?"enumerated"===A.valType&&(A.coerceNumber&&w!==+v||w!==v)&&g.push(k("dynamic",m,u,w,v)):g.push(k("value",m,
u,w)):g.push(k("unused",m,u,w)):g.push(k("array",m,u,w));else g.push(k("schema",m,u))}}return g}function g(a){return f(a)?"In data trace "+a[1]+", ":"In "+a+", "}function k(a,b,c,d,e){c=c||"";if(f(b)){var g=b[0];var k=b[1]}else g=b,k=null;var m=c;if(f(m)){for(var r="",n=0;n<m.length;n++){var t=m[n];r="number"===typeof t?r.substr(0,r.length-1)+"["+t+"]":r+t;n<m.length-1&&(r+=".")}m=r}else m=String(m);b=q[a](b,m,d,e);h.log(b);return{code:a,container:g,trace:k,path:c,astr:m,msg:b}}function d(b){b=b.match(a);
return{keyMinusId:b&&b[1],id:b&&b[2]}}var h=b("../lib"),e=b("../plots/plots"),u=b("./plot_schema"),m=b("./plot_config"),t=h.isPlainObject,f=Array.isArray,c=h.isArrayOrTypedArray;p.exports=function(a,b){var c=u.get(),d=[],g={_context:h.extendFlat({},m)};if(f(a)){g.data=h.extendDeep([],a);var q=a}else g.data=[],q=[],d.push(k("array","data"));if(t(b)){g.layout=h.extendDeep({},b);var r=b}else g.layout={},r={},1<arguments.length&&d.push(k("object","layout"));e.supplyDefaults(g);for(var l=g._fullData,p=
q.length,v=0;v<p;v++){var w=q[v],G=["data",v];if(t(w)){var E=l[v],J=E.type,K=c.traces[J].attributes;K.type={valType:"enumerated",values:[J]};!1===E.visible&&!1!==w.visible&&d.push(k("invisible",G));n(w,E,K,d,G);w=w.transforms;E=E.transforms;if(w)for(f(w)||d.push(k("array",G,["transforms"])),G.push("transforms"),J=0;J<w.length;J++){K=["transforms",J];var H=w[J].type;t(w[J])?(H=c.transforms[H]?c.transforms[H].attributes:{},H.type={valType:"enumerated",values:Object.keys(c.transforms)},n(w[J],E[J],H,
d,G,K)):d.push(k("object",G,K))}}else d.push(k("object",G))}g=g._fullLayout;for(q=0;q<l.length;q++)(p=c.traces[l[q].type].layoutAttributes)&&h.extendFlat(c.layout.layoutAttributes,p);n(r,g,c.layout.layoutAttributes,d,"layout");return 0===d.length?void 0:d};var q={object:function(a,b){return("layout"===a&&""===b?"The layout argument":"data"===a[0]&&""===b?"Trace "+a[1]+" in the data argument":g(a)+"key "+b)+" must be linked to an object container"},array:function(a,b){return("data"===a?"The data argument":
g(a)+"key "+b)+" must be linked to an array container"},schema:function(a,b){return g(a)+"key "+b+" is not part of the schema"},unused:function(a,b,c){c=t(c)?"container":"key";return g(a)+c+" "+b+" did not get coerced"},dynamic:function(a,b,c,d){return[g(a)+"key",b,"(set to '"+c+"')","got reset to","'"+d+"'","during defaults."].join(" ")},invisible:function(a){return"Trace "+a[1]+" got defaulted to be not visible"},value:function(a,b,c){return[g(a)+"key "+b,"is set to an invalid value ("+c+")"].join(" ")}},
a=h.counterRegex("([a-z]+)")},{"../lib":414,"../plots/plots":502,"./plot_config":448,"./plot_schema":449}],453:[function(b,p,l){p.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:"Describes how a new animate call interacts with currently-running animations. If `immediate`, current animations are interrupted and the new animation is started. If `next`, the current frame is allowed to complete, after which the new animation is started. If `afterall` all existing frames are animated to completion before the new animation is started."},
direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:"The direction in which to play the frames triggered by the animation call"},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:"Play frames starting at the current frame instead of the beginning."},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:"The duration in milliseconds of each frame. If greater than the frame duration, it will be limited to the frame duration."},
redraw:{valType:"boolean",role:"info",dflt:!0,description:"Redraw the plot at completion of the transition. This is desirable for transitions that include properties that cannot be transitioned, but may significantly slow down updates that do not require a full redraw of the plot"}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:"The duration of the transition, in milliseconds. If equal to zero, updates are synchronous."},easing:{valType:"enumerated",dflt:"cubic-in-out",
values:"linear quad cubic sin exp circle elastic back bounce linear-in quad-in cubic-in sin-in exp-in circle-in elastic-in back-in bounce-in linear-out quad-out cubic-out sin-out exp-out circle-out elastic-out back-out bounce-out linear-in-out quad-in-out cubic-in-out sin-in-out exp-in-out circle-in-out elastic-in-out back-in-out bounce-in-out".split(" "),role:"info",description:"The easing function used for the transition"}}}},{}],454:[function(b,p,l){var n=b("../lib");p.exports=function(b,k,d){var g=
d.name,e=k[g];b=n.isArrayOrTypedArray(b[g])?b[g]:[];g=k[g]=[];var l;for(l=0;l<b.length;l++){var m=b[l],t={},f={};n.isPlainObject(m)||(f.itemIsNotPlainObject=!0,m={});d.handleItemDefaults(m,t,k,d,f);t._input=m;t._index=l;g.push(t)}if(n.isArrayOrTypedArray(e))for(k=Math.min(e.length,g.length),l=0;l<k;l++)n.relinkPrivateKeys(g[l],e[l])}},{"../lib":414}],455:[function(b,p,l){b=b("../components/fx/attributes");p.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter",editType:"calc+clearAxisTypes"},
visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,editType:"calc",description:"Determines whether or not this trace is visible. If *legendonly*, the trace is not drawn, but can appear as a legend item (provided that the legend itself is visible)."},showlegend:{valType:"boolean",role:"info",dflt:!0,editType:"style",description:"Determines whether or not an item corresponding to this trace is shown in the legend."},legendgroup:{valType:"string",role:"info",dflt:"",editType:"style",
description:"Sets the legend group for this trace. Traces part of the same legend group hide/show at the same time when toggling legend items."},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",editType:"style",description:"Sets the trace name. The trace name appear as the legend item and on hover."},uid:{valType:"string",role:"info",dflt:"",editType:"calc"},ids:{valType:"data_array",editType:"calc",
description:"Assigns id labels to each datum. These ids for object constancy of data points during animation. Should be an array of strings, not numbers or any other type."},customdata:{valType:"data_array",editType:"calc",description:"Assigns extra data each datum. This may be useful when listening to hover, click and selection events. Note that, *scatter* traces also appends customdata items in the markers DOM elements"},selectedpoints:{valType:"any",role:"info",editType:"calc",description:"Array containing integer indices of selected points. Has an effect only for traces that support selections. Note that an empty array means an empty selection where the `unselected` are turned on for all points, whereas, any other non-array values means no selection all where the `selected` and `unselected` styles have no effect."},
hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:"Determines which trace information appear on hover. If `none` or `skip` are set, no information is displayed upon hovering. But, if `none` is set, click and hover events are still fired."},hoverlabel:b.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",editType:"calc",description:"The stream id number links a data trace on a plot with a stream. See https://plot.ly/settings for more details."},
maxpoints:{valType:"number",min:0,max:1E4,dflt:500,role:"info",editType:"calc",description:"Sets the maximum number of points to keep on the plots from an incoming stream. If `maxpoints` is set to *50*, only the newest 50 points will be displayed on the plot."},editType:"calc"}}},{"../components/fx/attributes":325}],456:[function(b,p,l){p.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:"Sets a reference between this trace's x coordinates and a 2D cartesian x axis. If *x* (the default value), the x coordinates refer to `layout.xaxis`. If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."},
yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:"Sets a reference between this trace's y coordinates and a 2D cartesian y axis. If *y* (the default value), the y coordinates refer to `layout.yaxis`. If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."}}},{}],457:[function(b,p,l){function n(b){var d=[],f=b._min[0].val,c=b._max[0].val,h=0,a=!1,k=g(b),m,n;for(m=1;m<b._min.length&&f===c;m++)f=Math.min(f,b._min[m].val);for(m=1;m<b._max.length&&f===
c;m++)c=Math.max(c,b._max[m].val);b.range&&(a=e.simpleMap(b.range,b.r2l),a=a[1]<a[0]);"reversed"===b.autorange&&(a=!0,b.autorange=!0);for(m=0;m<b._min.length;m++){var l=b._min[m];for(n=0;n<b._max.length;n++){var p=b._max[n];var u=p.val-l.val;var z=b._length-k(l)-k(p);if(0<u&&0<z&&u/z>h){var F=l;var B=p;h=u/z}}}if(f===c)d=f-1,c=f+1,d="tozero"===b.rangemode?0>f?[d,0]:[0,c]:"nonnegative"===b.rangemode?[Math.max(0,d),Math.max(0,c)]:[d,c];else if(h){if("linear"===b.type||"-"===b.type)"tozero"===b.rangemode?
(0<=F.val&&(F={val:0,pad:0}),0>=B.val&&(B={val:0,pad:0})):"nonnegative"===b.rangemode&&(0>F.val-h*k(F)&&(F={val:0,pad:0}),0>B.val&&(B={val:1,pad:0})),h=(B.val-F.val)/(b._length-k(F)-k(B));d=[F.val-h*k(F),B.val+h*k(B)]}d[0]===d[1]&&("tozero"===b.rangemode?d=0>d[0]?[d[0],0]:0<d[0]?[0,d[0]]:[0,1]:(d=[d[0]-1,d[0]+1],"nonnegative"===b.rangemode&&(d[0]=Math.max(0,d[0]))));a&&d.reverse();return e.simpleMap(d,b.l2r||Number)}function g(b){var d=b._length/20;"domain"===b.constrain&&b._inputDomain&&(d*=(b._inputDomain[1]-
b._inputDomain[0])/(b.domain[1]-b.domain[0]));return function(b){return b.pad+(b.extrapad?d:0)}}function k(b,d){return b<=d}function d(b,d){return b>=d}var h=b("fast-isnumeric"),e=b("../../lib"),u=b("../../constants/numerical").FP_SAFE;p.exports={getAutoRange:n,makePadFn:g,doAutoRange:function(b){b._length||b.setScale();var d=b._min&&b._max&&b._min.length&&b._max.length;if(b.autorange&&d){b.range=n(b);b._r=b.range.slice();b._rl=e.simpleMap(b._r,b.r2l);var f=b._input;f.range=b.range.slice();f.autorange=
b.autorange}if(b._anchorAxis&&b._anchorAxis.rangeslider){var c=b._anchorAxis.rangeslider[b._name];c&&"auto"===c.rangemode&&(c.range=d?n(b):b._rangeInitial?b._rangeInitial.slice():b.range.slice());f=b._anchorAxis._input;f.rangeslider[b._name]=e.extendFlat({},c)}},expand:function(b,e,f){function c(a){if(Array.isArray(a))return G=!0,function(b){return Math.max(Number(a[b]||0),0)};var b=Math.max(Number(a||0),0);return function(){return b}}function g(a){D=e[a];if(h(D))for(B=E(a),y=J(a),L=D-H(a),N=D+K(a),
l&&L<N/10&&(L=N/10),z=b.c2l(L),F=b.c2l(N),n&&(z=Math.min(0,z),F=Math.max(0,F)),p=0;2>p;p++){var c=a=p?F:z;if(h(c)&&Math.abs(c)<u){c=p?b._max:b._min;var f=p?B:y,g=p?d:k;w=!0;for(t=0;t<c.length&&w;t++)if(M=c[t],g(M.val,a)&&M.pad>=f&&(M.extrapad||!m)){w=!1;break}else g(a,M.val)&&M.pad<=f&&(m||!M.extrapad)&&(c.splice(t,1),t--);w&&(g=n&&0===a,c.push({val:a,pad:g?0:f,extrapad:g?!1:m}))}}}if((b.autorange||b._rangesliderAutorange)&&e){b._min||(b._min=[]);b._max||(b._max=[]);f||(f={});b._m||b.setScale();var a=
e.length,m=f.padded||!1,n=f.tozero&&("linear"===b.type||"-"===b.type),l="log"===b.type,t,p,D,z,F,B,y,w,G=!1,E=c((0<b._m?f.ppadplus:f.ppadminus)||f.ppad||0),J=c((0<b._m?f.ppadminus:f.ppadplus)||f.ppad||0),K=c(f.vpadplus||f.vpad),H=c(f.vpadminus||f.vpad);if(!G){var L=Infinity;var N=-Infinity;if(l)for(f=0;f<a;f++){var M=e[f];M<L&&0<M&&(L=M);M>N&&M<u&&(N=M)}else for(f=0;f<a;f++)M=e[f],M<L&&M>-u&&(L=M),M>N&&M<u&&(N=M);e=[L,N];a=2}var Z=Math.min(6,a);for(f=0;f<Z;f++)g(f);for(f=a-1;f>=Z;f--)g(f)}}}},{"../../constants/numerical":395,
"../../lib":414,"fast-isnumeric":95}],458:[function(b,p,l){function n(a){return+a}function g(a){return String(a)}function k(a,b,c,d,e){function f(b){return 2>(1+100*(b-a)/c.dtick)%100}for(var g=0,h=0,k=0,m=0,q=0;q<b.length;q++)0===b[q]%1?k++:C(b[q])||m++,f(b[q])&&g++,f(b[q]+c.dtick/2)&&h++;b=b.length-m;k===b&&"date"!==c.type?1>c.dtick?a=d-.5*c.dtick:(a-=.5,a+c.dtick<d&&(a+=c.dtick)):h<.1*b&&(g>.3*b||f(d)||f(e))&&(e=c.dtick/2,a+=a+e<d?e:-e);return a}function d(a,b,c){return b*z.roundUp(a/b,c)}function h(b){var c=
b.dtick;b._tickexponent=0;C(c)||"string"===typeof c||(c=1);"category"===b.type&&(b._tickround=null);if("date"===b.type){var d=b.r2l(b.tick0),e=b.l2r(d).replace(/(^-|i)/g,""),f=e.length;"M"===String(c).charAt(0)?10<f||"01-01"!==e.substr(5)?b._tickround="d":b._tickround=0===+c.substr(1)%12?"y":"m":c>=J&&10>=f||c>=15*J?b._tickround="d":c>=H&&16>=f||c>=K?b._tickround="M":c>=L&&19>=f||c>=H?b._tickround="S":(c=b.l2r(d+c).replace(/^-/,"").length,b._tickround=Math.max(f,c)-20)}else C(c)||"L"===c.charAt(0)?
(f=b.range.map(b.r2d||Number),C(c)||(c=Number(c.substr(1))),b._tickround=2-Math.floor(Math.log(c)/Math.LN10+.01),c=Math.floor(Math.log(Math.max(Math.abs(f[0]),Math.abs(f[1])))/Math.LN10+.01),3<Math.abs(c)&&(!a(b.exponentformat)||14<c||-15>c?b._tickexponent=c:b._tickexponent=3*Math.round((c-1)/3))):b._tickround=null}function e(a,b,c){a=a.tickfont||{};return{x:b,dx:0,dy:0,text:c||"",fontSize:a.size,font:a.family,fontColor:a.color}}function u(a,b,c,d){var e=a._tickround,f=c&&a.hoverformat||P.getTickFormat(a);
d&&(e=C(e)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[e]);f=z.formatDate(b.x,f,e,a._dateFormat,a.calendar,a._extraFormat);var g=f.indexOf("\n");if(-1!==g){var h=f.substr(g+1);f=f.substr(0,g)}d&&("00:00:00"===f||"00:00"===f?(f=h,h=""):8===f.length&&(f=f.replace(/:00$/,"")));h&&(c?f="d"===e?f+(", "+h):h+(f?", "+f:""):a._inCalcTicks&&h===a._prevDateHead||(f+="<br>"+h,a._prevDateHead=h));b.text=f}function m(b,c,d,e,f){var g=b.dtick;d=c.x;var h=b.tickformat;"never"===f&&(f="");!e||"string"===typeof g&&"L"===g.charAt(0)||
(g="L3");if(h||"string"===typeof g&&"L"===g.charAt(0))c.text=r(Math.pow(10,d),b,f,e);else if(C(g)||"D"===g.charAt(0)&&.1>z.mod(d+.01,1))e=Math.round(d),-1!==["e","E","power"].indexOf(b.exponentformat)||a(b.exponentformat)&&(14<e||-15>e)?(c.text=0===e?1:1===e?"10":1<e?"10<sup>"+e+"</sup>":"10<sup>"+N+-e+"</sup>",c.fontSize*=1.25):(c.text=r(Math.pow(10,d),b,"","fakehover"),"D1"===g&&"y"===b._id.charAt(0)&&(c.dy-=c.fontSize/6));else if("D"===g.charAt(0))c.text=String(Math.round(Math.pow(10,z.mod(d,1)))),
c.fontSize*=.75;else throw"unrecognized dtick "+String(g);"D1"===b.dtick&&(e=String(c.text).charAt(0),"0"===e||"1"===e)&&("y"===b._id.charAt(0)?c.dx-=c.fontSize/4:(c.dy+=c.fontSize/2,c.dx+=(b.range[1]>b.range[0]?1:-1)*c.fontSize*(0>d?.5:.25)))}function t(a,b){a=a._categories[Math.round(b.x)];void 0===a&&(a="");b.text=String(a)}function f(a,b,c,d,e){"never"===e?e="":"all"===a.showexponent&&1E-6>Math.abs(b.x/a.dtick)&&(e="hide");b.text=r(b.x,a,e,d)}function c(a,b,c,d,e){"radians"!==a.thetaunit||c?b.text=
r(b.x,a,e,d):(c=b.x/180,0===c?b.text="0":(c=q(c),100<=c[1]?b.text=r(z.deg2rad(b.x),a,e,d):(a=0>b.x,b.text=1===c[1]?1===c[0]?"\u03c0":c[0]+"\u03c0":["<sup>",c[0],"</sup>\u2044<sub>",c[1],"</sub>\u03c0"].join(""),a&&(b.text=N+b.text))))}function q(a){function b(a,c){return 1E-6>=Math.abs(c-0)?a:b(c,a%c)}var c=function(a){for(var b=1;!(1E-6>=Math.abs(Math.round(a*b)/b-a));)b*=10;return b}(a);a*=c;var d=Math.abs(b(a,c));return[Math.round(a/d),Math.round(c/d)]}function a(a){return"SI"===a||"B"===a}function r(b,
c,d,e){var f=0>b,g=c._tickround;d=d||c.exponentformat||"B";var k=c._tickexponent,m=P.getTickFormat(c),q=c.separatethousands;e&&(k={exponentformat:d,dtick:"none"===c.showexponent?c.dtick:C(b)?Math.abs(b)||1:1,range:"none"===c.showexponent?c.range.map(c.r2d):[0,b||1]},h(k),g=(Number(k._tickround)||0)+4,k=k._tickexponent,c.hoverformat&&(m=c.hoverformat));if(m)return c._numFormat(m)(b).replace(/-/g,N);e=Math.pow(10,-g)/2;"none"===d&&(k=0);b=Math.abs(b);if(b<e)b="0",f=!1;else{b+=e;k&&(b*=Math.pow(10,-k),
g+=k);if(0===g)b=String(Math.floor(b));else if(0>g)for(b=String(Math.round(b)),b=b.substr(0,b.length+g);0>g;g++)b+="0";else b=String(b),(e=b.indexOf(".")+1)&&(b=b.substr(0,e+g).replace(/\.?0+$/,""));b=z.numSeparate(b,c._separators,q)}k&&"hide"!==d&&(a(d)&&(14<k||-15>k)&&(d="power"),c=0>k?N+-k:"power"!==d?"+"+k:String(k),"e"===d?b+="e"+c:"E"===d?b+="E"+c:"power"===d?b+="\u00d710<sup>"+c+"</sup>":"B"===d&&9===k?b+="B":a(d)&&(b+=X[k/3+5]));return f?N+b:b}function v(a,b){for(var c=0;c<b.length;c++)-1===
a.indexOf(b[c])&&a.push(b[c])}var x=b("d3"),C=b("fast-isnumeric"),A=b("../../plots/plots"),D=b("../../registry"),z=b("../../lib"),F=b("../../lib/svg_text_utils"),B=b("../../components/titles"),y=b("../../components/color"),w=b("../../components/drawing");l=b("../../constants/numerical");var G=l.ONEAVGYEAR,E=l.ONEAVGMONTH,J=l.ONEDAY,K=l.ONEHOUR,H=l.ONEMIN,L=l.ONESEC,N=l.MINUS_SIGN,M=l.BADNUM,Z=b("../../constants/alignment").MID_SHIFT,Q=b("../../constants/alignment").LINE_SPACING,P=p.exports={};P.setConvert=
b("./set_convert");var U=b("./axis_autotype"),aa=b("./axis_ids");P.id2name=aa.id2name;P.name2id=aa.name2id;P.cleanId=aa.cleanId;P.list=aa.list;P.listIds=aa.listIds;P.getFromId=aa.getFromId;P.getFromTrace=aa.getFromTrace;b=b("./autorange");P.expand=b.expand;P.getAutoRange=b.getAutoRange;P.coerceRef=function(a,b,c,d,e,f){var g=d.charAt(d.length-1);c=c._fullLayout._subplots[g+"axis"];d+="ref";g={};e||(e=c[0]||f);f||(f=e);g[d]={valType:"enumerated",values:c.concat(f?[f]:[]),dflt:e};return z.coerce(a,
b,g,d)};P.coercePosition=function(a,b,c,d,e,f){"paper"===d||"pixel"===d?(b=z.ensureNumber,c=c(e,f)):(b=P.getFromId(b,d),f=b.fraction2r(f),c=c(e,f),b=b.cleanPos);a[e]=b(c)};P.cleanPosition=function(a,b,c){return("paper"===c||"pixel"===c?z.ensureNumber:P.getFromId(b,c).cleanPos)(a)};var W=P.getDataConversions=function(a,b,c,d){c="x"===c||"y"===c||"z"===c?c:d;if(Array.isArray(c)){if(a={type:U(d),_categories:[]},P.setConvert(a),"category"===a.type)for(b=0;b<d.length;b++)a.d2c(d[b])}else a=P.getFromTrace(a,
b,c);return a?{d2c:a.d2c,c2d:a.c2d}:"ids"===c?{d2c:g,c2d:g}:{d2c:n,c2d:n}};P.getDataToCoordFunc=function(a,b,c,d){return W(a,b,c,d).d2c};P.counterLetter=function(a){a=a.charAt(0);if("x"===a)return"y";if("y"===a)return"x"};P.minDtick=function(a,b,c,d){if(-1!==["log","category"].indexOf(a.type)||!d)a._minDtick=0;else if(void 0===a._minDtick)a._minDtick=b,a._forceTick0=c;else if(a._minDtick)if(2E-6>(a._minDtick/b+1E-6)%1&&2E-6>((c-a._forceTick0)/b%1+1.000001)%1)a._minDtick=b,a._forceTick0=c;else if(2E-6<
(b/a._minDtick+1E-6)%1||2E-6<((c-a._forceTick0)/a._minDtick%1+1.000001)%1)a._minDtick=0};P.saveRangeInitial=function(a,b){a=P.list(a,"",!0);for(var c=!1,d=0;d<a.length;d++){var e=a[d],f=void 0===e._rangeInitial,g=f||!(e.range[0]===e._rangeInitial[0]&&e.range[1]===e._rangeInitial[1]);if(f&&!1===e.autorange||b&&g)e._rangeInitial=e.range.slice(),c=!0}return c};P.saveShowSpikeInitial=function(a,b){for(var c=P.list(a,"",!0),d=!1,e="on",f=0;f<c.length;f++){var g=c[f],h=void 0===g._showSpikeInitial,k=h||
g.showspikes!==g._showspikes;if(h||b&&k)g._showSpikeInitial=g.showspikes,d=!0;"on"!==e||g.showspikes||(e="off")}a._fullLayout._cartesianSpikesEnabled=e;return d};P.autoBin=function(a,b,c,d,e){var f=z.aggNums(Math.min,null,a),g=z.aggNums(Math.max,null,a);e||(e=b.calendar);if("category"===b.type)return{start:f-.5,end:g+.5,size:1,_dataSpan:g-f};if(c)c=(g-f)/c;else{c=z.distinctVals(a);var h=Math.pow(10,Math.floor(Math.log(c.minDiff)/Math.LN10));c=h*z.roundUp(c.minDiff/h,[.9,1.9,4.9,9.9],!0);c=Math.max(c,
2*z.stdev(a)/Math.pow(a.length,d?.25:.4));C(c)||(c=1)}d="log"===b.type?{type:"linear",range:[f,g]}:{type:b.type,range:z.simpleMap([f,g],b.c2r,0,e),calendar:e};P.setConvert(d);P.autoTicks(d,c);c=P.tickIncrement(P.tickFirst(d),d.dtick,"reverse",e);if("number"===typeof d.dtick)c=k(c,a,d,f,g),h=1+Math.floor((g-c)/d.dtick),a=c+h*d.dtick;else{if("M"===d.dtick.charAt(0)&&(h=d.dtick,a=z.findExactDates(a,e),.8<a.exactDays)){var m=Number(h.substr(1));c=.8<a.exactYears&&0===m%12?P.tickIncrement(c,"M6","reverse")+
1.5*J:.8<a.exactMonths?P.tickIncrement(c,"M1","reverse")+15.5*J:c-J/2;a=P.tickIncrement(c,h);a<=f&&(c=a)}a=c;for(h=0;a<=g;)a=P.tickIncrement(a,d.dtick,!1,e),h++}return{start:b.c2r(c,0,e),end:b.c2r(a,0,e),size:d.dtick,_dataSpan:g-f}};P.prepTicks=function(a){var b=z.simpleMap(a.range,a.r2l);if("auto"===a.tickmode||!a.dtick){var c=a.nticks;c||("category"===a.type?(c=a.tickfont?1.2*(a.tickfont.size||12):15,c=a._length/c):(c="y"===a._id.charAt(0)?40:80,c=z.constrain(a._length/c,4,9)+1),"radialaxis"===
a._name&&(c*=2));"array"===a.tickmode&&(c*=100);P.autoTicks(a,Math.abs(b[1]-b[0])/c);0<a._minDtick&&a.dtick<2*a._minDtick&&(a.dtick=a._minDtick,a.tick0=a.l2r(a._forceTick0))}a.tick0||(a.tick0="date"===a.type?"2000-01-01":0);h(a)};P.calcTicks=function(a){P.prepTicks(a);var b=z.simpleMap(a.range,a.r2l);if("array"===a.tickmode){var c=a.tickvals;b=a.ticktext;var d=Array(c.length),f=z.simpleMap(a.range,a.r2l),g=1.0001*f[0]-1E-4*f[1],h=1.0001*f[1]-1E-4*f[0];f=Math.min(g,h);g=Math.max(g,h);var k,m=0;Array.isArray(b)||
(b=[]);var q="category"===a.type?a.d2l_noadd:a.d2l;"log"===a.type&&"L"!==String(a.dtick).charAt(0)&&(a.dtick="L"+Math.pow(10,Math.floor(Math.min(a.range[0],a.range[1]))-1));for(k=0;k<c.length;k++)h=q(c[k]),h>f&&h<g&&(d[m]=void 0===b[k]?P.tickText(a,h):e(a,h,String(b[k])),m++);m<c.length&&d.splice(m,c.length-m);return d}a._tmin=P.tickFirst(a);d=1.0001*b[1]-1E-4*b[0];f=b[1]<b[0];if(a._tmin<1.0001*b[0]-1E-4*b[1]!==f)return[];c=[];"category"===a.type&&(d=f?Math.max(-.5,d):Math.min(a._categories.length-
.5,d));g=null;h=Math.max(1E3,a._length||0);for(k=a._tmin;(f?k>=d:k<=d)&&!(c.length>h||k===g);k=P.tickIncrement(k,a.dtick,f,a.calendar))g=k,c.push(k);"angular"===a._id&&360===Math.abs(b[1]-b[0])&&c.pop();a._tmax=c[c.length-1];a._prevDateHead="";a._inCalcTicks=!0;b=Array(c.length);for(d=0;d<c.length;d++)b[d]=P.tickText(a,c[d]);a._inCalcTicks=!1;return b};var R=[2,5,10],T=[1,2,3,6,12],ea=[1,2,5,10,15,30],S=[1,2,3,7,14],V=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ba=[-.301,0,.301,.699,1],ja=
[15,30,45,90,180];P.autoTicks=function(a,b){function c(a){return Math.pow(a,Math.floor(Math.log(b)/Math.LN10))}if("date"===a.type){a.tick0=z.dateTick0(a.calendar);var e=2*b;e>G?(b/=G,e=c(10),a.dtick="M"+12*d(b,e,R)):e>E?(b/=E,a.dtick="M"+d(b,1,T)):e>J?(a.dtick=d(b,J,S),a.tick0=z.dateTick0(a.calendar,!0)):e>K?a.dtick=d(b,K,T):e>H?a.dtick=d(b,H,ea):e>L?a.dtick=d(b,L,ea):(e=c(10),a.dtick=d(b,e,R))}else"log"===a.type?(a.tick0=0,e=z.simpleMap(a.range,a.r2l),.7<b?a.dtick=Math.ceil(b):1>Math.abs(e[1]-e[0])?
(b=Math.abs(Math.pow(10,e[1])-Math.pow(10,e[0]))/(1.5*Math.abs((e[1]-e[0])/b)),e=c(10),a.dtick="L"+d(b,e,R)):a.dtick=.3<b?"D2":"D1"):"category"===a.type?(a.tick0=0,a.dtick=Math.ceil(Math.max(b,1))):"angular"===a._id?(a.tick0=0,a.dtick=d(b,1,ja)):(a.tick0=0,e=c(10),a.dtick=d(b,e,R));0===a.dtick&&(a.dtick=1);if(!C(a.dtick)&&"string"!==typeof a.dtick)throw e=a.dtick,a.dtick=1,"ax.dtick error: "+String(e);};P.tickIncrement=function(a,b,c,d){var e=c?-1:1;if(C(b))return a+e*b;var f=b.charAt(0),g=e*Number(b.substr(1));
if("M"===f)return z.incrementMonth(a,g,d);if("L"===f)return Math.log(Math.pow(10,a)+g)/Math.LN10;if("D"===f)return b="D2"===b?ba:V,a+=.01*e,c=z.roundUp(z.mod(a,1),b,c),Math.floor(a)+Math.log(x.round(Math.pow(10,c),1))/Math.LN10;throw"unrecognized dtick "+String(b);};P.tickFirst=function(a){var b=a.r2l||Number,c=z.simpleMap(a.range,b),d=c[1]<c[0],e=d?Math.floor:Math.ceil;c=1.0001*c[0]-1E-4*c[1];var f=a.dtick,g=b(a.tick0);if(C(f))return d=e((c-g)/f)*f+g,"category"===a.type&&(d=z.constrain(d,0,a._categories.length-
1)),d;b=f.charAt(0);var h=Number(f.substr(1));if("M"===b){e=0;for(var k,m;10>e;){k=P.tickIncrement(g,f,d,a.calendar);if(0>=(k-c)*(g-c))return d?Math.min(g,k):Math.max(g,k);k=(c-(g+k)/2)/(k-g);m=b+(Math.abs(Math.round(k))||1)*h;g=P.tickIncrement(g,m,0>k?!d:d,a.calendar);e++}z.error("tickFirst did not converge",a);return g}if("L"===b)return Math.log(e((Math.pow(10,c)-g)/h)*h+g)/Math.LN10;if("D"===b)return a="D2"===f?ba:V,a=z.roundUp(z.mod(c,1),a,d),Math.floor(c)+Math.log(x.round(Math.pow(10,a),1))/
Math.LN10;throw"unrecognized dtick "+String(f);};P.tickText=function(a,b,d){function g(c){if(void 0===c)return!0;if(d)return"none"===c;var e={first:a._tmin,last:a._tmax}[c];return"all"!==c&&b!==e}var h=e(a,b),k="array"===a.tickmode,q=d||k;var n="category"===a.type?a.d2l_noadd:a.d2l;if(k&&Array.isArray(a.ticktext)){k=z.simpleMap(a.range,a.r2l);var r=Math.abs(k[1]-k[0])/1E4;for(k=0;k<a.ticktext.length&&!(Math.abs(b-n(a.tickvals[k]))<r);k++);if(k<a.ticktext.length)return h.text=String(a.ticktext[k]),
h}n=d?"never":"none"!==a.exponentformat&&g(a.showexponent)?"hide":"";"date"===a.type?u(a,h,d,q):"log"===a.type?m(a,h,d,q,n):"category"===a.type?t(a,h):"angular"===a._id?c(a,h,d,q,n):f(a,h,d,q,n);a.tickprefix&&!g(a.showtickprefix)&&(h.text=a.tickprefix+h.text);a.ticksuffix&&!g(a.showticksuffix)&&(h.text+=a.ticksuffix);return h};P.hoverLabelText=function(a,b,c){if(c!==M&&c!==b)return P.hoverLabelText(a,b)+" - "+P.hoverLabelText(a,c);c="log"===a.type&&0>=b;a=P.tickText(a,a.c2l(c?-b:b),"hover").text;
return c?0===b?"0":N+a:a};var X="f p n \u03bc m  k M G T".split(" ");P.getTickFormat=function(a){function b(a){return"string"!==typeof a?a:Number(a.replace("M",""))*E}function c(a,b){var c=["L","D"];if(typeof a===typeof b){if("number"===typeof a)return a-b;var d=c.indexOf(a.charAt(0));c=c.indexOf(b.charAt(0));return d===c?Number(a.replace(/(L|D)/g,""))-Number(b.replace(/(L|D)/g,"")):d-c}return"number"===typeof a?1:-1}function d(a,b,c){c=c||function(a){return a};var d=b[0];b=b[1];return(!d&&"number"!==
typeof d||c(d)<=c(a))&&(!b&&"number"!==typeof b||c(b)>=c(a))}function e(a,b){var d=null===b[0],e=null===b[1],f=0<=c(a,b[0]);a=0>=c(a,b[1]);return(d||f)&&(e||a)}var f;if(a.tickformatstops&&0<a.tickformatstops.length)switch(a.type){case "date":case "linear":for(f=0;f<a.tickformatstops.length;f++)if(d(a.dtick,a.tickformatstops[f].dtickrange,b)){var g=a.tickformatstops[f];break}break;case "log":for(f=0;f<a.tickformatstops.length;f++)if(e(a.dtick,a.tickformatstops[f].dtickrange)){g=a.tickformatstops[f];
break}}return g?g.value:a.tickformat};P.getSubplots=function(a,b){a=a._fullLayout._subplots;a=a.cartesian.concat(a.gl2d||[]);b=b?P.findSubplotsWithAxis(a,b):a;b.sort(function(a,b){a=a.substr(1).split("y");b=b.substr(1).split("y");return a[0]===b[0]?+a[1]-+b[1]:+a[0]-+b[0]});return b};P.findSubplotsWithAxis=function(a,b){b=new RegExp("x"===b._id.charAt(0)?"^"+b._id+"y":b._id+"$");for(var c=[],d=0;d<a.length;d++){var e=a[d];b.test(e)&&c.push(e)}return c};P.makeClipPaths=function(a){var b=a._fullLayout,
c={_offset:0,_length:b.width,_id:""},d={_offset:0,_length:b.height,_id:""},e=P.list(a,"x",!0);a=P.list(a,"y",!0);var f=[],g,h;for(g=0;g<e.length;g++)for(f.push({x:e[g],y:d}),h=0;h<a.length;h++)0===g&&f.push({x:c,y:a[h]}),f.push({x:e[g],y:a[h]});c=b._clips.selectAll(".axesclip").data(f,function(a){return a.x._id+a.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(a){return"clip"+b._uid+a.x._id+a.y._id}).append("rect");c.exit().remove();c.each(function(a){x.select(this).select("rect").attr({x:a.x._offset||
0,y:a.y._offset||0,width:a.x._length||1,height:a.y._length||1})})};P.doTicks=function(a,b,c){function d(a){a=n.l2p(a.x);return 1<a&&a<n._length-1}function e(a,b){a=a.selectAll("path."+u).data("inside"===n.ticks?ba:t,p);b&&n.ticks?(a.enter().append("path").classed(u,1).classed("ticks",1).classed("crisp",1).call(y.stroke,n.tickcolor).style("stroke-width",N+"px").attr("d",b),a.attr("transform",W),a.exit().remove()):a.remove()}function f(c,d){function e(a,b,c){a=(a-1)*b;if("x"===r){if(-60>c||60<c)return-.5*
a;if("top"===U)return-a}else{c*="left"===U?1:-1;if(-30>c)return-a;if(30>c)return-.5*a}return 0}function f(a,b){a.each(function(a){var c=B(b,a),d=x.select(this),f=d.select(".text-math-group"),g=W.call(d.node(),a)+(C(b)&&0!==+b?" rotate("+b+","+l(a)+","+(y(a)-a.fontSize/2)+")":"");(a=e(F.lineCount(d),Q*a.fontSize,C(b)?+b:0))&&(g+=" translate(0, "+a+")");f.empty()?d.select("text").attr({transform:g,"text-anchor":c}):(c=w.bBox(f.node()).width*{end:-.5,start:.5}[c],f.attr("transform",g+(c?"translate("+
c+",0)":"")))})}function h(){function b(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.max(a[1],b[1])}if(n.showticklabels){var d=a.getBoundingClientRect(),e=c.node().getBoundingClientRect();n._boundingBox={width:e.width,height:e.height,left:e.left-d.left,right:e.right-d.left,top:e.top-d.top,bottom:e.bottom-d.top}}else d=m._size,"x"===r?(d="free"===n.anchor?d.t+d.h*(1-n.position):d.t+d.h*(1-n._anchorAxis.domain[{bottom:0,top:1}[n.side]]),n._boundingBox={top:d,bottom:d,left:n._offset,right:n._offset+n._length,
width:n._length,height:0}):(d="free"===n.anchor?d.l+d.w*n.position:d.l+d.w*n._anchorAxis.domain[{left:0,right:1}[n.side]],n._boundingBox={left:d,right:d,bottom:n._offset+n._length,top:n._offset,height:n._length,width:0});if(V){d=n._counterSpan=[Infinity,-Infinity];for(M=0;M<V.length;M++)e=m._plots[V[M]]["x"===r?"yaxis":"xaxis"],b(d,[e._offset,e._offset+e._length]);"free"===n.anchor&&b(d,"x"===r?[n._boundingBox.bottom,n._boundingBox.top]:[n._boundingBox.right,n._boundingBox.left])}}var k=c.selectAll("g."+
u).data(t,p);if(C(d)){if(n.showticklabels){if("x"===r){var q="bottom"===U?1:-1;var l=function(a){return a.dx+H*q};var v=d+(J+G)*q;var y=function(a){return a.dy+v+a.fontSize*("bottom"===U?1:-.2)};var B=function(a){return C(a)&&0!==a&&180!==a?0>a*q?"end":"start":"middle"}}else"y"===r?(q="right"===U?1:-1,y=function(a){return a.dy+a.fontSize*Z-H*q},l=function(a){return a.dx+d+(J+G+(90===Math.abs(n.tickangle)?a.fontSize/2:0))*q},B=function(a){return C(a)&&90===Math.abs(a)?"middle":"right"===U?"start":
"end"}):"angular"===b&&(n._labelShift=H,n._labelStandoff=J,n._pad=G,l=n._labelx,y=n._labely,B=n._labelanchor);var E=0,D=0,K=[];k.enter().append("g").classed(u,1).append("text").attr("text-anchor","middle").each(function(b){var c=x.select(this),d=a._promises.length;c.call(F.positionText,l(b),y(b)).call(w.font,b.font,b.fontSize,b.fontColor).text(b.text).call(F.convertToTspans,a);(d=a._promises[d])?K.push(a._promises.pop().then(function(){f(c,n.tickangle)})):f(c,n.tickangle)});k.exit().remove();k.each(function(a){E=
Math.max(E,a.fontSize)});"angular"===b&&k.each(function(a){x.select(this).select("text").call(F.positionText,l(a),y(a))});f(k,n._lastangle||n.tickangle);var L=z.syncOrAsync([function(){return K.length&&Promise.all(K)},function(){f(k,n.tickangle);if("x"===r&&!C(n.tickangle)&&("log"!==n.type||"D"!==String(n.dtick).charAt(0))){var a=[];k.each(function(b){var c=x.select(this),d=c.select(".text-math-group");b=n.l2p(b.x);d.empty()&&(d=c.select("text"));c=w.bBox(d.node());a.push({top:0,bottom:10,height:10,
left:b-c.width/2,right:b+c.width/2+2,width:c.width+2})});for(M=0;M<a.length-1;M++)if(z.bBoxIntersect(a[M],a[M+1])){D=30;break}D&&(Math.abs((t[t.length-1].x-t[0].x)*n._m)/(t.length-1)<2.5*E&&(D=90),f(k,D));n._lastangle=D}g();return b+" done"},h,function(){if(n.automargin&&("x"===r||"y"===r)){var b=n.side[0],c={x:0,y:0,r:0,l:0,t:0,b:0};"x"===r?(c.y="free"===n.anchor?n.position:n._anchorAxis.domain["t"===b?1:0],c[b]+=n._boundingBox.height):(c.x="free"===n.anchor?n.position:n._anchorAxis.domain["r"===
b?1:0],c[b]+=n._boundingBox.width);n.title!==m._dfltTitle[r]&&(c[b]+=n.titlefont.size);var d=n._name+".automargin",e=m._pushmargin[d];(!e||e[b].size<c[b])&&A.autoMargin(a,d,c)}}]);L&&L.then&&a._promises.push(L);return L}k.remove();g();h()}else k.remove(),g()}function g(){if(!c){var d=aa.getFromId(a,b);if(!(d.rangeslider&&d.rangeslider.visible&&d._boundingBox&&"bottom"===d.side)){var e=x.select(a).selectAll("g."+b+"tick"),f={selection:e,side:d.side},g=b.charAt(0),h=a._fullLayout._size,k=d.titlefont.size;
e.size()&&(e=w.getTranslate(e.node().parentNode),f.offsetLeft=e.x,f.offsetTop=e.y);e=10+1.5*k+(d.linewidth?d.linewidth-1:0);if("x"===g){h="free"===d.anchor?{_offset:h.t+(1-(d.position||0))*h.h,_length:0}:aa.getFromId(a,d.anchor);var n=d._offset+d._length/2;var q="top"===d.side?-e-k*(d.showticklabels?1:0):h._length+e+k*(d.showticklabels?1.5:.5);q+=h._offset;f.side||(f.side="bottom")}else{h="free"===d.anchor?{_offset:h.l+(d.position||0)*h.w,_length:0}:aa.getFromId(a,d.anchor);q=d._offset+d._length/
2;n="right"===d.side?h._length+e+k*(d.showticklabels?1:.5):-e-k*(d.showticklabels?.5:0);n+=h._offset;var r={rotate:"-90",offset:0};f.side||(f.side="left")}B.draw(a,b+"title",{propContainer:d,propName:d._name+".title",placeholder:m._dfltTitle[g],avoid:f,transform:r,attributes:{x:n,y:q,"text-anchor":"middle"}})}}}function h(a,b){return!0!==a.visible||a.xaxis+a.yaxis!==b?!1:D.traceIs(a,"bar")&&a.orientation==={x:"h",y:"v"}[r]?!0:a.fill&&a.fill.charAt(a.fill.length-1)===r}function k(c,e,f){var g=c.gridlayer.selectAll("."+
b),k=c.zerolinelayer;c=c["hidegrid"+r]?[]:ba;e=n._gridpath||("x"===r?"M0,"+e._offset+"v":"M"+e._offset+",0h")+e._length;g=g.selectAll("path."+v).data(!1===n.showgrid?[]:c,p);g.enter().append("path").classed(v,1).classed("crisp",1).attr("d",e).each(function(a){n.zeroline&&("linear"===n.type||"-"===n.type)&&Math.abs(a.x)<n.dtick/100&&x.select(this).remove()});g.attr("transform",W).call(y.stroke,n.gridcolor||"#ddd").style("stroke-width",K+"px");"function"===typeof e&&g.attr("d",e);g.exit().remove();
if(k){g=!1;for(var m=0;m<a._fullData.length;m++)if(h(a._fullData[m],f)){g=!0;break}f=z.simpleMap(n.range,n.r2l);f=0>=f[0]*f[1]&&n.zeroline&&("linear"===n.type||"-"===n.type)&&c.length&&(g||d({x:0})||!n.showline);f=k.selectAll("path."+E).data(f?[{x:0,id:b}]:[]);f.enter().append("path").classed(E,1).classed("zl",1).classed("crisp",1).attr("d",e).each(function(){k.selectAll("path").sort(function(a,b){return aa.idSort(a.id,b.id)})});f.attr("transform",W).call(y.stroke,n.zerolinecolor||y.defaultLine).style("stroke-width",
L+"px");f.exit().remove()}}var m=a._fullLayout,q=!1;if("object"===typeof b){var n=b;b=n._id;q=!0}else if(n=P.getFromId(a,b),"redraw"===b&&m._paper.selectAll("g.subplot").each(function(a){a=m._plots[a];var b=a.xaxis,c=a.yaxis;a.xaxislayer.selectAll("."+b._id+"tick").remove();a.yaxislayer.selectAll("."+c._id+"tick").remove();a.gridlayer.selectAll("path").remove();a.zerolinelayer.selectAll("path").remove();m._infolayer.select(".g-"+b._id+"title").remove();m._infolayer.select(".g-"+c._id+"title").remove()}),
!b||"redraw"===b)return z.syncOrAsync(P.list(a,"",!0).map(function(c){return function(){if(c._id){var d=P.doTicks(a,c._id);"redraw"===b&&(c._r=c.range.slice(),c._rl=z.simpleMap(c._r,c.r2l));return d}}}));n.setScale();var r=b.charAt(0),l=P.counterLetter(b),t=P.calcTicks(n),p=function(a){return[a.text,a.x,n.mirror,a.font,a.fontSize,a.fontColor].join("_")},u=b+"tick",v=b+"grid",E=b+"zl",G=(n.linewidth||1)/2,J="outside"===n.ticks?n.ticklen:0,H=0,K=w.crispRound(a,n.gridwidth,1),L=w.crispRound(a,n.zerolinewidth,
K),N=w.crispRound(a,n.tickwidth,1),M;if(n._counterangle&&"outside"===n.ticks){var X=n._counterangle*Math.PI/180;J=n.ticklen*Math.cos(X)+1;H=n.ticklen*Math.sin(X)}n.showticklabels&&("outside"===n.ticks||n.showline)&&(J+=.2*n.tickfont.size);if("x"===r){X=["bottom","top"];var W=n._transfn||function(a){return"translate("+(n._offset+n.l2p(a.x))+",0)"};var R=function(a,b){if(n._counterangle){var c=n._counterangle*Math.PI/180;return"M0,"+a+"l"+Math.sin(c)*b+","+Math.cos(c)*b}return"M0,"+a+"v"+b}}else if("y"===
r)X=["left","right"],W=n._transfn||function(a){return"translate(0,"+(n._offset+n.l2p(a.x))+")"},R=function(a,b){if(n._counterangle){var c=n._counterangle*Math.PI/180;return"M"+a+",0l"+Math.cos(c)*b+","+-Math.sin(c)*b}return"M"+a+",0h"+b};else if("angular"===b)X=["left","right"],W=n._transfn,R=function(a,b){return"M"+a+",0h"+b};else{z.warn("Unrecognized doTicks axis:",b);return}var U=n.side||X[0],T=[-1,1,U===X[1]?1:-1];"inside"!==n.ticks===("x"===r)&&(T=T.map(function(a){return-a}));if(n.visible){n._tickFilter&&
(t=t.filter(n._tickFilter));var ba=t.filter(d);"angular"===n._id&&(ba=t);if(q)return e(n._axislayer,R(n._pos+G*T[2],T[2]*n.ticklen)),n._counteraxis&&k({gridlayer:n._gridlayer,zerolinelayer:n._zerolinelayer},n._counteraxis),f(n._axislayer,n._pos);if(m._has("cartesian")){var V=P.getSubplots(a,n);var S={};V.map(function(a){var b=m._plots[a],c=b[l+"axis"],d=c._mainAxis._id;S[d]||(S[d]=1,k(b,c,a))});q=m._plots[n._mainSubplot];X=[];if(n.ticks){X=T[2];var na=R(n._mainLinePosition+G*X,X*n.ticklen);n._anchorAxis&&
n.mirror&&!0!==n.mirror&&(na+=R(n._mainMirrorPosition-G*X,-X*n.ticklen));e(q[r+"axislayer"],na);X=Object.keys(n._linepositions)}X.map(function(a){function b(a){var b=T[a];return R(c[a]+G*b,b*n.ticklen)}var c=n._linepositions[a]||[];e(m._plots[a][r+"axislayer"],b(0)+b(1))});return f(q[r+"axislayer"],n._mainLinePosition)}}};P.swap=function(a,b){var c=[],d,e;for(d=0;d<b.length;d++){var f=[],g=a._fullData[b[d]].xaxis,h=a._fullData[b[d]].yaxis;if(g&&h){for(e=0;e<c.length;e++)-1===c[e].x.indexOf(g)&&-1===
c[e].y.indexOf(h)||f.push(e);if(f.length){var k=c[f[0]];if(1<f.length)for(e=1;e<f.length;e++){var m=c[f[e]];v(k.x,m.x);v(k.y,m.y)}v(k.x,[g]);v(k.y,[h])}else c.push({x:[g],y:[h]})}}for(b=0;b<c.length;b++){var n;e=a;f=c[b].x;g=c[b].y;k=[];m=[];h=e.layout;for(d=0;d<f.length;d++)k.push(P.getFromId(e,f[d]));for(d=0;d<g.length;d++)m.push(P.getFromId(e,g[d]));var q=Object.keys(k[0]),r="anchor domain overlaying position side tickangle".split(" "),l=["linear","log"];for(d=0;d<q.length;d++){var t=q[d],p=k[0][t],
u=m[0][t],w=!0,y=!1,x=!1;if("_"!==t.charAt(0)&&"function"!==typeof p&&-1===r.indexOf(t)){for(n=1;n<k.length&&w;n++){var B=k[n][t];"type"===t&&-1!==l.indexOf(p)&&-1!==l.indexOf(B)&&p!==B?y=!0:B!==p&&(w=!1)}for(n=1;n<m.length&&w;n++)p=m[n][t],"type"===t&&-1!==l.indexOf(u)&&-1!==l.indexOf(p)&&u!==p?x=!0:m[n][t]!==u&&(w=!1);if(w){y&&(h[k[0]._name].type="linear");x&&(h[m[0]._name].type="linear");n=h;u=k;w=m;B=e._fullLayout._dfltTitle;y=z.nestedProperty;x=y(n[u[0]._name],t).get();p=y(n[w[0]._name],t).get();
"title"===t&&(x===B.x&&(x=B.y),p===B.y&&(p=B.x));for(B=0;B<u.length;B++)y(n,u[B]._name+"."+t).set(p);for(B=0;B<w.length;B++)y(n,w[B]._name+"."+t).set(x)}}}for(d=0;d<e._fullLayout.annotations.length;d++)k=e._fullLayout.annotations[d],-1!==f.indexOf(k.xref)&&-1!==g.indexOf(k.yref)&&z.swapAttrs(h.annotations[d],["?"])}}},{"../../components/color":291,"../../components/drawing":316,"../../components/titles":384,"../../constants/alignment":391,"../../constants/numerical":395,"../../lib":414,"../../lib/svg_text_utils":437,
"../../plots/plots":502,"../../registry":517,"./autorange":457,"./axis_autotype":459,"./axis_ids":461,"./set_convert":477,d3:86,"fast-isnumeric":95}],459:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),k=b("../../constants/numerical").BADNUM;p.exports=function(b,h){for(var d=0,l=0,m=Math.max(1,(b.length-1)/1E3),t,f=0;f<b.length;f+=m)t=b[Math.round(f)],g.isDateTime(t,h)&&(d+=1),n(t)&&(l+=1);if(d>2*l)return"date";h=Math.max(1,(b.length-1)/1E3);for(t=l=d=0;t<b.length;t+=h)m=b[Math.round(t)],
g.cleanNumber(m)!==k?d++:"string"===typeof m&&""!==m&&"None"!==m&&l++;if(l>2*d)return"category";a:{if(b)for(h=0;h<b.length;h++)if(n(b[h])){b=!0;break a}b=!1}return b?"linear":"-"}},{"../../constants/numerical":395,"../../lib":414,"fast-isnumeric":95}],460:[function(b,p,l){var n=b("../../registry"),g=b("../../lib"),k=b("./layout_attributes"),d=b("./tick_value_defaults"),h=b("./tick_mark_defaults"),e=b("./tick_label_defaults"),u=b("./category_order_defaults"),m=b("./line_grid_defaults"),t=b("./set_convert"),
f=b("./ordered_categories");p.exports=function(b,q,a,r,l){var c=r.letter,p=r.font||{},v=a("visible",!r.cheateronly),D=q.type;"date"===D&&n.getComponentMethod("calendars","handleDefaults")(b,q,"calendar",r.calendar);t(q,l);var z=a("autorange",!q.isValidRange(b.range));q._rangesliderAutorange=!1;z&&a("rangemode");a("range");q.cleanRange();u(b,q,a);q._initialCategories="category"===D?f(c,q.categoryorder,q.categoryarray,r.data):[];"category"===D||r.noHover||a("hoverformat");if(!v)return q;v=a("color");
z=v===b.color?v:p.color;a("title",l._dfltTitle[c]);g.coerceFont(a,"titlefont",{family:p.family,size:Math.round(1.2*p.size),color:z});d(b,q,a,D);e(b,q,a,D,r);h(b,q,a,r);m(b,q,a,{dfltColor:v,bgColor:r.bgColor,showGrid:r.showGrid,attributes:k});(q.showline||q.ticks)&&a("mirror");r.automargin&&a("automargin");return q}},{"../../lib":414,"../../registry":517,"./category_order_defaults":462,"./layout_attributes":470,"./line_grid_defaults":472,"./ordered_categories":473,"./set_convert":477,"./tick_label_defaults":478,
"./tick_mark_defaults":479,"./tick_value_defaults":480}],461:[function(b,p,l){var n=b("../../registry"),g=b("./constants");l.id2name=function(b){if("string"===typeof b&&b.match(g.AX_ID_PATTERN)){var d=b.substr(1);"1"===d&&(d="");return b.charAt(0)+"axis"+d}};l.name2id=function(b){if(b.match(g.AX_NAME_PATTERN)){var d=b.substr(5);"1"===d&&(d="");return b.charAt(0)+d}};l.cleanId=function(b,d){if(b.match(g.AX_ID_PATTERN)&&(!d||b.charAt(0)===d))return d=b.substr(1).replace(/^0+/,""),"1"===d&&(d=""),b.charAt(0)+
d};l.list=function(b,d,g){var e=b._fullLayout;if(!e)return[];var h=l.listIds(b,d);b=Array(h.length);var k;for(k=0;k<h.length;k++){var n=h[k];b[k]=e[n.charAt(0)+"axis"+n.substr(1)]}if(!g)for(g=e._subplots.gl3d||[],k=0;k<g.length;k++)h=e[g[k]],d?b.push(h[d+"axis"]):b.push(h.xaxis,h.yaxis,h.zaxis);return b};l.listIds=function(b,d){b=b._fullLayout;if(!b)return[];b=b._subplots;return d?b[d+"axis"]:b.xaxis.concat(b.yaxis)};l.getFromId=function(b,d,g){b=b._fullLayout;"x"===g?d=d.replace(/y[0-9]*/,""):"y"===
g&&(d=d.replace(/x[0-9]*/,""));return b[l.id2name(d)]};l.getFromTrace=function(b,d,g){var e=b._fullLayout,h=null;n.traceIs(d,"gl3d")?(b=d.scene,"scene"===b.substr(0,5)&&(h=e[b][g+"axis"])):h=l.getFromId(b,d[g+"axis"]||g);return h};l.idSort=function(b,d){var g=b.charAt(0),e=d.charAt(0);return g!==e?g>e?1:-1:+(b.substr(1)||1)-+(d.substr(1)||1)}},{"../../registry":517,"./constants":463}],462:[function(b,p,l){p.exports=function(b,g,k){if("category"===g.type){b=b.categoryarray;var d;(b=Array.isArray(b)&&
0<b.length)&&(d="array");d=k("categoryorder",d);"array"===d&&k("categoryarray");b||"array"!==d||(g.categoryorder="trace")}}},{}],463:[function(b,p,l){b=b("../../lib/regex").counter;p.exports={idRegex:{x:b("x"),y:b("y")},attrRegex:b("[xy]axis"),xAxisMatch:b("xaxis"),yAxisMatch:b("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",
DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:"imagelayer maplayer barlayer carpetlayer violinlayer boxlayer scatterlayer".split(" "),layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":429}],464:[function(b,p,l){var n=b("../../lib"),g=b("./axis_ids").id2name;p.exports=function(b,d,h,e,l){var k,t=l._axisConstraintGroups,f=d._id;var c=f.charAt(0);if(!d.fixedrange&&(h("constrain"),n.coerce(b,d,{constraintoward:{valType:"enumerated",values:"x"===c?["left",
"center","right"]:["bottom","middle","top"],dflt:"x"===c?"center":"middle"}},"constraintoward"),b.scaleanchor)){a:{var q=l[g(f)].type;c=[];for(k=0;k<e.length;k++){var a=e[k];if(a!==f){var r=l[g(a)];r.type!==q||r.fixedrange||c.push(a)}}for(k=0;k<t.length;k++)if(t[k][f]){l=t[k];q=[];for(k=0;k<c.length;k++)a=c[k],l[a]||q.push(a);c=q;k=l;break a}k=null}if(c=n.coerce(b,d,{scaleanchor:{valType:"enumerated",values:c}},"scaleanchor"))a:{b=h("scaleratio"),b||(b=d.scaleratio=1),d=k;null===d?(d={},d[f]=1,h=
t.length,t.push(d)):h=t.indexOf(d);e=Object.keys(d);for(k=0;k<t.length;k++)if(f=t[k],k!==h&&f[c]){a=f[c];for(k=0;k<e.length;k++)c=e[k],f[c]=a*b*d[c];t.splice(h,1);break a}if(1!==b)for(k=0;k<e.length;k++)d[e[k]]*=b;d[c]=1}else-1!==e.indexOf(b.scaleanchor)&&n.warn("ignored "+d._name+'.scaleanchor: "'+b.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":414,"./axis_ids":461}],465:[function(b,p,l){function n(b,
d){var g=b._inputDomain,f=g[0]+(g[1]-g[0])*e[b.constraintoward];b.domain=b._input.domain=[f+(g[0]-f)/d,f+(g[1]-f)/d]}var g=b("./axis_ids").id2name,k=b("./scale_zoom"),d=b("./autorange").makePadFn,h=b("../../constants/numerical").ALMOST_EQUAL,e=b("../../constants/alignment").FROM_BL;l.enforce=function(b){b=b._fullLayout;var e=b._axisConstraintGroups||[],l,f,c,q;for(l=0;l<e.length;l++){var a=e[l],r=Object.keys(a),p=Infinity,u=0,C=Infinity,A={},D={},z=!1;for(f=0;f<r.length;f++){var F=r[f];D[F]=c=b[g(F)];
c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice();c._inputRange||(c._inputRange=c.range.slice());c.setScale();A[F]=q=Math.abs(c._m)/a[F];p=Math.min(p,q);"domain"!==c.constrain&&c._constraintShrinkable||(C=Math.min(C,q));delete c._constraintShrinkable;u=Math.max(u,q);"domain"===c.constrain&&(z=!0)}if(!(p>h*u)||z)for(f=0;f<r.length;f++)if(F=r[f],q=A[F],c=D[F],F=c.constrain,q!==C||"domain"===F)if(q/=C,"range"===F)k(c,q);else if(F=c._inputDomain,a=(c.domain[1]-c.domain[0])/
(F[1]-F[0]),p=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0])),q/=a,1>q*p)c.domain=c._input.domain=F.slice(),k(c,q);else{1>p&&(c.range=c._input.range=c._inputRange.slice(),q*=p);if(c.autorange&&c._min.length&&c._max.length){F=c.r2l(c.range[0]);a=c.r2l(c.range[1]);var B=(F+a)/2;u=p=B;z=Math.abs(a-B);var y=B-z*q*1.0001;B+=z*q*1.0001;var w=d(c);n(c,q);c.setScale();var G=Math.abs(c._m),E;for(E=0;E<c._min.length;E++){var J=c._min[E].val-w(c._min[E])/G;J>y&&J<p&&(p=
J)}for(E=0;E<c._max.length;E++)J=c._max[E].val+w(c._max[E])/G,J<B&&J>u&&(u=J);q/=(u-p)/(2*z);p=c.l2r(p);u=c.l2r(u);c.range=c._input.range=F<a?[p,u]:[u,p]}n(c,q)}}};l.clean=function(b,d){if(d._inputDomain){var e=!1,f=d._id;b=b._fullLayout._axisConstraintGroups;for(var c=0;c<b.length;c++)if(b[c][f]){e=!0;break}e&&"domain"===d.constrain||(d._input.domain=d.domain=d._inputDomain,delete d._inputDomain)}}},{"../../constants/alignment":391,"../../constants/numerical":395,"./autorange":457,"./axis_ids":461,
"./scale_zoom":475}],466:[function(b,p,l){function n(a,b,c,d){var e=a.draglayer.selectAll("."+c).data([0]);e.enter().append(b).classed("drag",!0).classed(c,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",a.id);e.call(G,d);return e.node()}function g(a,b,c,d,e,f,g){a=n(a,"rect",b,c);x.select(a).call(y.setRect,d,e,f,g);return a}function k(a,b){for(var c=0;c<a.length;c++)if(!a[c].fixedrange)return b;return""}function d(a,b){var c=a.range[b];b=Math.abs(c-a.range[1-b]);if("date"===
a.type)return c;if("log"===a.type)return a=Math.ceil(Math.max(0,-Math.log(b)/Math.LN10))+3,x.format("."+a+"g")(Math.pow(10,c));a=Math.floor(Math.log(Math.abs(c))/Math.LN10)-Math.floor(Math.log(b)/Math.LN10)+4;return x.format("."+String(a)+"g")(c)}function h(a,b,c,d,e){var f;for(f=0;f<a.length;f++){var g=a[f];if(!g.fixedrange){var k=g._rl[0];var m=g._rl[1]-k;g.range=[g.l2r(k+m*b),g.l2r(k+m*c)];d[g._name+".range[0]"]=g.range[0];d[g._name+".range[1]"]=g.range[1]}}e&&e.length&&(a=(b+(1-c))/2,h(e,a,1-
a,d))}function e(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.fixedrange||(d.range=[d.l2r(d._rl[0]-b/d._m),d.l2r(d._rl[1]-b/d._m)])}}function u(a,b,c,d,e){return a.append("path").attr("class","zoombox").style({fill:.2<b?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+c+", "+d+")").attr("d",e+"Z")}function m(a,b,c){return a.append("path").attr("class","zoombox-corners").style({fill:B.background,stroke:B.defaultLine,"stroke-width":1,opacity:0}).attr("transform",
"translate("+b+", "+c+")").attr("d","M0,0Z")}function t(a){a.selectAll(".select-outline").remove()}function f(a,b,d,e,f,g){a.attr("d",e+"M"+d.l+","+d.t+"v"+d.h+"h"+d.w+"v-"+d.h+"h-"+d.w+"Z");c(a,b,f,g)}function c(a,b,c,d){c||(a.transition().style("fill",.2<d?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),b.transition().style("opacity",1).duration(200))}function q(a){x.select(a).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function a(a){U&&a.data&&
a._context.showTips&&(z.notifier(z._(a,"Double-click to zoom back out"),"long"),U=!1)}function r(a){var b=Math.floor(Math.min(a.b-a.t,a.r-a.l,P)/2);return"M"+(a.l-3.5)+","+(a.t-.5+b)+"h3v"+-b+"h"+b+"v-3h-"+(b+3)+"ZM"+(a.r+3.5)+","+(a.t-.5+b)+"h-3v"+-b+"h"+-b+"v-3h"+(b+3)+"ZM"+(a.r+3.5)+","+(a.b+.5-b)+"h-3v"+b+"h"+-b+"v3h"+(b+3)+"ZM"+(a.l-3.5)+","+(a.b+.5-b)+"h3v"+b+"h"+b+"v3h-"+(b+3)+"Z"}function v(a,b){if(A){var c=void 0!==a.onwheel?"wheel":"mousewheel";a._onwheel&&a.removeEventListener(c,a._onwheel);
a._onwheel=b;a.addEventListener(c,b,{passive:!1})}else void 0!==a.onwheel?a.onwheel=b:void 0!==a.onmousewheel&&(a.onmousewheel=b)}var x=b("d3"),C=b("tinycolor2"),A=b("has-passive-events"),D=b("../../registry"),z=b("../../lib"),F=b("../../lib/svg_text_utils"),B=b("../../components/color"),y=b("../../components/drawing"),w=b("../../components/fx"),G=b("../../lib/setcursor"),E=b("../../components/dragelement"),J=b("../../constants/alignment").FROM_TL,K=b("../plots"),H=b("./axes").doTicks,L=b("./axis_ids").getFromId,
N=b("./select"),M=b("./scale_zoom"),Z=b("./constants"),Q=Z.MINDRAG,P=Z.MINZOOM,U=!0;p.exports={makeDragBox:function(b,c,n,l,p,B,G,A){function R(){ha=[c.xaxis];qa=[c.yaxis];var a=ha[0],d=qa[0];za=a._length;ia=d._length;var e=V._axisConstraintGroups;var f=[a._id],g=[d._id];fa=[c].concat(G&&A?c.overlays:[]);for(var h=1;h<fa.length;h++){var m=fa[h].xaxis,n=fa[h].yaxis;-1===ha.indexOf(m)&&(ha.push(m),f.push(m._id));-1===qa.indexOf(n)&&(qa.push(n),g.push(n._id))}ta=k(ha,A);ua=k(qa,G);Ga=(h=ua+ta)?"nsew"===
h?"pan"===V.dragmode?"move":"crosshair":h.toLowerCase()+"-resize":"pointer";ra=a._offset;Da=d._offset;a=!1;d={};h={};var q,l,r;for(m=0;m<e.length;m++){var t=e[m];for(n=0;n<f.length;n++)if(t[f[n]]){for(l in t)-1===("x"===l.charAt(0)?f:g).indexOf(l)&&(d[l]=1);for(q=0;q<g.length;q++)t[g[q]]&&(a=!0)}for(n=0;n<g.length;n++)if(t[g[n]])for(r in t)-1===("x"===r.charAt(0)?f:g).indexOf(r)&&(h[r]=1)}a&&(z.extendFlat(d,h),h={});e=h;O=a;Pa=[];for(var p in d)Pa.push(L(b,p));Va=[];for(var u in e)Va.push(L(b,u))}
function X(a,c){function d(){Wa="";Ba.r=Ba.l;Ba.t=Ba.b;ib.attr("d","M0,0Z")}if(b._transitioningWithDuration)return!1;a=Math.max(0,Math.min(za,a+Ka));c=Math.max(0,Math.min(ia,c+Oa));var e=Math.abs(a-Ka),g=Math.abs(c-Oa);Ba.l=Math.min(Ka,a);Ba.r=Math.max(Ka,a);Ba.t=Math.min(Oa,c);Ba.b=Math.max(Oa,c);O?e>P||g>P?(Wa="xy",e/za>g/ia?(g=e*ia/za,Oa>c?Ba.t=Oa-g:Ba.b=Oa+g):(e=g*za/ia,Ka>a?Ba.l=Ka-e:Ba.r=Ka+e),ib.attr("d",r(Ba))):d():!ua||g<Math.min(Math.max(.6*e,Q),P)?e<Q?d():(Ba.t=0,Ba.b=ia,Wa="x",ib.attr("d",
"M"+(Ba.l-.5)+","+(Oa-P-.5)+"h-3v"+(2*P+1)+"h3ZM"+(Ba.r+.5)+","+(Oa-P-.5)+"h3v"+(2*P+1)+"h-3Z")):!ta||e<Math.min(.6*g,P)?(Ba.l=0,Ba.r=za,Wa="y",ib.attr("d","M"+(Ka-P-.5)+","+(Ba.t-.5)+"v-3h"+(2*P+1)+"v3ZM"+(Ka-P-.5)+","+(Ba.b+.5)+"v3h"+(2*P+1)+"v-3Z")):(Wa="xy",ib.attr("d",r(Ba)));Ba.w=Ba.r-Ba.l;Ba.h=Ba.b-Ba.t;f(mc,ib,Ba,Eb,Fb,$a);Fb=!0}function W(){if(Math.min(Ba.h,Ba.w)<2*Q)return q(b);"xy"!==Wa&&"x"!==Wa||h(ha,Ba.l/za,Ba.r/za,Ta,Pa);"xy"!==Wa&&"y"!==Wa||h(qa,(ia-Ba.b)/ia,(ia-Ba.t)/ia,Ta,Va);q(b);
S();a(b)}function U(a){function c(a,b,c){if(!a.fixedrange){var d=z.simpleMap(a.range,a.r2l),e=d[0]+(d[1]-d[0])*b;a.range=d.map(function(b){return a.l2r(e+(b-e)*c)})}}if(b._context.scrollZoom||V._enablescrollzoom)if(null===mb&&t(da),b._transitioningWithDuration)a.preventDefault(),a.stopPropagation();else{var d=b.querySelector(".plotly");R();if(!(10<d.scrollHeight-d.clientHeight||10<d.scrollWidth-d.clientWidth))if(clearTimeout(mb),d=-a.deltaY,isFinite(d)||(d=a.wheelDelta/10),isFinite(d)){d=Math.exp(-Math.min(Math.max(d,
-20),20)/200);var e=Ra.draglayer.select(".nsewdrag").node().getBoundingClientRect(),f=(a.clientX-e.left)/e.width;e=(e.bottom-a.clientY)/e.height;var g;if(A||O){A||(f=.5);for(g=0;g<ha.length;g++)c(ha[g],f,d);Ma[2]*=d;Ma[0]+=Ma[2]*f*(1/d-1)}if(G||O){G||(e=.5);for(g=0;g<qa.length;g++)c(qa[g],e,d);Ma[3]*=d;Ma[1]+=Ma[3]*(1-e)*(1/d-1)}la(Ma);T(G,A);mb=setTimeout(function(){Ma=[0,0,za,ia];S(O?"xy":(A?"x":"")+(G?"y":""))},fd);a.preventDefault()}else z.log("Did not find wheel motion attributes: ",a)}}function aa(a,
c){function d(a,b,c){for(var d=1-b,e,f,g=0;g<a.length;g++){var h=a[g];if(!h.fixedrange){e=h;f=c/h._length;f=h._rl[d]+(h._rl[b]-h._rl[d])/(1-(0<=f?Math.min(f,.9):1/(1/Math.max(f,-.3)+3.222)));var k=h.l2r(f);!1!==k&&void 0!==k&&(h.range[b]=k)}}return e._length*(e._rl[b]-f)/(e._rl[b]-e._rl[d])}if(!b._transitioningWithDuration){R();if("ew"===ta||"ns"===ua)ta&&e(ha,a),ua&&e(qa,c),la([ta?-a:0,ua?-c:0,za,ia]);else{if(O&&ta&&ua){var f="w"===ta===("n"===ua)?1:-1;c=(a/za+f*c/ia)/2;a=c*za;c=f*c*ia}"w"===ta?
a=d(ha,0,a):"e"===ta?a=d(ha,1,-a):ta||(a=0);"n"===ua?c=d(qa,1,c):"s"===ua?c=d(qa,0,-c):ua||(c=0);f="w"===ta?a:0;var g="n"===ua?c:0;if(O){var h;if(!ta&&1===ua.length){for(h=0;h<ha.length;h++)ha[h].range=ha[h]._r.slice(),M(ha[h],1-c/ia);a=c*za/ia;f=a/2}if(!ua&&1===ta.length){for(h=0;h<qa.length;h++)qa[h].range=qa[h]._r.slice(),M(qa[h],1-a/za);c=a*ia/za;g=c/2}}la([f,g,za-a,ia-c])}T(ua,ta)}}function T(a,c){function d(a){for(g=0;g<a.length;g++)a[g].fixedrange||f.push(a[g]._id)}function e(d,e,h){for(g=
0;g<d.length;g++){var k=d[g];if(c&&-1!==f.indexOf(k.xref)||a&&-1!==f.indexOf(k.yref))if(e(b,g),h)break}}var f=[],g;if(c||O)d(ha),d(Pa);if(a||O)d(qa),d(Va);Ta={};for(g=0;g<f.length;g++){var h=f[g];H(b,h,!0);h=L(b,h);Ta[h._name+".range[0]"]=h.range[0];Ta[h._name+".range[1]"]=h.range[1]}e(V.annotations||[],D.getComponentMethod("annotations","drawOne"));e(V.shapes||[],D.getComponentMethod("shapes","drawOne"));e(V.images||[],D.getComponentMethod("images","draw"),!0)}function ba(){if(!b._transitioningWithDuration){var a=
b._context.doubleClick,c=(ta?ha:[]).concat(ua?qa:[]),d={},e;if("reset+autosize"===a)for(a="autosize",e=0;e<c.length;e++){var f=c[e];if(f._rangeInitial&&(f.range[0]!==f._rangeInitial[0]||f.range[1]!==f._rangeInitial[1])||!f._rangeInitial&&!f.autorange){a="reset";break}}if("autosize"===a)for(e=0;e<c.length;e++)f=c[e],f.fixedrange||(d[f._name+".autorange"]=!0);else if("reset"===a){if(ta||O)c=c.concat(Pa);ua&&!O&&(c=c.concat(Va));O&&(ta?ua||(c=c.concat(qa)):c=c.concat(ha));for(e=0;e<c.length;e++)f=c[e],
f._rangeInitial?(a=f._rangeInitial,d[f._name+".range[0]"]=a[0],d[f._name+".range[1]"]=a[1]):d[f._name+".autorange"]=!0}b.emit("plotly_doubleclick",null);D.call("relayout",b,d)}}function S(){la([0,0,za,ia]);z.syncOrAsync([K.previousPromises,function(){D.call("relayout",b,Ta)}],b)}function la(a){function b(a){return a.fixedrange?0:k&&-1!==Pa.indexOf(a)?g:m&&-1!==(O?Pa:Va).indexOf(a)?h:0}function c(a,b){return b?(a.range=a._r.slice(),M(a,b),d(a,b)):0}function d(a,b){return a._length*(1-b)*J[a.constraintoward||
"middle"]}var e=V._plots,f=Object.keys(e),g=a[2]/ha[0]._length,h=a[3]/qa[0]._length,k=A||O,m=G||O,n;V._glcanvas&&V._glcanvas.size()&&V._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0})});for(n=0;n<f.length;n++){var q=e[f[n]],l=q.xaxis,r=q.yaxis;var t=k&&!l.fixedrange&&-1!==ha.indexOf(l);var p=m&&!r.fixedrange&&-1!==qa.indexOf(r);if(q._scene&&q._scene.update){var u=z.simpleMap(l.range,l.r2l);var w=z.simpleMap(r.range,r.r2l);q._scene.update({range:[u[0],w[0],u[1],w[1]]})}t?(t=g,u=A?a[0]:d(l,
t)):(t=b(l),u=c(l,t));p?(p=h,w=G?a[1]:d(r,p)):(p=b(r),w=c(r,p));if(t||p)t||(t=1),p||(p=1),l=l._offset-u/t,r=r._offset-w/p,V._defs.select("#"+q.clipId+"> rect").call(y.setTranslate,u,w).call(y.setScale,t,p),u=q.plot.selectAll(".scatterlayer .trace, .boxlayer .trace, .violinlayer .trace"),q.plot.call(y.setTranslate,l,r).call(y.setScale,1/t,1/p),u.selectAll(".point").call(y.setPointGroupScale,t,p),u.selectAll(".textpoint").call(y.setTextPointsScale,t,p),u.call(y.hideOutsideRangePoints,q),q.plot.selectAll(".barlayer .trace").call(y.hideOutsideRangePoints,
q,".bartext")}}var V=b._fullLayout,da=b._fullLayout._zoomlayer,ea="nsew"===G+A,ya=1===(G+A).length,fa,ha,qa,ra,Da,za,ia,ta,ua,Ga,O,Pa,Va;R();var Sa=g(c,G+A+"drag",Ga,n,l,p,B),Ca=!ua&&!ta;if(Ca&&!ea)return Sa.onmousedown=null,Sa.style.pointerEvents="none",Sa;var Na={element:Sa,gd:b,plotinfo:c,prepFn:function(a,c,d){var e=b._fullLayout.dragmode;Ca||(ea?a.shiftKey?"pan"===e?e="zoom":"lasso"!==e&&"select"!==e&&(e="pan"):a.ctrlKey&&(e="pan"):e="pan");Na.minDrag="lasso"===e?1:void 0;"lasso"===e||"select"===
e?(Na.xaxes=ha,Na.yaxes=qa,N(a,c,d,Na,e)):Ca?t(da):"zoom"===e?(Na.moveFn=X,Na.doneFn=W,Na.minDrag=1,a=Sa.getBoundingClientRect(),Ka=c-a.left,Oa=d-a.top,Ba={l:Ka,r:Ka,w:0,t:Oa,b:Oa,h:0},$a=b._hmpixcount?b._hmlumcount/b._hmpixcount:C(b._fullLayout.plot_bgcolor).getLuminance(),Eb="M0,0H"+za+"V"+ia+"H0V0",Fb=!1,Wa="xy",mc=u(da,$a,ra,Da,Eb),ib=m(da,ra,Da),t(da)):"pan"===e&&(Na.moveFn=aa,Na.doneFn=S,t(da))},clickFn:function(a,e){q(b);2!==a||ya||ba();if(ea)w.click(b,e,c.id);else if(1===a&&ya){var f=G?qa[0]:
ha[0];a="s"===G||"w"===A?0:1;var g=f._name+".range["+a+"]";a=d(f,a);e="left";var h="middle";if(!f.fixedrange&&(G?(h="n"===G?"top":"bottom","right"===f.side&&(e="right")):"e"===A&&(e="right"),b._context.showAxisRangeEntryBoxes))x.select(Sa).call(F.makeEditable,{gd:b,immediate:!0,background:V.paper_bgcolor,text:String(a),fill:f.tickfont?f.tickfont.color:"#444",horizontalAlign:e,verticalAlign:h}).on("edit",function(a){a=f.d2r(a);void 0!==a&&D.call("relayout",b,g,a)})}}};E.init(Na);var Ka,Oa,Ba,$a,Eb,
Fb,Wa,mc,ib,Ta={},Ma=[0,0,za,ia],mb=null,fd=Z.REDRAWDELAY,Ra=c.mainplot?V._plots[c.mainplot]:c;1!==G.length*A.length&&v(Sa,U);return Sa},makeDragger:n,makeRectDragger:g,makeZoombox:u,makeCorners:m,updateZoombox:f,xyCorners:r,transitionZoombox:c,removeZoombox:q,clearSelect:t,showDoubleClickNotifier:a,attachWheelEventHandler:v}},{"../../components/color":291,"../../components/dragelement":313,"../../components/drawing":316,"../../components/fx":333,"../../constants/alignment":391,"../../lib":414,"../../lib/setcursor":433,
"../../lib/svg_text_utils":437,"../../registry":517,"../plots":502,"./axes":458,"./axis_ids":461,"./constants":463,"./scale_zoom":475,"./select":476,d3:86,"has-passive-events":175,tinycolor2:256}],467:[function(b,p,l){var n=b("d3"),g=b("../../components/fx"),k=b("../../components/dragelement"),d=b("./constants"),h=b("./dragbox").makeDragBox;p.exports=function(b){var e=b._fullLayout;if(b._context.staticPlot)n.select(b).selectAll(".drag").remove();else if(e._has("cartesian")||e._has("gl2d")){Object.keys(e._plots||
{}).sort(function(b,d){return(e._plots[b].mainplot&&!0)===(e._plots[d].mainplot&&!0)?(b=b.split("y"),d=d.split("y"),b[0]===d[0]?Number(b[1]||1)-Number(d[1]||1):Number(b[0]||1)-Number(d[0]||1)):e._plots[b].mainplot?1:-1}).forEach(function(m){var f=e._plots[m],c=f.xaxis,n=f.yaxis,a=d.DRAGGERSIZE;if(!f.mainplot){var l=h(b,f,c._offset,n._offset,c._length,n._length,"ns","ew");l.onmousemove=function(a){b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===m&&g.hover(b,a,m)};g.hover(b,a,m);b._fullLayout._lasthover=
l;b._fullLayout._hoversubplot=m};l.onmouseout=function(a){b._dragging||(b._fullLayout._hoversubplot=null,k.unhover(b,a))};b._context.showAxisDragHandles&&(h(b,f,c._offset-a,n._offset-a,a,a,"n","w"),h(b,f,c._offset+c._length,n._offset-a,a,a,"n","e"),h(b,f,c._offset-a,n._offset+n._length,a,a,"s","w"),h(b,f,c._offset+c._length,n._offset+n._length,a,a,"s","e"))}if(b._context.showAxisDragHandles){if(m===c._mainSubplot){var t=c._mainLinePosition;"top"===c.side&&(t-=a);h(b,f,c._offset+.1*c._length,t,.8*
c._length,a,"","ew");h(b,f,c._offset,t,.1*c._length,a,"","w");h(b,f,c._offset+.9*c._length,t,.1*c._length,a,"","e")}m===n._mainSubplot&&(c=n._mainLinePosition,"right"!==n.side&&(c-=a),h(b,f,c,n._offset+.1*n._length,a,.8*n._length,"ns",""),h(b,f,c,n._offset+.9*n._length,a,.1*n._length,"s",""),h(b,f,c,n._offset,a,.1*n._length,"n",""))}});var m=e._hoverlayer.node();m.onmousemove=function(d){d.target=e._lasthover;g.hover(b,d,e._hoversubplot)};m.onclick=function(d){d.target=e._lasthover;g.click(b,d)};
m.onmousedown=function(b){e._lasthover.onmousedown(b)}}}},{"../../components/dragelement":313,"../../components/fx":333,"./constants":463,"./dragbox":466,d3:86}],468:[function(b,p,l){var n=b("../../registry"),g=b("../../lib");p.exports=function(b){return function(d,h){d=d[b];if(Array.isArray(d)){var e=n.subplotsRegistry.cartesian,k=e.idRegex,m=h._subplots,l=m.xaxis,f=m.yaxis;m=m.cartesian;for(var c=h._has("cartesian")||h._has("gl2d"),q=0;q<d.length;q++){var a=d[q];if(g.isPlainObject(a)){var r=a.xref;
a=a.yref;var p=k.x.test(r),x=k.y.test(a);if(p||x){c||g.pushUnique(h._basePlotModules,e);var C=!1;p&&-1===l.indexOf(r)&&(l.push(r),C=!0);x&&-1===f.indexOf(a)&&(f.push(a),C=!0);C&&p&&x&&m.push(r+a)}}}}}}},{"../../lib":414,"../../registry":517}],469:[function(b,p,l){function n(a,b,c,d,e){var g=a._fullLayout._modules;b.plot&&b.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var h=0;h<g.length;h++){var k=g[h];if("cartesian"===k.basePlotModule.name){var m=f(c,k);k.plot&&k.plot(a,
b,m,d,e)}}}function g(a){a=a._fullLayout;for(var b=Object.keys(a._plots),c=[],d=[],e=0;e<b.length;e++){var f=b[e],g=a._plots[f],h=g.xaxis._mainAxis._id+g.yaxis._mainAxis._id;h!==f&&-1!==b.indexOf(h)?(g.mainplot=h,g.mainplotinfo=a._plots[h],d.push(f)):c.push(f)}return c=c.concat(d)}function k(a){var b=a.plotgroup,d=a.id,f=q.layerValue2layerClass[a.xaxis.layer],g=q.layerValue2layerClass[a.yaxis.layer];if(a.mainplot){b=a.mainplotinfo;var h=b.plotgroup,k=d+"-x",m=d+"-y";a.gridlayer=b.gridlayer;a.zerolinelayer=
b.zerolinelayer;e(b.overlinesBelow,"path",k);e(b.overlinesBelow,"path",m);e(b.overaxesBelow,"g",k);e(b.overaxesBelow,"g",m);a.plot=e(b.overplot,"g",d);e(b.overlinesAbove,"path",k);e(b.overlinesAbove,"path",m);e(b.overaxesAbove,"g",k);e(b.overaxesAbove,"g",m);a.xlines=h.select(".overlines-"+f).select("."+k);a.ylines=h.select(".overlines-"+g).select("."+m);a.xaxislayer=h.select(".overaxes-"+f).select("."+k);a.yaxislayer=h.select(".overaxes-"+g).select("."+m)}else d=e(b,"g","layer-subplot"),a.shapelayer=
e(d,"g","shapelayer"),a.imagelayer=e(d,"g","imagelayer"),a.gridlayer=e(b,"g","gridlayer"),a.zerolinelayer=e(b,"g","zerolinelayer"),e(b,"path","xlines-below"),e(b,"path","ylines-below"),a.overlinesBelow=e(b,"g","overlines-below"),e(b,"g","xaxislayer-below"),e(b,"g","yaxislayer-below"),a.overaxesBelow=e(b,"g","overaxes-below"),a.plot=e(b,"g","plot"),a.overplot=e(b,"g","overplot"),e(b,"path","xlines-above"),e(b,"path","ylines-above"),a.overlinesAbove=e(b,"g","overlines-above"),e(b,"g","xaxislayer-above"),
e(b,"g","yaxislayer-above"),a.overaxesAbove=e(b,"g","overaxes-above"),a.xlines=b.select(".xlines-"+f),a.ylines=b.select(".ylines-"+g),a.xaxislayer=b.select(".xaxislayer-"+f),a.yaxislayer=b.select(".yaxislayer-"+g);e(a.gridlayer,"g",a.xaxis._id,a.xaxis._id);e(a.gridlayer,"g",a.yaxis._id,a.yaxis._id);a.gridlayer.selectAll("g").sort(c.idSort);for(f=0;f<q.traceLayerClasses.length;f++)e(a.plot,"g",q.traceLayerClasses[f]);a.xlines.style("fill","none").classed("crisp",!0);a.ylines.style("fill","none").classed("crisp",
!0)}function d(a,b){if(a){var c={};a.each(function(a){u.select(this).remove();h(a,b);c[a]=!0});a=b._plots;for(var d=Object.keys(a),e=0;e<d.length;e++)for(var f=a[d[e]].overlays||[],g=0;g<f.length;g++){var k=f[g];c[k.id]&&k.plot.selectAll(".trace").remove()}}}function h(a,b){b._draggers.selectAll("g."+a).remove();b._defs.select("#clip"+b._uid+a+"plot").remove()}function e(a,b,c,d){a=a.selectAll("."+c).data([d||0]);a.enter().append(b).classed(c,!0);return a}var u=b("d3"),m=b("../../lib"),t=b("../plots"),
f=b("../get_data").getModuleCalcData,c=b("./axis_ids"),q=b("./constants"),a=b("../../constants/xmlns_namespaces");l.name="cartesian";l.attr=["xaxis","yaxis"];l.idRoot=["x","y"];l.idRegex=q.idRegex;l.attrRegex=q.attrRegex;l.attributes=b("./attributes");l.layoutAttributes=b("./layout_attributes");l.supplyLayoutDefaults=b("./layout_defaults");l.transitionAxes=b("./transition_axes");l.finalizeSubplots=function(a,b){var d=b._subplots;b=d.xaxis;var e=d.yaxis,f=d.cartesian;d=f.concat(d.gl2d||[]);var g={},
h={},k;for(k=0;k<d.length;k++){var n=d[k].split("y");g[n[0]]=1;h["y"+n[1]]=1}for(k=0;k<b.length;k++)if(n=b[k],!g[n]){var l=(a[c.id2name(n)]||{}).anchor;q.idRegex.y.test(l)||(l="y");f.push(n+l);d.push(n+l);h[l]||(h[l]=1,m.pushUnique(e,l))}for(k=0;k<e.length;k++)l=e[k],h[l]||(n=(a[c.id2name(l)]||{}).anchor,q.idRegex.x.test(n)||(n="x"),f.push(n+l),d.push(n+l),g[n]||(g[n]=1,m.pushUnique(b,n)));if(!d.length){l=n="";for(var t in a)if(q.attrRegex.test(t))if("x"===t.charAt(0)){if(!n||+t.substr(5)<+n.substr(5))n=
t}else if(!l||+t.substr(5)<+l.substr(5))l=t;n=n?c.name2id(n):"x";l=l?c.name2id(l):"y";b.push(n);e.push(l);f.push(n+l)}};l.plot=function(a,b,c,d){var e=a._fullLayout,f=e._subplots.cartesian,g=a.calcdata,h;if(!Array.isArray(b))for(b=[],h=0;h<g.length;h++)b.push(h);e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0})});for(h=0;h<f.length;h++){for(var k=f[h],m=e._plots[k],q=[],l,t=0;t<g.length;t++){var r=g[t],p=r[0].trace;if(p.xaxis+p.yaxis===k){if(-1!==b.indexOf(p.index)||
p.carpet)l&&l[0].trace.xaxis+l[0].trace.yaxis===k&&-1!==["tonextx","tonexty","tonext"].indexOf(p.fill)&&-1===q.indexOf(l)&&q.push(l),q.push(r);l=r}}n(a,m,q,c,d)}};l.clean=function(a,b,c,e){c=e._modules||[];var f=b._modules||[],g,k,m,n;for(a=0;a<c.length;a++){var q=c[a].name;"scatter"===q?g=!0:"scattergl"===q&&(m=!0)}for(a=0;a<f.length;a++)q=f[a].name,"scatter"===q?k=!0:"scattergl"===q&&(n=!0);if(g&&!k){g=e._plots;k=Object.keys(g||{});for(a=0;a<k.length;a++)c=g[k[a]],c.plot&&c.plot.select("g.scatterlayer").selectAll("g.trace").remove();
e._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}if(m&&!n)for(g=e._plots,k=Object.keys(g||{}),a=0;a<k.length;a++)c=g[k[a]],c._scene&&c._scene.destroy();m=e._subplots||{};n=b._subplots||{xaxis:[],yaxis:[]};if(m.xaxis&&m.yaxis)for(g=m.xaxis.concat(m.yaxis),k=n.xaxis.concat(n.yaxis),a=0;a<g.length;a++)-1===k.indexOf(g[a])&&e._infolayer.selectAll(".g-"+g[a]+"title").remove();a=e._has&&e._has("cartesian");b=b._has&&b._has("cartesian");if(a&&!b)d(e._cartesianlayer.selectAll(".subplot"),
e),e._defs.selectAll(".axesclip").remove(),delete e._axisConstraintGroups;else if(m.cartesian)for(a=0;a<m.cartesian.length;a++)b=m.cartesian[a],-1===n.cartesian.indexOf(b)&&(e._cartesianlayer.selectAll("."+b+",."+b+"-x,."+b+"-y").remove(),h(b,e))};l.drawFramework=function(a){var b=a._fullLayout;a=g(a);a=b._cartesianlayer.selectAll(".subplot").data(a,m.identity);a.enter().append("g").attr("class",function(a){return"subplot "+a});a.order();a.exit().call(d,b);a.each(function(a){var c=b._plots[a];c.plotgroup=
u.select(this);c.overlays=[];k(c);c.mainplot&&b._plots[c.mainplot].overlays.push(c);c.draglayer=e(b._draggers,"g",a)})};l.rangePlot=function(a,b,c){k(b);n(a,b,c);t.style(a)};l.toSVG=function(b){var c=b._fullLayout._glimages,d=u.select(b).selectAll(".svg-container");d.filter(function(a,b){return b===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var b=this.toDataURL("image/png");c.append("svg:image").attr({xmlns:a.svg,"xlink:href":b,preserveAspectRatio:"none",x:0,y:0,
width:this.width,height:this.height})})}},{"../../constants/xmlns_namespaces":397,"../../lib":414,"../get_data":487,"../plots":502,"./attributes":456,"./axis_ids":461,"./constants":463,"./layout_attributes":470,"./layout_defaults":471,"./transition_axes":481,d3:86}],470:[function(b,p,l){l=b("../font_attributes");var n=b("../../components/color/attributes"),g=b("../../components/drawing/attributes").dash,k=b("../../lib/extend").extendFlat;b=b("./constants");p.exports={visible:{valType:"boolean",role:"info",
editType:"plot",description:"A single toggle to hide the axis while preserving interaction like dragging. Default is true when a cheater plot is present on the axis, otherwise false"},color:{valType:"color",dflt:n.defaultLine,role:"style",editType:"ticks",description:"Sets default for all colors associated with this axis all at once: line, font, tick, and grid colors. Grid color is lightened by blending this with the plot background Individual pieces can override this."},title:{valType:"string",role:"info",
editType:"ticks+margins",description:"Sets the title of this axis."},titlefont:l({editType:"ticks+margins",description:"Sets this axis' title font."}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",editType:"calc",description:"Sets the axis type. By default, plotly attempts to determined the axis type by looking into the data of the traces that referenced the axis in question."},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",
editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:"Determines whether or not the range of this axis is computed in relation to the input data. See `rangemode` for more info. If `range` is provided, then `autorange` is set to *false*."},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",editType:"plot",description:"If *normal*, the range is computed in relation to the extrema of the input data. If *tozero*`, the range extends to 0, regardless of the input data If *nonnegative*, the range is non-negative, regardless of the input data."},
range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"plot+margins",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot+margins",impliedEdits:{"^autorange":!1}}],editType:"plot+margins",impliedEdits:{autorange:!1},description:"Sets the range of this axis. If the axis `type` is *log*, then you must take the log of your desired range (e.g. to set the range from 1 to 100, set the range from 0 to 2). If the axis `type` is *date*, it should be date strings, like date data, though Date objects and unix milliseconds will be accepted and converted to strings. If the axis `type` is *category*, it should be numbers, using the scale where each category is assigned a serial number from zero in the order it appears."},
fixedrange:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:"Determines whether or not this axis is zoom-able. If true, then zoom is disabled."},scaleanchor:{valType:"enumerated",values:[b.idRegex.x.toString(),b.idRegex.y.toString()],role:"info",editType:"plot",description:"If set to another axis id (e.g. `x2`, `y`), the range of this axis changes together with the range of the corresponding axis such that the scale of pixels per unit is in a constant ratio. Both axes are still zoomable, but when you zoom one, the other will zoom the same amount, keeping a fixed midpoint. `constrain` and `constraintoward` determine how we enforce the constraint. You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}` but you can only link axes of the same `type`. The linked axis can have the opposite letter (to constrain the aspect ratio) or the same letter (to match scales across subplots). Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant and the last constraint encountered will be ignored to avoid possible inconsistent constraints via `scaleratio`."},
scaleratio:{valType:"number",min:0,dflt:1,role:"info",editType:"plot",description:"If this axis is linked to another by `scaleanchor`, this determines the pixel to unit scale ratio. For example, if this value is 10, then every unit on this axis spans 10 times the number of pixels as a unit on the linked axis. Use this for example to create an elevation profile where the vertical scale is exaggerated a fixed amount with respect to the horizontal."},constrain:{valType:"enumerated",values:["range","domain"],
dflt:"range",role:"info",editType:"plot",description:"If this axis needs to be compressed (either due to its own `scaleanchor` and `scaleratio` or those of the other axis), determines how that happens: by increasing the *range* (default), or by decreasing the *domain*."},constraintoward:{valType:"enumerated",values:"left center right top middle bottom".split(" "),role:"info",editType:"plot",description:"If this axis needs to be compressed (either due to its own `scaleanchor` and `scaleratio` or those of the other axis), determines which direction we push the originally specified plot area. Options are *left*, *center* (default), and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."},
tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",editType:"ticks+margins",impliedEdits:{tick0:void 0,dtick:void 0},description:"Sets the tick mode for this axis. If *auto*, the number of ticks is set via `nticks`. If *linear*, the placement of the ticks is determined by a starting position `tick0` and a tick step `dtick` (*linear* is the default value if `tick0` and `dtick` are provided). If *array*, the placement of the ticks is set via `tickvals` and the tick text is `ticktext`. (*array* is the default value if `tickvals` is provided)."},
nticks:{valType:"integer",min:0,dflt:0,role:"style",editType:"ticks+margins",description:"Specifies the maximum number of ticks for the particular axis. The actual number of ticks will be chosen automatically to be less than or equal to `nticks`. Has an effect only if `tickmode` is set to *auto*."},tick0:{valType:"any",role:"style",editType:"ticks+margins",impliedEdits:{tickmode:"linear"},description:"Sets the placement of the first tick on this axis. Use with `dtick`. If the axis `type` is *log*, then you must take the log of your starting tick (e.g. to set the starting tick to 100, set the `tick0` to 2) except when `dtick`=*L<f>* (see `dtick` for more info). If the axis `type` is *date*, it should be a date string, like date data. If the axis `type` is *category*, it should be a number, using the scale where each category is assigned a serial number from zero in the order it appears."},
dtick:{valType:"any",role:"style",editType:"ticks+margins",impliedEdits:{tickmode:"linear"},description:"Sets the step in-between ticks on this axis. Use with `tick0`. Must be a positive number, or special strings available to *log* and *date* axes. If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n is the tick number. For example, to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1. To set tick marks at 1, 100, 10000, ... set dtick to 2. To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433. *log* has several special values; *L<f>*, where `f` is a positive number, gives ticks linearly spaced in value (but not position). For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc. To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5). `tick0` is ignored for *D1* and *D2*. If the axis `type` is *date*, then you must convert the time to milliseconds. For example, to set the interval between ticks to one day, set `dtick` to 86400000.0. *date* also has special values *M<n>* gives ticks spaced by a number of months. `n` must be a positive integer. To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*. To set ticks every 4 years, set `dtick` to *M48*"},
tickvals:{valType:"data_array",editType:"ticks+margins",description:"Sets the values at which ticks on this axis appear. Only has an effect if `tickmode` is set to *array*. Used with `ticktext`."},ticktext:{valType:"data_array",editType:"ticks+margins",description:"Sets the text displayed at the ticks position via `tickvals`. Only has an effect if `tickmode` is set to *array*. Used with `tickvals`."},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",editType:"ticks+margins",
description:"Determines whether ticks are drawn or not. If **, this axis' ticks are not drawn. If *outside* (*inside*), this axis' are drawn outside (inside) the axis lines."},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",editType:"ticks+layoutstyle",description:"Determines if the axis lines or/and ticks are mirrored to the opposite side of the plotting area. If *true*, the axis lines are mirrored. If *ticks*, the axis lines and ticks are mirrored. If *false*, mirroring is disable. If *all*, axis lines are mirrored on all shared-axes subplots. If *allticks*, axis lines and ticks are mirrored on all shared-axes subplots."},
ticklen:{valType:"number",min:0,dflt:5,role:"style",editType:"ticks",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"ticks",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",editType:"ticks+margins",description:"Determines whether or not the tick labels are drawn."},automargin:{valType:"boolean",
dflt:!1,role:"style",editType:"ticks+margins",description:"Determines whether long tick labels automatically grow the figure margins."},showspikes:{valType:"boolean",dflt:!1,role:"style",editType:"modebar",description:"Determines whether or not spikes (aka droplines) are drawn for this axis. Note: This only takes affect when hovermode = closest"},spikecolor:{valType:"color",dflt:null,role:"style",editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",
dflt:3,role:"style",editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:k({},g,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",editType:"none",description:"Determines the drawing mode for the spike line If *toaxis*, the line is drawn from the data point to the axis the  series is plotted on. If *across*, the line is drawn across the entire plot area, and supercedes *toaxis*. If *marker*, then a marker dot is drawn on the axis the series is plotted on"},
spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",role:"style",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:l({editType:"ticks+margins",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",editType:"ticks+margins",description:"Sets the angle of the tick labels with respect to the horizontal. For example, a `tickangle` of -90 draws the tick labels vertically."},tickprefix:{valType:"string",
dflt:"",role:"style",editType:"ticks+margins",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks+margins",description:"If *all*, all tick labels are displayed with a prefix. If *first*, only the first tick is displayed with a prefix. If *last*, only the last tick is displayed with a suffix. If *none*, tick prefixes are hidden."},ticksuffix:{valType:"string",dflt:"",role:"style",editType:"ticks+margins",
description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks+margins",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks+margins",description:"If *all*, all exponents are shown besides their significands. If *first*, only the exponent of the first tick is shown. If *last*, only the exponent of the last tick is shown. If *none*, no exponents appear."},
exponentformat:{valType:"enumerated",values:"none e E power SI B".split(" "),dflt:"B",role:"style",editType:"ticks+margins",description:"Determines a formatting rule for the tick exponents. For example, consider the number 1,000,000,000. If *none*, it appears as 1,000,000,000. If *e*, 1e+9. If *E*, 1E+9. If *power*, 1x10^9 (with 9 in a super script). If *SI*, 1G. If *B*, 1B."},separatethousands:{valType:"boolean",dflt:!1,role:"style",editType:"ticks+margins",description:'If "true", even 4-digit integers are separated'},
tickformat:{valType:"string",dflt:"",role:"style",editType:"ticks+margins",description:"Sets the tick label formatting rule using d3 formatting mini-languages which are very similar to those in Python. For numbers, see: https://github.com/d3/d3-format/blob/master/README.md#locale_format And for dates see: https://github.com/d3/d3-time-format/blob/master/README.md#locale_format We add one item to d3's date formatter: *%{n}f* for fractional seconds with n digits. For example, *2016-10-13 09:15:23.456* with tickformat *%H~%M~%S.%2f* would display *09~15~23.46*"},
tickformatstops:{_isLinkedToArray:"tickformatstop",dtickrange:{valType:"info_array",role:"info",items:[{valType:"any",editType:"ticks+margins"},{valType:"any",editType:"ticks+margins"}],editType:"ticks+margins",description:"range [*min*, *max*], where *min*, *max* - dtick values which describe some zoom level, it is possible to omit *min* or *max* value by passing *null*"},value:{valType:"string",dflt:"",role:"style",editType:"ticks+margins",description:"string - dtickformat for described zoom level, the same as *tickformat*"},
editType:"ticks+margins"},hoverformat:{valType:"string",dflt:"",role:"style",editType:"none",description:"Sets the hover text formatting rule using d3 formatting mini-languages which are very similar to those in Python. For numbers, see: https://github.com/d3/d3-format/blob/master/README.md#locale_format And for dates see: https://github.com/d3/d3-time-format/blob/master/README.md#locale_format We add one item to d3's date formatter: *%{n}f* for fractional seconds with n digits. For example, *2016-10-13 09:15:23.456* with tickformat *%H~%M~%S.%2f* would display *09~15~23.46*"},
showline:{valType:"boolean",dflt:!1,role:"style",editType:"layoutstyle",description:"Determines whether or not a line bounding this axis is drawn."},linecolor:{valType:"color",dflt:n.defaultLine,role:"style",editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",editType:"ticks",description:"Determines whether or not grid lines are drawn. If *true*, the grid lines are drawn at every tick mark."},
gridcolor:{valType:"color",dflt:n.lightLine,role:"style",editType:"ticks",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",editType:"ticks",description:"Determines whether or not a line is drawn at along the 0 value of this axis. If *true*, the zero line is drawn on top of the grid lines."},zerolinecolor:{valType:"color",dflt:n.defaultLine,
role:"style",editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",b.idRegex.x.toString(),b.idRegex.y.toString()],role:"info",editType:"plot+margins",description:"If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to the corresponding opposite-letter axis. If set to *free*, this axis' position is determined by `position`."},
side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",editType:"plot+margins",description:"Determines whether a x (y) axis is positioned at the *bottom* (*left*) or *top* (*right*) of the plotting area."},overlaying:{valType:"enumerated",values:["free",b.idRegex.x.toString(),b.idRegex.y.toString()],role:"info",editType:"plot",description:"If set a same-letter axis id, this axis is overlaid on top of the corresponding same-letter axis. If *false*, this axis does not overlay any same-letter axes."},
layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",role:"info",editType:"plot",description:"Sets the layer on which this axis is displayed. If *above traces*, this axis is displayed above all the subplot's traces If *below traces*, this axis is displayed below all the subplot's traces, but above the grid lines. Useful when used together with scatter-like traces with `cliponaxis` set to *false* to show markers and/or text nodes above this axis."},domain:{valType:"info_array",
role:"info",items:[{valType:"number",min:0,max:1,editType:"plot+margins"},{valType:"number",min:0,max:1,editType:"plot+margins"}],dflt:[0,1],editType:"plot+margins",description:"Sets the domain of this axis (in plot fraction)."},position:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"plot+margins",description:"Sets the position of this axis in the plotting space (in normalized coordinates). Only has an effect if `anchor` is set to *free*."},categoryorder:{valType:"enumerated",values:["trace",
"category ascending","category descending","array"],dflt:"trace",role:"info",editType:"calc",description:"Specifies the ordering logic for the case of categorical variables. By default, plotly uses *trace*, which specifies the order that is present in the data supplied. Set `categoryorder` to *category ascending* or *category descending* if order should be determined by the alphanumerical order of the category names. Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."},
categoryarray:{valType:"data_array",role:"info",editType:"calc",description:"Sets the order in which categories on this axis appear. Only has an effect if `categoryorder` is set to *array*. Used with `categoryorder`."},editType:"calc",_deprecated:{autotick:{valType:"boolean",role:"info",editType:"ticks+margins",description:"Obsolete. Set `tickmode` to *auto* for old `autotick` *true* behavior. Set `tickmode` to *linear* for `autotick` *false*."}}}},{"../../components/color/attributes":290,"../../components/drawing/attributes":315,
"../../lib/extend":406,"../font_attributes":485,"./constants":463}],471:[function(b,p,l){var n=b("../../registry"),g=b("../../lib"),k=b("../../components/color"),d=b("../layout_attributes"),h=b("./layout_attributes"),e=b("./type_defaults"),u=b("./axis_defaults"),m=b("./constraint_defaults"),t=b("./position_defaults"),f=b("./axis_ids");p.exports=function(b,q,a){function c(a,b){return g.coerce(K,H,h,a,b)}function l(a,b){return g.coerce2(K,H,h,a,b)}function p(a,c){a="x"===a?G:E;for(var d=[],e=0;e<a.length;e++){var g=
a[e];g===c||(b[g]||{}).overlaying||d.push(f.name2id(g))}return d}var C={},A={},D={},z={},F;for(F=0;F<a.length;F++){var B=a[F];if(n.traceIs(B,"cartesian")||n.traceIs(B,"gl2d")){var y=f.id2name(B.xaxis),w=f.id2name(B.yaxis);(!n.traceIs(B,"carpet")||"carpet"===B.type&&!B._cheater)&&y&&(A[y]=1);"carpet"===B.type&&B._cheater&&y&&(C[y]=1);n.traceIs(B,"2dMap")&&(D[y]=!0,D[w]=!0);n.traceIs(B,"oriented")&&(z["h"===B.orientation?w:y]=!0)}}B=q._subplots;F=B.xaxis;y=B.yaxis;var G=g.simpleMap(F,f.id2name),E=g.simpleMap(y,
f.id2name);B=G.concat(E);w=k.background;F.length&&y.length&&(w=g.coerce(b,q,d,"plot_bgcolor"));w=k.combine(w,q.paper_bgcolor);y={x:y,y:F};for(F=0;F<B.length;F++){var J=B[F];g.isPlainObject(b[J])||(b[J]={});var K=b[J];var H=q[J]={};e(K,H,c,a,J);var L=J.charAt(0);var N=p(L,J);u(K,H,c,{letter:L,font:q.font,outerTicks:D[J],showGrid:!z[J],data:a,bgColor:w,calendar:q.calendar,automargin:!0,cheateronly:"x"===L&&C[J]&&!A[J]},q);J=l("spikecolor");var M=l("spikethickness"),Z=l("spikedash"),Q=l("spikemode"),
P=l("spikesnap");c("showspikes",!!J||!!M||!!Z||!!Q||!!P)||(delete H.spikecolor,delete H.spikethickness,delete H.spikedash,delete H.spikemode,delete H.spikesnap);t(K,H,c,{letter:L,counterAxes:y[L],overlayableAxes:N,grid:q.grid});H._input=K}a=n.getComponentMethod("rangeslider","handleDefaults");C=n.getComponentMethod("rangeselector","handleDefaults");for(F=0;F<G.length;F++)J=G[F],K=b[J],H=q[J],a(b,q,J),"date"===H.type&&C(K,H,q,E,H.calendar),c("fixedrange");for(F=0;F<E.length;F++)J=E[F],K=b[J],H=q[J],
a=q[f.id2name(H.anchor)],c("fixedrange",a&&a.rangeslider&&a.rangeslider.visible);q._axisConstraintGroups=[];a=y.x.concat(y.y);for(F=0;F<B.length;F++)J=B[F],L=J.charAt(0),K=b[J],H=q[J],m(K,H,c,a,q)}},{"../../components/color":291,"../../lib":414,"../../registry":517,"../layout_attributes":500,"./axis_defaults":460,"./axis_ids":461,"./constraint_defaults":464,"./layout_attributes":470,"./position_defaults":474,"./type_defaults":482}],472:[function(b,p,l){var n=b("tinycolor2").mix,g=b("../../components/color/attributes").lightFraction,
k=b("../../lib");p.exports=function(b,h,e,l){function d(c,a){return k.coerce2(b,h,l.attributes,c,a)}l=l||{};var t=l.dfltColor,f=d("linecolor",t),c=d("linewidth");e("showline",l.showLine||!!f||!!c)||(delete h.linecolor,delete h.linewidth);f=n(t,l.bgColor,l.blend||g).toRgbString();f=d("gridcolor",f);c=d("gridwidth");e("showgrid",l.showGrid||!!f||!!c)||(delete h.gridcolor,delete h.gridwidth);l.noZeroLine||(t=d("zerolinecolor",t),f=d("zerolinewidth"),e("zeroline",l.showGrid||!!t||!!f)||(delete h.zerolinecolor,
delete h.zerolinewidth))}},{"../../components/color/attributes":290,"../../lib":414,tinycolor2:256}],473:[function(b,p,l){function n(b,d,h){var e=[];h=h.map(function(c){return c[b]});var k,m=g.bisector(d).left;for(d=0;d<h.length;d++){var n=h[d];for(k=0;k<n.length;k++){var f=n[k];if(null!==f&&void 0!==f){var c=m(e,f);c<e.length&&e[c]===f||e.splice(c,0,f)}}}return e}var g=b("d3");p.exports=function(b,d,h,e){switch(d){case "array":return Array.isArray(h)?h.slice():[];case "category ascending":return n(b,
g.ascending,e);case "category descending":return n(b,g.descending,e);case "trace":return[];default:return[]}}},{d3:86}],474:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib");p.exports=function(b,d,h,e){var k=e.counterAxes||[],m=e.overlayableAxes||[],l=e.letter;e=e.grid;if(e){var f=e._domains[l][e._axisMap[d._id]];var c=e._anchors[d._id];if(f){var q=e[l+"side"].split(" ")[0];var a=e.domain[l]["right"===q||"top"===q?1:0]}}f=f||[0,1];c=c||(n(b.position)?"free":k[0]||"free");q=q||("x"===l?"bottom":
"left");a=a||0;"free"===g.coerce(b,d,{anchor:{valType:"enumerated",values:["free"].concat(k),dflt:c}},"anchor")&&h("position",a);g.coerce(b,d,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:q}},"side");k=!1;m.length&&(k=g.coerce(b,d,{overlaying:{valType:"enumerated",values:[!1].concat(m),dflt:!1}},"overlaying"));k||(m=h("domain",f),m[0]>m[1]-.01&&(d.domain=f),g.noneOrAll(b.domain,d.domain,f));h("layer");return d}},{"../../lib":414,"fast-isnumeric":95}],475:[function(b,
p,l){var n=b("../../constants/alignment").FROM_BL;p.exports=function(b,k,d){void 0===d&&(d=n[b.constraintoward||"center"]);var g=[b.r2l(b.range[0]),b.r2l(b.range[1])];d=g[0]+(g[1]-g[0])*d;b.range=b._input.range=[b.l2r(d+(g[0]-d)*k),b.l2r(d+(g[1]-d)*k)]}},{"../../constants/alignment":391}],476:[function(b,p,l){function n(a){return a._id}function g(a,b,c){if(c){var d=c.points||[];for(c=0;c<b.length;c++){var e=b[c].cd[0].trace;e.selectedpoints=[];e._input.selectedpoints=[]}for(c=0;c<d.length;c++){e=
d[c];var f=e.data,g=e.fullData;e.pointIndices?([].push.apply(f.selectedpoints,e.pointIndices),[].push.apply(g.selectedpoints,e.pointIndices)):(f.selectedpoints.push(e.pointIndex),g.selectedpoints.push(e.pointIndex))}}else for(c=0;c<b.length;c++)e=b[c].cd[0].trace,delete e.selectedpoints,delete e._input.selectedpoints,b[c].cd[0].t&&b[c].cd[0].t.scene&&b[c].cd[0].t.scene.clearSelect();for(c=0;c<b.length;c++)d=b[c],d.style&&d.style(a,d.cd)}function k(a,b,c){if(c)return a=d.difference({regions:a,inverted:!1},
{regions:[b],inverted:!1}),a.regions;a=d.union({regions:a,inverted:!1},{regions:[b],inverted:!1});return a.regions}var d=b("polybooljs");l=b("../../lib/polygon");var h=b("../../lib/throttle"),e=b("../../components/color"),u=b("../../components/fx/helpers").makeEventData,m=b("../../components/fx"),t=b("./axes"),f=b("./constants"),c=l.filter,q=l.tester,a=l.multitester,r=f.MINSELECT;p.exports=function(b,d,l,p,D){function v(a){var b="y"===a._id.charAt(0)?1:0;return function(c){return a.p2d(c[b])}}function x(a,
b){return a-b}var B=p.gd,y=B._fullLayout,w=y._zoomlayer,G=p.element.getBoundingClientRect(),E=p.plotinfo,A=E.xaxis._offset,C=E.yaxis._offset,H=d-G.left,L=l-G.top,N=H,M=L;G="M"+H+","+L;var Z=p.xaxes[0]._length,Q=p.yaxes[0]._length;d=p.xaxes.map(n);l=p.yaxes.map(n);var P=p.xaxes.concat(p.yaxes),U,aa,W,R,T=b.altKey;if((b.shiftKey||b.altKey)&&E.selection&&E.selection.polygons&&!p.polygons)p.polygons=E.selection.polygons,p.mergedPolygons=E.selection.mergedPolygons;else if(!b.shiftKey&&!b.altKey||(b.shiftKey||
b.altKey)&&!E.selection)E.selection={},E.selection.polygons=p.polygons=[],E.selection.mergedPolygons=p.mergedPolygons=[];"lasso"===D&&(U=c([[H,L]],f.BENDPX));var ea=w.selectAll("path.select-outline-"+E.id).data([1,2]);ea.enter().append("path").attr("class",function(a){return"select-outline select-outline-"+a+" select-outline-"+E.id}).attr("transform","translate("+A+", "+C+")").attr("d",G+"Z");var S=w.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",
"translate("+A+", "+C+")").attr("d","M0,0Z"),V=[],ba=y._uid+f.SELECTID,ja=[],X,na,oa;for(X=0;X<B.calcdata.length;X++)b=B.calcdata[X],y=b[0].trace,!0===y.visible&&y._module&&y._module.selectPoints&&(p.subplot?y.subplot!==p.subplot&&y.geo!==p.subplot||V.push({selectPoints:y._module.selectPoints,style:y._module.style,cd:b,xaxis:p.xaxes[0],yaxis:p.yaxes[0]}):-1!==d.indexOf(y.xaxis)&&-1!==l.indexOf(y.yaxis)&&V.push({selectPoints:y._module.selectPoints,style:y._module.style,cd:b,xaxis:t.getFromId(B,y.xaxis),
yaxis:t.getFromId(B,y.yaxis)}));var Aa=E.fillRangeItems?E.fillRangeItems:"select"===D?function(a,b){a=a.range={};for(X=0;X<P.length;X++){var c=P[X],d=c._id.charAt(0);a[c._id]=[c.p2d(b[d+"min"]),c.p2d(b[d+"max"])].sort(x)}}:function(a,b,c){a=a.lassoPoints={};for(X=0;X<P.length;X++)b=P[X],a[b._id]=c.filtered.map(v(b))};p.moveFn=function(b,c){N=Math.max(0,Math.min(Z,b+H));M=Math.max(0,Math.min(Q,c+L));b=Math.abs(N-H);c=Math.abs(M-L);"select"===D?c<Math.min(.6*b,r)?(R=[[H,0],[H,Q],[N,Q],[N,0]],R.xmin=
Math.min(H,N),R.xmax=Math.max(H,N),R.ymin=Math.min(0,Q),R.ymax=Math.max(0,Q),S.attr("d","M"+R.xmin+","+(L-r)+"h-4v"+2*r+"h4ZM"+(R.xmax-1)+","+(L-r)+"h4v"+2*r+"h-4Z")):b<Math.min(.6*c,r)?(R=[[0,L],[0,M],[Z,M],[Z,L]],R.xmin=Math.min(0,Z),R.xmax=Math.max(0,Z),R.ymin=Math.min(L,M),R.ymax=Math.max(L,M),S.attr("d","M"+(H-r)+","+R.ymin+"v-4h"+2*r+"v4ZM"+(H-r)+","+(R.ymax-1)+"v4h"+2*r+"v-4Z")):(R=[[H,L],[H,M],[N,M],[N,L]],R.xmin=Math.min(H,N),R.xmax=Math.max(H,N),R.ymin=Math.min(L,M),R.ymax=Math.max(L,M),
S.attr("d","M0,0Z")):"lasso"===D&&(U.addPt([N,M]),R=U.filtered);p.polygons&&p.polygons.length?(W=k(p.mergedPolygons,R,T),R.subtract=T,aa=a(p.polygons.concat([R]))):(W=[R],aa=q(R));b=[];for(X=0;X<W.length;X++)c=W[X],b.push(c.join("L")+"L"+c[0]);ea.attr("d","M"+b.join("M")+"Z");h.throttle(ba,f.SELECTDELAY,function(){ja=[];var a=[];for(X=0;X<V.length;X++){na=V[X];var b=na.selectPoints(na,aa);a.push(b);var c=na;if(Array.isArray(b)){var d=c.cd;c=c.cd[0].trace;for(var e=0;e<b.length;e++)b[e]=u(b[e],c,d)}if(ja.length)for(d=
0;d<b.length;d++)ja.push(b[d]);else ja=b}oa={points:ja};g(B,V,oa);Aa(oa,R,U);p.gd.emit("plotly_selecting",oa)})};p.clickFn=function(a,b){S.remove();h.done(ba).then(function(){h.clear(ba);if(2===a){ea.remove();for(X=0;X<V.length;X++)na=V[X],na.selectPoints(na,!1);g(B,V);B.emit("plotly_deselect",null)}else B.emit("plotly_selected",void 0);m.click(B,b)})};p.doneFn=function(){S.remove();h.done(ba).then(function(){h.clear(ba);p.gd.emit("plotly_selected",oa);R&&p.polygons&&(R.subtract=T,p.polygons.push(R),
p.mergedPolygons.length=0,[].push.apply(p.mergedPolygons,W))})}}},{"../../components/color":291,"../../components/fx":333,"../../components/fx/helpers":330,"../../lib/polygon":426,"../../lib/throttle":438,"./axes":458,"./constants":463,polybooljs:213}],477:[function(b,p,l){function n(a){return Math.pow(10,a)}var g=b("d3"),k=b("fast-isnumeric"),d=b("../../lib"),h=d.cleanNumber,e=d.ms2DateTime,u=d.dateTime2ms,m=d.ensureNumber;l=b("../../constants/numerical");var t=l.FP_SAFE,f=l.BADNUM,c=b("./constants"),
q=b("./axis_ids");p.exports=function(a,b){function l(b,c){return 0<b?Math.log(b)/Math.LN10:0>=b&&c&&a.range&&2===a.range.length?(b=a.range[0],c=a.range[1],.5*(b+c-30*Math.abs(b-c))):f}function r(b,c,d){c=u(b,d||a.calendar);if(c===f)if(k(b))c=u(new Date(+b));else return f;return c}function p(b,c,d){return e(b,c,d||a.calendar)}function A(b){return a._categories[Math.round(b)]}function D(b){if(null!==b&&void 0!==b){void 0===a._categoriesMap&&(a._categoriesMap={});if(void 0!==a._categoriesMap[b])return a._categoriesMap[b];
a._categories.push(b);var c=a._categories.length-1;return a._categoriesMap[b]=c}return f}function z(b){if(a._categoriesMap){var c=a._categoriesMap[b];if(void 0!==c)return c}if(k(b))return+b}function F(b){return k(b)?g.round(a._b+a._m*b,2):f}function B(b){return(b-a._b)/a._m}b=b||{};var y=(a._id||"x").charAt(0);a.c2l="log"===a.type?l:m;a.l2c="log"===a.type?n:m;a.l2p=F;a.p2l=B;a.c2p="log"===a.type?function(a,b){return F(l(a,b))}:F;a.p2c="log"===a.type?function(a){return n(B(a))}:B;-1!==["linear","-"].indexOf(a.type)?
(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=h,a.c2d=a.c2r=a.l2d=a.l2r=m,a.d2p=a.r2p=function(b){return a.l2p(h(b))},a.p2d=a.p2r=B,a.cleanPos=m):"log"===a.type?(a.d2r=a.d2l=function(a,b){return l(h(a),b)},a.r2d=a.r2c=function(a){return n(h(a))},a.d2c=a.r2l=h,a.c2d=a.l2r=m,a.c2r=l,a.l2d=n,a.d2p=function(b,c){return a.l2p(a.d2r(b,c))},a.p2d=function(a){return n(B(a))},a.r2p=function(b){return a.l2p(h(b))},a.p2r=B,a.cleanPos=m):"date"===a.type?(a.d2r=a.r2d=d.identity,a.d2c=a.r2c=a.d2l=a.r2l=r,a.c2d=a.c2r=a.l2d=
a.l2r=p,a.d2p=a.r2p=function(b,c,d){return a.l2p(r(b,0,d))},a.p2d=a.p2r=function(a,b,c){return p(B(a),b,c)},a.cleanPos=function(b){return d.cleanDate(b,f,a.calendar)}):"category"===a.type&&(a.d2c=a.d2l=D,a.r2d=a.c2d=a.l2d=A,a.d2r=a.d2l_noadd=z,a.r2c=function(b){b=z(b);return void 0!==b?b:a.fraction2r(.5)},a.l2r=a.c2r=m,a.r2l=z,a.d2p=function(b){return a.l2p(a.r2c(b))},a.p2d=function(a){return A(B(a))},a.r2p=a.d2p,a.p2r=B,a.cleanPos=function(a){return"string"===typeof a&&""!==a?a:m(a)});a.fraction2r=
function(b){var c=a.r2l(a.range[0]),d=a.r2l(a.range[1]);return a.l2r(c+b*(d-c))};a.r2fraction=function(b){var c=a.r2l(a.range[0]),d=a.r2l(a.range[1]);return(a.r2l(b)-c)/(d-c)};a.cleanRange=function(b,e){e||(e={});b||(b="range");var g=d.nestedProperty(a,b).get();var h="date"===a.type?d.dfltRange(a.calendar):"y"===y?c.DFLTRANGEY:e.dfltRange||c.DFLTRANGEX;h=h.slice();if(g&&2===g.length)for("date"===a.type&&(g[0]=d.cleanDate(g[0],f,a.calendar),g[1]=d.cleanDate(g[1],f,a.calendar)),e=0;2>e;e++)if("date"===
a.type){if(!d.isDateTime(g[e],a.calendar)){a[b]=h;break}if(a.r2l(g[0])===a.r2l(g[1])){b=d.constrain(a.r2l(g[0]),d.MIN_MS+1E3,d.MAX_MS-1E3);g[0]=a.l2r(b-1E3);g[1]=a.l2r(b+1E3);break}}else{if(!k(g[e]))if(k(g[1-e]))g[e]=g[1-e]*(e?10:.1);else{a[b]=h;break}g[e]<-t?g[e]=-t:g[e]>t&&(g[e]=t);if(g[0]===g[1]){var m=Math.max(1,Math.abs(1E-6*g[0]));g[0]-=m;g[1]+=m}}else d.nestedProperty(a,b).set(h)};a.setScale=function(c){var d=b._size;a._categories||(a._categories=[]);a._categoriesMap||(a._categoriesMap={});
if(a.overlaying){var e=q.getFromId({_fullLayout:b},a.overlaying);a.domain=e.domain}e=c&&a._r?"_r":"range";var f=a.calendar;a.cleanRange(e);c=a.r2l(a[e][0],f);e=a.r2l(a[e][1],f);"y"===y?(a._offset=d.t+(1-a.domain[1])*d.h,a._length=d.h*(a.domain[1]-a.domain[0]),a._m=a._length/(c-e),a._b=-a._m*e):(a._offset=d.l+a.domain[0]*d.w,a._length=d.w*(a.domain[1]-a.domain[0]),a._m=a._length/(e-c),a._b=-a._m*c);if(!isFinite(a._m)||!isFinite(a._b))throw b._replotting=!1,Error("Something went wrong with axis scaling");
};a.makeCalcdata=function(b,c){var e,f=a.type,g="date"===f&&b[c+"calendar"];if(c in b){c=b[c];b=b._length||c.length;if(d.isTypedArray(c)&&("linear"===f||"log"===f)){if(b===c.length)return c;if(c.subarray)return c.subarray(0,b)}var h=Array(b);for(e=0;e<b;e++)h[e]=a.d2c(c[e],0,g)}else for(g=(c+"0"in b)?a.d2c(b[c+"0"],0,g):0,f=b["d"+c]?Number(b["d"+c]):1,c=b[{x:"y",y:"x"}[c]],b=b._length||c.length,h=Array(b),e=0;e<b;e++)h[e]=g+e*f;return h};a.isValidRange=function(b){return Array.isArray(b)&&2===b.length&&
k(a.r2l(b[0]))&&k(a.r2l(b[1]))};a.isPtWithinRange=function(b,c){b=a.c2l(b[y],null,c);return b>=a.r2l(a.range[0])&&b<=a.r2l(a.range[1])};a.clearCalc=function(){a._min=[];a._max=[];a._categories=(a._initialCategories||[]).slice();a._categoriesMap={};for(var b=0;b<a._categories.length;b++)a._categoriesMap[a._categories[b]]=b};var w=b._d3locale;"date"===a.type&&(a._dateFormat=w?w.timeFormat.utc:g.time.format.utc,a._extraFormat=b._extraFormat);a._separators=b.separators;a._numFormat=w?w.numberFormat:g.format;
delete a._minDtick;delete a._forceTick0}},{"../../constants/numerical":395,"../../lib":414,"./axis_ids":461,"./constants":463,d3:86,"fast-isnumeric":95}],478:[function(b,p,l){function n(b){var d=["showexponent","showtickprefix","showticksuffix"].filter(function(d){return void 0!==b[d]});if(d.every(function(e){return b[e]===b[d[0]]})||1===d.length)return b[d[0]]}var g=b("../../lib"),k=b("./layout_attributes");p.exports=function(b,h,e,l,m){var d=n(b);e("tickprefix")&&e("showtickprefix",d);e("ticksuffix",
m.tickSuffixDflt)&&e("showticksuffix",d);if(e("showticklabels")&&(m=m.font||{},g.coerceFont(e,"tickfont",{family:m.family,size:m.size,color:h.color===b.color?h.color:m.color}),e("tickangle"),"category"!==l)){m=e("tickformat");b=b.tickformatstops;h=h.tickformatstops=[];if(Array.isArray(b))for(var f,c,q=0;q<b.length;q++)f=b[q],c={},g.coerce(f,c,k.tickformatstops,"dtickrange",void 0),g.coerce(f,c,k.tickformatstops,"value",void 0),h.push(c);m||"date"===l||(e("showexponent",d),e("exponentformat"),e("separatethousands"))}}},
{"../../lib":414,"./layout_attributes":470}],479:[function(b,p,l){var n=b("../../lib"),g=b("./layout_attributes");p.exports=function(b,d,h,e){var k=n.coerce2(b,d,g,"ticklen"),m=n.coerce2(b,d,g,"tickwidth");b=n.coerce2(b,d,g,"tickcolor",d.color);h("ticks",e.outerTicks||k||m||b?"outside":"")||(delete d.ticklen,delete d.tickwidth,delete d.tickcolor)}},{"../../lib":414,"./layout_attributes":470}],480:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),k=b("../../constants/numerical").ONEDAY;p.exports=
function(b,h,e,l){var d="auto";"array"!==b.tickmode||"log"!==l&&"date"!==l||(b.tickmode="auto");Array.isArray(b.tickvals)?d="array":b.dtick&&(d="linear");b=e("tickmode",d);if("auto"===b)e("nticks");else if("linear"===b){d="date"===l?k:1;b=e("dtick",d);if(n(b))h.dtick=0<b?Number(b):d;else if("string"!==typeof b)h.dtick=d;else{var t=b.charAt(0),f=b.substr(1);f=n(f)?Number(f):0;if(0>=f||!("date"===l&&"M"===t&&f===Math.round(f)||"log"===l&&"L"===t||"log"===l&&"D"===t&&(1===f||2===f)))h.dtick=d}d="date"===
l?g.dateTick0(h.calendar):0;e=e("tick0",d);"date"===l?h.tick0=g.cleanDate(e,d):n(e)&&"D1"!==b&&"D2"!==b?h.tick0=Number(e):h.tick0=d}else void 0===e("tickvals")?h.tickmode="auto":e("ticktext")}},{"../../constants/numerical":395,"../../lib":414,"fast-isnumeric":95}],481:[function(b,p,l){var n=b("d3"),g=b("../../registry"),k=b("../../components/drawing"),d=b("./axes"),h=b("./constants").attrRegex;p.exports=function(b,l,m,t){function e(){function a(a,c,d){for(var e=0;e<a.length&&(c(b,e),!d);e++);}a(u.annotations||
[],g.getComponentMethod("annotations","drawOne"));a(u.shapes||[],g.getComponentMethod("shapes","drawOne"));a(u.images||[],g.getComponentMethod("images","draw"),!0)}function c(a,c){function e(a,c,d){for(h=0;h<a.length;h++){var e=a[h];-1===f.indexOf(e.xref)&&-1===f.indexOf(e.yref)||c(b,h);if(d)break}}var f=[],h;f=[a._id,c._id];for(h=0;h<f.length;h++)d.doTicks(b,f[h],!0);e(u.annotations||[],g.getComponentMethod("annotations","drawOne"));e(u.shapes||[],g.getComponentMethod("shapes","drawOne"));e(u.images||
[],g.getComponentMethod("images","draw"),!0)}function q(a){var b=a.xaxis,c=a.yaxis;u._defs.select("#"+a.clipId+"> rect").call(k.setTranslate,0,0).call(k.setScale,1,1);a.plot.call(k.setTranslate,b._offset,c._offset).call(k.setScale,1,1);b=a.plot.selectAll(".scatterlayer .trace");b.selectAll(".point").call(k.setPointGroupScale,1,1);b.selectAll(".textpoint").call(k.setTextPointsScale,1,1);b.call(k.hideOutsideRangePoints,a)}function a(){for(var a={},c=0;c<D.length;c++){var d=b._fullLayout[A[D[c]].axisName],
e=A[D[c]].to;a[d._name+".range[0]"]=e[0];a[d._name+".range[1]"]=e[1];d.range=e.slice()}F&&F();return g.call("relayout",b,a).then(function(){for(var a=0;a<z.length;a++)q(z[a])})}function r(){for(var a={},c=0;c<D.length;c++){var d=b._fullLayout[D[c]+"axis"];a[d._name+".range[0]"]=d.range[0];a[d._name+".range[1]"]=d.range[1];d.range=d._r.slice()}return g.call("relayout",b,a).then(function(){for(var a=0;a<z.length;a++)q(z[a])})}function p(){B=Date.now();for(var d=y(Math.min(1,(B-w)/m.duration)),e=0;e<
z.length;e++){var f=z[e],g=d,h=A[f.xaxis._id],n=A[f.yaxis._id],q=[];if(h){var l=b._fullLayout[h.axisName];var t=l._r;var r=h.to;q[0]=(t[0]*(1-g)+g*r[0]-t[0])/(t[1]-t[0])*f.xaxis._length;var v=t[1]-t[0],x=r[1]-r[0];l.range[0]=t[0]*(1-g)+g*r[0];l.range[1]=t[1]*(1-g)+g*r[1];q[2]=f.xaxis._length*(1-g+g*x/v)}else q[0]=0,q[2]=f.xaxis._length;n?(l=b._fullLayout[n.axisName],t=l._r,r=n.to,q[1]=(t[1]*(1-g)+g*r[1]-t[1])/(t[0]-t[1])*f.yaxis._length,v=t[1]-t[0],x=r[1]-r[0],l.range[0]=t[0]*(1-g)+g*r[0],l.range[1]=
t[1]*(1-g)+g*r[1],q[3]=f.yaxis._length*(1-g+g*x/v)):(q[1]=0,q[3]=f.yaxis._length);c(f.xaxis,f.yaxis);t=f.xaxis;r=f.yaxis;v=!!h;x=!!n;n=v?t._length/q[2]:1;h=x?r._length/q[3]:1;l=v?q[0]:0;g=x?q[1]:0;t=t._offset-(v?q[0]/q[2]*t._length:0);q=r._offset-(x?q[1]/q[3]*r._length:0);u._defs.select("#"+f.clipId+"> rect").call(k.setTranslate,l,g).call(k.setScale,1/n,1/h);f.plot.call(k.setTranslate,t,q).call(k.setScale,n,h).selectAll(".points").selectAll(".point").call(k.setPointGroupScale,1/n,1/h);f.plot.selectAll(".points").selectAll(".textpoint").call(k.setTextPointsScale,
1/n,1/h)}B-w>m.duration?(a(),G=window.cancelAnimationFrame(p)):G=window.requestAnimationFrame(p)}var u=b._fullLayout,C=[],A=function(a){var b,c,d={};for(b in a){var e=b.split(".");if(c=e[0].match(h)){c=b.charAt(0);var f=e[0];e=u[f];var g={};Array.isArray(a[b])?g.to=a[b].slice(0):Array.isArray(a[b].range)&&(g.to=a[b].range.slice(0));g.to&&(g.axisName=f,g.length=e._length,C.push(c),d[c]=g)}}return d}(l),D=Object.keys(A),z=function(a,b,c){var d;a=a._plots;var e=[];for(d in a){var f=a[d];if(-1===e.indexOf(f)){var g=
f.xaxis._id,h=f.yaxis._id,k=f.xaxis.range,m=f.yaxis.range;f.xaxis._r=f.xaxis.range.slice();f.yaxis._r=f.yaxis.range.slice();var n=c[g]?c[g].to:k;var q=c[h]?c[h].to:m;if(k[0]!==n[0]||k[1]!==n[1]||m[0]!==q[0]||m[1]!==q[1])-1===b.indexOf(g)&&-1===b.indexOf(h)||e.push(f)}}return e}(u,D,A);if(!z.length)return e(),!1;var F;t&&(F=t());var B,y=n.ease(m.easing);b._transitionData._interruptCallbacks.push(function(){window.cancelAnimationFrame(G);G=null;return r()});var w=Date.now();var G=window.requestAnimationFrame(p);
return Promise.resolve()}},{"../../components/drawing":316,"../../registry":517,"./axes":458,"./constants":463,d3:86}],482:[function(b,p,l){function n(b,d){var e={v:"x",h:"y"}[b.orientation||"v"],h=g.traceIs(b,"box-violin"),k=g.traceIs(b._fullInput||{},"candlestick");return h&&!k&&d===e&&void 0===b[e]&&void 0===b[e+"0"]}var g=b("../../registry"),k=b("./axis_autotype"),d=b("./axis_ids").name2id;p.exports=function(b,e,l,m,t){t&&(e._name=t,e._id=d(t));if("-"===l("type")){if("-"===e.type){l=e._id;t=l.charAt(0);
-1!==l.indexOf("scene")&&(l=t);b:{for(var f=l,c=0;c<m.length;c++){var h=m[c];if((h[t+"axis"]||t)===f&&(n(h,t)||(h[t]||[]).length||h[t+"0"]))break b}h=void 0}if(h)if("histogram"===h.type&&t==={v:"y",h:"x"}[h.orientation||"v"])e.type="linear";else if(f=t+"calendar",c=h[f],n(h,t)){h={v:"x",h:"y"}[h.orientation||"v"];for(var a=[],r,p=0;p<m.length;p++)r=m[p],g.traceIs(r,"box-violin")&&(r[t+"axis"]||t)===l&&(void 0!==r[h]?a.push(r[h][0]):void 0!==r.name?a.push(r.name):a.push("text"),r[f]!==c&&(c=void 0));
e.type=k(a,c)}else e.type=k(h[t]||[h[t+"0"]],c)}"-"===e.type?e.type="linear":b.type=e.type}}},{"../../registry":517,"./axis_autotype":459,"./axis_ids":461}],483:[function(b,p,l){function n(b,d,g){var f=!1;if("data"===d.type)b=b._fullData[null!==d.traces?d.traces[0]:0];else if("layout"===d.type)b=b._fullLayout;else return!1;b=e.nestedProperty(b,d.prop).get();g=g[d.type]=g[d.type]||{};g.hasOwnProperty(d.prop)&&g[d.prop]!==b&&(f=!0);g[d.prop]=b;return{changed:f,value:b}}function g(b,g){var h=[];b=g[0];
var f={};if("string"===typeof b)f[b]=g[1];else if(e.isPlainObject(b))f=b;else return h;d(f,function(b,d,a){h.push({type:"layout",prop:b,value:a})},"",0);return h}function k(b,g){var h=[];var f=g[0];var c=g[1];var k=g[2];g={};if("string"===typeof f)g[f]=c;else if(e.isPlainObject(f))g=f,void 0===k&&(k=c);else return h;void 0===k&&(k=null);d(g,function(a,c,d){if(Array.isArray(d)){var e=Math.min(d.length,b.data.length);k&&(e=Math.min(e,k.length));c=[];for(var f=0;f<e;f++)c[f]=k?k[f]:f}else c=k?k.slice(0):
null;if(null===c)Array.isArray(d)&&(d=d[0]);else if(Array.isArray(c)){if(!Array.isArray(d))for(e=d,d=[],f=0;f<c.length;f++)d[f]=e;d.length=Math.min(c.length,d.length)}h.push({type:"data",prop:a,traces:c,value:d})},"",0);return h}function d(b,g,h,f){Object.keys(b).forEach(function(c){var k=b[c];if("_"!==c[0]){var a=h+(0<f?".":"")+c;e.isPlainObject(k)?d(k,g,a,f+1):g(a,c,k)}})}var h=b("../registry"),e=b("../lib");l.manageCommandObserver=function(b,d,g,f){var c={},h=!0;d&&d._commandObserver&&(c=d._commandObserver);
c.cache||(c.cache={});c.lookupTable={};var a=l.hasSimpleAPICommandBindings(b,g,c.lookupTable);if(d&&d._commandObserver){if(a)return c;if(d._commandObserver.remove)return d._commandObserver.remove(),d._commandObserver=null,c}if(a){n(b,a,c.cache);c.check=function(){if(h){var d=n(b,a,c.cache);d.changed&&f&&void 0!==c.lookupTable[d.value]&&(c.disable(),Promise.resolve(f({value:d.value,type:a.type,prop:a.prop,traces:a.traces,index:c.lookupTable[d.value]})).then(c.enable,c.enable));return d.changed}};var k=
"plotly_relayout plotly_redraw plotly_restyle plotly_update plotly_animatingframe plotly_afterplot".split(" ");for(g=0;g<k.length;g++)b._internalOn(k[g],c.check);c.remove=function(){for(var a=0;a<k.length;a++)b._removeInternalListener(k[a],c.check)}}else e.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};c.disable=function(){h=!1};c.enable=function(){h=!0};d&&(d._commandObserver=c);return c};l.hasSimpleAPICommandBindings=function(b,d,e){var f,
c=d.length;for(f=0;f<c;f++){var g=d[f];var a=g.method;g=g.args;Array.isArray(g)||(g=[]);if(!a)return!1;g=l.computeAPICommandBindings(b,a,g);if(1!==g.length)return!1;if(k){a=g[0];if(a.type!==k.type||a.prop!==k.prop)return!1;if(Array.isArray(k.traces))if(Array.isArray(a.traces)){a.traces.sort();for(var h=0;h<k.traces.length;h++)if(k.traces[h]!==a.traces[h])return!1}else return!1;else if(a.prop!==k.prop)return!1}else{var k=g[0];Array.isArray(k.traces)&&k.traces.sort()}a=g[0];a=a.value;if(Array.isArray(a))if(1===
a.length)a=a[0];else return!1;e&&(e[a]=f)}return k};l.executeAPICommand=function(b,d,g){if("skip"===d)return Promise.resolve();var f=h.apiMethodRegistry[d];b=[b];Array.isArray(g)||(g=[]);for(var c=0;c<g.length;c++)b.push(g[c]);return f.apply(null,b).catch(function(b){e.warn("API call to Plotly."+d+" rejected.",b);return Promise.reject(b)})};l.computeAPICommandBindings=function(b,d,e){Array.isArray(e)||(e=[]);switch(d){case "restyle":b=k(b,e);break;case "relayout":b=g(b,e);break;case "update":b=k(b,
[e[0],e[2]]).concat(g(b,[e[1]]));break;case "animate":b=e;b=Array.isArray(b[0])&&1===b[0].length&&-1!==["string","number"].indexOf(typeof b[0][0])?[{type:"layout",prop:"_currentFrame",value:b[0][0].toString()}]:[];break;default:b=[]}return b}},{"../lib":414,"../registry":517}],484:[function(b,p,l){var n=b("../lib/extend").extendFlat;l.attributes=function(b,k){b=b||{};k=k||{};var d={valType:"info_array",role:"info",editType:b.editType,items:[{valType:"number",min:0,max:1,editType:b.editType},{valType:"number",
min:0,max:1,editType:b.editType}],dflt:[0,1]},g=b.name?b.name+" ":"",e=b.trace?"trace ":"subplot ";k=k.description?" "+k.description:"";d={x:n({},d,{description:["Sets the horizontal domain of this ",g,e,"(in plot fraction).",k].join("")}),y:n({},d,{description:["Sets the vertical domain of this ",g,e,"(in plot fraction).",k].join("")}),editType:b.editType};b.noGridCell||(d.row={valType:"integer",min:0,dflt:0,role:"info",editType:b.editType,description:["If there is a layout grid, use the domain for this row in the grid for this ",
g,e,".",k].join("")},d.column={valType:"integer",min:0,dflt:0,role:"info",editType:b.editType,description:["If there is a layout grid, use the domain for this column in the grid for this ",g,e,".",k].join("")});return d};l.defaults=function(b,k,d,h){var e=h&&h.x||[0,1];h=h&&h.y||[0,1];if(k=k.grid){var g=d("domain.column");void 0!==g&&(g<k.columns?e=k._domains.x[g]:delete b.domain.column);g=d("domain.row");void 0!==g&&(g<k.rows?h=k._domains.y[g]:delete b.domain.row)}d("domain.x",e);d("domain.y",h)}},
{"../lib/extend":406}],485:[function(b,p,l){p.exports=function(b){var g=b.editType,k=b.colorEditType;void 0===k&&(k=g);g={family:{valType:"string",role:"style",noBlank:!0,strict:!0,editType:g,description:"HTML font family - the typeface that will be applied by the web browser. The web browser will only be able to apply a font if it is available on the system which it operates. Provide multiple font families, separated by commas, to indicate the preference in which to apply fonts if they aren't available on the system. The plotly service (at https://plot.ly or on-premise) generates images on a server, where only a select number of fonts are installed and supported. These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*, *Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*, *PT Sans Narrow*, *Raleway*, *Times New Roman*."},
size:{valType:"number",role:"style",min:1,editType:g},color:{valType:"color",role:"style",editType:k},editType:g,description:""+(b.description||"")+""};b.arrayOk&&(g.family.arrayOk=!0,g.size.arrayOk=!0,g.color.arrayOk=!0);return g}},{}],486:[function(b,p,l){p.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:"An identifier that specifies the group to which the frame belongs, used by animate to select a subset of frames."},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},
traces:{valType:"any",role:"info",description:"A list of trace indices that identify the respective traces in the data attribute"},baseframe:{valType:"string",role:"info",description:"The name of the frame into which this frame's properties are merged before applying. This is used to unify properties and avoid needing to specify the same values for the same properties in multiple frames."},data:{valType:"any",role:"object",description:"A list of traces this frame modifies. The format is identical to the normal trace definition."},
layout:{valType:"any",role:"object",description:"Layout properties which this frame modifies. The format is identical to the normal layout definition."}}},{}],487:[function(b,p,l){var n=b("../registry"),g=b("./cartesian/constants").SUBPLOT_PATTERN;l.getSubplotCalcData=function(b,d,g){d=n.subplotsRegistry[d];if(!d)return[];d=d.attr;for(var e=[],h=0;h<b.length;h++){var k=b[h];k[0].trace[d]===g&&e.push(k)}return e};l.getModuleCalcData=function(b,d){var g=[];d="string"===typeof d?n.getModule(d):d;if(!d)return g;
for(var e=0;e<b.length;e++){var k=b[e],m=k[0].trace;m._module===d&&!0===m.visible&&g.push(k)}return g};l.getSubplotData=function(b,d,h){if(!n.subplotsRegistry[d])return[];var e=n.subplotsRegistry[d].attr,k=[];if("gl2d"===d){var m=h.match(g);var l="x"+m[1];var f="y"+m[2]}for(var c=0;c<b.length;c++)m=b[c],"gl2d"===d&&n.traceIs(m,"gl2d")?m[e[0]]===l&&m[e[1]]===f&&k.push(m):m[e]===h&&k.push(m);return k}},{"../registry":517,"./cartesian/constants":463}],488:[function(b,p,l){p.exports=function(b,m){function l(d,
e,f,g){var h=u.keyBindingMode;if(!1!==h){var k="rotate"===h,m="pan"===h;h="zoom"===h;var l=!!g.control,q=!!g.alt,t=!!g.shift,r=!!(d&1),p=!!(d&2);d=!!(d&4);var y=1/b.clientHeight,v=y*(e-C),B=y*(f-A),x=u.flipX?1:-1,z=u.flipY?1:-1;y=n();var F=Math.PI*u.rotateSpeed;(k&&r&&!l&&!q&&!t||r&&!l&&!q&&t)&&c.rotate(y,x*F*v,-z*F*B,0);(m&&r&&!l&&!q&&!t||p||r&&l&&!q&&!t)&&c.pan(y,-u.translateSpeed*v*a,u.translateSpeed*B*a,0);if(h&&r&&!l&&!q&&!t||d||r&&!l&&q&&!t)k=-u.zoomSpeed*B/window.innerHeight*(y-c.lastT())*
100,c.pan(y,0,0,a*(Math.exp(k)-1));C=e;A=f;D=g;return!0}}b=b||document.body;m=m||{};var f=[.01,Infinity];"distanceLimits"in m&&(f[0]=m.distanceLimits[0],f[1]=m.distanceLimits[1]);"zoomMin"in m&&(f[0]=m.zoomMin);"zoomMax"in m&&(f[1]=m.zoomMax);var c=g({center:m.center||[0,0,0],up:m.up||[0,1,0],eye:m.eye||[0,0,10],mode:m.mode||"orbit",distanceLimits:f}),q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0,r=b.clientWidth,p=b.clientHeight,u={keyBindingMode:"rotate",view:c,element:b,delay:m.delay||16,rotateSpeed:m.rotateSpeed||
1,zoomSpeed:m.zoomSpeed||1,translateSpeed:m.translateSpeed||1,flipX:!!m.flipX,flipY:!!m.flipY,modes:c.modes,tick:function(){var d=n(),e=this.delay,f=d-2*e;c.idle(d-e);c.recalcMatrix(f);c.flush(d-(100+2*e));d=!0;e=c.computedMatrix;for(f=0;16>f;++f)d=d&&q[f]===e[f],q[f]=e[f];e=b.clientWidth===r&&b.clientHeight===p;r=b.clientWidth;p=b.clientHeight;if(d)return!e;a=Math.exp(c.computedRadius[0]);return!0},lookAt:function(a,b,d){c.lookAt(c.lastT(),a,b,d)},rotate:function(a,b,d){c.rotate(c.lastT(),a,b,d)},
pan:function(a,b,d){c.pan(c.lastT(),a,b,d)},translate:function(a,b,d){c.translate(c.lastT(),a,b,d)}};Object.defineProperties(u,{matrix:{get:function(){return c.computedMatrix},set:function(a){c.setMatrix(c.lastT(),a);return c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(a){var b=c.computedUp.slice(),d=c.computedEye.slice(),e=c.computedCenter.slice();c.setMode(a);"turntable"===a&&(a=n(),c._active.lookAt(a,d,e,b),c._active.lookAt(a+500,d,e,[0,0,1]),c._active.flush(a));
return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(a){c.lookAt(c.lastT(),null,a);return c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(a){c.lookAt(c.lastT(),a);return c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(a){c.lookAt(c.lastT(),null,null,a);return c.computedUp},enumerable:!0},distance:{get:function(){return a},set:function(a){c.setDistance(c.lastT(),a);return a},enumerable:!0},
distanceLimits:{get:function(){return c.getDistanceLimits(f)},set:function(a){c.setDistanceLimits(a);return a},enumerable:!0}});b.addEventListener("contextmenu",function(a){a.preventDefault();return!1});var C=0,A=0,D={shift:!1,control:!1,alt:!1,meta:!1};u.mouseListener=k(b,l);b.addEventListener("touchstart",function(a){var c=h(a.changedTouches[0],b);l(0,c[0],c[1],D);l(1,c[0],c[1],D);a.preventDefault()},e?{passive:!1}:!1);b.addEventListener("touchmove",function(a){var c=h(a.changedTouches[0],b);l(1,
c[0],c[1],D);a.preventDefault()},e?{passive:!1}:!1);b.addEventListener("touchend",function(a){l(0,C,A,D);a.preventDefault()},e?{passive:!1}:!1);u.wheelListener=d(b,function(b,d){if(!1!==u.keyBindingMode){var e=u.flipX?1:-1,f=u.flipY?1:-1,g=n();Math.abs(b)>Math.abs(d)?c.rotate(g,0,0,-b*e*Math.PI*u.rotateSpeed/window.innerWidth):(b=-u.zoomSpeed*f*d/window.innerHeight*(g-c.lastT())/20,c.pan(g,0,0,a*(Math.exp(b)-1)))}},!0);return u};var n=b("right-now"),g=b("3d-view"),k=b("mouse-change"),d=b("mouse-wheel"),
h=b("mouse-event-offset"),e=b("has-passive-events")},{"3d-view":19,"has-passive-events":175,"mouse-change":192,"mouse-event-offset":193,"mouse-wheel":195,"right-now":229}],489:[function(b,p,l){p=b("../../plot_api/edit_types").overrideAll;var n=b("../../components/fx/layout_attributes"),g=b("./scene"),k=b("../get_data").getSubplotData,d=b("../../lib"),h=b("../../constants/xmlns_namespaces");l.name="gl3d";l.attr="scene";l.idRoot="scene";l.idRegex=l.attrRegex=d.counterRegex("scene");l.attributes=b("./layout/attributes");
l.layoutAttributes=b("./layout/layout_attributes");l.baseLayoutAttrOverrides=p({hoverlabel:n.hoverlabel},"plot","nested");l.supplyLayoutDefaults=b("./layout/defaults");l.plot=function(b){for(var e=b._fullLayout,h=b._fullData,n=e._subplots.gl3d,f=0;f<n.length;f++){var c=n[f],l=k(h,"gl3d",c),a=e[c],r=a._scene;r||(r=new g({id:c,graphDiv:b,container:b.querySelector(".gl-container"),staticPlot:b._context.staticPlot,plotGlPixelRatio:b._context.plotGlPixelRatio},e),a._scene=r);r.cameraInitial||(r.cameraInitial=
d.extendDeep({},a.camera));r.plot(l,e,b.layout)}};l.clean=function(b,d,g,h){b=h._subplots.gl3d||[];for(g=0;g<b.length;g++){var e=b[g];!d[e]&&h[e]._scene&&(h[e]._scene.destroy(),h._infolayer&&h._infolayer.selectAll(".annotation-"+e).remove())}};l.toSVG=function(b){b=b._fullLayout;for(var d=b._subplots.gl3d,e=b._size,g=0;g<d.length;g++){var f=b[d[g]],c=f.domain;f=f._scene;var k=f.toImage("png");b._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":k,x:e.l+e.w*c.x[0],y:e.t+e.h*(1-c.y[1]),width:e.w*
(c.x[1]-c.x[0]),height:e.h*(c.y[1]-c.y[0]),preserveAspectRatio:"none"});f.destroy()}};l.cleanId=function(b){if(b.match(/^scene[0-9]*$/))return b=b.substr(5),"1"===b&&(b=""),"scene"+b};l.updateFx=function(b){for(var d=b._subplots.gl3d,e=0;e<d.length;e++)b[d[e]]._scene.updateFx(b.dragmode,b.hovermode)}},{"../../components/fx/layout_attributes":334,"../../constants/xmlns_namespaces":397,"../../lib":414,"../../plot_api/edit_types":443,"../get_data":487,"./layout/attributes":490,"./layout/defaults":494,
"./layout/layout_attributes":495,"./scene":499}],490:[function(b,p,l){p.exports={scene:{valType:"subplotid",role:"info",dflt:"scene",editType:"calc+clearAxisTypes",description:"Sets a reference between this trace's 3D coordinate system and a 3D scene. If *scene* (the default value), the (x,y,z) coordinates refer to `layout.scene`. If *scene2*, the (x,y,z) coordinates refer to `layout.scene2`, and so on."}}},{}],491:[function(b,p,l){l=b("../../../components/color");var n=b("../../cartesian/layout_attributes"),
g=b("../../../lib/extend").extendFlat;b=b("../../../plot_api/edit_types").overrideAll;p.exports=b({visible:n.visible,showspikes:{valType:"boolean",role:"info",dflt:!0,description:"Sets whether or not spikes starting from data points to this axis' wall are shown on hover."},spikesides:{valType:"boolean",role:"info",dflt:!0,description:"Sets whether or not spikes extending from the projection data points to this axis' wall boundaries are shown on hover."},spikethickness:{valType:"number",role:"style",
min:0,dflt:2,description:"Sets the thickness (in px) of the spikes."},spikecolor:{valType:"color",role:"style",dflt:l.defaultLine,description:"Sets the color of the spikes."},showbackground:{valType:"boolean",role:"info",dflt:!1,description:"Sets whether or not this axis' wall has a background color."},backgroundcolor:{valType:"color",role:"style",dflt:"rgba(204, 204, 204, 0.5)",description:"Sets the background color of this axis' wall."},showaxeslabels:{valType:"boolean",role:"info",dflt:!0,description:"Sets whether or not this axis is labeled"},
color:n.color,categoryorder:n.categoryorder,categoryarray:n.categoryarray,title:n.title,titlefont:n.titlefont,type:n.type,autorange:n.autorange,rangemode:n.rangemode,range:n.range,tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,mirror:n.mirror,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,tickfont:n.tickfont,tickangle:n.tickangle,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,
ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,separatethousands:n.separatethousands,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:n.showline,linecolor:n.linecolor,linewidth:n.linewidth,showgrid:n.showgrid,gridcolor:g({},n.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:n.gridwidth,zeroline:n.zeroline,zerolinecolor:n.zerolinecolor,zerolinewidth:n.zerolinewidth},"plot","from-root")},
{"../../../components/color":291,"../../../lib/extend":406,"../../../plot_api/edit_types":443,"../../cartesian/layout_attributes":470}],492:[function(b,p,l){var n=b("tinycolor2").mix,g=b("../../../lib"),k=b("./axis_attributes"),d=b("../../cartesian/type_defaults"),h=b("../../cartesian/axis_defaults"),e=["xaxis","yaxis","zaxis"],u=13600/187;p.exports=function(b,l,f){function c(b,c){return g.coerce(m,a,k,b,c)}for(var m,a,t=0;t<e.length;t++){var p=e[t];m=b[p]||{};a=l[p]={_id:p[0]+f.scene,_name:p};d(m,
a,c,f.data);h(m,a,c,{font:f.font,letter:p[0],data:f.data,showGrid:!0,bgColor:f.bgColor,calendar:f.calendar},f.fullLayout);c("gridcolor",n(a.color,f.bgColor,u).toRgbString());c("title",p[0]);a.setScale=g.noop;c("showspikes")&&(c("spikesides"),c("spikethickness"),c("spikecolor",a.color));c("showaxeslabels");c("showbackground")&&c("backgroundcolor")}}},{"../../../lib":414,"../../cartesian/axis_defaults":460,"../../cartesian/type_defaults":482,"./axis_attributes":491,tinycolor2:256}],493:[function(b,
p,l){function n(){this.bounds=[[-10,-10,-10],[10,10,10]];this.ticks=[[],[],[]];this.tickEnable=[!0,!0,!0];this.tickFont=["sans-serif","sans-serif","sans-serif"];this.tickSize=[12,12,12];this.tickAngle=[0,0,0];this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.tickPad=[18,18,18];this.labels=["x","y","z"];this.labelEnable=[!0,!0,!0];this.labelFont=["Open Sans","Open Sans","Open Sans"];this.labelSize=[20,20,20];this.labelAngle=[0,0,0];this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.labelPad=[30,
30,30];this.lineEnable=[!0,!0,!0];this.lineMirror=[!1,!1,!1];this.lineWidth=[1,1,1];this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.lineTickEnable=[!0,!0,!0];this.lineTickMirror=[!1,!1,!1];this.lineTickLength=[10,10,10];this.lineTickWidth=[1,1,1];this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.gridEnable=[!0,!0,!0];this.gridWidth=[1,1,1];this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.zeroEnable=[!0,!0,!0];this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.zeroLineWidth=[2,2,
2];this.backgroundEnable=[!0,!0,!0];this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]];this._defaultTickPad=this.tickPad.slice();this._defaultLabelPad=this.labelPad.slice();this._defaultLineTickLength=this.lineTickLength.slice()}var g=b("../../../lib/html2unicode"),k=b("../../../lib/str2rgbarray"),d=["xaxis","yaxis","zaxis"];n.prototype.merge=function(b){for(var e=0;3>e;++e){var h=b[d[e]];h.visible?(this.labels[e]=g(h.title),"titlefont"in h&&(h.titlefont.color&&(this.labelColor[e]=k(h.titlefont.color)),
h.titlefont.family&&(this.labelFont[e]=h.titlefont.family),h.titlefont.size&&(this.labelSize[e]=h.titlefont.size)),"showline"in h&&(this.lineEnable[e]=h.showline),"linecolor"in h&&(this.lineColor[e]=k(h.linecolor)),"linewidth"in h&&(this.lineWidth[e]=h.linewidth),"showgrid"in h&&(this.gridEnable[e]=h.showgrid),"gridcolor"in h&&(this.gridColor[e]=k(h.gridcolor)),"gridwidth"in h&&(this.gridWidth[e]=h.gridwidth),"log"===h.type?this.zeroEnable[e]=!1:"zeroline"in h&&(this.zeroEnable[e]=h.zeroline),"zerolinecolor"in
h&&(this.zeroLineColor[e]=k(h.zerolinecolor)),"zerolinewidth"in h&&(this.zeroLineWidth[e]=h.zerolinewidth),this.lineTickEnable[e]="ticks"in h&&h.ticks?!0:!1,"ticklen"in h&&(this.lineTickLength[e]=this._defaultLineTickLength[e]=h.ticklen),"tickcolor"in h&&(this.lineTickColor[e]=k(h.tickcolor)),"tickwidth"in h&&(this.lineTickWidth[e]=h.tickwidth),"tickangle"in h&&(this.tickAngle[e]="auto"===h.tickangle?0:Math.PI*-h.tickangle/180),"showticklabels"in h&&(this.tickEnable[e]=h.showticklabels),"tickfont"in
h&&(h.tickfont.color&&(this.tickColor[e]=k(h.tickfont.color)),h.tickfont.family&&(this.tickFont[e]=h.tickfont.family),h.tickfont.size&&(this.tickSize[e]=h.tickfont.size)),"mirror"in h?-1!==["ticks","all","allticks"].indexOf(h.mirror)?(this.lineTickMirror[e]=!0,this.lineMirror[e]=!0):!0===h.mirror?(this.lineTickMirror[e]=!1,this.lineMirror[e]=!0):(this.lineTickMirror[e]=!1,this.lineMirror[e]=!1):this.lineMirror[e]=!1,"showbackground"in h&&!1!==h.showbackground?(this.backgroundEnable[e]=!0,this.backgroundColor[e]=
k(h.backgroundcolor)):this.backgroundEnable[e]=!1):(this.tickEnable[e]=!1,this.labelEnable[e]=!1,this.lineEnable[e]=!1,this.lineTickEnable[e]=!1,this.gridEnable[e]=!1,this.zeroEnable[e]=!1,this.backgroundEnable[e]=!1)}};p.exports=function(b){var d=new n;d.merge(b);return d}},{"../../../lib/html2unicode":412,"../../../lib/str2rgbarray":436}],494:[function(b,p,l){function n(b,g,f,c){var h=f("bgcolor");h=k.combine(h,c.paper_bgcolor);for(var a=["up","center","eye"],m=0;m<a.length;m++)f("camera."+a[m]+
".x"),f("camera."+a[m]+".y"),f("camera."+a[m]+".z");a=!!f("aspectratio.x")&&!!f("aspectratio.y")&&!!f("aspectratio.z");m=f("aspectmode",a?"manual":"auto");a||(b.aspectratio=g.aspectratio={x:1,y:1,z:1},"manual"===m&&(g.aspectmode="auto"),b.aspectmode=g.aspectmode);e(b,g,{font:c.font,scene:c.id,data:c.fullData,bgColor:h,calendar:c.calendar,fullLayout:c.fullLayout});d.getComponentMethod("annotations3d","handleDefaults")(b,g,c);f("dragmode",c.getDfltFromLayout("dragmode"));f("hovermode",c.getDfltFromLayout("hovermode"))}
var g=b("../../../lib"),k=b("../../../components/color"),d=b("../../../registry"),h=b("../../subplot_defaults"),e=b("./axis_defaults"),u=b("./layout_attributes");p.exports=function(b,d,e){var c=1<d._basePlotModules.length;h(b,d,e,{type:"gl3d",attributes:u,handleDefaults:n,fullLayout:d,font:d.font,fullData:e,getDfltFromLayout:function(d){if(!c&&g.validate(b[d],u[d]))return b[d]},paper_bgcolor:d.paper_bgcolor,calendar:d.calendar})}},{"../../../components/color":291,"../../../lib":414,"../../../registry":517,
"../../subplot_defaults":509,"./axis_defaults":492,"./layout_attributes":495}],495:[function(b,p,l){function n(b,g,e){return{x:{valType:"number",role:"info",dflt:b,editType:"camera"},y:{valType:"number",role:"info",dflt:g,editType:"camera"},z:{valType:"number",role:"info",dflt:e,editType:"camera"},editType:"camera"}}l=b("./axis_attributes");var g=b("../../domain").attributes,k=b("../../../lib/extend").extendFlat;b=b("../../../lib").counterRegex;p.exports={_arrayAttrRegexps:[b("scene",".annotations",
!0)],bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:k(n(0,0,1),{description:"Sets the (x,y,z) components of the 'up' camera vector. This vector determines the up direction of this scene with respect to the page. The default is *{x: 0, y: 0, z: 1}* which means that the z axis points up."}),center:k(n(0,0,0),{description:"Sets the (x,y,z) components of the 'center' camera vector This vector determines the translation (x,y,z) space about the center of this scene. By default, there is no such translation."}),
eye:k(n(1.25,1.25,1.25),{description:"Sets the (x,y,z) components of the 'eye' camera vector. This vector determines the view point about the origin of this scene."}),editType:"camera"},domain:g({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",role:"info",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0},description:"If *cube*, this scene's axes are drawn as a cube, regardless of the axes' ranges. If *data*, this scene's axes are drawn in proportion with the axes' ranges. If *manual*, this scene's axes are drawn in proportion with the input of *aspectratio* (the default behavior if *aspectratio* is provided). If *auto*, this scene's axes are drawn using the results of *data* except when one axis is more than four times the size of the two others, where in that case the results of *cube* are used."},
aspectratio:{x:{valType:"number",role:"info",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",role:"info",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",role:"info",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"},description:"Sets this scene's axis aspectratio."},xaxis:l,yaxis:l,zaxis:l,dragmode:{valType:"enumerated",role:"info",values:["orbit","turntable","zoom","pan",
!1],dflt:"turntable",editType:"plot",description:"Determines the mode of drag interactions for this scene."},hovermode:{valType:"enumerated",role:"info",values:["closest",!1],dflt:"closest",editType:"modebar",description:"Determines the mode of hover interactions for this scene."},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",role:"info",editType:"camera",description:"Obsolete. Use `camera` instead."}}}},{"../../../lib":414,"../../../lib/extend":406,"../../domain":484,"./axis_attributes":491}],
496:[function(b,p,l){function n(){this.enabled=[!0,!0,!0];this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]];this.drawSides=[!0,!0,!0];this.lineWidth=[1,1,1]}var g=b("../../../lib/str2rgbarray"),k=["xaxis","yaxis","zaxis"];n.prototype.merge=function(b){for(var d=0;3>d;++d){var e=b[k[d]];e.visible?(this.enabled[d]=e.showspikes,this.colors[d]=g(e.spikecolor),this.drawSides[d]=e.spikesides,this.lineWidth[d]=e.spikethickness):(this.enabled[d]=!1,this.drawSides[d]=!1)}};p.exports=function(b){var d=new n;d.merge(b);
return d}},{"../../../lib/str2rgbarray":436}],497:[function(b,p,l){p.exports=function(b){for(var e=b.axesOptions,h=b.glplot.axesPixels,m=b.fullSceneLayout,l=[[],[],[]],f=0;3>f;++f){var c=m[d[f]];c._length=(h[f].hi-h[f].lo)*h[f].pixelsPerDataUnit/b.dataScale[f];if(Infinity===Math.abs(c._length))l[f]=[];else{c._input_range=c.range.slice();c.range[0]=h[f].lo/b.dataScale[f];c.range[1]=h[f].hi/b.dataScale[f];c._m=1/(b.dataScale[f]*h[f].pixelsPerDataUnit);c.range[0]===c.range[1]&&(--c.range[0],c.range[1]+=
1);var q=c.tickmode;if("auto"===c.tickmode){c.tickmode="linear";var a=c.nticks||g.constrain(c._length/40,4,9);n.autoTicks(c,Math.abs(c.range[1]-c.range[0])/a)}a=n.calcTicks(c);for(var r=0;r<a.length;++r)a[r].x*=b.dataScale[f],a[r].text=k(a[r].text);l[f]=a;c.tickmode=q}}e.ticks=l;for(f=0;3>f;++f)for(r=0;2>r;++r)e.bounds[r][f]=b.glplot.bounds[r][f];e=Array(3);for(h=0;3>h;++h){m=l[h];f=Array(m.length);for(c=0;c<m.length;++c)f[c]=m[c].x;e[h]=f}b.contourLevels=e};var n=b("../../cartesian/axes"),g=b("../../../lib"),
k=b("../../../lib/html2unicode"),d=["xaxis","yaxis","zaxis"]},{"../../../lib":414,"../../../lib/html2unicode":412,"../../cartesian/axes":458}],498:[function(b,p,l){function n(b,k){var d=[0,0,0,0],g,e;for(g=0;4>g;++g)for(e=0;4>e;++e)d[e]+=b[4*g+e]*k[g];return d}p.exports=function(b,k){return n(b.projection,n(b.view,n(b.model,[k[0],k[1],k[2],1])))}},{}],499:[function(b,p,l){function n(b){function c(a,c){a=b.fullSceneLayout[a];return q.tickText(a,a.d2l(c),"hover").text}var d=b.svgContainer,e=b.container.getBoundingClientRect(),
f=e.width,g=e.height;d.setAttributeNS(null,"viewBox","0 0 "+f+" "+g);d.setAttributeNS(null,"width",f);d.setAttributeNS(null,"height",g);z(b);b.glplot.axes.update(b.axesOptions);var h=Object.keys(b.traces),k=null;e=b.glplot.selection;for(var m=0;m<h.length;++m){var n=b.traces[h[m]];"skip"!==n.data.hoverinfo&&n.handlePick(e)&&(k=n);n.setContourLevels&&n.setContourLevels()}if(null!==k){h=C(b.glplot.cameraParams,e.dataCoordinate);n=k.data;var l=e.index;var t=a.castHoverinfo(n,b.fullLayout,l);m=c("xaxis",
e.traceCoordinate[0]);var r=c("yaxis",e.traceCoordinate[1]),p=c("zaxis",e.traceCoordinate[2]);"all"!==t&&(t=t.split("+"),-1===t.indexOf("x")&&(m=void 0),-1===t.indexOf("y")&&(r=void 0),-1===t.indexOf("z")&&(p=void 0),-1===t.indexOf("text")&&(e.textLabel=void 0),-1===t.indexOf("name")&&(k.name=void 0));b.fullSceneLayout.hovermode&&a.loneHover({x:(.5+.5*h[0]/h[3])*f,y:(.5-.5*h[1]/h[3])*g,xLabel:m,yLabel:r,zLabel:p,text:e.textLabel,name:k.name,color:a.castHoverOption(n,l,"bgcolor")||k.color,borderColor:a.castHoverOption(n,
l,"bordercolor"),fontFamily:a.castHoverOption(n,l,"font.family"),fontSize:a.castHoverOption(n,l,"font.size"),fontColor:a.castHoverOption(n,l,"font.color")},{container:d,gd:b.graphDiv});d={x:e.traceCoordinate[0],y:e.traceCoordinate[1],z:e.traceCoordinate[2],data:n._input,fullData:n,curveNumber:n.index,pointNumber:l};a.appendArrayPointValue(d,n,l);n={points:[d]};e.buttons&&5>e.distance?b.graphDiv.emit("plotly_click",n):b.graphDiv.emit("plotly_hover",n);l=n}else a.loneUnhover(d),b.graphDiv.emit("plotly_unhover",
l);b.drawAnnotations(b)}function g(a,b,d,f){b={canvas:d,gl:f,container:a.container,axes:a.axesOptions,spikes:a.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1};if(a.staticMode){if(!B&&(F=document.createElement("canvas"),B=m({canvas:F,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!B))throw Error("error creating static canvas/context for image server");b.pixelRatio=a.pixelRatio;b.gl=B;b.canvas=F}try{a.glplot=u(b)}catch(K){v(a)}b=function(a){if(!1!==a.fullSceneLayout.dragmode){var b=
{};b[a.id+".camera"]=e(a.camera);a.saveCamera(a.graphDiv.layout);a.graphDiv.emit("plotly_relayout",b)}};a.glplot.canvas.addEventListener("mouseup",b.bind(null,a));a.glplot.canvas.addEventListener("wheel",b.bind(null,a),t?{passive:!1}:!1);a.staticMode||a.glplot.canvas.addEventListener("webglcontextlost",function(a){c.warn("Lost WebGL context.");a.preventDefault()});a.camera||(b=a.fullSceneLayout.camera,a.camera=x(a.container,{center:[b.center.x,b.center.y,b.center.z],eye:[b.eye.x,b.eye.y,b.eye.z],
up:[b.up.x,b.up.y,b.up.z],zoomMin:.1,zoomMax:100,mode:"orbit"}));a.glplot.camera=a.camera;a.glplot.oncontextloss=function(){a.recoverContext()};a.glplot.onrender=n.bind(null,a);a.traces={};return!0}function k(a,b){var c=document.createElement("div"),d=a.container;this.graphDiv=a.graphDiv;var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute";e.style.top=e.style.left="0px";e.style.width=e.style.height="100%";e.style["z-index"]=20;e.style["pointer-events"]="none";
c.appendChild(e);this.svgContainer=e;c.id=a.id;c.style.position="absolute";c.style.top=c.style.left="0px";c.style.width=c.style.height="100%";d.appendChild(c);this.fullLayout=b;this.id=a.id||"scene";this.fullSceneLayout=b[this.id];this.plotArgs=[[],{},{}];this.axesOptions=A(b[this.id]);this.spikeOptions=D(b[this.id]);this.container=c;this.staticMode=!!a.staticPlot;this.pixelRatio=a.plotGlPixelRatio||2;this.dataScale=[1,1,1];this.contourLevels=[[],[],[]];this.convertAnnotations=f.getComponentMethod("annotations3d",
"convert");this.drawAnnotations=f.getComponentMethod("annotations3d","draw");g(this,b)}function d(a,b,d,e,f,g){if(c.isArrayOrTypedArray(b))for(var h=0;h<(d||b.length);++h)if(c.isArrayOrTypedArray(b[h]))for(var k=0;k<b[h].length;++k){var m=a.d2l(b[h][k],0,g);!isNaN(m)&&isFinite(m)&&(f[0][e]=Math.min(f[0][e],m),f[1][e]=Math.max(f[1][e],m))}else m=a.d2l(b[h],0,g),!isNaN(m)&&isFinite(m)&&(f[0][e]=Math.min(f[0][e],m),f[1][e]=Math.max(f[1][e],m));else f[0][e]=Math.min(f[0][e],0),f[1][e]=Math.max(f[1][e],
d-1)}function h(a,b,c){a=a.fullSceneLayout;d(a.xaxis,b.x,b._xlength,0,c,b.xcalendar);d(a.yaxis,b.y,b._ylength,1,c,b.ycalendar);d(a.zaxis,b.z,b._zlength,2,c,b.zcalendar)}function e(a){return{up:{x:a.up[0],y:a.up[1],z:a.up[2]},center:{x:a.center[0],y:a.center[1],z:a.center[2]},eye:{x:a.eye[0],y:a.eye[1],z:a.eye[2]}}}var u=b("gl-plot3d"),m=b("webgl-context"),t=b("has-passive-events"),f=b("../../registry"),c=b("../../lib"),q=b("../../plots/cartesian/axes"),a=b("../../components/fx"),r=b("../../lib/str2rgbarray"),
v=b("../../lib/show_no_webgl_msg"),x=b("./camera"),C=b("./project"),A=b("./layout/convert"),D=b("./layout/spikes"),z=b("./layout/tick_marks"),F,B;b=k.prototype;b.recoverContext=function(){function a(){d.isContextLost()?requestAnimationFrame(a):g(b,b.fullLayout,e,d)?b.plot.apply(b,b.plotArgs):c.error("Catastrophic and unrecoverable WebGL error. Context lost.")}var b=this,d=this.glplot.gl,e=this.glplot.canvas;this.glplot.dispose();requestAnimationFrame(a)};var y=["xaxis","yaxis","zaxis"];b.plot=function(a,
b,c){this.plotArgs=[a,b,c];if(!this.glplot.contextLost){var d,e,f=b[this.id];c=c[this.id];this.glplot.clearColor=f.bgcolor?r(f.bgcolor):[0,0,0,0];this.glplot.snapToData=!0;this.fullLayout=b;this.glplotLayout=this.fullSceneLayout=f;this.axesOptions.merge(f);this.spikeOptions.merge(f);this.setCamera(f.camera);this.updateFx(f.dragmode,f.hovermode);this.glplot.update({});this.setConvert(k);a?Array.isArray(a)||(a=[a]):a=[];var g=[[Infinity,Infinity,Infinity],[-Infinity,-Infinity,-Infinity]];for(e=0;e<
a.length;++e){var k=a[e];!0===k.visible&&h(this,k,g)}var m=[1,1,1];for(d=0;3>d;++d)m[d]=g[0][d]>g[1][d]?1:g[1][d]===g[0][d]?1:1/(g[1][d]-g[0][d]);this.dataScale=m;this.convertAnnotations(this);for(e=0;e<a.length;++e)k=a[e],!0===k.visible&&((d=this.traces[k.uid])?d.update(k):(d=k._module.plot(this,k),this.traces[k.uid]=d),d.name=k.name);k=Object.keys(this.traces);e=0;a:for(;e<k.length;++e){for(d=0;d<a.length;++d)if(a[d].uid===k[e]&&!0===a[d].visible)continue a;d=this.traces[k[e]];d.dispose();delete this.traces[k[e]]}this.glplot.objects.sort(function(a,
b){return a._trace.data.index-b._trace.data.index});g=[[0,0,0],[0,0,0]];a={};for(e=0;3>e;++e){k=f[y[e]];d=k.type;d in a?(a[d].acc*=m[e],a[d].count+=1):a[d]={acc:m[e],count:1};if(k.autorange){g[0][e]=Infinity;g[1][e]=-Infinity;var n=this.glplot.objects,l=this.fullSceneLayout.annotations||[],q=k._name.charAt(0);for(d=0;d<n.length;d++){var t=n[d].bounds;g[0][e]=Math.min(g[0][e],t[0][e]/m[e]);g[1][e]=Math.max(g[1][e],t[1][e]/m[e])}for(d=0;d<l.length;d++)n=l[d],n.visible&&(n=k.r2l(n[q]),g[0][e]=Math.min(g[0][e],
n),g[1][e]=Math.max(g[1][e],n));"rangemode"in k&&"tozero"===k.rangemode&&(g[0][e]=Math.min(g[0][e],0),g[1][e]=Math.max(g[1][e],0));g[0][e]>g[1][e]?(g[0][e]=-1,g[1][e]=1):(k=g[1][e]-g[0][e],g[0][e]-=k/32,g[1][e]+=k/32)}else d=k.range,g[0][e]=k.r2l(d[0]),g[1][e]=k.r2l(d[1]);g[0][e]===g[1][e]&&(--g[0][e],g[1][e]+=1);this.glplot.bounds[0][e]=g[0][e]*m[e];this.glplot.bounds[1][e]=g[1][e]*m[e]}g=[1,1,1];for(e=0;3>e;++e)k=f[y[e]],d=k.type,k=a[d],g[e]=Math.pow(k.acc,1/k.count)/m[e];if("auto"===f.aspectmode)e=
4>=Math.max.apply(null,g)/Math.min.apply(null,g)?g:[1,1,1];else if("cube"===f.aspectmode)e=[1,1,1];else if("data"===f.aspectmode)e=g;else if("manual"===f.aspectmode)e=f.aspectratio,e=[e.x,e.y,e.z];else throw Error("scene.js aspectRatio was not one of the enumerated types");f.aspectratio.x=c.aspectratio.x=e[0];f.aspectratio.y=c.aspectratio.y=e[1];f.aspectratio.z=c.aspectratio.z=e[2];this.glplot.aspect=e;f=f.domain||null;b=b._size||null;f&&b&&(c=this.container.style,c.position="absolute",c.left=b.l+
f.x[0]*b.w+"px",c.top=b.t+(1-f.y[1])*b.h+"px",c.width=b.w*(f.x[1]-f.x[0])+"px",c.height=b.h*(f.y[1]-f.y[0])+"px");this.glplot.redraw()}};b.destroy=function(){this.glplot&&(this.camera.mouseListener.enabled=!1,this.container.removeEventListener("wheel",this.camera.wheelListener),this.camera=this.glplot.camera=null,this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null)};b.getCamera=function(){this.glplot.camera.view.recalcMatrix(this.camera.view.lastT());return e(this.glplot.camera)};
b.setCamera=function(a){this.glplot.camera.lookAt.apply(this,[[a.eye.x,a.eye.y,a.eye.z],[a.center.x,a.center.y,a.center.z],[a.up.x,a.up.y,a.up.z]])};b.saveCamera=function(a){var b=this.getCamera();a=c.nestedProperty(a,this.id+".camera");var d=a.get(),e=!1;if(void 0===d)e=!0;else for(var f=0;3>f;f++)for(var g=0;3>g;g++){var h=["up","center","eye"],k=["x","y","z"];if(!d[h[f]]||b[h[f]][k[g]]!==d[h[f]][k[g]]){e=!0;break}}e&&a.set(b);return e};b.updateFx=function(a,b){var c=this.camera;c&&("orbit"===a?
(c.mode="orbit",c.keyBindingMode="rotate"):"turntable"===a?(c.up=[0,0,1],c.mode="turntable",c.keyBindingMode="rotate"):c.keyBindingMode=a);this.fullSceneLayout.hovermode=b};b.toImage=function(a){a||(a="png");this.staticMode&&this.container.appendChild(F);this.glplot.redraw();var b=this.glplot.gl,c=b.drawingBufferWidth,d=b.drawingBufferHeight;b.bindFramebuffer(b.FRAMEBUFFER,null);var e=new Uint8Array(c*d*4);b.readPixels(0,0,c,d,b.RGBA,b.UNSIGNED_BYTE,e);b=0;for(var f=d-1;b<f;++b,--f)for(var g=0;g<
c;++g)for(var h=0;4>h;++h){var k=e[4*(c*b+g)+h];e[4*(c*b+g)+h]=e[4*(c*f+g)+h];e[4*(c*f+g)+h]=k}b=document.createElement("canvas");b.width=c;b.height=d;f=b.getContext("2d");c=f.createImageData(c,d);c.data.set(e);f.putImageData(c,0,0);switch(a){case "jpeg":a=b.toDataURL("image/jpeg");break;case "webp":a=b.toDataURL("image/webp");break;default:a=b.toDataURL("image/png")}this.staticMode&&this.container.removeChild(F);return a};b.setConvert=function(){for(var a=0;3>a;a++){var b=this.fullSceneLayout[y[a]];
q.setConvert(b,this.fullLayout);b.setScale=c.noop}};p.exports=k},{"../../components/fx":333,"../../lib":414,"../../lib/show_no_webgl_msg":434,"../../lib/str2rgbarray":436,"../../plots/cartesian/axes":458,"../../registry":517,"./camera":488,"./layout/convert":493,"./layout/spikes":496,"./layout/tick_marks":497,"./project":498,"gl-plot3d":138,"has-passive-events":175,"webgl-context":271}],500:[function(b,p,l){l=b("./font_attributes");b=b("../components/color/attributes");var n=l({editType:"calc",description:"Sets the global font. Note that fonts used in traces and other layout components inherit from the global font."});
n.family.dflt='"Open Sans", verdana, arial, sans-serif';n.size.dflt=12;n.color.dflt=b.defaultLine;p.exports={font:n,title:{valType:"string",role:"info",editType:"layoutstyle",description:"Sets the plot's title."},titlefont:l({editType:"layoutstyle",description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,editType:"none",description:"Determines whether or not a layout width or height that has been left undefined by the user is initialized on each relayout. Note that, regardless of this attribute, an undefined layout width or height is always initialized on the first call to plot."},
width:{valType:"number",role:"info",min:10,dflt:700,editType:"plot",description:"Sets the plot's width (in px)."},height:{valType:"number",role:"info",min:10,dflt:450,editType:"plot",description:"Sets the plot's height (in px)."},margin:{l:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,editType:"plot",
description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,editType:"plot",description:"Sets the amount of padding (in px) between the plotting area and the axis lines"},autoexpand:{valType:"boolean",role:"info",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",role:"style",dflt:b.background,editType:"plot",description:"Sets the color of paper where the graph is drawn."},
plot_bgcolor:{valType:"color",role:"style",dflt:b.background,editType:"layoutstyle",description:"Sets the color of plotting area in-between x and y axes."},separators:{valType:"string",role:"style",editType:"plot",description:"Sets the decimal and thousand separators. For example, *. * puts a '.' before decimals and a space between thousands. In English locales, dflt is *.,* but other locales may alter this default."},hidesources:{valType:"boolean",role:"info",dflt:!1,editType:"plot",description:"Determines whether or not a text link citing the data source is placed at the bottom-right cored of the figure. Has only an effect only on graphs that have been generated via forked graphs from the plotly service (at https://plot.ly or on-premise)."},
showlegend:{valType:"boolean",role:"info",editType:"legend",description:"Determines whether or not a legend is drawn."},colorway:{valType:"colorlist",dflt:b.defaults,role:"style",editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",role:"info",editType:"calc",description:"If provided, a changed value tells `Plotly.react` that one or more data arrays has changed. This way you can modify arrays in-place rather than making a complete new copy for an incremental change. If NOT provided, `Plotly.react` assumes that data arrays are being treated as immutable, thus any data array with a different identity from its predecessor contains new data."}}},
{"../components/color/attributes":290,"./font_attributes":485}],501:[function(b,p,l){p.exports={t:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the bottom of the component."},
l:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the left side of the component."},editType:"arraydraw"}},{}],502:[function(b,p,l){function n(a,b){b.text("");b=b.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(a._context.linkText+" "+String.fromCharCode(187));if(a._context.sendData)b.on("click",function(){r.sendDataToCloud(a)});else{var c=window.location.pathname.split("/"),d=window.location.search;
b.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+c[2].split(".")[0]+"/"+c[1]+d})}}function g(a,b){function c(a){for(var c=!0,d=0;d<b.length;d++){var g=b[d];f[g]||(a[g]?f[g]=a[g]:c=!1)}c&&(e=!0)}var d=a._context.locale;d||"en-US"===d;for(var e=!1,f={},g=0;2>g;g++){for(var h=a._context.locales,k=0;2>k;k++){if(h=(h[d]||{}).format)if(c(h),e)break;h=u.localeRegistry}k=d.split("-")[0];if(e||k===d)break;d=k}e||c(u.localeRegistry.en.format);return f}function k(a,b,c,d){for(var e=a.transforms,f=[a],
g=0;g<e.length;g++){var h=e[g],k=A[h.type];k&&k.transform&&(f=k.transform(f,{transform:h,fullTrace:a,fullData:b,layout:c,fullLayout:d,transformIndex:g}))}return f}function d(a){for(var b=0;b<a.length;b++)a[b].clearCalc()}var h=b("d3"),e=b("fast-isnumeric"),u=b("../registry"),m=b("../plot_api/plot_schema"),t=b("../plots/cartesian/axis_ids"),f=b("../lib"),c=f._,q=b("../components/color"),a=b("../constants/numerical").BADNUM,r=p.exports={},v=b("./animation_attributes"),x=b("./frame_attributes"),C=f.relinkPrivateKeys;
f.extendFlat(r,u);r.attributes=b("./attributes");r.attributes.type.values=r.allTypes;r.fontAttrs=b("./font_attributes");r.layoutAttributes=b("./layout_attributes");r.fontWeight="normal";var A=r.transformsRegistry;b=b("./command");r.executeAPICommand=b.executeAPICommand;r.computeAPICommandBindings=b.computeAPICommandBindings;r.manageCommandObserver=b.manageCommandObserver;r.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings;r.redrawText=function(a){a=f.getGraphDiv(a);if(!(a.data&&a.data[0]&&
a.data[0].r))return new Promise(function(b){setTimeout(function(){u.getComponentMethod("annotations","draw")(a);u.getComponentMethod("legend","draw")(a);(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()});b(r.previousPromises(a))},300)})};r.resize=function(a){a=f.getGraphDiv(a);return new Promise(function(b,c){function d(a){a=window.getComputedStyle(a).display;return!a||"none"===a}a&&!d(a)||c(Error("Resize must be passed a displayed plot div element."));a._redrawTimer&&clearTimeout(a._redrawTimer);
a._redrawTimer=setTimeout(function(){if(a.layout.width&&a.layout.height)b(a);else{delete a.layout.width;delete a.layout.height;var c=a.changed;a.autoplay=!0;u.call("relayout",a,{autosize:!0}).then(function(){a.changed=c;b(a)})}},100)})};r.previousPromises=function(a){if((a._promises||[]).length)return Promise.all(a._promises).then(function(){a._promises=[]})};r.addLinks=function(a){if(a._context.showLink||a._context.showSources){var b=a._fullLayout,c=b._paper.selectAll("text.js-plot-link-container").data([0]);
c.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:q.defaultLine,"pointer-events":"all"}).each(function(){var a=h.select(this);a.append("tspan").classed("js-link-to-tool",!0);a.append("tspan").classed("js-link-spacer",!0);a.append("tspan").classed("js-sourcelinks",!0)});var d=c.node(),e={y:b._paper.attr("height")-9};document.body.contains(d)&&d.getComputedTextLength()>=b.width-20?(e["text-anchor"]="start",e.x=
5):(e["text-anchor"]="end",e.x=b._paper.attr("width")-7);c.attr(e);b=c.select(".js-link-to-tool");d=c.select(".js-link-spacer");c=c.select(".js-sourcelinks");a._context.showSources&&a._context.showSources(a);a._context.showLink&&n(a,b);d.text(b.text()&&c.text()?" - ":"")}};r.sendDataToCloud=function(a){a.emit("plotly_beforeexport");var b=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",c=h.select(a).append("div").attr("id","hiddenform").style("display","none");b=c.append("form").attr({action:b+
"/external",method:"post",target:"_blank"});b.append("input").attr({type:"text",name:"data"}).node().value=r.graphJson(a,!1,"keepdata");b.node().submit();c.remove();a.emit("plotly_afterexport");return!1};var D="days shortDays months shortMonths periods dateTime date time decimal thousands grouping currency".split(" "),z=["year","month","dayMonth","dayMonthYear"];r.supplyDefaults=function(a){var b=a._fullLayout||{};if(b._skipDefaults)delete b._skipDefaults;else{var d=a._fullLayout={},e=a.layout||{},
k=a._fullData||[],m=a._fullData=[],n=a.data||[],l=a._context||{},q;a._transitionData||r.createTransitionData(a);d._dfltTitle={plot:c(a,"Click to enter Plot title"),x:c(a,"Click to enter X axis title"),y:c(a,"Click to enter Y axis title"),colorbar:c(a,"Click to enter Colorscale title"),annotation:c(a,"new text")};d._traceWord=c(a,"trace");var p=g(a,D);d._mapboxAccessToken=l.mapboxAccessToken;if(b._initialAutoSizeIsDone){var v=b.width,x=b.height;r.supplyLayoutGlobalDefaults(e,d,p);e.width||(d.width=
v);e.height||(d.height=x)}else r.supplyLayoutGlobalDefaults(e,d,p),v=!e.width||!e.height,x=d.autosize,l=l.autosizable,v&&(x||l)?r.plotAutoSize(a,e,d):v&&r.sanitizeMargins(a),!x&&v&&(e.width=d.width,e.height=d.height);v=d.separators;p.decimal=v.charAt(0);p.thousands=v.charAt(1);p=h.locale(p);d._d3locale=p;d._extraFormat=g(a,z);d._initialAutoSizeIsDone=!0;d._dataLength=n.length;d._modules=[];d._basePlotModules=[];p={};if(!F)for(q in F=[],x=u.subplotsRegistry,x)if(l=x[q].attr)if(F.push(q),Array.isArray(l))for(v=
0;v<l.length;v++)f.pushUnique(F,l[v]);for(q=0;q<F.length;q++)p[F[q]]=[];d._subplots=p;d._globalTransforms=(a._context||{}).globalTransforms;r.supplyDataDefaults(n,m,e,d);d._has=r._hasPlotType.bind(d);p=d._modules;for(q=0;q<p.length;q++)v=p[q],v.cleanData&&v.cleanData(m);if(k.length===n.length)for(q=0;q<m.length;q++)C(m[q],k[q]);r.supplyLayoutModuleDefaults(e,d,m,a._transitionData);d._hasCartesian=d._has("cartesian");d._hasGeo=d._has("geo");d._hasGL3D=d._has("gl3d");d._hasGL2D=d._has("gl2d");d._hasTernary=
d._has("ternary");d._hasPie=d._has("pie");r.cleanPlot(m,d,k,b);r.linkSubplots(m,d,k,b);C(d,b);r.doAutoMargin(a);b=t.list(a);for(q=0;q<b.length;q++)b[q].setScale();if((a.calcdata||[]).length===m.length)for(q=0;q<m.length;q++)if(d=m[q],(b=a.calcdata[q][0])&&b.trace)if(b.trace._hasCalcTransform){k=d;n=b.trace;p=n._arrayAttrs;v={};for(e=0;e<p.length;e++)d=p[e],v[d]=f.nestedProperty(n,d).get().slice();b.trace=k;for(e=0;e<p.length;e++)d=p[e],f.nestedProperty(b.trace,d).set(v[d])}else b.trace=d}};var F;
r.createTransitionData=function(a){a._transitionData||(a._transitionData={});a._transitionData._frames||(a._transitionData._frames=[]);a._transitionData._frameHash||(a._transitionData._frameHash={});a._transitionData._counter||(a._transitionData._counter=0);a._transitionData._interruptCallbacks||(a._transitionData._interruptCallbacks=[])};r._hasPlotType=function(a){var b=this._basePlotModules||[],c;for(c=0;c<b.length;c++)if(b[c].name===a)return!0;b=this._modules||[];for(c=0;c<b.length;c++){var d=
b[c];if(d.categories&&0<=d.categories.indexOf(a))return!0}return!1};r.cleanPlot=function(a,b,c,d){var e,f,g=d._basePlotModules||[];for(e=0;e<g.length;e++){var h=g[e];h.clean&&h.clean(a,b,c,d)}g=!!d._paper;h=!!d._infolayer;e=d._has&&d._has("gl");b=b._has&&b._has("gl");e&&!b&&void 0!==d._glcontainer&&(d._glcontainer.selectAll(".gl-canvas").remove(),d._glcanvas=null);e=0;a:for(;e<c.length;e++){b=c[e].uid;for(f=0;f<a.length;f++)if(b===a[f].uid)continue a;f=".hm"+b+",.contour"+b+",.carpet"+b+",#clip"+
b+",.trace"+b;g&&d._paper.selectAll(f).remove();h&&(d._infolayer.selectAll(".cb"+b).remove(),d._infolayer.selectAll("g.rangeslider-container").selectAll(f).remove())}d._zoomlayer&&d._zoomlayer.selectAll(".select-outline").remove()};r.linkSubplots=function(a,b,c,d){var e=d._plots||{},f=b._plots={};c=b._subplots;b={_fullData:a,_fullLayout:b};c=c.cartesian.concat(c.gl2d||[]);for(d=0;d<c.length;d++){var g=c[d];var h=e[g];var k=t.getFromId(b,g,"x");var m=t.getFromId(b,g,"y");h?(h=f[g]=h,h.xaxis.layer!==
k.layer&&(h.xlines.attr("d",null),h.xaxislayer.selectAll("*").remove()),h.yaxis.layer!==m.layer&&(h.ylines.attr("d",null),h.yaxislayer.selectAll("*").remove())):(h=f[g]={},h.id=g);h.xaxis=k;h.yaxis=m;h._hasClipOnAxisFalse=!1;for(k=0;k<a.length;k++)if(g=a[k],g.xaxis===h.xaxis._id&&g.yaxis===h.yaxis._id&&!1===g.cliponaxis){h._hasClipOnAxisFalse=!0;break}}e=t.list(b,null,!0);for(d=0;d<e.length;d++)a=e[d],g=null,a.overlaying&&(g=t.getFromId(b,a.overlaying))&&g.overlaying&&(a.overlaying=!1,g=null),a._mainAxis=
g||a,g&&(a.domain=g.domain.slice()),a._anchorAxis="free"===a.anchor?null:t.getFromId(b,a.anchor);for(d=0;d<e.length;d++){a=e[d];f="x"===a._id.charAt(0);g=a._mainAxis._anchorAxis;var n=m=h="";g&&(n=g._mainAxis._id,h=f?a._id+n:n+a._id);if(!h||-1===c.indexOf(h))for(h="",k=0;k<c.length;k++){g=c[k];var l=g.indexOf("y"),q=f?g.substr(0,l):g.substr(l);l=f?g.substr(l):g.substr(0,l);if(q===a._id&&(m||(m=g),q=t.getFromId(b,l),n&&q.overlaying===n)){h=g;break}}a._mainSubplot=h||m}};r.clearExpandedTraceDefaultColors=
function(a){function b(a,b,c,f){d[f]=b;d.length=f+1;"color"===a.valType&&void 0===a.dflt&&e.push(d.join("."))}var c;var d=[];var e=a._module._colorAttrs;e||(a._module._colorAttrs=e=[],m.crawl(a._module.attributes,b));for(c=0;c<e.length;c++)f.nestedProperty(a,"_input."+e[c]).get()||f.nestedProperty(a,e[c]).set(null)};r.supplyDataDefaults=function(a,b,c,d){function e(a){b.push(a);var c=a._module;c&&(!0===a.visible&&f.pushUnique(g,c),f.pushUnique(h,a._module.basePlotModule),m++,!1!==a._input.visible&&
n++)}var g=d._modules,h=d._basePlotModules,m=0,n=0,l;d._transformModules=[];var q={},t=[];for(l=0;l<a.length;l++){var p=a[l];var w=r.supplyTraceDefaults(p,n,d,l);w.index=l;w._input=p;w._expandedIndex=m;if(w.transforms&&w.transforms.length)for(var v=k(w,b,c,d),y=0;y<v.length;y++){var x=v[y],B=r.supplyTraceDefaults(x,m,d,l);C(B,x);x.uid=B.uid=w.uid+y;B.index=l;B._input=p;B._fullInput=w;B._expandedIndex=m;B._expandedInput=x;e(B)}else w._fullInput=w,w._expandedInput=w,e(w);u.traceIs(w,"carpetAxis")&&
(q[w.carpet]=w);u.traceIs(w,"carpetDependent")&&t.push(l)}for(l=0;l<t.length;l++)w=b[t[l]],w.visible&&(a=q[w.carpet],(w._carpet=a)&&a.visible?(w.xaxis=a.xaxis,w.yaxis=a.yaxis):w.visible=!1)};r.supplyAnimationDefaults=function(a){a=a||{};var b,c={};f.coerce(a||{},c,v,"mode",void 0);f.coerce(a||{},c,v,"direction",void 0);f.coerce(a||{},c,v,"fromcurrent",void 0);if(Array.isArray(a.frame))for(c.frame=[],b=0;b<a.frame.length;b++)c.frame[b]=r.supplyAnimationFrameDefaults(a.frame[b]||{});else c.frame=r.supplyAnimationFrameDefaults(a.frame||
{});if(Array.isArray(a.transition))for(c.transition=[],b=0;b<a.transition.length;b++)c.transition[b]=r.supplyAnimationTransitionDefaults(a.transition[b]||{});else c.transition=r.supplyAnimationTransitionDefaults(a.transition||{});return c};r.supplyAnimationFrameDefaults=function(a){var b={};f.coerce(a||{},b,v.frame,"duration",void 0);f.coerce(a||{},b,v.frame,"redraw",void 0);return b};r.supplyAnimationTransitionDefaults=function(a){var b={};f.coerce(a||{},b,v.transition,"duration",void 0);f.coerce(a||
{},b,v.transition,"easing",void 0);return b};r.supplyFrameDefaults=function(a){function b(b,d){return f.coerce(a,c,x,b,d)}var c={};b("group");b("name");b("traces");b("baseframe");b("data");b("layout");return c};r.supplyTraceDefaults=function(a,b,c,d){function e(b,c){return f.coerce(a,h,r.attributes,b,c)}var g=c.colorway||q.defaults,h={};b=g[b%g.length];g=e("visible");e("type");e("uid");e("name",c._traceWord+" "+d);var k=r.getModule(h);if(h._module=k){var m=k.basePlotModule,n=m.attr;if(n){var l=c._subplots,
t=m.attributes,p="";if("gl2d"!==m.name||g){if(Array.isArray(n))for(d=0;d<n.length;d++){var w=n[d],v=f.coerce(a,h,t,w);l[w]&&f.pushUnique(l[w],v);p+=v}else p=f.coerce(a,h,t,n);l[m.name]&&f.pushUnique(l[m.name],p)}}}g&&(e("customdata"),e("ids"),u.traceIs(h,"showLegend")&&(e("showlegend"),e("legendgroup")),u.getComponentMethod("fx","supplyDefaults")(a,h,b,c),k&&(k.supplyDefaults(a,h,b,c),f.coerceHoverinfo(a,h,c)),u.traceIs(h,"noOpacity")||e("opacity"),u.traceIs(h,"notLegendIsolatable")&&(h.visible=!!h.visible),
k&&k.selectPoints&&e("selectedpoints"),r.supplyTransformDefaults(a,h,c));return h};r.supplyTransformDefaults=function(a,b,c){var d=c._globalTransforms||[],e=c._transformModules||[];if(Array.isArray(a.transforms)||0!==d.length){d=d.concat(a.transforms||[]);for(var g=b.transforms=[],h=0;h<d.length;h++){var k=d[h],m=k.type,n=A[m],l=!(k._module&&k._module===n),q=n&&"function"===typeof n.transform;n||f.warn("Unrecognized transform type "+m+".");n&&n.supplyDefaults&&(l||q)?(k=n.supplyDefaults(k,b,c,a),
k.type=m,k._module=n,f.pushUnique(e,n)):k=f.extendFlat({},k);g.push(k)}}};r.supplyLayoutGlobalDefaults=function(a,b,c){function d(c,d){return f.coerce(a,b,r.layoutAttributes,c,d)}var e=f.coerceFont(d,"font");d("title",b._dfltTitle.plot);f.coerceFont(d,"titlefont",{family:e.family,size:Math.round(1.4*e.size),color:e.color});d("autosize",!(a.width&&a.height));d("width");d("height");d("margin.l");d("margin.r");d("margin.t");d("margin.b");d("margin.pad");d("margin.autoexpand");a.width&&a.height&&r.sanitizeMargins(b);
u.getComponentMethod("grid","sizeDefaults")(a,b);d("paper_bgcolor");d("separators",c.decimal+c.thousands);d("hidesources");d("colorway");d("datarevision");u.getComponentMethod("calendars","handleDefaults")(a,b,"calendar");u.getComponentMethod("fx","supplyLayoutGlobalDefaults")(a,b,d)};r.plotAutoSize=function(a,b,c){var d=a._context||{},g=d.frameMargins,h=f.isPlotDiv(a);h&&a.emit("plotly_autosize");if(d.fillFrame){g=window.innerWidth;var k=window.innerHeight;document.body.style.overflow="hidden"}else if(e(g)&&
0<g){var m=a._boundingBoxMargins,n=0,l=0;h=d=0;if(m)for(k in m)m.hasOwnProperty(k)&&(n+=m[k].left||0,l+=m[k].right||0,d+=m[k].bottom||0,h+=m[k].top||0);k=n+l;d+=h;h=1-2*g;m=c._container&&c._container.node?c._container.node().getBoundingClientRect():{width:c.width,height:c.height};g=Math.round(h*(m.width-k));k=Math.round(h*(m.height-d))}else k=h?window.getComputedStyle(a):{},g=parseFloat(k.width)||c.width,k=parseFloat(k.height)||c.height;d=r.layoutAttributes.width.min;h=r.layoutAttributes.height.min;
g<d&&(g=d);k<h&&(k=h);d=!b.width&&1<Math.abs(c.width-g);if((b=!b.height&&1<Math.abs(c.height-k))||d)d&&(c.width=g),b&&(c.height=k);a._initialAutoSize||(a._initialAutoSize={width:g,height:k});r.sanitizeMargins(c)};r.supplyLayoutModuleDefaults=function(a,b,c,d){var e=u.componentsRegistry,g=b._basePlotModules,h;var k=u.subplotsRegistry.cartesian;for(h in e){var m=e[h];m.includeBasePlot&&m.includeBasePlot(a,b)}g.length||g.push(k);b._has("cartesian")&&(u.getComponentMethod("grid","contentDefaults")(a,
b),k.finalizeSubplots(a,b));for(var n in b._subplots)b._subplots[n].sort(f.subplotSort);for(k=0;k<g.length;k++)m=g[k],m.supplyLayoutDefaults&&m.supplyLayoutDefaults(a,b,c);g=b._modules;for(k=0;k<g.length;k++)m=g[k],m.supplyLayoutDefaults&&m.supplyLayoutDefaults(a,b,c);g=b._transformModules;for(k=0;k<g.length;k++)m=g[k],m.supplyLayoutDefaults&&m.supplyLayoutDefaults(a,b,c,d);for(h in e)m=e[h],m.supplyLayoutDefaults&&m.supplyLayoutDefaults(a,b,c)};r.purge=function(a){var b=a._fullLayout||{};void 0!==
b._glcontainer&&(b._glcontainer.selectAll(".gl-canvas").remove(),b._glcontainer.remove(),b._glcanvas=null);void 0!==b._geocontainer&&b._geocontainer.remove();b._modeBar&&b._modeBar.destroy();a._transitionData&&(a._transitionData._interruptCallbacks&&(a._transitionData._interruptCallbacks.length=0),a._transitionData._animationRaf&&window.cancelAnimationFrame(a._transitionData._animationRaf));f.clearThrottle();delete a.data;delete a.layout;delete a._fullData;delete a._fullLayout;delete a.calcdata;delete a.framework;
delete a.empty;delete a.fid;delete a.undoqueue;delete a.undonum;delete a.autoplay;delete a.changed;delete a._promises;delete a._redrawTimer;delete a.firstscatter;delete a._hmlumcount;delete a._hmpixcount;delete a._transitionData;delete a._transitioning;delete a._initialAutoSize;delete a._transitioningWithDuration;delete a._dragging;delete a._dragged;delete a._hoverdata;delete a._snapshotInProgress;delete a._editing;delete a._replotPending;delete a._mouseDownTime;delete a._legendMouseDownTime;a.removeAllListeners&&
a.removeAllListeners()};r.style=function(a){var b=a._fullLayout._modules,c=[],d;for(d=0;d<b.length;d++){var e=b[d];e.style&&f.pushUnique(c,e.style)}for(d=0;d<c.length;d++)c[d](a)};r.sanitizeMargins=function(a){if(a&&a.margin){var b=a.width,c=a.height;a=a.margin;var d=c-(a.t+a.b);0>b-(a.l+a.r)&&(b=(b-1)/(a.l+a.r),a.l=Math.floor(b*a.l),a.r=Math.floor(b*a.r));0>d&&(b=(c-1)/(a.t+a.b),a.t=Math.floor(b*a.t),a.b=Math.floor(b*a.b))}};r.autoMargin=function(a,b,c){var d=a._fullLayout;d._pushmargin||(d._pushmargin=
{});if(!1!==d.margin.autoexpand){if(c){var e=void 0===c.pad?12:c.pad;c.l+c.r>.5*d.width&&(c.l=c.r=0);c.b+c.t>.5*d.height&&(c.b=c.t=0);d._pushmargin[b]={l:{val:c.x,size:c.l+e},r:{val:c.x,size:c.r+e},b:{val:c.y,size:c.b+e},t:{val:c.y,size:c.t+e}}}else delete d._pushmargin[b];d._replotting||r.doAutoMargin(a)}};r.doAutoMargin=function(a){var b=a._fullLayout;b._size||(b._size={});b._pushmargin||(b._pushmargin={});var c=b._size,d=JSON.stringify(c),f=Math.max(b.margin.l||0,0),g=Math.max(b.margin.r||0,0),
h=Math.max(b.margin.t||0,0),k=Math.max(b.margin.b||0,0),m=b._pushmargin;if(!1!==b.margin.autoexpand){m.base={l:{val:0,size:f},r:{val:1,size:g},t:{val:1,size:h},b:{val:0,size:k}};for(var n in m){var l=m[n].l||{},q=m[n].b||{},t=l.val;l=l.size;var r=q.val;q=q.size;for(var p in m){if(e(l)&&m[p].r){var v=m[p].r.val,x=m[p].r.size;if(v>t){var B=(l*v+(x-b.width)*t)/(v-t);v=(x*(1-t)+(l-b.width)*(1-v))/(v-t);0<=B&&0<=v&&B+v>f+g&&(f=B,g=v)}}e(q)&&m[p].t&&(v=m[p].t.val,x=m[p].t.size,v>r&&(B=(q*v+(x-b.height)*
r)/(v-r),v=(x*(1-r)+(q-b.height)*(1-v))/(v-r),0<=B&&0<=v&&B+v>k+h&&(k=B,h=v)))}}}c.l=Math.round(f);c.r=Math.round(g);c.t=Math.round(h);c.b=Math.round(k);c.p=Math.round(b.margin.pad);c.w=Math.round(b.width)-c.l-c.r;c.h=Math.round(b.height)-c.t-c.b;if(!b._replotting&&"{}"!==d&&d!==JSON.stringify(b._size))return u.call("plot",a)};r.graphJson=function(a,b,c,d,e){function g(a){if("function"===typeof a)return null;if(f.isPlainObject(a)){var b={},d;for(d in a)if("function"!==typeof a[d]&&-1===["_","["].indexOf(d.charAt(0))){if("keepdata"===
c){if("src"===d.substr(d.length-3))continue}else if("keepstream"===c){var e=a[d+"src"];if("string"===typeof e&&0<e.indexOf(":")&&!f.isPlainObject(a.stream))continue}else if("keepall"!==c&&(e=a[d+"src"],"string"===typeof e&&0<e.indexOf(":")))continue;b[d]=g(a[d])}return b}return Array.isArray(a)?a.map(g):f.isJSDate(a)?f.ms2DateTimeLocal(+a):a}(e&&b&&!a._fullData||e&&!b&&!a._fullLayout)&&r.supplyDefaults(a);var h=e?a._fullLayout:a.layout,k=(a._transitionData||{})._frames;e={data:((e?a._fullData:a.data)||
[]).map(function(a){a=g(a);b&&delete a.fit;return a})};b||(e.layout=g(h));a.framework&&a.framework.isPolar&&(e=a.framework.getConfig());k&&(e.frames=g(k));return"object"===d?e:JSON.stringify(e)};r.modifyFrames=function(a,b){var c=a._transitionData._frames,d=a._transitionData._frameHash;for(a=0;a<b.length;a++){var e=b[a];switch(e.type){case "replace":var f=e.value;var g=(c[e.index]||{}).name,h=f.name;c[e.index]=d[h]=f;h!==g&&(delete d[g],d[h]=f);break;case "insert":f=e.value;d[f.name]=f;c.splice(e.index,
0,f);break;case "delete":f=c[e.index],delete d[f.name],c.splice(e.index,1)}}return Promise.resolve()};r.computeFrame=function(a,b){var c=a._transitionData._frameHash,d;if(!b)throw Error("computeFrame must be given a string frame name");b=c[b.toString()];if(!b)return!1;a=[b];for(d=[b.name];b.baseframe&&(b=c[b.baseframe.toString()])&&-1===d.indexOf(b.name);)a.push(b),d.push(b.name);for(var e={};b=a.pop();)if(b.layout&&(e.layout=r.extendLayout(e.layout,b.layout)),b.data){e.data||(e.data=[]);d=b.traces;
if(!d)for(d=[],c=0;c<b.data.length;c++)d[c]=c;e.traces||(e.traces=[]);for(c=0;c<b.data.length;c++){var f=d[c];if(void 0!==f&&null!==f){var g=e.traces.indexOf(f);-1===g&&(g=e.data.length,e.traces[g]=f);e.data[g]=r.extendTrace(e.data[g],b.data[c])}}}return e};r.recomputeFrameHash=function(a){var b=a._transitionData._frameHash={};a=a._transitionData._frames;for(var c=0;c<a.length;c++){var d=a[c];d&&d.name&&(b[d.name]=d)}};r.extendObjectWithContainers=function(a,b,c){b=f.extendDeepNoArrays({},b||{});
var d=f.expandObjectPaths(b);var e={};if(c&&c.length)for(b=0;b<c.length;b++){var g=f.nestedProperty(d,c[b]);var h=g.get();void 0===h?f.nestedProperty(e,c[b]).set(null):(g.set(null),f.nestedProperty(e,c[b]).set(h))}a=f.extendDeepNoArrays(a||{},d);if(c&&c.length)for(b=0;b<c.length;b++)if(g=f.nestedProperty(e,c[b]),d=g.get()){h=f.nestedProperty(a,c[b]);var k=h.get();Array.isArray(k)||(k=[],h.set(k));for(g=0;g<d.length;g++){var m=d[g];k[g]=null===m?null:r.extendObjectWithContainers(k[g],m)}h.set(k)}return a};
r.dataArrayContainers=["transforms","dimensions"];r.layoutArrayContainers=u.layoutArrayContainers;r.extendTrace=function(a,b){return r.extendObjectWithContainers(a,b,r.dataArrayContainers)};r.extendLayout=function(a,b){return r.extendObjectWithContainers(a,b,r.layoutArrayContainers)};r.transition=function(a,b,c,d,e,g){function h(a){if(a)for(;a.length;)a.shift()}function k(b){if(a._transitionData)return h(a._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(e.redraw)return u.call("redraw",
a)}).then(function(){a._transitioning=!1;a._transitioningWithDuration=!1;a.emit("plotly_transitioned",[])}).then(b)}var m=Array.isArray(b)?b.length:0,n=d.slice(0,m),l=[],q=!1;for(d=0;d<n.length;d++);(d=f.syncOrAsync([r.previousPromises,function(){if(a._transitionData){a._transitioning=!1;var b=a._transitionData._interruptCallbacks,c=Promise.resolve();if(b)for(;b.length;)c=c.then(b.shift());return c}},function(){var d;for(d=0;d<n.length;d++){var e=n[d],g=a._fullData[e]._module;g&&(g.animatable&&l.push(e),
a.data[n[d]]=r.extendTrace(a.data[n[d]],b[d]))}d=f.expandObjectPaths(f.extendDeepNoArrays({},c));e=/^[xy]axis[0-9]*$/;for(var h in d)e.test(h)&&delete d[h].range;r.extendLayout(a.layout,d);delete a.calcdata;r.supplyDefaults(a);r.doCalcdata(a);u.getComponentMethod("errorbars","calc")(a);return Promise.resolve()},r.rehover,function(){a.emit("plotly_transitioning",[]);return new Promise(function(b){function d(){h++;return function(){m++;q||m!==h||k(b)}}a._transitioning=!0;0<g.duration&&(a._transitioningWithDuration=
!0);a._transitionData._interruptCallbacks.push(function(){q=!0});e.redraw&&a._transitionData._interruptCallbacks.push(function(){return u.call("redraw",a)});a._transitionData._interruptCallbacks.push(function(){a.emit("plotly_transitioninterrupted",[])});var h=0,m=0,n,t=a._fullLayout._basePlotModules;var r=!1;if(c)for(n=0;n<t.length;n++)if(t[n].transitionAxes){var p=f.expandObjectPaths(c);r=t[n].transitionAxes(a,p,g,d)||r}r?(r=f.extendFlat({},g),r.duration=0):r=g;for(n=0;n<t.length;n++)t[n].plot(a,
l,r,d);setTimeout(d())})}],a))&&d.then||(d=Promise.resolve());return d.then(function(){return a})};r.doCalcdata=function(b,c){var e=t.list(b),f=b._fullData,g=b._fullLayout,h,k=Array(f.length);var n=(b.calcdata||[]).slice(0);b.calcdata=k;b.firstscatter=!0;g._numBoxes=0;g._numViolins=0;g._violinScaleGroupStats={};b._hmpixcount=0;b._hmlumcount=0;g._piecolormap={};g._piecolorway=null;for(h=g._piedefaultcolorcount=0;h<f.length;h++)Array.isArray(c)&&-1===c.indexOf(h)&&(k[h]=n[h]);for(h=0;h<f.length;h++)c=
f[h],c._arrayAttrs=m.findArrayAttributes(c);c=g._subplots.polar||[];for(h=0;h<c.length;h++)e.push(g[c[h]].radialaxis,g[c[h]].angularaxis);d(e);var l=!1;for(h=0;h<f.length;h++)if(c=f[h],!0===c.visible&&c.transforms)for((g=c._module)&&g.calc&&g.calc(b,c),n=0;n<c.transforms.length;n++){var q=c.transforms[n];(g=A[q.type])&&g.calcTransform&&(l=c._hasCalcTransform=!0,g.calcTransform(b,c,q))}l&&d(e);for(h=0;h<f.length;h++){e=[];c=f[h];if(!0===c.visible){g=c._module;l=c.transforms||[];for(n=l.length-1;0<=
n;n--)if(l[n].enabled){c._indexToPoints=l[n]._indexToPoints;break}g&&g.calc&&(e=g.calc(b,c))}Array.isArray(e)&&e[0]||(e=[{x:a,y:a}]);e[0].t||(e[0].t={});e[0].trace=c;k[h]=e}u.getComponentMethod("fx","calc")(b)};r.rehover=function(a){a._fullLayout._rehover&&a._fullLayout._rehover()};r.generalUpdatePerTraceModule=function(a,b,c,d){var e=b.traceHash,g={},h;for(h=0;h<c.length;h++){var k=c[h],m=k[0].trace;m.visible&&(g[m.type]=g[m.type]||[],g[m.type].push(k))}for(var n in e)g[n]||(c=e[n][0],c[0].trace.visible=
!1,g[n]=[c]);for(var l in g)e=g[l],e[0][0].trace._module.plot(a,b,f.filterVisible(e),d);b.traceHash=g}},{"../components/color":291,"../constants/numerical":395,"../lib":414,"../plot_api/plot_schema":449,"../plots/cartesian/axis_ids":461,"../registry":517,"./animation_attributes":453,"./attributes":455,"./command":483,"./font_attributes":485,"./frame_attributes":486,"./layout_attributes":500,d3:86,"fast-isnumeric":95}],503:[function(b,p,l){b=b("../../../traces/scatter/attributes");l=b.marker;p.exports=
{r:b.r,t:b.t,marker:{color:l.color,size:l.size,symbol:l.symbol,opacity:l.opacity,editType:"calc"}}},{"../../../traces/scatter/attributes":565}],504:[function(b,p,l){function n(b,d){b={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",b,"axis will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",b,"axis ticks will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",
values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective) of the",b,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",b,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",b,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",b,"axis."].join(" ")},
endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:"Determines whether or not this axis will be visible."}};return g({},d,b)}l=b("../../cartesian/layout_attributes");var g=b("../../../lib/extend").extendFlat;b=b("../../../plot_api/edit_types").overrideAll;l=g({},l.domain,{description:"Polar chart subplots are not supported yet. This key has currently no effect."});p.exports=b({radialaxis:n("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},
{valType:"number"}],description:"Defines the start and end point of this radial axis."},domain:l,orientation:{valType:"number",role:"style",description:"Sets the orientation (an angle with respect to the origin) of the radial axis."}}),angularaxis:n("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:"Defines the start and end point of this angular axis."},domain:l}),layout:{direction:{valType:"enumerated",values:["clockwise",
"counterclockwise"],role:"info",description:"For polar plots only. Sets the direction corresponding to positive angles."},orientation:{valType:"angle",role:"info",description:"For polar plots only. Rotates the entire polar by the given angle."}}},"plot","nested")},{"../../../lib/extend":406,"../../../plot_api/edit_types":443,"../../cartesian/layout_attributes":470}],505:[function(b,p,l){(p.exports=b("./micropolar")).manager=b("./micropolar_manager")},{"./micropolar":506,"./micropolar_manager":507}],
506:[function(b,p,l){var n=b("d3"),g=b("../../../lib").extendDeepAll,k=b("../../../constants/alignment").MID_SHIFT,d=p.exports={version:"0.2.2"};d.Axis=function(){function b(b){f=b||f;b=e.data;var c=e.layout;if("string"==typeof f||f.nodeName)f=n.select(f);f.datum(b).each(function(b,e){b=b.slice();m={data:d.util.cloneJson(b),layout:d.util.cloneJson(c)};var f=0;b.forEach(function(a,b){a.color||(a.color=c.defaultColorRange[f],f=(f+1)%c.defaultColorRange.length);a.strokeColor||(a.strokeColor="LinePlot"===
a.geometry?a.color:n.rgb(a.color).darker().toString());m.data[b].color=a.color;m.data[b].strokeColor=a.strokeColor;m.data[b].strokeDash=a.strokeDash;m.data[b].strokeSize=a.strokeSize});b=b.filter(function(a,b){a=a.visible;return"undefined"===typeof a||!0===a});var h=!1;e=b.map(function(a,b){h=h||"undefined"!==typeof a.groupId;return a});if(h){var l=[];b=n.nest().key(function(a,b){return"undefined"!=typeof a.groupId?a.groupId:"unstacked"}).entries(e).map(function(a,b){if("unstacked"!==a.key){var c=
a.values[0].r.map(function(a,b){return 0});a.values.forEach(function(a,b,e){a.yStack=[c];l.push(c);c=d.util.sumArrays(a.r,c)})}return a.values});b=n.merge(b)}b.forEach(function(a,b){a.t=Array.isArray(a.t[0])?a.t:[a.t];a.r=Array.isArray(a.r[0])?a.r:[a.r]});var r=Math.min(c.width-c.margin.left-c.margin.right,c.height-c.margin.top-c.margin.bottom)/2;r=Math.max(10,r);var p=[c.margin.left+r,c.margin.top+r];e=h?[0,n.max(d.util.sumArrays(d.util.arrayLast(b).r[0],d.util.arrayLast(l)))]:n.extent(d.util.flattenArray(b.map(function(a,
b){return a.r})));c.radialAxis.domain!=d.DATAEXTENT&&(e[0]=0);q=n.scale.linear().domain(c.radialAxis.domain!=d.DATAEXTENT&&c.radialAxis.domain?c.radialAxis.domain:e).range([0,r]);m.layout.radialAxis.domain=q.domain();var u=d.util.flattenArray(b.map(function(a,b){return a.t})),v="string"===typeof u[0];if(v){u=d.util.deduplicate(u);var x=u.slice();u=n.range(u.length);b=b.map(function(a,b){a.t=[u];h&&(a.yStack=a.yStack);return a})}var A=b.filter(function(a,b){return"LinePlot"===a.geometry||"DotPlot"===
a.geometry}).length===b.length;e=null===c.needsEndSpacing?v||!A:c.needsEndSpacing;var C=c.angularAxis.domain&&c.angularAxis.domain!=d.DATAEXTENT&&!v&&0<=c.angularAxis.domain[0]?c.angularAxis.domain:n.extent(u),H=Math.abs(u[1]-u[0]);A&&!v&&(H=0);C=C.slice();e&&v&&(C[1]+=H);A=c.angularAxis.ticksCount||4;8<A&&(A=A/(A/8)+A%8);c.angularAxis.ticksStep&&(A=(C[1]-C[0])/A);A=c.angularAxis.ticksStep||(C[1]-C[0])/(A*(c.minorTicks+1));x&&(A=Math.max(Math.round(A),1));C[2]||(C[2]=A);A=n.range.apply(this,C);A=
A.map(function(a,b){return parseFloat(a.toPrecision(12))});a=n.scale.linear().domain(C.slice(0,2)).range("clockwise"===c.direction?[0,360]:[360,0]);m.layout.angularAxis.domain=a.domain();m.layout.angularAxis.endPadding=e?H:0;t=n.select(this).select("svg.chart-root");if("undefined"===typeof t||t.empty())e=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>",
"application/xml"),e=this.appendChild(this.ownerDocument.importNode(e.documentElement,!0)),t=n.select(e);t.select(".guides-group").style({"pointer-events":"none"});t.select(".angular.axis-group").style({"pointer-events":"none"});t.select(".radial.axis-group").style({"pointer-events":"none"});e=t.select(".chart-group");C={fill:"none",stroke:c.tickColor};var L={"font-size":c.font.size,"font-family":c.font.family,fill:c.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(a,
b){return" "+a+" 0 "+c.font.outlineColor}).join(",")};if(c.showLegend){H=t.select(".legend-group").attr({transform:"translate("+[r,c.margin.top]+")"}).style({display:"block"});var N=b.map(function(a,b){b=d.util.cloneJson(a);b.symbol="DotPlot"===a.geometry?a.dotType||"circle":"LinePlot"!=a.geometry?"square":"line";b.visibleInLegend="undefined"===typeof a.visibleInLegend||a.visibleInLegend;b.color="LinePlot"===a.geometry?a.strokeColor:a.color;return b});d.Legend().config({data:b.map(function(a,b){return a.name||
"Element"+b}),legendConfig:g({},d.Legend.defaultConfig().legendConfig,{container:H,elements:N,reverseOrder:c.legend.reverseOrder})})();N=H.node().getBBox();r=Math.min(c.width-N.width-c.margin.left-c.margin.right,c.height-c.margin.top-c.margin.bottom)/2;r=Math.max(10,r);p=[c.margin.left+r,c.margin.top+r];q.range([0,r]);m.layout.radialAxis.domain=q.domain();H.attr("transform","translate("+[p[0]+r,p[1]-r]+")")}else H=t.select(".legend-group").style({display:"none"});t.attr({width:c.width,height:c.height}).style({opacity:c.opacity});
e.attr("transform","translate("+p+")").style({cursor:"crosshair"});var M=[(c.width-(c.margin.left+c.margin.right+2*r+(N?N.width:0)))/2,(c.height-(c.margin.top+c.margin.bottom+2*r))/2];M[0]=Math.max(0,M[0]);M[1]=Math.max(0,M[1]);t.select(".outer-group").attr("transform","translate("+M+")");if(c.title){N=t.select("g.title-group text").style(L).text(c.title);var Z=N.node().getBBox();N.attr({x:p[0]-Z.width/2,y:p[1]-r-20})}N=t.select(".radial.axis-group");c.radialAxis.gridLinesVisible&&(Z=N.selectAll("circle.grid-circle").data(q.ticks(5)),
Z.enter().append("circle").attr({"class":"grid-circle"}).style(C),Z.attr("r",q),Z.exit().remove());N.select("circle.outside-circle").attr({r:r}).style(C);var Q=t.select("circle.background-circle").attr({r:r}).style({fill:c.backgroundColor,stroke:c.stroke});c.radialAxis.visible&&(Z=n.svg.axis().scale(q).ticks(5).tickSize(5),N.call(Z).attr({transform:"rotate("+c.radialAxis.orientation+")"}),N.selectAll(".domain").style(C),N.selectAll("g>text").text(function(a,b){return this.textContent+c.radialAxis.ticksSuffix}).style(L).style({"text-anchor":"start"}).attr({x:0,
y:0,dx:0,dy:0,transform:function(a,b){return"horizontal"===c.radialAxis.tickOrientation?"rotate("+-c.radialAxis.orientation+") translate("+[0,L["font-size"]]+")":"translate("+[0,L["font-size"]]+")"}}),N.selectAll("g>line").style({stroke:"black"}));N=t.select(".angular.axis-group").selectAll("g.angular-tick").data(A);A=N.enter().append("g").classed("angular-tick",!0);N.attr({transform:function(b,d){return"rotate("+(a(b)%360+c.orientation)+")"}}).style({display:c.angularAxis.visible?"block":"none"});
N.exit().remove();A.append("line").classed("grid-line",!0).classed("major",function(a,b){return 0==b%(c.minorTicks+1)}).classed("minor",function(a,b){return 0!=b%(c.minorTicks+1)}).style(C);A.selectAll(".minor").style({stroke:c.minorTickColor});N.select("line.grid-line").attr({x1:c.tickLength?r-c.tickLength:0,x2:r}).style({display:c.angularAxis.gridLinesVisible?"block":"none"});A.append("text").classed("axis-text",!0).style(L);N=N.select("text.axis-text").attr({x:r+c.labelOffset,dy:k+"em",transform:function(b,
d){b=a(b)%360+c.orientation;d=r+c.labelOffset;var e=c.angularAxis.tickOrientation;return"horizontal"==e?"rotate("+-b+" "+d+" 0)":"radial"==e?270>b&&90<b?"rotate(180 "+d+" 0)":null:"rotate("+(180>=b&&0<b?-90:90)+" "+d+" 0)"}}).style({"text-anchor":"middle",display:c.angularAxis.labelsVisible?"block":"none"}).text(function(a,b){return 0!=b%(c.minorTicks+1)?"":x?x[a]+c.angularAxis.ticksSuffix:a+c.angularAxis.ticksSuffix}).style(L);c.angularAxis.rewriteTicks&&N.text(function(a,b){return 0!=b%(c.minorTicks+
1)?"":c.angularAxis.rewriteTicks(this.textContent,b)});N=n.max(e.selectAll(".angular-tick text")[0].map(function(a,b){return a.getCTM().e+a.getBBox().width}));H.attr({transform:"translate("+[r+N,c.margin.top]+")"});N=0<t.select("g.geometry-group").selectAll("g").size();var P=t.select("g.geometry-group").selectAll("g.geometry").data(b);P.enter().append("g").attr({"class":function(a,b){return"geometry geometry"+b}});P.exit().remove();if(b[0]||N){var U=[];b.forEach(function(b,d){var e={};e.radialScale=
q;e.angularScale=a;e.container=P.filter(function(a,b){return b==d});e.geometry=b.geometry;e.orientation=c.orientation;e.direction=c.direction;e.index=d;U.push({data:b,geometryConfig:e})});var aa=[];n.nest().key(function(a,b){return"undefined"!=typeof a.data.groupId||"unstacked"}).entries(U).forEach(function(a,b){"unstacked"===a.key?aa=aa.concat(a.values.map(function(a,b){return[a]})):aa.push(a.values)});aa.forEach(function(a,b){var c=Array.isArray(a)?a[0].geometryConfig.geometry:a.geometryConfig.geometry;
a=a.map(function(a,b){return g(d[c].defaultConfig(),a)});d[c]().config(a)()})}var W=t.select(".guides-group");b=t.select(".tooltips-group");var R=d.tooltipPanel().config({container:b,fontSize:8})(),T=d.tooltipPanel().config({container:b,fontSize:8})(),ea=d.tooltipPanel().config({container:b,hasTick:!0})(),S,V;if(!v){var ba=W.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});e.on("mousemove.angular-guide",function(b,e){b=d.util.getMousePos(Q).angle;ba.attr({x2:-r,
transform:"rotate("+b+")"}).style({opacity:.5});S=a.invert((b+180+360-c.orientation)%360);b=d.util.convertToCartesian(r+12,b+180);R.text(d.util.round(S)).move([b[0]+p[0],b[1]+p[1]])}).on("mouseout.angular-guide",function(a,b){W.select("line").style({opacity:0})})}var ja=W.select("circle").style({stroke:"grey",fill:"none"});e.on("mousemove.radial-guide",function(a,b){a=d.util.getMousePos(Q).radius;ja.attr({r:a}).style({opacity:.5});V=q.invert(d.util.getMousePos(Q).radius);a=d.util.convertToCartesian(a,
c.radialAxis.orientation);T.text(d.util.round(V)).move([a[0]+p[0],a[1]+p[1]])}).on("mouseout.radial-guide",function(a,b){ja.style({opacity:0});ea.hide();R.hide();T.hide()});t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(a,b){var c=n.select(this);b=this.style.fill;c.attr({"data-opacity":this.style.opacity||1});if(b&&"none"!==b){c.attr({"data-fill":b});b=n.hsl(b).darker().toString();c.style({fill:b,opacity:1});c=d.util.round(a[0]);var e=d.util.round(a[1]);v&&(c=x[a[0]]);a="t: "+
c+", r: "+e;c=this.getBoundingClientRect();e=t.node().getBoundingClientRect();c=[c.left+c.width/2-M[0]-e.left,c.top+c.height/2-M[1]-e.top];ea.config({color:b}).text(a);ea.move(c)}else b=this.style.stroke||"black",c.attr({"data-stroke":b}),b=n.hsl(b).darker().toString(),c.style({stroke:b,opacity:1})}).on("mousemove.tooltip",function(a,b){if(0!=n.event.which)return!1;n.select(this).attr("data-fill")&&ea.show()}).on("mouseout.tooltip",function(a,b){ea.hide();a=n.select(this);(b=a.attr("data-fill"))?
a.style({fill:b,opacity:a.attr("data-opacity")}):a.style({stroke:a.attr("data-stroke"),opacity:a.attr("data-opacity")})})});return r}var e={data:[],layout:{}},l={},m={},t,f,c=n.dispatch("hover"),q,a,r={render:function(a){b(a);return this},config:function(a){if(!arguments.length)return e;var b=d.util.cloneJson(a);b.data.forEach(function(a,b){e.data[b]||(e.data[b]={});g(e.data[b],d.Axis.defaultConfig().data[0]);g(e.data[b],a)});g(e.layout,d.Axis.defaultConfig().layout);g(e.layout,b.layout);return this},
getLiveConfig:function(){return m},getinputConfig:function(){return l},radialScale:function(a){return q},angularScale:function(b){return a},svg:function(){return t}};n.rebind(r,c,"on");return r};d.Axis.defaultConfig=function(b,d){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:n.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,
bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",
backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}};d.util={};d.DATAEXTENT="dataExtent";d.AREA="AreaChart";d.LINE="LinePlot";d.DOT="DotPlot";d.BAR="BarChart";d.util._override=function(b,d){for(var e in b)e in d&&(d[e]=b[e])};d.util._extend=function(b,d){for(var e in b)d[e]=b[e]};d.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)};d.util.dataFromEquation2=function(b,d){d=d||6;return n.range(0,360+d,d).map(function(d,
e){e=b(d*Math.PI/180);return[d,e]})};d.util.dataFromEquation=function(b,d,g){d=d||6;var e=[],h=[];n.range(0,360+d,d).forEach(function(d,c){c=b(d*Math.PI/180);e.push(d);h.push(c)});d={t:e,r:h};g&&(d.name=g);return d};d.util.ensureArray=function(b,d){if("undefined"===typeof b)return null;var e=[].concat(b);return n.range(d).map(function(b,d){return e[d]||e[0]})};d.util.fillArrays=function(b,e,g){e.forEach(function(e,h){b[e]=d.util.ensureArray(b[e],g)});return b};d.util.cloneJson=function(b){return JSON.parse(JSON.stringify(b))};
d.util.validateKeys=function(b,d){"string"===typeof d&&(d=d.split("."));var e=d.shift();return b[e]&&(!d.length||objHasKeys(b[e],d))};d.util.sumArrays=function(b,d){return n.zip(b,d).map(function(b,d){return n.sum(b)})};d.util.arrayLast=function(b){return b[b.length-1]};d.util.arrayEqual=function(b,d){for(var e=Math.max(b.length,d.length,1);0<=e--&&b[e]===d[e];);return-2===e};d.util.flattenArray=function(b){for(var e=[];!d.util.arrayEqual(e,b);)e=b,b=[].concat.apply([],b);return b};d.util.deduplicate=
function(b){return b.filter(function(b,d,g){return g.indexOf(b)==d})};d.util.convertToCartesian=function(b,d){d=d*Math.PI/180;return[b*Math.cos(d),b*Math.sin(d)]};d.util.round=function(b,d){d=Math.pow(10,d||2);return Math.round(b*d)/d};d.util.getMousePos=function(b){b=n.mouse(b.node());var d=b[0],g=b[1],h={};h.x=d;h.y=g;h.pos=b;h.angle=180*(Math.atan2(g,d)+Math.PI)/Math.PI;h.radius=Math.sqrt(d*d+g*g);return h};d.util.duplicatesCount=function(b){for(var d={},g,h={},k=0,f=b.length;k<f;k++)g=b[k],g in
d?(d[g]++,h[g]=d[g]):d[g]=1;return h};d.util.duplicates=function(b){return Object.keys(d.util.duplicatesCount(b))};d.util.translator=function(b,d,g,k){k&&(k=g.slice(),g=d,d=k);var e=d.reduce(function(b,c){if("undefined"!=typeof b)return b[c]},b);"undefined"!==typeof e&&(d.reduce(function(b,c,e){if("undefined"!=typeof b)return e===d.length-1&&delete b[c],b[c]},b),g.reduce(function(b,c,d){"undefined"===typeof b[c]&&(b[c]={});d===g.length-1&&(b[c]=e);return b[c]},b))};d.PolyChart=function(){function b(){var b=
e[0].geometryConfig,d=b.container;"string"==typeof d&&(d=n.select(d));d.datum(e).each(function(c,d){var a=!!c[0].data.yStack,e=c.map(function(b,c){return a?n.zip(b.data.t[0],b.data.r[0],b.data.yStack[0]):n.zip(b.data.t[0],b.data.r[0])}),f=b.angularScale,g=b.radialScale.domain()[0],h={bar:function(a,d,e){e=c[e].data;d=b.radialScale(a[1])-b.radialScale(0);a=b.radialScale(a[2]||0);e=e.barWidth;n.select(this).attr({"class":"mark bar",d:"M"+[[d+a,-e/2],[d+a,e/2],[a,e/2],[a,-e/2]].join("L")+"Z",transform:function(a,
c){return"rotate("+(b.orientation+f(a[0]))+")"}})},dot:function(a,d,e){var f=a[2]?[a[0],a[1]+a[2]]:a;a=n.svg.symbol().size(c[e].data.dotSize).type(c[e].data.dotType)(a,d);n.select(this).attr({"class":"mark dot",d:a,transform:function(a,c){a=b.radialScale(f[1]);c=(b.angularScale(f[0])+b.orientation)*Math.PI/180;return"translate("+[a*Math.cos(c),a*Math.sin(c)]+")"}})}},k=n.svg.line.radial().interpolate(c[0].data.lineInterpolation).radius(function(a){return b.radialScale(a[1])}).angle(function(a){return b.angularScale(a[0])*
Math.PI/180});h.line=function(a,d,f){var g=a[2]?e[f].map(function(a,b){return[a[0],a[1]+a[2]]}):e[f];n.select(this).each(h.dot).style({opacity:function(a,b){return+c[f].data.dotVisible},fill:t.stroke(a,d,f)}).attr({"class":"mark dot"});if(!(0<d)){var m=n.select(this.parentNode).selectAll("path.line").data([0]);m.enter().insert("path");m.attr({"class":"line",d:k(g),transform:function(a,c){return"rotate("+(b.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(b,c){return t.fill(a,d,
f)},"fill-opacity":0,stroke:function(b,c){return t.stroke(a,d,f)},"stroke-width":function(b,c){return t["stroke-width"](a,d,f)},"stroke-dasharray":function(b,c){return t["stroke-dasharray"](a,d,f)},opacity:function(b,c){return t.opacity(a,d,f)},display:function(b,c){return t.display(a,d,f)}})}};d=b.angularScale.range();var l=Math.abs(d[1]-d[0])/e[0].length*Math.PI/180,q=n.svg.arc().startAngle(function(a){return-l/2}).endAngle(function(a){return l/2}).innerRadius(function(a){return b.radialScale(g+
(a[2]||0))}).outerRadius(function(a){return b.radialScale(g+(a[2]||0))+b.radialScale(a[1])});h.arc=function(a,c,d){n.select(this).attr({"class":"mark arc",d:q,transform:function(a,c){return"rotate("+(b.orientation+f(a[0])+90)+")"}})};var t={fill:function(a,b,d){return c[d].data.color},stroke:function(a,b,d){return c[d].data.strokeColor},"stroke-width":function(a,b,d){return c[d].data.strokeSize+"px"},"stroke-dasharray":function(a,b,d){return m[c[d].data.strokeDash]},opacity:function(a,b,d){return c[d].data.opacity},
display:function(a,b,d){return"undefined"===typeof c[d].data.visible||c[d].data.visible?"block":"none"}};d=n.select(this).selectAll("g.layer").data(e);d.enter().append("g").attr({"class":"layer"});var p=d.selectAll("path.mark").data(function(a,b){return a});p.enter().append("path").attr({"class":"mark"});p.style(t).each(h[b.geometryType]);p.exit().remove();d.exit().remove()})}var e=[d.PolyChart.defaultConfig()],k=n.dispatch("hover"),m={solid:"none",dash:[5,2],dot:[2,5]};b.config=function(b){if(!arguments.length)return e;
b.forEach(function(b,c){e[c]||(e[c]={});g(e[c],d.PolyChart.defaultConfig());g(e[c],b)});return this};b.getColorScale=function(){};n.rebind(b,k,"on");return b};d.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,
container:"body",radialScale:null,angularScale:null,colorScale:n.scale.category20()}}};d.BarChart=function(){return d.PolyChart()};d.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}};d.AreaChart=function(){return d.PolyChart()};d.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}};d.DotPlot=function(){return d.PolyChart()};d.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}};d.LinePlot=function(){return d.PolyChart()};
d.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}};d.Legend=function(){function b(){var d=e.legendConfig,h=e.data.map(function(a,b){return[].concat(a).map(function(a,c){var e=g({},d.elements[b]);e.name=a;e.color=[].concat(d.elements[b].color)[c];return e})}),f=n.merge(h);f=f.filter(function(a,b){return d.elements[b]&&(d.elements[b].visibleInLegend||"undefined"===typeof d.elements[b].visibleInLegend)});d.reverseOrder&&(f=f.reverse());var c=d.container;if("string"==typeof c||
c.nodeName)c=n.select(c);var k=f.map(function(a,b){return a.color}),a=d.fontSize,l=(h=null==d.isContinuous?"number"===typeof f[0]:d.isContinuous)?d.height:a*f.length;c=c.classed("legend-group",!0).selectAll("svg").data([0]);var p=c.enter().append("svg").attr({width:300,height:l+a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0);p.append("g").classed("legend-marks",!0);p=n.range(f.length);var u=n.scale[h?"linear":
"ordinal"]().domain(p).range(k),C=n.scale[h?"linear":"ordinal"]().domain(p)[h?"range":"rangePoints"]([0,l]);h?(l=c.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(k),l.enter().append("stop"),l.attr({offset:function(a,b){return b/(k.length-1)*100+"%"}}).style({"stop-color":function(a,b){return a}}),c.append("rect").classed("legend-mark",!0).attr({height:d.height,width:d.colorBandWidth,fill:"url(#grad1)"})):
(l=c.select(".legend-marks").selectAll("path.legend-mark").data(f),l.enter().append("path").classed("legend-mark",!0),l.attr({transform:function(b,c){return"translate("+[a/2,C(c)+a/2]+")"},d:function(b,c){b=b.symbol;c=3*a;b="line"===b?"M"+[[-a/2,-a/12],[a/2,-a/12],[a/2,a/12],[-a/2,a/12]]+"Z":-1!=n.svg.symbolTypes.indexOf(b)?n.svg.symbol().type(b).size(c)():n.svg.symbol().type("square").size(c)();return b},fill:function(a,b){return u(b)}}),l.exit().remove());l=n.svg.axis().scale(C).orient("right");
c=c.select("g.legend-axis").attr({transform:"translate("+[h?d.colorBandWidth:a,a/2]+")"}).call(l);c.selectAll(".domain").style({fill:"none",stroke:"none"});c.selectAll("line").style({fill:"none",stroke:h?d.textColor:"none"});c.selectAll("text").style({fill:d.textColor,"font-size":d.fontSize}).text(function(a,b){return f[b].name});return b}var e=d.Legend.defaultConfig(),k=n.dispatch("hover");b.config=function(b){if(!arguments.length)return e;g(e,b);return this};n.rebind(b,k,"on");return b};d.Legend.defaultConfig=
function(b,d){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}};d.tooltipPanel=function(){var b,e,k,m={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+d.tooltipPanel.uid++,f=function(){b=m.container.selectAll("g."+l).data([0]);var c=b.enter().append("g").classed(l,
!0).style({"pointer-events":"none",display:"none"});k=c.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"});e=c.append("text").attr({dx:m.padding+10,dy:.3*+m.fontSize});return f};f.text=function(c){var d=n.hsl(m.color).l,a=.5<=d?"#aaa":"white";c=c||"";e.style({fill:.5<=d?"black":"white","font-size":m.fontSize+"px"}).text(c);d=m.padding;c=e.node().getBBox();a={fill:m.color,stroke:a,"stroke-width":"2px"};var g=c.width+2*d+10;c=c.height+2*d;k.attr({d:"M"+[[10,-c/2],[10,-c/4],[m.hasTick?
0:10,0],[10,c/4],[10,c/2],[g,c/2],[g,-c/2]].join("L")+"Z"}).style(a);b.attr({transform:"translate("+[10,-c/2+2*d]+")"});b.style({display:"block"});return f};f.move=function(c){if(b)return b.attr({transform:"translate("+[c[0],c[1]]+")"}).style({display:"block"}),f};f.hide=function(){if(b)return b.style({display:"none"}),f};f.show=function(){if(b)return b.style({display:"block"}),f};f.config=function(b){g(m,b);return f};return f};d.tooltipPanel.uid=1;d.adapter={};d.adapter.plotly=function(){return{convert:function(b,
e){var h={};if(b.data&&(h.data=b.data.map(function(b,a){b=g({},b);[[b,["marker","color"],["color"]],[b,["marker","opacity"],["opacity"]],[b,["marker","line","color"],["strokeColor"]],[b,["marker","line","dash"],["strokeDash"]],[b,["marker","line","width"],["strokeSize"]],[b,["marker","symbol"],["dotType"]],[b,["marker","size"],["dotSize"]],[b,["marker","barWidth"],["barWidth"]],[b,["line","interpolation"],["lineInterpolation"]],[b,["showlegend"],["visibleInLegend"]]].forEach(function(a,b){d.util.translator.apply(null,
a.concat(e))});e||delete b.marker;e&&delete b.groupId;e?("LinePlot"===b.geometry?(b.type="scatter",!0===b.dotVisible?(delete b.dotVisible,b.mode="lines+markers"):b.mode="lines"):"DotPlot"===b.geometry?(b.type="scatter",b.mode="markers"):"AreaChart"===b.geometry?b.type="area":"BarChart"===b.geometry&&(b.type="bar"),delete b.geometry):("scatter"===b.type?"lines"===b.mode?b.geometry="LinePlot":"markers"===b.mode?b.geometry="DotPlot":"lines+markers"===b.mode&&(b.geometry="LinePlot",b.dotVisible=!0):"area"===
b.type?b.geometry="AreaChart":"bar"===b.type&&(b.geometry="BarChart"),delete b.mode,delete b.type);return b}),!e&&b.layout&&"stack"===b.layout.barmode)){var k=d.util.duplicates(h.data.map(function(b,a){return b.geometry}));h.data.forEach(function(b,a){b=k.indexOf(b.geometry);-1!=b&&(h.data[a].groupId=b)})}if(b.layout){b=g({},b.layout);[[b,["plot_bgcolor"],["backgroundColor"]],[b,["showlegend"],["showLegend"]],[b,["radialaxis"],["radialAxis"]],[b,["angularaxis"],["angularAxis"]],[b.angularaxis,["showline"],
["gridLinesVisible"]],[b.angularaxis,["showticklabels"],["labelsVisible"]],[b.angularaxis,["nticks"],["ticksCount"]],[b.angularaxis,["tickorientation"],["tickOrientation"]],[b.angularaxis,["ticksuffix"],["ticksSuffix"]],[b.angularaxis,["range"],["domain"]],[b.angularaxis,["endpadding"],["endPadding"]],[b.radialaxis,["showline"],["gridLinesVisible"]],[b.radialaxis,["tickorientation"],["tickOrientation"]],[b.radialaxis,["ticksuffix"],["ticksSuffix"]],[b.radialaxis,["range"],["domain"]],[b.angularAxis,
["showline"],["gridLinesVisible"]],[b.angularAxis,["showticklabels"],["labelsVisible"]],[b.angularAxis,["nticks"],["ticksCount"]],[b.angularAxis,["tickorientation"],["tickOrientation"]],[b.angularAxis,["ticksuffix"],["ticksSuffix"]],[b.angularAxis,["range"],["domain"]],[b.angularAxis,["endpadding"],["endPadding"]],[b.radialAxis,["showline"],["gridLinesVisible"]],[b.radialAxis,["tickorientation"],["tickOrientation"]],[b.radialAxis,["ticksuffix"],["ticksSuffix"]],[b.radialAxis,["range"],["domain"]],
[b.font,["outlinecolor"],["outlineColor"]],[b.legend,["traceorder"],["reverseOrder"]],[b,["labeloffset"],["labelOffset"]],[b,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(b,a){d.util.translator.apply(null,b.concat(e))});e?("undefined"!==typeof b.tickLength&&(b.angularaxis.ticklen=b.tickLength,delete b.tickLength),b.tickColor&&(b.angularaxis.tickcolor=b.tickColor,delete b.tickColor)):(b.angularAxis&&"undefined"!==typeof b.angularAxis.ticklen&&(b.tickLength=b.angularAxis.ticklen),b.angularAxis&&
"undefined"!==typeof b.angularAxis.tickcolor&&(b.tickColor=b.angularAxis.tickcolor));b.legend&&"boolean"!=typeof b.legend.reverseOrder&&(b.legend.reverseOrder="normal"!=b.legend.reverseOrder);b.legend&&"boolean"==typeof b.legend.traceorder&&(b.legend.traceorder=b.legend.traceorder?"reversed":"normal",delete b.legend.reverseOrder);if(b.margin&&"undefined"!=typeof b.margin.t){var l=["t","r","b","l","pad"],f=["top","right","bottom","left","pad"],c={};n.entries(b.margin).forEach(function(b,a){c[f[l.indexOf(b.key)]]=
b.value});b.margin=c}e&&(delete b.needsEndSpacing,delete b.minorTickColor,delete b.minorTicks,delete b.angularaxis.ticksCount,delete b.angularaxis.ticksCount,delete b.angularaxis.ticksStep,delete b.angularaxis.rewriteTicks,delete b.angularaxis.nticks,delete b.radialaxis.ticksCount,delete b.radialaxis.ticksCount,delete b.radialaxis.ticksStep,delete b.radialaxis.rewriteTicks,delete b.radialaxis.nticks);h.layout=b}return h}}}},{"../../../constants/alignment":391,"../../../lib":414,d3:86}],507:[function(b,
p,l){var n=b("d3");l=b("../../../lib");var g=b("../../../components/color"),k=b("./micropolar"),d=b("./undo_manager"),h=l.extendDeepAll,e=p.exports={};e.framework=function(b){function g(d,f){f&&(a=f);n.select(n.select(a).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove();l=l?h(l,d):d;c||(c=k.Axis());q=k.adapter.plotly().convert(l);c.config(q).render(a);b.data=l.data;b.layout=l.layout;e.fillLayout(b);return l}var l,f,c,q,a,r=new d;g.isPolar=!0;g.svg=function(){return c.svg()};
g.getConfig=function(){return l};g.getLiveConfig=function(){return k.adapter.plotly().convert(c.getLiveConfig(),!0)};g.getLiveScales=function(){return{t:c.angularScale(),r:c.radialScale()}};g.setUndoPoint=function(){var a=this,b=k.util.cloneJson(l);(function(b,c){r.add({undo:function(){c&&a(c)},redo:function(){a(b)}})})(b,f);f=k.util.cloneJson(b)};g.undo=function(){r.undo()};g.redo=function(){r.redo()};return g};e.fillLayout=function(b){var d=n.select(b).selectAll(".plot-container"),e=d.selectAll(".svg-container"),
f=b.framework&&b.framework.svg&&b.framework.svg();b._fullLayout=h({width:800,height:600,paper_bgcolor:g.background,_container:d,_paperdiv:e,_paper:f},b.layout)}},{"../../../components/color":291,"../../../lib":414,"./micropolar":506,"./undo_manager":508,d3:86}],508:[function(b,p,l){p.exports=function(){function b(b,g){if(!b)return this;d=!0;b[g]();d=!1;return this}var g=[],k=-1,d=!1,h;return{add:function(b){if(d)return this;g.splice(k+1,g.length-k);g.push(b);k=g.length-1;return this},setCallback:function(b){h=
b},undo:function(){var d=g[k];if(!d)return this;b(d,"undo");--k;h&&h(d.undo);return this},redo:function(){var d=g[k+1];if(!d)return this;b(d,"redo");k+=1;h&&h(d.redo);return this},clear:function(){g=[];k=-1},hasUndo:function(){return-1!==k},hasRedo:function(){return k<g.length-1},getCommands:function(){return g},getPreviousCommand:function(){return g[k-1]},getIndex:function(){return k}}}},{}],509:[function(b,p,l){var n=b("../lib"),g=b("./domain").defaults;p.exports=function(b,d,h,e){function k(b,
c){return n.coerce(q,a,m,b,c)}var m=e.attributes;h=e.handleDefaults;for(var l=e.partition||"x",f=d._subplots[e.type],c=f.length,q,a,r=0;r<c;r++){var p=f[r];q=b[p]?b[p]:b[p]={};d[p]=a={};var x={};x[l]=[r/c,(r+1)/c];g(a,d,k,x);e.id=p;h(q,a,k,e)}}},{"../lib":414,"./domain":484}],510:[function(b,p,l){var n=b("./ternary"),g=b("../../plots/get_data").getSubplotCalcData;p=b("../../lib").counterRegex;l.name="ternary";l.attr="subplot";l.idRoot="ternary";l.idRegex=l.attrRegex=p("ternary");l.attributes=b("./layout/attributes");
l.layoutAttributes=b("./layout/layout_attributes");l.supplyLayoutDefaults=b("./layout/defaults");l.plot=function(b){for(var d=b._fullLayout,h=b.calcdata,e=d._subplots.ternary,k=0;k<e.length;k++){var m=e[k],l=g(h,"ternary",m),f=d[m]._subplot;f||(f=new n({id:m,graphDiv:b,container:d._ternarylayer.node()},d),d[m]._subplot=f);f.plot(l,d,b._promises)}};l.clean=function(b,d,g,e){b=e._subplots.ternary||[];for(g=0;g<b.length;g++){var h=b[g],k=e[h]._subplot;!d[h]&&k&&(k.plotContainer.remove(),k.clipDef.remove(),
k.clipDefRelative.remove(),k.layers["a-title"].remove(),k.layers["b-title"].remove(),k.layers["c-title"].remove())}}},{"../../lib":414,"../../plots/get_data":487,"./layout/attributes":511,"./layout/defaults":514,"./layout/layout_attributes":515,"./ternary":516}],511:[function(b,p,l){p.exports={subplot:{valType:"subplotid",role:"info",dflt:"ternary",editType:"calc",description:"Sets a reference between this trace's data coordinates and a ternary subplot. If *ternary* (the default value), the data refer to `layout.ternary`. If *ternary2*, the data refer to `layout.ternary2`, and so on."}}},
{}],512:[function(b,p,l){l=b("../../cartesian/layout_attributes");b=b("../../../lib/extend").extendFlat;p.exports={title:l.title,titlefont:l.titlefont,color:l.color,tickmode:l.tickmode,nticks:b({},l.nticks,{dflt:6,min:1}),tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:l.ticks,ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,showticklabels:l.showticklabels,showtickprefix:l.showtickprefix,tickprefix:l.tickprefix,showticksuffix:l.showticksuffix,ticksuffix:l.ticksuffix,
showexponent:l.showexponent,exponentformat:l.exponentformat,separatethousands:l.separatethousands,tickfont:l.tickfont,tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,hoverformat:l.hoverformat,showline:b({},l.showline,{dflt:!0}),linecolor:l.linecolor,linewidth:l.linewidth,showgrid:b({},l.showgrid,{dflt:!0}),gridcolor:l.gridcolor,gridwidth:l.gridwidth,layer:l.layer,min:{valType:"number",dflt:0,role:"info",min:0,description:"The minimum value visible on this axis. The maximum is determined by the sum minus the minimum values of the other two axes. The full view corresponds to all the minima set to zero."}}},
{"../../../lib/extend":406,"../../cartesian/layout_attributes":470}],513:[function(b,p,l){var n=b("../../../lib"),g=b("./axis_attributes"),k=b("../../cartesian/tick_label_defaults"),d=b("../../cartesian/tick_mark_defaults"),h=b("../../cartesian/tick_value_defaults"),e=b("../../cartesian/line_grid_defaults");p.exports=function(b,m,l){function f(a,c){return n.coerce(b,m,g,a,c)}m.type="linear";var c=f("color"),q=c===b.color?c:l.font.color,a=m._name.charAt(0).toUpperCase(),r="Component "+a,t=f("title",
r);m._hovertitle=t===r?t:a;n.coerceFont(f,"titlefont",{family:l.font.family,size:Math.round(1.2*l.font.size),color:q});f("min");h(b,m,f,"linear");k(b,m,f,"linear",{});d(b,m,f,{outerTicks:!0});f("showticklabels")&&(n.coerceFont(f,"tickfont",{family:l.font.family,size:l.font.size,color:q}),f("tickangle"),f("tickformat"));e(b,m,f,{dfltColor:c,bgColor:l.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g});f("hoverformat");f("layer")}},{"../../../lib":414,"../../cartesian/line_grid_defaults":472,
"../../cartesian/tick_label_defaults":478,"../../cartesian/tick_mark_defaults":479,"../../cartesian/tick_value_defaults":480,"./axis_attributes":512}],514:[function(b,p,l){function n(b,d,k,f){var c=k("bgcolor");k=k("sum");f.bgColor=g.combine(c,f.paper_bgcolor);for(var m,a=0;a<e.length;a++)m=e[a],c=b[m]||{},m=d[m]={_name:m,type:"linear"},h(c,m,f);f=d.aaxis;c=d.baxis;d=d.caxis;f.min+c.min+d.min>=k&&(f.min=0,c.min=0,d.min=0,b.aaxis&&delete b.aaxis.min,b.baxis&&delete b.baxis.min,b.caxis&&delete b.caxis.min)}
var g=b("../../../components/color"),k=b("../../subplot_defaults"),d=b("./layout_attributes"),h=b("./axis_defaults"),e=["aaxis","baxis","caxis"];p.exports=function(b,e,g){k(b,e,g,{type:"ternary",attributes:d,handleDefaults:n,font:e.font,paper_bgcolor:e.paper_bgcolor})}},{"../../../components/color":291,"../../subplot_defaults":509,"./axis_defaults":513,"./layout_attributes":515}],515:[function(b,p,l){l=b("../../../components/color/attributes");var n=b("../../domain").attributes,g=b("./axis_attributes");
b=b("../../../plot_api/edit_types").overrideAll;p.exports=b({domain:n({name:"ternary"}),bgcolor:{valType:"color",role:"style",dflt:l.background,description:"Set the background color of the subplot"},sum:{valType:"number",role:"info",dflt:1,min:0,description:"The number each triplet should sum to, and the maximum range of each axis"},aaxis:g,baxis:g,caxis:g},"plot","from-root")},{"../../../components/color/attributes":290,"../../../plot_api/edit_types":443,"../../domain":484,"./axis_attributes":512}],
516:[function(b,p,l){function n(a,b){this.id=a.id;this.graphDiv=a.graphDiv;this.init(b);this.makeFramework(b)}function g(a){k.select(a).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}var k=b("d3"),d=b("tinycolor2"),h=b("../../registry"),e=b("../../lib"),u=e._,m=b("../../components/color"),t=b("../../components/drawing"),f=b("../cartesian/set_convert"),c=b("../../lib/extend").extendFlat,q=b("../plots"),a=b("../cartesian/axes"),r=b("../../components/dragelement"),
v=b("../../components/fx"),x=b("../../components/titles"),C=b("../cartesian/select"),A=b("../cartesian/constants");p.exports=n;b=n.prototype;b.init=function(a){this.container=a._ternarylayer;this.defs=a._defs;this.layoutId=a._uid;this.traceHash={};this.layers={}};b.plot=function(a,b){var c=b[this.id];b=b._size;this._hasClipOnAxisFalse=!1;for(var d=0;d<a.length;d++)if(!1===a[d][0].trace.cliponaxis){this._hasClipOnAxisFalse=!0;break}this.updateLayers(c);this.adjustLayout(c,b);q.generalUpdatePerTraceModule(this.graphDiv,
this,a,c);this.layers.plotbg.select("path").call(m.fill,c.bgcolor)};b.makeFramework=function(a){var b=a[this.id],c=this.clipId="clip"+this.layoutId+this.id;this.clipDef=a._clips.selectAll("#"+c).data([0]);this.clipDef.enter().append("clipPath").attr("id",c).append("path").attr("d","M0,0Z");var d=this.clipIdRelative="clip-relative"+this.layoutId+this.id;this.clipDefRelative=a._clips.selectAll("#"+d).data([0]);this.clipDefRelative.enter().append("clipPath").attr("id",d).append("path").attr("d","M0,0Z");
this.plotContainer=this.container.selectAll("g."+this.id).data([0]);this.plotContainer.enter().append("g").classed(this.id,!0);this.updateLayers(b);t.setClipUrl(this.layers.backplot,c);t.setClipUrl(this.layers.grids,c)};b.updateLayers=function(a){var b=this.layers,c=["draglayer","plotbg","backplot","grids"];"below traces"===a.aaxis.layer&&c.push("aaxis","aline");"below traces"===a.baxis.layer&&c.push("baxis","bline");"below traces"===a.caxis.layer&&c.push("caxis","cline");c.push("frontplot");"above traces"===
a.aaxis.layer&&c.push("aaxis","aline");"above traces"===a.baxis.layer&&c.push("baxis","bline");"above traces"===a.caxis.layer&&c.push("caxis","cline");a=this.plotContainer.selectAll("g.toplevel").data(c,String);var d=["agrid","bgrid","cgrid"];a.enter().append("g").attr("class",function(a){return"toplevel "+a}).each(function(a){var c=k.select(this);b[a]=c;"frontplot"===a?c.append("g").classed("scatterlayer",!0):"backplot"===a?c.append("g").classed("maplayer",!0):"plotbg"===a?c.append("path").attr("d",
"M0,0Z"):"aline"===a||"bline"===a||"cline"===a?c.append("path"):"grids"===a&&d.forEach(function(a){b[a]=c.append("g").classed("grid "+a,!0);var d="bgrid"===a?"x":"y";b[a].append("g").classed(d,!0)})});a.order()};var D=Math.sqrt(4/3);b.adjustLayout=function(a,b){var d=this,e=a.domain,g=(e.x[0]+e.x[1])/2,h=(e.y[0]+e.y[1])/2,k=e.x[1]-e.x[0],n=e.y[1]-e.y[0],l=k*b.w,q=n*b.h,r=a.sum,p=a.aaxis.min,u=a.baxis.min,w=a.caxis.min;if(l>D*q){var v=q;e=v*D}else e=l,v=e/D;l=k*e/l;n=n*v/q;k=b.l+b.w*g-e/2;b=b.t+b.h*
(1-h)-v/2;d.x0=k;d.y0=b;d.w=e;d.h=v;d.sum=r;d.xaxis={type:"linear",range:[p+2*w-r,r-p-2*u],domain:[g-l/2,g+l/2],_id:"x"};f(d.xaxis,d.graphDiv._fullLayout);d.xaxis.setScale();d.xaxis.isPtWithinRange=function(a){return a.a>=d.aaxis.range[0]&&a.a<=d.aaxis.range[1]&&a.b>=d.baxis.range[1]&&a.b<=d.baxis.range[0]&&a.c>=d.caxis.range[1]&&a.c<=d.caxis.range[0]};d.yaxis={type:"linear",range:[p,r-u-w],domain:[h-n/2,h+n/2],_id:"y"};f(d.yaxis,d.graphDiv._fullLayout);d.yaxis.setScale();d.yaxis.isPtWithinRange=
function(){return!0};l=d.yaxis.domain[0];g=d.aaxis=c({},a.aaxis,{visible:!0,range:[p,r-u-w],side:"left",_counterangle:30,tickangle:(+a.aaxis.tickangle||0)-30,domain:[l,l+n*D],_axislayer:d.layers.aaxis,_gridlayer:d.layers.agrid,_pos:0,_id:"y",_length:e,_gridpath:"M0,0l"+v+",-"+e/2,automargin:!1});f(g,d.graphDiv._fullLayout);g.setScale();h=d.baxis=c({},a.baxis,{visible:!0,range:[r-p-w,u],side:"bottom",_counterangle:30,domain:d.xaxis.domain,_axislayer:d.layers.baxis,_gridlayer:d.layers.bgrid,_counteraxis:d.aaxis,
_pos:0,_id:"x",_length:e,_gridpath:"M0,0l-"+e/2+",-"+v,automargin:!1});f(h,d.graphDiv._fullLayout);h.setScale();g._counteraxis=h;a=d.caxis=c({},a.caxis,{visible:!0,range:[r-p-u,w],side:"right",_counterangle:30,tickangle:(+a.caxis.tickangle||0)+30,domain:[l,l+n*D],_axislayer:d.layers.caxis,_gridlayer:d.layers.cgrid,_counteraxis:d.baxis,_pos:0,_id:"y",_length:e,_gridpath:"M0,0l-"+v+","+e/2,automargin:!1});f(a,d.graphDiv._fullLayout);a.setScale();r="M"+k+","+(b+v)+"h"+e+"l-"+e/2+",-"+v+"Z";d.clipDef.select("path").attr("d",
r);d.layers.plotbg.select("path").attr("d",r);r="M0,"+v+"h"+e+"l-"+e/2+",-"+v+"Z";d.clipDefRelative.select("path").attr("d",r);r="translate("+k+","+b+")";d.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",r);d.clipDefRelative.select("path").attr("transform",null);r="translate("+(k-h._offset)+","+(b+v)+")";d.layers.baxis.attr("transform",r);d.layers.bgrid.attr("transform",r);r="translate("+(k+e/2)+","+b+")rotate(30)translate(0,"+-g._offset+")";d.layers.aaxis.attr("transform",r);
d.layers.agrid.attr("transform",r);r="translate("+(k+e/2)+","+b+")rotate(-30)translate(0,"+-a._offset+")";d.layers.caxis.attr("transform",r);d.layers.cgrid.attr("transform",r);d.drawAxes(!0);d.plotContainer.selectAll(".crisp").classed("crisp",!1);d.layers.aline.select("path").attr("d",g.showline?"M"+k+","+(b+v)+"l"+e/2+",-"+v:"M0,0").call(m.stroke,g.linecolor||"#000").style("stroke-width",(g.linewidth||0)+"px");d.layers.bline.select("path").attr("d",h.showline?"M"+k+","+(b+v)+"h"+e:"M0,0").call(m.stroke,
h.linecolor||"#000").style("stroke-width",(h.linewidth||0)+"px");d.layers.cline.select("path").attr("d",a.showline?"M"+(k+e/2)+","+b+"l"+e/2+","+v:"M0,0").call(m.stroke,a.linecolor||"#000").style("stroke-width",(a.linewidth||0)+"px");d.graphDiv._context.staticPlot||d.initInteractions();t.setClipUrl(d.layers.frontplot,d._hasClipOnAxisFalse?null:d.clipId)};b.drawAxes=function(b){var c=this.graphDiv,d=this.id.substr(7)+"title",e=this.aaxis,f=this.baxis,g=this.caxis;a.doTicks(c,e,!0);a.doTicks(c,f,!0);
a.doTicks(c,g,!0);b&&(b=Math.max(e.showticklabels?e.tickfont.size/2:0,(g.showticklabels?.75*g.tickfont.size:0)+("outside"===g.ticks?.87*g.ticklen:0)),this.layers["a-title"]=x.draw(c,"a"+d,{propContainer:e,propName:this.id+".aaxis.title",placeholder:u(c,"Click to enter Component A title"),attributes:{x:this.x0+this.w/2,y:this.y0-e.titlefont.size/3-b,"text-anchor":"middle"}}),e=(f.showticklabels?f.tickfont.size:0)+("outside"===f.ticks?f.ticklen:0)+3,this.layers["b-title"]=x.draw(c,"b"+d,{propContainer:f,
propName:this.id+".baxis.title",placeholder:u(c,"Click to enter Component B title"),attributes:{x:this.x0-e,y:this.y0+this.h+.83*f.titlefont.size+e,"text-anchor":"middle"}}),this.layers["c-title"]=x.draw(c,"c"+d,{propContainer:g,propName:this.id+".caxis.title",placeholder:u(c,"Click to enter Component C title"),attributes:{x:this.x0+this.w+e,y:this.y0+this.h+.83*g.titlefont.size+e,"text-anchor":"middle"}}))};p=A.MINZOOM/2+.87;var z="m-0.87,.5h"+p+"v3h-"+(p+5.2)+"l"+(p/2+2.6)+",-"+(.87*p+4.5)+"l2.6,1.5l-"+
p/2+","+.87*p+"Z",F="m0.87,.5h-"+p+"v3h"+(p+5.2)+"l-"+(p/2+2.6)+",-"+(.87*p+4.5)+"l-2.6,1.5l"+p/2+","+.87*p+"Z",B="m0,1l"+p/2+","+.87*p+"l2.6,-1.5l-"+(p/2+2.6)+",-"+(.87*p+4.5)+"l-"+(p/2+2.6)+","+(.87*p+4.5)+"l2.6,1.5l"+p/2+",-"+.87*p+"Z",y=!0;b.initInteractions=function(){function a(a,b){var c=Q+a,d=P+b;b=Math.max(0,Math.min(1,1-P/n.h,1-d/n.h));a=Math.max(0,Math.min(1,1-(Q+(n.h-P)/Math.sqrt(3))/n.w,1-(c+(n.h-d)/Math.sqrt(3))/n.w));c=Math.max(0,Math.min(1,(Q-(n.h-P)/Math.sqrt(3))/n.w,(c-(n.h-d)/Math.sqrt(3))/
n.w));d=(b/2+c)*n.w;var e=(1-b/2-a)*n.w,f=(d+e)/2,g=e-d,h=(1-b)*n.h,k=h-g/D;g<A.MINZOOM?(W=U,S.attr("d",T),V.attr("d","M0,0Z")):(W={a:U.a+b*aa,b:U.b+a*aa,c:U.c+c*aa},S.attr("d",T+"M"+d+","+h+"H"+e+"L"+f+","+k+"L"+d+","+h+"Z"),V.attr("d","M"+Q+","+P+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+d+","+h+z+"M"+e+","+h+F+"M"+f+","+k+B));ea||(S.transition().style("fill",.2<R?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),V.transition().style("opacity",1).duration(200),ea=!0)}function b(){g(q);if(W!==
U){var a={};a[n.id+".aaxis.min"]=W.a;a[n.id+".baxis.min"]=W.b;a[n.id+".caxis.min"]=W.c;h.call("relayout",q,a);y&&q.data&&q._context.showTips&&(e.notifier(u(q,"Double-click to zoom back out"),"long"),y=!1)}}function c(a,b){var c=a/n.xaxis._m,d=b/n.yaxis._m;W={a:U.a-d,b:U.b+(c+d)/2,c:U.c-(c-d)/2};c=[W.a,W.b,W.c].sort();d=c.indexOf(W.a);var e=c.indexOf(W.b),f=c.indexOf(W.c);0>c[0]&&(0>c[1]+c[0]/2?(c[2]+=c[0]+c[1],c[0]=c[1]=0):(c[2]+=c[0]/2,c[1]+=c[0]/2,c[0]=0),W={a:c[d],b:c[e],c:c[f]},b=(U.a-W.a)*n.yaxis._m,
a=(U.c-W.c-U.b+W.b)*n.xaxis._m);c="translate("+(n.x0+a)+","+(n.y0+b)+")";n.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",c);a="translate("+-a+","+-b+")";n.clipDefRelative.select("path").attr("transform",a);n.aaxis.range=[W.a,n.sum-W.b-W.c];n.baxis.range=[n.sum-W.a-W.c,W.b];n.caxis.range=[n.sum-W.a-W.b,W.c];n.drawAxes(!1);n.plotContainer.selectAll(".crisp").classed("crisp",!1);n._hasClipOnAxisFalse&&n.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,
n)}function f(){var a={};a[n.id+".aaxis.min"]=W.a;a[n.id+".baxis.min"]=W.b;a[n.id+".caxis.min"]=W.c;h.call("relayout",q,a)}function k(){p.selectAll(".select-outline").remove()}var n=this,l=n.layers.plotbg.select("path").node(),q=n.graphDiv,p=q._fullLayout._zoomlayer,x={element:l,gd:q,plotinfo:{xaxis:n.xaxis,yaxis:n.yaxis},subplot:n.id,prepFn:function(e,g,h){x.xaxes=[n.xaxis];x.yaxes=[n.yaxis];var r=q._fullLayout.dragmode;e.shiftKey&&(r="pan"===r?"zoom":"pan");x.minDrag="lasso"===r?1:void 0;"zoom"===
r?(x.moveFn=a,x.doneFn=b,e=l.getBoundingClientRect(),Q=g-e.left,P=h-e.top,W=U={a:n.aaxis.range[0],b:n.baxis.range[1],c:n.caxis.range[1]},aa=n.aaxis.range[1]-U.a,R=d(n.graphDiv._fullLayout[n.id].bgcolor).getLuminance(),T="M0,"+n.h+"L"+n.w/2+", 0L"+n.w+","+n.h+"Z",ea=!1,S=p.append("path").attr("class","zoombox").attr("transform","translate("+n.x0+", "+n.y0+")").style({fill:.2<R?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",T),V=p.append("path").attr("class","zoombox-corners").attr("transform",
"translate("+n.x0+", "+n.y0+")").style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),k()):"pan"===r?(x.moveFn=c,x.doneFn=f,W=U={a:n.aaxis.range[0],b:n.baxis.range[1],c:n.caxis.range[1]},k()):"select"!==r&&"lasso"!==r||C(e,g,h,x,r)},clickFn:function(a,b){g(q);2===a&&(a={},a[n.id+".aaxis.min"]=0,a[n.id+".baxis.min"]=0,a[n.id+".caxis.min"]=0,q.emit("plotly_doubleclick",null),h.call("relayout",q,a));v.click(q,b,n.id)}},Q,P,U,aa,W,R,T,ea,S,V;l.onmousemove=function(a){v.hover(q,
a,n.id);q._fullLayout._lasthover=l;q._fullLayout._hoversubplot=n.id};l.onmouseout=function(a){q._dragging||r.unhover(q,a)};r.init(x)}},{"../../components/color":291,"../../components/dragelement":313,"../../components/drawing":316,"../../components/fx":333,"../../components/titles":384,"../../lib":414,"../../lib/extend":406,"../../registry":517,"../cartesian/axes":458,"../cartesian/constants":463,"../cartesian/select":476,"../cartesian/set_convert":477,"../plots":502,d3:86,tinycolor2:256}],517:[function(b,
p,l){function n(a){if(a.layoutAttributes&&(a=a.layoutAttributes._arrayAttrRegexps))for(var b=0;b<a.length;b++)m(l.layoutArrayRegexes,a[b])}function g(b,c){(b=l.componentsRegistry[b].schema)&&b.traces&&(b=b.traces[c])&&a(l.modules[c]._module.attributes,b)}function k(b,c){(b=l.componentsRegistry[b].schema)&&b.transforms&&(b=b.transforms[c])&&a(l.transformsRegistry[c].attributes,b)}function d(b,c){if((b=l.componentsRegistry[b].schema)&&b.subplots){var d=l.subplotsRegistry[c];c=d.layoutAttributes;d="subplot"===
d.attr?d.name:d.attr;Array.isArray(d)&&(d=d[0]);b=b.subplots[d];c&&b&&a(c,b)}}function h(a){"object"===typeof a&&(a=a.type);return a}var e=b("./lib/loggers"),u=b("./lib/noop"),m=b("./lib/push_unique"),t=b("./lib/is_plain_object");p=b("./lib/extend");var f=b("./plots/attributes"),c=b("./plots/layout_attributes"),q=p.extendFlat,a=p.extendDeepAll;l.modules={};l.allCategories={};l.allTypes=[];l.subplotsRegistry={};l.transformsRegistry={};l.componentsRegistry={};l.layoutArrayContainers=[];l.layoutArrayRegexes=
[];l.traceLayoutAttributes={};l.localeRegistry={};l.apiMethodRegistry={};l.register=function(b){if(b)b&&!Array.isArray(b)&&(b=[b]);else throw Error("No argument passed to Plotly.register.");for(var f=0;f<b.length;f++){var h=b[f];if(!h)throw Error("Invalid module was attempted to be registered!");switch(h.moduleType){case "trace":var r=void 0,p=h.name,u=h.categories,z=h.meta;if(l.modules[p])e.log("Type "+p+" already registered");else{if(!l.subplotsRegistry[h.basePlotModule.name]){var F=void 0,B=h.basePlotModule,
y=B.name;if(l.subplotsRegistry[y])e.log("Plot type "+y+" already registered.");else for(F in n(B),l.subplotsRegistry[y]=B,l.componentsRegistry)d(F,B.name)}F={};for(B=0;B<u.length;B++)F[u[B]]=!0,l.allCategories[u[B]]=!0;l.modules[p]={_module:h,categories:F};z&&Object.keys(z).length&&(l.modules[p].meta=z);l.allTypes.push(p);for(r in l.componentsRegistry)g(r,p);h.layoutAttributes&&q(l.traceLayoutAttributes,h.layoutAttributes)}break;case "transform":r=void 0;if("string"!==typeof h.name)throw Error("Transform module *name* must be a string.");
p="Transform module "+h.name;u="function"===typeof h.transform;z="function"===typeof h.calcTransform;if(!u&&!z)throw Error(p+" is missing a *transform* or *calcTransform* method.");u&&z&&e.log([p+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed before all *calcTransform* methods."].join(" "));t(h.attributes)||e.log(p+" registered without an *attributes* object.");"function"!==typeof h.supplyDefaults&&e.log(p+" registered without a *supplyDefaults* method.");
l.transformsRegistry[h.name]=h;for(r in l.componentsRegistry)k(r,h.name);break;case "component":u=p=r=void 0;if("string"!==typeof h.name)throw Error("Component module *name* must be a string.");z=h.name;l.componentsRegistry[z]=h;h.layoutAttributes&&(h.layoutAttributes._isLinkedToArray&&m(l.layoutArrayContainers,z),n(h));for(u in l.modules)g(z,u);for(p in l.subplotsRegistry)d(z,p);for(r in l.transformsRegistry)k(z,r);h.schema&&h.schema.layout&&a(c,h.schema.layout);break;case "locale":u=h;p=u.name;
r=p.split("-")[0];h=u.dictionary;u=u.format;z=h&&Object.keys(h).length;F=u&&Object.keys(u).length;B=l.localeRegistry;(y=B[p])||(B[p]=y={});r!==p&&((p=B[r])||(B[r]=p={}),z&&p.dictionary===y.dictionary&&(p.dictionary=h),F&&p.format===y.format&&(p.format=u));z&&(y.dictionary=h);F&&(y.format=u);break;case "apiMethod":l.apiMethodRegistry[h.name]=h.fn;break;default:throw Error("Invalid module was attempted to be registered!");}}};l.getModule=function(a){return(a=l.modules[h(a)])?a._module:!1};l.traceIs=
function(a,b){a=h(a);if("various"===a)return!1;var c=l.modules[a];c||(a&&"area"!==a&&e.log("Unrecognized trace type "+a+"."),c=l.modules[f.type.dflt]);return!!c.categories[b]};l.getTransformIndices=function(a,b){var c=[];a=a.transforms||[];for(var d=0;d<a.length;d++)a[d].type===b&&c.push(d);return c};l.hasTransform=function(a,b){a=a.transforms||[];for(var c=0;c<a.length;c++)if(a[c].type===b)return!0;return!1};l.getComponentMethod=function(a,b){return(a=l.componentsRegistry[a])?a[b]||u:u};l.call=function(){var a=
arguments[0],b=[].slice.call(arguments,1);return l.apiMethodRegistry[a].apply(null,b)}},{"./lib/extend":406,"./lib/is_plain_object":416,"./lib/loggers":419,"./lib/noop":423,"./lib/push_unique":427,"./plots/attributes":455,"./plots/layout_attributes":500}],518:[function(b,p,l){function n(b){switch(b){case "themes__thumb":b={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case "thumbnail":b={title:"",hidesources:!0,showlegend:!1,borderwidth:0,
bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:b={}}return b}b=b("../lib");var g=b.extendFlat,k=b.extendDeep;p.exports=function(b,h){b.framework&&b.framework.isPolar&&(b=b.framework.getConfig());var d,l=b.layout,m=k([],b.data);l=k({},l,n(h.tileClass));b=b._context||{};h.width&&(l.width=h.width);h.height&&(l.height=h.height);if("thumbnail"===h.tileClass||"themes__thumb"===h.tileClass){l.annotations=[];var t=Object.keys(l);for(d=0;d<t.length;d++)-1<["xaxis","yaxis","zaxis"].indexOf(t[d].slice(0,
5))&&(l[t[d]].title="");for(d=0;d<m.length;d++)t=m[d],t.showscale=!1,t.marker&&(t.marker.showscale=!1),"pie"===t.type&&(t.textposition="none")}if(Array.isArray(h.annotations))for(d=0;d<h.annotations.length;d++)l.annotations.push(h.annotations[d]);t=Object.keys(l).filter(function(b){return b.match(/^scene\d*$/)});if(t.length){var f={};"thumbnail"===h.tileClass&&(f={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1});for(d=0;d<t.length;d++){var c=l[t[d]];c.xaxis||(c.xaxis={});c.yaxis||
(c.yaxis={});c.zaxis||(c.zaxis={});g(c.xaxis,f);g(c.yaxis,f);g(c.zaxis,f);c._scene=null}}d=document.createElement("div");h.tileClass&&(d.className=h.tileClass);m={gd:d,td:d,layout:l,data:m,config:{staticPlot:void 0===h.staticPlot?!0:h.staticPlot,plotGlPixelRatio:void 0===h.plotGlPixelRatio?2:h.plotGlPixelRatio,displaylogo:h.displaylogo||!1,showLink:h.showLink||!1,showTips:h.showTips||!1,mapboxAccessToken:b.mapboxAccessToken}};"transparent"!==h.setBackground&&(m.config.setBackground=h.setBackground||
"opaque");m.gd.defaultLayout=n(h.tileClass);return m}},{"../lib":414}],519:[function(b,p,l){var n=b("../plot_api/to_image"),g=b("../lib"),k=b("./filesaver");p.exports=function(b,h){h=h||{};h.format=h.format||"png";return new Promise(function(d,l){b._snapshotInProgress&&l(Error("Snapshotting already in progress."));g.isIE()&&"svg"!==h.format&&l(Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."));b._snapshotInProgress=!0;var e=n(b,h),t=h.filename||b.fn||"newplot";
t+="."+h.format;e.then(function(d){b._snapshotInProgress=!1;return k(d,t)}).then(function(b){d(b)}).catch(function(d){b._snapshotInProgress=!1;l(d)})})}},{"../lib":414,"../plot_api/to_image":451,"./filesaver":520}],520:[function(b,p,l){p.exports=function(b,g){var k=document.createElement("a"),d="download"in k,h=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(e,n){"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&n(Error("IE < 10 unsupported"));
h&&(document.location.href="data:application/octet-stream"+b.slice(b.search(/[,;]/)),e(g));g||(g="download");d&&(k.href=b,k.download=g,document.body.appendChild(k),k.click(),document.body.removeChild(k),e(g));if("undefined"!==typeof navigator&&navigator.msSaveBlob){var m=b.split(/^data:image\/svg\+xml,/)[1];m=decodeURIComponent(m);navigator.msSaveBlob(new Blob([m]),g);e(g)}n(Error("download error"))})}},{}],521:[function(b,p,l){l.getDelay=function(b){return b._has?b._has("gl3d")||b._has("gl2d")||
b._has("mapbox")?500:0:0};l.getRedrawFunc=function(b){var g=b._fullLayout||{};if(g._has&&g._has("polar")||!b.data||!b.data[0]||!b.data[0].r)return function(){(b.calcdata||[]).forEach(function(b){b[0]&&b[0].t&&b[0].t.cb&&b[0].t.cb()})}}},{}],522:[function(b,p,l){l=b("./helpers");b={getDelay:l.getDelay,getRedrawFunc:l.getRedrawFunc,clone:b("./cloneplot"),toSVG:b("./tosvg"),svgToImg:b("./svgtoimg"),toImage:b("./toimage"),downloadImage:b("./download")};p.exports=b},{"./cloneplot":518,"./download":519,
"./helpers":521,"./svgtoimg":523,"./toimage":524,"./tosvg":525}],523:[function(b,p,l){var n=b("../lib"),g=b("events").EventEmitter;p.exports=function(b){var d=b.emitter||new g,h=new Promise(function(e,g){var k=window.Image,l=b.svg,f=b.format||"png";if(n.isIE()&&"svg"!==f)return k=Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."),g(k),b.promise?h:d.emit("error",k);var c=b.canvas,q=b.scale||1,a=q*(b.width||300),r=q*(b.height||150),p=c.getContext("2d"),u=new k,C=
"data:image/svg+xml,"+encodeURIComponent(l);c.width=a;c.height=r;u.onload=function(){"svg"!==f&&p.drawImage(u,0,0,a,r);switch(f){case "jpeg":var h=c.toDataURL("image/jpeg");break;case "png":h=c.toDataURL("image/png");break;case "webp":h=c.toDataURL("image/webp");break;case "svg":h=C;break;default:if(g(Error("Image format is not jpeg, png, svg or webp.")),!b.promise)return d.emit("error","Image format is not jpeg, png, svg or webp.")}e(h);b.promise||d.emit("success",h)};u.onerror=function(a){g(a);
if(!b.promise)return d.emit("error",a)};u.src=C});return b.promise?h:d}},{"../lib":414,events:5}],524:[function(b,p,l){var n=b("events").EventEmitter,g=b("../registry"),k=b("../lib"),d=b("./helpers"),h=b("./cloneplot"),e=b("./tosvg"),u=b("./svgtoimg");p.exports=function(b,l){var f=new n;b=h(b,{format:"png"});var c=b.gd;c.style.position="absolute";c.style.left="-5000px";document.body.appendChild(c);var m=d.getRedrawFunc(c);g.call("plot",c,b.data,b.layout,b.config).then(m).then(function(){var a=d.getDelay(c._fullLayout);
setTimeout(function(){var a=e(c),b=document.createElement("canvas");b.id=k.randstr();f=u({format:l.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:b,emitter:f,svg:a});f.clean=function(){c&&document.body.removeChild(c)}},a)}).catch(function(a){f.emit("error",a)});return f}},{"../lib":414,"../registry":517,"./cloneplot":518,"./helpers":521,"./svgtoimg":523,"./tosvg":525,events:5}],525:[function(b,p,l){function n(b){var d=g.select("body").append("div").style({display:"none"}).html("");
b=b.replace(/(&[^;]*;)/gi,function(b){return"&lt;"===b?"&#60;":"&rt;"===b?"&#62;":-1!==b.indexOf("<")||-1!==b.indexOf(">")?"":d.html(b).text()});d.remove();return b}var g=b("d3"),k=b("../lib"),d=b("../components/drawing"),h=b("../components/color"),e=b("../constants/xmlns_namespaces"),u=/"/g,m=/("TOBESTRIPPED)|(TOBESTRIPPED")/g;p.exports=function(b,f,c){var l=b._fullLayout,a=l._paper,r=l._toppaper,t=l.width,p=l.height,C;a.insert("rect",":first-child").call(d.setRect,0,0,t,p).call(h.fill,l.paper_bgcolor);
var A=l._basePlotModules||[];for(C=0;C<A.length;C++){var D=A[C];D.toSVG&&D.toSVG(b)}if(r)for(C=r.node().childNodes,b=Array.prototype.slice.call(C),C=0;C<b.length;C++)r=b[C],r.childNodes.length&&a.node().appendChild(r);l._draggers&&l._draggers.remove();a.node().style.background="";a.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var a=g.select(this);if("hidden"===this.style.visibility||"none"===this.style.display)a.remove();else{a.style({visibility:null,display:null});
var b=this.style.fontFamily;b&&-1!==b.indexOf('"')&&a.style("font-family",b.replace(u,"TOBESTRIPPED"))}});a.selectAll(".point,.scatterpts").each(function(){var a=g.select(this),b=this.style.fill;b&&-1!==b.indexOf("url(")&&a.style("fill",b.replace(u,"TOBESTRIPPED"))});"pdf"!==f&&"eps"!==f||a.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0);a.node().setAttributeNS(e.xmlns,"xmlns",e.svg);a.node().setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink);"svg"===f&&c&&(a.attr("width",c*t),a.attr("height",
c*p),a.attr("viewBox","0 0 "+t+" "+p));f=(new window.XMLSerializer).serializeToString(a.node());f=n(f);f=f.replace(/&(?!\w+;|#[0-9]+;| #x[0-9A-F]+;)/g,"&amp;");f=f.replace(m,"'");k.isIE()&&(f=f.replace(/"/gi,"'"),f=f.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),f=f.replace(/(\\')/gi,'"'));return f}},{"../components/color":291,"../components/drawing":316,"../constants/xmlns_namespaces":397,"../lib":414,d3:86}],526:[function(b,p,l){var n=b("../../lib").mergeArray;p.exports=function(b,k){for(var d=0;d<
b.length;d++)b[d].i=d;n(k.text,b,"tx");n(k.hovertext,b,"htx");if(k=k.marker)if(n(k.opacity,b,"mo"),n(k.color,b,"mc"),k=k.line)n(k.color,b,"mlc"),n(k.width,b,"mlw")}},{"../../lib":414}],527:[function(b,p,l){l=b("../scatter/attributes");var n=b("../../components/colorscale/color_attributes"),g=b("../../components/colorbar/attributes"),k=b("../../plots/font_attributes");b=b("../../lib/extend").extendFlat;k=k({editType:"calc",arrayOk:!0,description:""});var d=l.marker,h=b({},d.line.width,{dflt:0});h=
b({width:h,editType:"calc"},n("marker.line"));n=b({line:h,editType:"calc"},n("marker"),{showscale:d.showscale,colorbar:g,opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});p.exports={x:l.x,x0:l.x0,dx:l.dx,y:l.y,y0:l.y0,dy:l.dy,text:l.text,hovertext:l.hovertext,textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:"Specifies the location of the `text`. *inside* positions `text` inside, next to the bar end (rotated and scaled if needed). *outside* positions `text` outside, next to the bar end (scaled if needed). *auto* positions `text` inside or outside so that `text` size is maximized."},
textfont:b({},k,{description:"Sets the font used for `text`."}),insidetextfont:b({},k,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:b({},k,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:"Constrain the size of text inside or outside a bar to be no larger than the bar itself."},cliponaxis:b({},l.cliponaxis,{description:"Determines whether the text nodes are clipped about the subplot axes. To show the text nodes above axis lines and tick labels, make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."}),
orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:"Sets the orientation of the bars. With *v* (*h*), the value of the each bar spans along the vertical (horizontal)."},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:"Sets where the bar base is drawn (in position axis units). In *stack* or *relative* barmode, traces that set *base* will be excluded and drawn in *overlay* mode instead."},offset:{valType:"number",
dflt:null,arrayOk:!0,role:"info",editType:"calc",description:"Shifts the position where the bar is drawn (in position axis units). In *group* barmode, traces that set *offset* will be excluded and drawn in *overlay* mode instead."},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:"Sets the bar width (in position axis units)."},marker:n,selected:{marker:{opacity:l.selected.marker.opacity,color:l.selected.marker.color,editType:"style"},textfont:l.selected.textfont,
editType:"style"},unselected:{marker:{opacity:l.unselected.marker.opacity,color:l.unselected.marker.color,editType:"style"},textfont:l.unselected.textfont,editType:"style"},r:l.r,t:l.t,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},{"../../components/colorbar/attributes":292,"../../components/colorscale/color_attributes":299,"../../lib/extend":406,"../../plots/font_attributes":485,"../scatter/attributes":565}],528:[function(b,
p,l){var n=b("fast-isnumeric"),g=b("../../lib").isArrayOrTypedArray,k=b("../../plots/cartesian/axes"),d=b("../../components/colorscale/has_colorscale"),h=b("../../components/colorscale/calc"),e=b("./arrays_to_calcdata"),u=b("../scatter/calc_selection");p.exports=function(b,l){var f=k.getFromId(b,l.xaxis||"x"),c=k.getFromId(b,l.yaxis||"y");if("h"===(l.orientation||(l.x&&!l.y?"h":"v"))){b=f;var m=f.makeCalcdata(l,"x");var a=c.makeCalcdata(l,"y");var r=l.xcalendar}else b=c,m=c.makeCalcdata(l,"y"),a=
f.makeCalcdata(l,"x"),r=l.ycalendar;var t=Math.min(a.length,m.length);c=Array(t);for(f=0;f<t;f++)c[f]={p:a[f],s:m[f]},l.ids&&(c[f].id=String(l.ids[f]));a=l.base;if(g(a)){for(f=0;f<Math.min(a.length,c.length);f++)m=b.d2c(a[f],0,r),n(m)?(c[f].b=+m,c[f].hasB=1):c[f].b=0;for(;f<c.length;f++)c[f].b=0}else for(m=b.d2c(a,0,r),m=(b=n(m))?m:0,f=0;f<c.length;f++)c[f].b=m,b&&(c[f].hasB=1);d(l,"marker")&&h(l,l.marker.color,"marker","c");d(l,"marker.line")&&h(l,l.marker.line.color,"marker.line","c");e(c,l);u(c,
l);return c}},{"../../components/colorscale/calc":298,"../../components/colorscale/has_colorscale":305,"../../lib":414,"../../plots/cartesian/axes":458,"../scatter/calc_selection":567,"./arrays_to_calcdata":526,"fast-isnumeric":95}],529:[function(b,p,l){var n=b("../../lib"),g=b("../../components/color"),k=b("../../registry"),d=b("../scatter/xy_defaults"),h=b("../bar/style_defaults"),e=b("./attributes");p.exports=function(b,m,l,f){function c(a,c){return n.coerce(b,m,e,a,c)}var q=n.coerceFont;if(d(b,
m,f,c)){c("orientation",m.x&&!m.y?"h":"v");c("base");c("offset");c("width");c("text");c("hovertext");var a=c("textposition"),r=Array.isArray(a)||"auto"===a,t=r||"inside"===a;a=r||"outside"===a;if(t||a)r=q(c,"textfont",f.font),t&&q(c,"insidetextfont",r),a&&q(c,"outsidetextfont",r),c("constraintext"),c("selected.textfont.color"),c("unselected.textfont.color"),c("cliponaxis");h(b,m,c,l,f);l=k.getComponentMethod("errorbars","supplyDefaults");l(b,m,g.defaultLine,{axis:"y"});l(b,m,g.defaultLine,{axis:"x",
inherit:"y"});n.coerceSelectionMarkerOpacity(m,c)}else m.visible=!1}},{"../../components/color":291,"../../lib":414,"../../registry":517,"../bar/style_defaults":539,"../scatter/xy_defaults":589,"./attributes":527}],530:[function(b,p,l){var n=b("../../components/fx"),g=b("../../registry"),k=b("../../components/color"),d=b("../scatter/fill_hover_text");p.exports=function(b,e,l,m){function h(a){return a[w]-a.w/2}function f(a){return a[w]+a.w/2}function c(a,b){return n.inbox(a-B,b-B,A+Math.min(1,Math.abs(b-
a)/K)-1)}function q(a){return c(z(a),F(a))}function a(a){return n.inbox(a.b-y,a[G]-y,A+(a[G]-y)/(a[G]-a.b)-1)}var r=b.cd,p=r[0].trace,u=r[0].t,C="closest"===m,A=b.maxHoverDistance,D=b.maxSpikeDistance,z=C?h:function(a){return Math.min(h(a),a.p-u.bardelta/2)},F=C?f:function(a){return Math.max(f(a),a.p+u.bardelta/2)};if("h"===p.orientation){var B=l;var y=e;var w="y";var G="x";var E=a;var J=q}else B=e,y=l,w="x",G="y",J=a,E=q;e=b[w+"a"];l=b[G+"a"];var K=Math.abs(e.r2c(e.range[1])-e.r2c(e.range[0]));m=
n.getDistanceFunction(m,E,J,function(a){return(E(a)+J(a))/2});n.getClosest(r,m,b);if(!1!==b.index){C||(z=function(a){return Math.min(h(a),a.p-u.bargroupwidth/2)},F=function(a){return Math.max(f(a),a.p+u.bargroupwidth/2)});r=r[b.index];m=r.mcc||p.marker.color;var H=r.mlcc||p.marker.line.color,L=r.mlw||p.marker.line.width;k.opacity(m)?b.color=m:k.opacity(H)&&L&&(b.color=H);m=p.base?r.b+r.s:r.s;b[G+"0"]=b[G+"1"]=l.c2p(r[G],!0);b[G+"LabelVal"]=m;l=u.extents[u.extents.round(r.p)];b[w+"0"]=e.c2p(C?z(r):
l[0],!0);b[w+"1"]=e.c2p(C?F(r):l[1],!0);b[w+"LabelVal"]=r.p;b.spikeDistance=(a(r)+function(a){return c(h(a),f(a))}(r))/2+D-A;b[w+"Spike"]=e.c2p(r.p,!0);d(r,p,b);g.getComponentMethod("errorbars","hoverInfo")(r,p,b);return[b]}}},{"../../components/color":291,"../../components/fx":333,"../../registry":517,"../scatter/fill_hover_text":573}],531:[function(b,p,l){l={};l.attributes=b("./attributes");l.layoutAttributes=b("./layout_attributes");l.supplyDefaults=b("./defaults");l.supplyLayoutDefaults=b("./layout_defaults");
l.calc=b("./calc");l.setPositions=b("./set_positions");l.colorbar=b("../scatter/colorbar");l.arraysToCalcdata=b("./arrays_to_calcdata");l.plot=b("./plot");l.style=b("./style");l.hoverPoints=b("./hover");l.selectPoints=b("./select");l.moduleType="trace";l.name="bar";l.basePlotModule=b("../../plots/cartesian");l.categories="cartesian bar oriented markerColorscale errorBarsOK showLegend".split(" ");l.meta={description:"The data visualized by the span of the bars is set in `y` if `orientation` is set th *v* (the default) and the labels are set in `x`. By setting `orientation` to *h*, the roles are interchanged."};
p.exports=l},{"../../plots/cartesian":469,"../scatter/colorbar":569,"./arrays_to_calcdata":526,"./attributes":527,"./calc":528,"./defaults":529,"./hover":530,"./layout_attributes":532,"./layout_defaults":533,"./plot":534,"./select":535,"./set_positions":536,"./style":538}],532:[function(b,p,l){p.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",editType:"calc",description:"Determines how bars at the same location coordinate are displayed on the graph. With *stack*, the bars are stacked on top of one another With *relative*, the bars are stacked on top of one another, with negative values below the axis, positive values above With *group*, the bars are plotted next to one another centered around the shared location. With *overlay*, the bars are plotted over one another, you might need to an *opacity* to see multiple bars."},
barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:"Sets the normalization for bar traces on the graph. With *fraction*, the value of each bar is divide by the sum of the values at the location coordinate. With *percent*, the results form *fraction* are presented in percents."},bargap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:"Sets the gap (in plot fraction) between bars of adjacent location coordinates."},bargroupgap:{valType:"number",
min:0,max:1,dflt:0,role:"style",editType:"calc",description:"Sets the gap (in plot fraction) between bars of the same location coordinate."}}},{}],533:[function(b,p,l){var n=b("../../registry"),g=b("../../plots/cartesian/axes"),k=b("../../lib"),d=b("./layout_attributes");p.exports=function(b,e,l){for(var h=!1,p=!1,f=!1,c={},q=0;q<l.length;q++){var a=l[q];if(n.traceIs(a,"bar")){h=!0;if("overlay"!==b.barmode&&"stack"!==b.barmode){var r=a.xaxis+a.yaxis;c[r]&&(f=!0);c[r]=!0}a.visible&&"histogram"===a.type&&
"category"!==g.getFromId({_fullLayout:e},a["v"===a.orientation?"xaxis":"yaxis"]).type&&(p=!0)}}h&&("overlay"!==k.coerce(b,e,d,"barmode",void 0)&&k.coerce(b,e,d,"barnorm",void 0),k.coerce(b,e,d,"bargap",p&&!f?0:.2),k.coerce(b,e,d,"bargroupgap",void 0))}},{"../../lib":414,"../../plots/cartesian/axes":458,"../../registry":517,"./layout_attributes":532}],534:[function(b,p,l){function n(a,b,c,d,f,m,n,l){function q(b,c,d){return b.append("text").text(c).attr({"class":"bartext bartext-"+v,transform:"","text-anchor":"middle",
"data-notex":1}).call(x.font,d).call(r.convertToTspans,a)}var p=c[0].trace,t=p.orientation,w=h(p,d);if(w){var v=e(p,d);if("none"!==v){var y=u(z,p.textfont,d,a._fullLayout.font),A=u(F,p.insidetextfont,d,y);y=u(B,p.outsidetextfont,d,y);var D=a._fullLayout.barmode;c=c[d];D=!("stack"===D||"relative"===D)||c._outmost;c=Math.abs(m-f)-6;d=Math.abs(l-n)-6;"outside"===v&&(D||(v="inside"));if("auto"===v)if(D){v="inside";var C=q(b,w,A);var E=x.bBox(C.node());D=E.width;var G=E.height;0<D&&0<G&&(D<=c&&G<=d||D<=
d&&G<=c||("h"===t?c>=d/G*D:d>=c/D*G))?v="inside":(v="outside",C.remove(),C=null)}else v="inside";if(!C&&(C=q(b,w,"outside"===v?y:A),E=x.bBox(C.node()),D=E.width,G=E.height,0>=D||0>=G)){C.remove();return}"outside"===v?(b="both"===p.constraintext||"outside"===p.constraintext,f=k(f,m,n,l,E,t,b)):(b="both"===p.constraintext||"inside"===p.constraintext,f=g(f,m,n,l,E,t,b));C.attr("transform",f)}}}function g(a,b,c,e,f,g,h){var k=f.width,m=f.height,n=(f.left+f.right)/2;f=(f.top+f.bottom)/2;var l=Math.abs(b-
a),q=Math.abs(e-c);if(6<l&&6<q){var r=3;l-=2*r;q-=2*r}else r=0;if(k<=l&&m<=q){var p=!1;h=1}else k<=q&&m<=l?(p=!0,h=1):k<m===l<q?(p=!1,h=h?Math.min(l/k,q/m):1):(p=!0,h=h?Math.min(q/k,l/m):1);p&&(p=90);p?(l=h*m,k*=h):(l=h*k,k=h*m);"h"===g?(a=b<a?b+r+l/2:b-r-l/2,c=(c+e)/2):e>c?(a=(a+b)/2,c=e-r-k/2):(a=(a+b)/2,c=e+r+k/2);return d(n,f,a,c,h,p)}function k(a,b,c,e,f,g,h){var k="h"===g?Math.abs(e-c):Math.abs(b-a),m;6<k&&(m=3);var n=1;h&&(n="h"===g?Math.min(1,k/f.height):Math.min(1,k/f.width));h=(f.left+f.right)/
2;k=(f.top+f.bottom)/2;var l=n*f.width;f=n*f.height;"h"===g?(a=b<a?b-m-l/2:b+m+l/2,c=(c+e)/2):e>c?(a=(a+b)/2,c=e+m+f/2):(a=(a+b)/2,c=e-m-f/2);return d(h,k,a,c,n,!1)}function d(a,b,c,d,e,f){if(1>e)var g="scale("+e+") ";else e=1,g="";return"translate("+(c-e*a)+" "+(d-e*b)+")"+g+(f?"rotate("+f+" "+a+" "+b+") ":"")}function h(a,b){a=m(a.text,b);return t(A,a)}function e(a,b){b=m(a.textposition,b);a=D;a.coerceNumber&&(b=+b);a=-1!==a.values.indexOf(b)?b:a.dflt;return a}function u(a,b,d,e){b=b||{};var f=
m(b.family,d),g=m(b.size,d);b=m(b.color,d);f=t(a.family,f,e.family);a:{d=a.size;var h=e.size;if(c(g)){g=+g;var k=d.min,n=d.max;if(!(void 0!==k&&g<k||void 0!==n&&g>n)){d=g;break a}}d=void 0!==h?h:d.dflt}a=a.color;e=e.color;e=q(b).isValid()?b:void 0!==e?e:a.dflt;return{family:f,size:d,color:e}}function m(a,b){var c;Array.isArray(a)?b<a.length&&(c=a[b]):c=a;return c}function t(a,b,c){if("string"===typeof b){if(b||!a.noBlank)return b}else if("number"===typeof b&&!a.strict)return String(b);return void 0!==
c?c:a.dflt}var f=b("d3"),c=b("fast-isnumeric"),q=b("tinycolor2"),a=b("../../lib"),r=b("../../lib/svg_text_utils"),v=b("../../components/color"),x=b("../../components/drawing"),C=b("../../registry");b=b("./attributes");var A=b.text,D=b.textposition,z=b.textfont,F=b.insidetextfont,B=b.outsidetextfont;p.exports=function(b,d,e){var g=d.xaxis,h=d.yaxis,k=b._fullLayout;e=d.plot.select(".barlayer").selectAll("g.trace.bars").data(e);e.enter().append("g").attr("class","trace bars");e.each(function(a){a[0].node3=
f.select(this)});e.append("g").attr("class","points").each(function(e){var m=f.select(this),l=e[0].trace,q=e[0].t.poffset,r=Array.isArray(q);m.selectAll("g.point").data(a.identity).enter().append("g").classed("point",!0).each(function(a,m){function p(a){return 0===k.bargap&&0===k.bargroupgap?f.round(Math.round(a)-D,2):a}function t(a,b){return 2<=Math.abs(a-b)?p(a):a>b?Math.ceil(a):Math.floor(a)}var u=a.p+(r?q[m]:q),w=u+a.w,y=a.b,z=y+a.s;if("h"===l.orientation){var A=h.c2p(u,!0);var B=h.c2p(w,!0);
u=g.c2p(y,!0);w=g.c2p(z,!0);a.ct=[w,(A+B)/2]}else u=g.c2p(u,!0),w=g.c2p(w,!0),A=h.c2p(y,!0),B=h.c2p(z,!0),a.ct=[(u+w)/2,B];if(c(u)&&c(w)&&c(A)&&c(B)&&u!==w&&A!==B){y=(a.mlw+1||l.marker.line.width+1||(a.trace?a.trace.marker.line.width:0)+1)-1;var D=f.round(y/2%1,2);b._context.staticPlot||(a=1>v.opacity(a.mc||l.marker.color)||.01<y?p:t,u=a(u,w),w=a(w,u),A=a(A,B),B=a(B,A));a=f.select(this);a.append("path").style("vector-effect","non-scaling-stroke").attr("d","M"+u+","+A+"V"+B+"H"+w+"V"+A+"Z").call(x.setClipUrl,
d.layerClipId);n(b,a,e,m,u,w,A,B);d.layerClipId&&x.hideOutsideRangePoint(e[m],a.select("text"),g,h,l.xcalendar,l.ycalendar)}else f.select(this).remove()})});C.getComponentMethod("errorbars","plot")(e,d);e.each(function(a){a=!1===a[0].trace.cliponaxis;x.setClipUrl(f.select(this),a?null:d.layerClipId)})}},{"../../components/color":291,"../../components/drawing":316,"../../lib":414,"../../lib/svg_text_utils":437,"../../registry":517,"./attributes":527,d3:86,"fast-isnumeric":95,tinycolor2:256}],535:[function(b,
p,l){p.exports=function(b,g){var k=b.cd,d=b.xaxis;b=b.yaxis;var h=[],e;if(!1===g)for(e=0;e<k.length;e++)k[e].selected=0;else for(e=0;e<k.length;e++){var n=k[e];g.contains(n.ct)?(h.push({pointNumber:e,x:d.c2d(n.x),y:b.c2d(n.y)}),n.selected=1):n.selected=0}return h}},{}],536:[function(b,p,l){function n(a,b,n,l){if(l.length){var p=a._fullLayout.barmode,v="group"===p;if("overlay"===p)g(a,b,n,l);else{if(v){p=[];var w=[];for(v=0;v<l.length;v++){var z=l[v];var A=z[0].trace;void 0===A.offset?w.push(z):p.push(z)}if(w.length){v=
a._fullLayout.barnorm;w=new C(w,!1,!v);var D=a._fullLayout;z=w.minDiff;A=w.traces;var F=w.positions.length!==w.distinctPositions.length,H=A.length,L=z*(1-D.bargap),N=F?L/H:L,M=N*(1-D.bargroupgap);for(D=0;D<H;D++){var Z=A[D];var Q=Z[0];Z=F?((2*D+1-H)*N-M)/2:-M/2;Q=Q.t;Q.barwidth=M;Q.poffset=Z;Q.bargroupwidth=L;Q.bardelta=z}w.binWidth=A[0][0].t.barwidth/100;d(w);h(a,b,w);e(a,b,w,F);v?(t(a,n,w),f(a,n,w)):m(a,n,w)}}else{p=[];w=[];for(v=0;v<l.length;v++)z=l[v],A=z[0].trace,void 0===A.base?w.push(z):p.push(z);
if(w.length){v=w;z=a._fullLayout.barmode;A="relative"===z;w=a._fullLayout.barnorm;z=new C(v,A,!(w||"stack"===z||A));k(a,b,z);A=a._fullLayout.barnorm;F=n._id.charAt(0);H=z.traces;Z=[null,null];for(L=0;L<H.length;L++)for(N=H[L],D=0;D<N.length;D++)if(M=N[D],M.s!==r){Q=z.put(M.p,M.b+M.s);var P=Q+M.b+M.s;M.b=Q;M[F]=P;A||(q(n.c2l(P))&&u(Z,P),M.hasB&&q(n.c2l(Q))&&u(Z,Q))}A||x.expand(n,Z,{tozero:!0,padded:!0});for(A=0;A<v.length;A++)for(F=v[A],H=0;H<F.length;H++)L=F[H],L.s!==r&&L.b+L.s===z.get(L.p,L.s)&&
(L._outmost=!0);w&&f(a,n,z)}}p.length&&g(a,b,n,p)}c(l,b)}}function g(a,b,c,d){for(var e=a._fullLayout.barnorm,g=!e,h=0;h<d.length;h++){var n=new C([d[h]],!1,g);k(a,b,n);e?(t(a,c,n),f(a,c,n)):m(a,c,n)}}function k(a,b,c){var f=a._fullLayout,g=c.minDiff,k=c.traces,m=g*(1-f.bargap),n=m*(1-f.bargroupgap),l=-n/2;for(f=0;f<k.length;f++){var q=k[f];q=q[0];q=q.t;q.barwidth=n;q.poffset=l;q.bargroupwidth=m;q.bardelta=g}c.binWidth=k[0][0].t.barwidth/100;d(c);h(a,b,c);e(a,b,c)}function d(b){b=b.traces;var c,d;
for(c=0;c<b.length;c++){var e=b[c];var f=e[0];var g=f.trace;f=f.t;var h=g.offset,k=f.poffset;if(a(h)){var m=h.slice(0,e.length);for(d=0;d<m.length;d++)q(m[d])||(m[d]=k);for(d=m.length;d<e.length;d++)m.push(k);f.poffset=m}else void 0!==h&&(f.poffset=h);d=g.width;g=f.barwidth;if(a(d)){var n=d.slice(0,e.length);for(d=0;d<n.length;d++)q(n[d])||(n[d]=g);for(d=n.length;d<e.length;d++)n.push(g);f.barwidth=n;if(void 0===h){m=[];for(d=0;d<e.length;d++)m.push(k+(g-n[d])/2);f.poffset=m}}else void 0!==d&&(f.barwidth=
d,void 0===h&&(f.poffset=k+(g-d)/2))}}function h(a,b,c){a=c.traces;b=b._id.charAt(0);for(c=0;c<a.length;c++){var d=a[c],e=d[0].t,f=e.poffset,g=Array.isArray(f);e=e.barwidth;for(var h=Array.isArray(e),k=0;k<d.length;k++){var m=d[k],n=m.w=h?e[k]:e;m[b]=m.p+(g?f[k]:f)+n/2}}}function e(a,b,c,d){a=c.traces;var e=c.distinctPositions,f=c.minDiff;c=f/2;x.minDtick(b,f,e[0],d);d=Math.min.apply(Math,e)-c;e=Math.max.apply(Math,e)+c;for(c=0;c<a.length;c++){f=a[c];var g=f[0],h=g.trace;if(void 0!==h.width||void 0!==
h.offset){h=g.t;g=h.poffset;h=h.barwidth;for(var k=Array.isArray(g),m=Array.isArray(h),n=0;n<f.length;n++){var l=f[n].p+(k?g[n]:g),q=l+(m?h[n]:h);d=Math.min(d,l);e=Math.max(e,q)}}}x.expand(b,[d,e],{padded:!1})}function u(a,b){q(a[0])?a[0]=Math.min(a[0],b):a[0]=b;q(a[1])?a[1]=Math.max(a[1],b):a[1]=b}function m(a,b,c){a=c.traces;c=b._id.charAt(0);for(var d=[null,null],e=0;e<a.length;e++)for(var f=a[e],g=0;g<f.length;g++){var h=f[g],k=h.b,m=k+h.s;h[c]=m;q(b.c2l(m))&&u(d,m);h.hasB&&q(b.c2l(k))&&u(d,k)}x.expand(b,
d,{tozero:!0,padded:!0})}function t(a,b,c){a=c.traces;for(b=0;b<a.length;b++)for(var d=a[b],e=0;e<d.length;e++){var f=d[e];f.s!==r&&c.put(f.p,f.b+f.s)}}function f(a,b,c){function d(a){q(b.c2l(a))&&(a<k-h||a>m+h||!q(k))&&(l=!0,u(n,a))}var e=c.traces,f=b._id.charAt(0),g="fraction"===a._fullLayout.barnorm?1:100,h=g/1E9,k=b.l2c(b.c2l(0)),m="stack"===a._fullLayout.barmode?g:k,n=[k,m],l=!1;for(a=0;a<e.length;a++)for(var p=e[a],t=0;t<p.length;t++){var v=p[t];if(v.s!==r){var z=Math.abs(g/c.get(v.p,v.s));
v.b*=z;v.s*=z;z=v.b;var A=z+v.s;v[f]=A;d(A);v.hasB&&d(z)}}x.expand(b,n,{tozero:!0,padded:l})}function c(a,b){b=b._id.charAt(0);var c={},d=Infinity,e=-Infinity,f,g;for(f=0;f<a.length;f++){var h=a[f];for(g=0;g<h.length;g++){var k=h[g].p;q(k)&&(d=Math.min(d,k),e=Math.max(e,k))}}var m=1E4/(e-d);e=c.round=function(a){return String(Math.round(m*(a-d)))};for(f=0;f<a.length;f++)for(h=a[f],h[0].t.extents=c,g=0;g<h.length;g++){var n=h[g];k=n[b]-n.w/2;if(q(k)){var l=n[b]+n.w/2;n=e(n.p);c[n]=c[n]?[Math.min(k,
c[n][0]),Math.max(l,c[n][1])]:[k,l]}}}var q=b("fast-isnumeric"),a=b("../../lib").isArrayOrTypedArray,r=b("../../constants/numerical").BADNUM,v=b("../../registry"),x=b("../../plots/cartesian/axes"),C=b("./sieve.js");p.exports=function(a,b){var c=b.xaxis;b=b.yaxis;var d=a._fullData,e=a.calcdata,f=[],g=[],h;for(h=0;h<d.length;h++){var k=d[h];!0===k.visible&&v.traceIs(k,"bar")&&k.xaxis===c._id&&k.yaxis===b._id&&("h"===k.orientation?f.push(e[h]):g.push(e[h]))}n(a,c,b,g);n(a,b,c,f)}},{"../../constants/numerical":395,
"../../lib":414,"../../plots/cartesian/axes":458,"../../registry":517,"./sieve.js":537,"fast-isnumeric":95}],537:[function(b,p,l){function n(b,h,e){this.traces=b;this.separateNegativeValues=h;this.dontMergeOverlappingData=e;h=Infinity;e=[];for(var d=0;d<b.length;d++){for(var m=b[d],n=0;n<m.length;n++){var f=m[n];f.p!==k&&e.push(f.p)}m[0]&&m[0].width1&&(h=Math.min(m[0].width1,h))}this.positions=e;b=g.distinctVals(e);this.distinctPositions=b.vals;this.binWidth=this.minDiff=1===b.vals.length&&Infinity!==
h?h:Math.min(b.minDiff,h);this.bins={}}p.exports=n;var g=b("../../lib"),k=b("../../constants/numerical").BADNUM;n.prototype.put=function(b,g){b=this.getLabel(b,g);var d=this.bins[b]||0;this.bins[b]=d+g;return d};n.prototype.get=function(b,g){b=this.getLabel(b,g);return this.bins[b]||0};n.prototype.getLabel=function(b,g){return(0>g&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?b:Math.round(b/this.binWidth))}},{"../../constants/numerical":395,"../../lib":414}],538:[function(b,
p,l){var n=b("d3"),g=b("../../components/drawing"),k=b("../../registry");p.exports=function(b,h){h=h?h[0].node3:n.select(b).selectAll("g.trace.bars");var d=h.size(),l=b._fullLayout;h.style("opacity",function(b){return b[0].trace.opacity}).each(function(b){("stack"===l.barmode&&1<d||0===l.bargap&&0===l.bargroupgap&&!b[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")});h.selectAll("g.points").each(function(d){var e=n.select(this),f=e.selectAll("path");e=e.selectAll("text");
var c=d[0].trace;g.pointStyle(f,c,b);g.selectedPointStyle(f,c);e.each(function(b){function a(a){a=e[a];return Array.isArray(a)?a[b.i]:a}var d=n.select(this);if(d.classed("bartext-inside"))var e=c.insidetextfont;else d.classed("bartext-outside")&&(e=c.outsidetextfont);e||(e=c.textfont);g.font(d,a("family"),a("size"),a("color"))});g.selectedTextStyle(e,c)});k.getComponentMethod("errorbars","style")(h)}},{"../../components/drawing":316,"../../registry":517,d3:86}],539:[function(b,p,l){var n=b("../../components/color"),
g=b("../../components/colorscale/has_colorscale"),k=b("../../components/colorscale/defaults");p.exports=function(b,h,e,l,m){e("marker.color",l);g(b,"marker")&&k(b,h,m,e,{prefix:"marker.",cLetter:"c"});e("marker.line.color",n.defaultLine);g(b,"marker.line")&&k(b,h,m,e,{prefix:"marker.line.",cLetter:"c"});e("marker.line.width");e("marker.opacity");e("selected.marker.color");e("unselected.marker.color")}},{"../../components/color":291,"../../components/colorscale/defaults":301,"../../components/colorscale/has_colorscale":305}],
540:[function(b,p,l){l=b("../../components/colorscale/color_attributes");var n=b("../../components/colorscale/attributes"),g=b("../../components/colorbar/attributes"),k=b("../surface/attributes"),d=b("../../plots/attributes");b=b("../../lib/extend").extendFlat;p.exports=b(l("","calc",!1),{x:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the X coordinates of the vertices. The nth element of vectors `x`, `y` and `z` jointly represent the X, Y and Z coordinates of the nth vertex."},
y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the Y coordinates of the vertices. The nth element of vectors `x`, `y` and `z` jointly represent the X, Y and Z coordinates of the nth vertex."},z:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the Z coordinates of the vertices. The nth element of vectors `x`, `y` and `z` jointly represent the X, Y and Z coordinates of the nth vertex."},i:{valType:"data_array",editType:"calc",description:"A vector of vertex indices, i.e. integer values between 0 and the length of the vertex vectors, representing the *first* vertex of a triangle. For example, `{i[m], j[m], k[m]}` together represent face m (triangle m) in the mesh, where `i[m] = n` points to the triplet `{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `i` represents a point in space, which is the first vertex of a triangle."},
j:{valType:"data_array",editType:"calc",description:"A vector of vertex indices, i.e. integer values between 0 and the length of the vertex vectors, representing the *second* vertex of a triangle. For example, `{i[m], j[m], k[m]}`  together represent face m (triangle m) in the mesh, where `j[m] = n` points to the triplet `{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `j` represents a point in space, which is the second vertex of a triangle."},k:{valType:"data_array",editType:"calc",
description:"A vector of vertex indices, i.e. integer values between 0 and the length of the vertex vectors, representing the *third* vertex of a triangle. For example, `{i[m], j[m], k[m]}` together represent face m (triangle m) in the mesh, where `k[m] = n` points to the triplet  `{x[n], y[n], z[n]}` in the vertex arrays. Therefore, each element in `k` represents a point in space, which is the third vertex of a triangle."},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:"Sets the text elements associated with the vertices. If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."},
delaunayaxis:{valType:"enumerated",role:"info",values:["x","y","z"],dflt:"z",editType:"calc",description:"Sets the Delaunay axis, which is the axis that is perpendicular to the surface of the Delaunay triangulation. It has an effect if `i`, `j`, `k` are not provided and `alphahull` is set to indicate Delaunay triangulation."},alphahull:{valType:"number",role:"style",dflt:-1,editType:"calc",description:"Determines how the mesh surface triangles are derived from the set of vertices (points) represented by the `x`, `y` and `z` arrays, if the `i`, `j`, `k` arrays are not supplied. For general use of `mesh3d` it is preferred that `i`, `j`, `k` are supplied. If *-1*, Delaunay triangulation is used, which is mainly suitable if the mesh is a single, more or less layer surface that is perpendicular to `delaunayaxis`. In case the `delaunayaxis` intersects the mesh surface at more than one point it will result triangles that are very long in the dimension of `delaunayaxis`. If *>0*, the alpha-shape algorithm is used. In this case, the positive `alphahull` value signals the use of the alpha-shape algorithm, _and_ its value acts as the parameter for the mesh fitting. If *0*,  the convex-hull algorithm is used. It is suitable for convex bodies or if the intention is to enclose the `x`, `y` and `z` point set into a convex hull."},
intensity:{valType:"data_array",editType:"calc",description:"Sets the vertex intensity values, used for plotting fields on meshes"},color:{valType:"color",role:"style",editType:"calc",description:"Sets the color of the whole mesh"},vertexcolor:{valType:"data_array",role:"style",editType:"calc",description:"Sets the color of each vertex Overrides *color*."},facecolor:{valType:"data_array",role:"style",editType:"calc",description:"Sets the color of each face Overrides *color* and *vertexcolor*."},opacity:k.opacity,
flatshading:{valType:"boolean",role:"style",dflt:!1,editType:"calc",description:"Determines whether or not normal smoothing is applied to the meshes, creating meshes with an angular, low-poly look via flat reflections."},contour:{show:b({},k.contours.x.show,{description:"Sets whether or not dynamic contours are shown on hover"}),color:k.contours.x.color,width:k.contours.x.width,editType:"calc"},showscale:n.showscale,colorbar:g,lightposition:{x:b({},k.lightposition.x,{dflt:1E5}),y:b({},k.lightposition.y,
{dflt:1E5}),z:b({},k.lightposition.z,{dflt:0}),editType:"calc"},lighting:b({vertexnormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1E-12,editType:"calc",description:"Epsilon for vertex normals calculation avoids math issues arising from degenerate geometry."},facenormalsepsilon:{valType:"number",role:"style",min:0,max:1,dflt:1E-6,editType:"calc",description:"Epsilon for face normals calculation avoids math issues arising from degenerate geometry."},editType:"calc"},k.lighting),hoverinfo:b({},
d.hoverinfo,{editType:"calc"})})},{"../../components/colorbar/attributes":292,"../../components/colorscale/attributes":297,"../../components/colorscale/color_attributes":299,"../../lib/extend":406,"../../plots/attributes":455,"../surface/attributes":597}],541:[function(b,p,l){var n=b("../../components/colorscale/calc");p.exports=function(b,k){k.intensity&&n(k,k.intensity,"","c")}},{"../../components/colorscale/calc":298}],542:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),k=b("../../plots/plots"),
d=b("../../components/colorscale"),h=b("../../components/colorbar/draw");p.exports=function(b,l){var e=l[0].trace,p="cb"+e.uid,f=e.cmin,c=e.cmax,q=e.intensity||[];n(f)||(f=g.aggNums(Math.min,null,q));n(c)||(c=g.aggNums(Math.max,null,q));b._fullLayout._infolayer.selectAll("."+p).remove();e.showscale?(b=l[0].t.cb=h(b,p),l=d.makeColorScaleFunc(d.extractScale(e.colorscale,f,c),{noNumericCheck:!0}),b.fillcolor(l).filllevels({start:f,end:c,size:(c-f)/254}).options(e.colorbar)()):k.autoMargin(b,p)}},{"../../components/colorbar/draw":295,
"../../components/colorscale":306,"../../lib":414,"../../plots/plots":502,"fast-isnumeric":95}],543:[function(b,p,l){function n(b,c,d){this.scene=b;this.uid=d;this.mesh=c;this.name="";this.color="#fff";this.data=null;this.showContour=!1}function g(b){return b.map(function(b){var c=b[0];b=h(b[1]).toRgb();return{index:c,rgb:[b.r,b.g,b.b,1]}})}function k(b,c,d){for(var a=Array(b.length),e=0;e<b.length;++e)a[e]=[b[e],c[e],d[e]];return a}var d=b("gl-mesh3d"),h=b("tinycolor2"),e=b("delaunay-triangulate"),
u=b("alpha-shape"),m=b("convex-hull"),t=b("../../lib/str2rgbarray");b=n.prototype;b.handlePick=function(b){if(b.object===this.mesh){var c=b.index=b.data.index;b.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c]];var d=this.data.text;Array.isArray(d)&&void 0!==d[c]?b.textLabel=d[c]:d&&(b.textLabel=d);return!0}};b.update=function(b){function c(a,b,c,d){return b.map(function(b){return a.d2l(b,0,d)*c})}var d=this.scene,a=d.fullSceneLayout;this.data=b;d=k(c(a.xaxis,b.x,d.dataScale[0],b.xcalendar),
c(a.yaxis,b.y,d.dataScale[1],b.ycalendar),c(a.zaxis,b.z,d.dataScale[2],b.zcalendar));if(b.i&&b.j&&b.k)a=k(b.i,b.j,b.k);else if(0===b.alphahull)a=m(d);else if(0<b.alphahull)a=u(b.alphahull,d);else{var f=["x","y","z"].indexOf(b.delaunayaxis);a=e(d.map(function(a){return[a[(f+1)%3],a[(f+2)%3]]}))}d={positions:d,cells:a,lightPosition:[b.lightposition.x,b.lightposition.y,b.lightposition.z],ambient:b.lighting.ambient,diffuse:b.lighting.diffuse,specular:b.lighting.specular,roughness:b.lighting.roughness,
fresnel:b.lighting.fresnel,vertexNormalsEpsilon:b.lighting.vertexnormalsepsilon,faceNormalsEpsilon:b.lighting.facenormalsepsilon,opacity:b.opacity,contourEnable:b.contour.show,contourColor:t(b.contour.color).slice(0,3),contourWidth:b.contour.width,useFacetNormals:b.flatshading};b.intensity?(this.color="#fff",d.vertexIntensity=b.intensity,d.vertexIntensityBounds=[b.cmin,b.cmax],d.colormap=g(b.colorscale)):b.vertexcolor?(this.color=b.vertexcolor[0],d.vertexColors=b.vertexcolor.map(t)):b.facecolor?(this.color=
b.facecolor[0],d.cellColors=b.facecolor.map(t)):(this.color=b.color,d.meshColor=t(b.color));this.mesh.update(d)};b.dispose=function(){this.scene.glplot.remove(this.mesh);this.mesh.dispose()};p.exports=function(b,c){var e=d({gl:b.glplot.gl}),a=new n(b,e,c.uid);e._trace=a;a.update(c);b.glplot.add(e);return a}},{"../../lib/str2rgbarray":436,"alpha-shape":24,"convex-hull":77,"delaunay-triangulate":88,"gl-mesh3d":136,tinycolor2:256}],544:[function(b,p,l){var n=b("../../registry"),g=b("../../lib"),k=b("../../components/colorscale/defaults"),
d=b("./attributes");p.exports=function(b,e,l,m){function h(a,c){return g.coerce(b,e,d,a,c)}function f(a){var b=a.map(function(a){return(a=h(a))&&g.isArrayOrTypedArray(a)?a:null});return b.every(function(a){return a&&a.length===b[0].length})&&b}var c=f(["x","y","z"]),q=f(["i","j","k"]);c?(q&&q.forEach(function(a){for(var b=0;b<a.length;++b)a[b]|=0}),n.getComponentMethod("calendars","handleTraceDefaults")(b,e,["x","y","z"],m),"lighting.ambient lighting.diffuse lighting.specular lighting.roughness lighting.fresnel lighting.vertexnormalsepsilon lighting.facenormalsepsilon lightposition.x lightposition.y lightposition.z contour.show contour.color contour.width colorscale reversescale flatshading alphahull delaunayaxis opacity".split(" ").forEach(function(a){h(a)}),
"intensity"in b?(h("intensity"),k(b,e,m,h,{prefix:"",cLetter:"c"})):(e.showscale=!1,"facecolor"in b?h("facecolor"):"vertexcolor"in b?h("vertexcolor"):h("color",l)),h("text")):e.visible=!1}},{"../../components/colorscale/defaults":301,"../../lib":414,"../../registry":517,"./attributes":540}],545:[function(b,p,l){l={};l.attributes=b("./attributes");l.supplyDefaults=b("./defaults");l.calc=b("./calc");l.colorbar=b("./colorbar");l.plot=b("./convert");l.moduleType="trace";l.name="mesh3d";l.basePlotModule=
b("../../plots/gl3d");l.categories=["gl3d"];l.meta={description:"Draws sets of triangles with coordinates given by three 1-dimensional arrays in `x`, `y`, `z` and (1) a sets of `i`, `j`, `k` indices (2) Delaunay triangulation or (3) the Alpha-shape algorithm or (4) the Convex-hull algorithm"};p.exports=l},{"../../plots/gl3d":489,"./attributes":540,"./calc":541,"./colorbar":542,"./convert":543,"./defaults":544}],546:[function(b,p,l){l=b("../../components/color/attributes");var n=b("../../plots/font_attributes"),
g=b("../../plots/attributes"),k=b("../../plots/domain").attributes;b=b("../../lib/extend").extendFlat;n=n({editType:"calc",colorEditType:"style",description:"Sets the font used for `textinfo`."});p.exports={labels:{valType:"data_array",editType:"calc",description:"Sets the sector labels. If `labels` entries are duplicated, we sum associated `values` or simply count occurrences if `values` is not provided. For other array attributes (including color) we use the first non-empty entry among all occurrences of the label."},
label0:{valType:"number",role:"info",dflt:0,editType:"calc",description:"Alternate to `labels`. Builds a numeric set of labels. Use with `dlabel` where `label0` is the starting label and `dlabel` the step."},dlabel:{valType:"number",role:"info",dflt:1,editType:"calc",description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",editType:"calc",description:"Sets the values of the sectors of this pie chart. If omitted, we count occurrences of each label."},marker:{colors:{valType:"data_array",
editType:"calc",description:"Sets the color of each sector of this pie chart. If not specified, the default trace color set is used to pick the sector colors."},line:{color:{valType:"color",role:"style",dflt:l.defaultLine,arrayOk:!0,editType:"style",description:"Sets the color of the line enclosing each sector."},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,editType:"style",description:"Sets the width (in px) of the line enclosing each sector."},editType:"calc"},editType:"calc"},text:{valType:"data_array",
editType:"calc",description:"Sets text elements associated with each sector. If trace `textinfo` contains a *text* flag, these elements will seen on the chart. If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:"Sets hover text elements associated with each sector. If a single string, the same string appears for all data points. If an array of string, the items are mapped in order of this trace's sectors. To be seen, trace `hoverinfo` must contain a *text* flag."},
scalegroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:"If there are multiple pies that should be sized according to their totals, link them by providing a non-empty group id here shared by every trace in the same group."},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],editType:"calc",description:"Determines which trace information appear on the graph."},hoverinfo:b({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),
textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:"Specifies the location of the `textinfo`."},textfont:b({},n,{description:"Sets the font used for `textinfo`."}),insidetextfont:b({},n,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:b({},n,{description:"Sets the font used for `textinfo` lying outside the pie."}),domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",
role:"style",min:0,max:1,dflt:0,editType:"calc",description:"Sets the fraction of the radius to cut out of the pie. Use this to make a donut chart."},sort:{valType:"boolean",role:"style",dflt:!0,editType:"calc",description:"Determines whether or not the sectors are reordered from largest to smallest."},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",editType:"calc",description:"Specifies the direction at which succeeding sectors follow one another."},
rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,editType:"calc",description:"Instead of the first slice starting at 12 o'clock, rotate to some other angle."},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc",description:"Sets the fraction of larger radius to pull the sectors out from the center. This can be a constant to pull all slices apart from each other equally or an array to highlight one or more slices."}}},{"../../components/color/attributes":290,
"../../lib/extend":406,"../../plots/attributes":455,"../../plots/domain":484,"../../plots/font_attributes":485}],547:[function(b,p,l){var n=b("../../registry");l.name="pie";l.plot=function(b){for(var g=n.getModule("pie"),d=b.calcdata,h=[],e=0;e<d.length;e++){var l=d[e],m=l[0].trace;m._module===g&&!0===m.visible&&h.push(l)}h.length&&g.plot(b,h)};l.clean=function(b,k,d,h){b=h._has&&h._has("pie");k=k._has&&k._has("pie");b&&!k&&h._pielayer.selectAll("g.trace").remove()}},{"../../registry":517}],548:[function(b,
p,l){function n(b,d){m||(m=g(e.defaults));d=d||m;return d[b%d.length]}function g(b){var d,c=b.slice();for(d=0;d<b.length;d++)c.push(h(b[d]).lighten(20).toHexString());for(d=0;d<b.length;d++)c.push(h(b[d]).darken(20).toHexString());return c}var k=b("fast-isnumeric"),d=b("../../lib").isArrayOrTypedArray,h=b("tinycolor2"),e=b("../../components/color"),u=b("./helpers");p.exports=function(b,f){function c(a,b){if(!a)return!1;a=h(a);if(!a.isValid())return!1;a=e.addOpacity(a,a.getAlpha());D[b]||(D[b]=a);
return a}var m=f.values,a=d(m)&&m.length,l=f.labels,p=f.marker.colors||[],t=[],C=b._fullLayout,A=C.colorway,D=C._piecolormap,z={};b=0;var F=C.hiddenlabels||[];C._piecolorway||A===e.defaults||(C._piecolorway=g(A));if(f.dlabel)for(l=Array(m.length),A=0;A<m.length;A++)l[A]=String(f.label0+A*f.dlabel);var B=(a?m:l).length;for(A=0;A<B;A++){if(a){var y=m[A];if(!k(y))continue;y=+y;if(0>y)continue}else y=1;var w=l[A];if(void 0===w||""===w)w=A;w=String(w);var G=z[w];void 0===G?(z[w]=t.length,(G=-1!==F.indexOf(w))||
(b+=y),t.push({v:y,label:w,color:c(p[A]),i:A,pts:[A],hidden:G})):(G=t[G],G.v+=y,G.pts.push(A),G.hidden||(b+=y),!1===G.color&&p[A]&&(G.color=c(p[A],w)))}f.sort&&t.sort(function(a,b){return b.v-a.v});for(A=0;A<t.length;A++)G=t[A],!1===G.color&&(D[G.label]?G.color=D[G.label]:(D[G.label]=G.color=n(C._piedefaultcolorcount,C._piecolorway),C._piedefaultcolorcount++));t[0]&&(t[0].vTotal=b);if(f.textinfo&&"none"!==f.textinfo)for(m=-1!==f.textinfo.indexOf("label"),a=-1!==f.textinfo.indexOf("text"),l=-1!==f.textinfo.indexOf("value"),
p=-1!==f.textinfo.indexOf("percent"),C=C.separators,A=0;A<t.length;A++)G=t[A],z=m?[G.label]:[],a&&(F=u.getFirstFilled(f.text,G.pts))&&z.push(F),l&&z.push(u.formatPieValue(G.v,C)),p&&z.push(u.formatPiePercent(G.v/b,C)),G.text=z.join("<br>");return t};var m},{"../../components/color":291,"../../lib":414,"./helpers":551,"fast-isnumeric":95,tinycolor2:256}],549:[function(b,p,l){var n=b("../../lib"),g=b("./attributes"),k=b("../../plots/domain").defaults;p.exports=function(b,h,e,l){function d(c,a){return n.coerce(b,
h,g,c,a)}e=n.coerceFont;var p=d("values"),f=d("labels");if(!Array.isArray(f)){if(!n.isArrayOrTypedArray(p)||!p.length){h.visible=!1;return}d("label0");d("dlabel")}d("marker.line.width")&&d("marker.line.color");d("marker.colors");d("scalegroup");p=d("text");p=d("textinfo",Array.isArray(p)?"text+percent":"percent");d("hovertext");if(p&&"none"!==p){f=d("textposition");var c=Array.isArray(f)||"auto"===f;p=c||"inside"===f;f=c||"outside"===f;if(p||f)c=e(d,"textfont",l.font),p&&e(d,"insidetextfont",c),f&&
e(d,"outsidetextfont",c)}k(h,l,d);d("hole");d("sort");d("direction");d("rotation");d("pull")}},{"../../lib":414,"../../plots/domain":484,"./attributes":546}],550:[function(b,p,l){var n=b("../../components/fx/helpers").appendArrayMultiPointValues;p.exports=function(b,k){var d={curveNumber:k.index,pointNumbers:b.pts,data:k._input,fullData:k,label:b.label,color:b.color,value:b.v,v:b.v};1===b.pts.length&&(d.pointNumber=d.i=b.pts[0]);n(d,k,b.pts);return d}},{"../../components/fx/helpers":330}],551:[function(b,
p,l){var n=b("../../lib");l.formatPiePercent=function(b,k){b=(100*b).toPrecision(3);-1!==b.lastIndexOf(".")&&(b=b.replace(/[.]?0+$/,""));return n.numSeparate(b,k)+"%"};l.formatPieValue=function(b,k){b=b.toPrecision(10);-1!==b.lastIndexOf(".")&&(b=b.replace(/[.]?0+$/,""));return n.numSeparate(b,k)};l.getFirstFilled=function(b,k){if(Array.isArray(b))for(var d=0;d<k.length;d++){var g=b[k[d]];if(g||0===g)return g}};l.castOption=function(b,k){if(Array.isArray(b))return l.getFirstFilled(b,k);if(b)return b}},
{"../../lib":414}],552:[function(b,p,l){l={};l.attributes=b("./attributes");l.supplyDefaults=b("./defaults");l.supplyLayoutDefaults=b("./layout_defaults");l.layoutAttributes=b("./layout_attributes");l.calc=b("./calc");l.plot=b("./plot");l.style=b("./style");l.styleOne=b("./style_one");l.moduleType="trace";l.name="pie";l.basePlotModule=b("./base_plot");l.categories=["pie","showLegend"];l.meta={description:"A data visualized by the sectors of the pie is set in `values`. The sector labels are set in `labels`. The sector colors are set in `marker.colors`"};
p.exports=l},{"./attributes":546,"./base_plot":547,"./calc":548,"./defaults":549,"./layout_attributes":553,"./layout_defaults":554,"./plot":555,"./style":556,"./style_one":557}],553:[function(b,p,l){p.exports={hiddenlabels:{valType:"data_array",editType:"calc"}}},{}],554:[function(b,p,l){var n=b("../../lib"),g=b("./layout_attributes");p.exports=function(b,d){n.coerce(b,d,g,"hiddenlabels",void 0)}},{"../../lib":414,"./layout_attributes":553}],555:[function(b,p,l){function n(a,b){return a.v!==b.vTotal||
b.trace.hole?Math.min(1/(1+1/Math.sin(Math.PI*Math.min(a.v/b.vTotal,.5))),(1-b.trace.hole)/2):1}function g(a,b){var c=b.pxmid[0];b=b.pxmid[1];var d=a.width/2;a=a.height/2;0>c&&(d*=-1);0>b&&(a*=-1);return{scale:1,rCenter:1,rotate:0,x:d+Math.abs(a)*(0<d?1:-1)/2,y:a/(1+c*c/(b*b)),outside:!0}}function k(a,b){function d(a,b){return a.pxmid[1]-b.pxmid[1]}function e(a,b){return b.pxmid[1]-a.pxmid[1]}function g(a,d){d||(d={});var e=d.labelExtraY+(h?d.yLabelMax:d.yLabelMin);d=h?a.yLabelMin:a.yLabelMax;var g=
h?a.yLabelMax:a.yLabelMin,f=a.cyFinal+n(a.px0[1],a.px1[1]),k=e-d;0<k*l&&(a.labelExtraY=k);if(Array.isArray(b.pull))for(e=0;e<u.length;e++){var m=u[e];m===a||(c.castOption(b.pull,a.pts)||0)>=(c.castOption(b.pull,m.pts)||0)||(0<(a.pxmid[1]-m.pxmid[1])*l?(k=m.cyFinal+n(m.px0[1],m.px1[1]),k=k-d-a.labelExtraY,0<k*l&&(a.labelExtraY+=k)):0<(g+a.labelExtraY-f)*l&&(k=3*p*Math.abs(e-u.indexOf(a)),m=m.cxFinal+q(m.px0[0],m.px1[0]),k=m+k-(a.cxFinal+a.pxmid[0])-a.labelExtraX,0<k*p&&(a.labelExtraX+=k)))}}var f,
h,k;for(h=0;2>h;h++){var m=h?d:e;var n=h?Math.max:Math.min;var l=h?1:-1;for(f=0;2>f;f++){var q=f?Math.max:Math.min;var p=f?1:-1;var r=a[h][f];r.sort(m);var t=a[1-h][f];var u=t.concat(r);var H=[];for(k=0;k<r.length;k++)void 0!==r[k].yLabelMid&&H.push(r[k]);r=!1;for(k=0;h&&k<t.length;k++)if(void 0!==t[k].yLabelMid){r=t[k];break}for(k=0;k<H.length;k++)t=k&&H[k-1],r&&!k&&(t=r),g(H[k],t)}}}function d(a,b){var c=[],d,e;for(d=0;d<a.length;d++){var g=a[d][0];var f=g.trace;var h=b.w*(f.domain.x[1]-f.domain.x[0]);
var k=b.h*(f.domain.y[1]-f.domain.y[0]);var m=f.pull;if(Array.isArray(m))for(e=m=0;e<f.pull.length;e++)f.pull[e]>m&&(m=f.pull[e]);g.r=Math.min(h,k)/(2+2*m);g.cx=b.l+b.w*(f.domain.x[1]+f.domain.x[0])/2;g.cy=b.t+b.h*(2-f.domain.y[1]-f.domain.y[0])/2;f.scalegroup&&-1===c.indexOf(f.scalegroup)&&c.push(f.scalegroup)}for(e=0;e<c.length;e++){h=Infinity;b=c[e];for(d=0;d<a.length;d++)g=a[d][0],g.trace.scalegroup===b&&(h=Math.min(h,g.r*g.r/g.vTotal));for(d=0;d<a.length;d++)g=a[d][0],g.trace.scalegroup===b&&
(g.r=Math.sqrt(h*g.vTotal))}}function h(a){function b(a){return[c.r*Math.sin(a),-c.r*Math.cos(a)]}var c=a[0],d=c.trace,e=d.rotation*Math.PI/180,g=2*Math.PI/c.vTotal,f="px0",h="px1";if("counterclockwise"===d.direction){for(d=0;d<a.length&&a[d].hidden;d++);if(d===a.length)return;e+=g*a[d].v;g*=-1;f="px1";h="px0"}var k=b(e);for(d=0;d<a.length;d++){var m=a[d];m.hidden||(m[f]=k,e+=g*m.v/2,m.pxmid=b(e),m.midangle=e,e+=g*m.v/2,k=b(e),m[h]=k,m.largeArc=m.v>c.vTotal/2?1:0)}}var e=b("d3"),u=b("../../components/fx"),
m=b("../../components/color"),t=b("../../components/drawing"),f=b("../../lib/svg_text_utils"),c=b("./helpers"),q=b("./event_data");p.exports=function(a,b){var l=a._fullLayout;d(b,l._size);var p=l._pielayer.selectAll("g.trace").data(b);p.enter().append("g").attr({"stroke-linejoin":"round","class":"trace"});p.exit().remove();p.order();p.each(function(b){var d=e.select(this),p=b[0],r=p.trace;h(b);d.each(function(){var d=e.select(this).selectAll("g.slice").data(b);d.enter().append("g").classed("slice",
!0);d.exit().remove();var h=[[[],[]],[[],[]]],v=!1;d.each(function(b){function d(a,c,d,e){return"a"+e*p.r+","+e*p.r+" 0 "+b.largeArc+(d?" 1 ":" 0 ")+e*(c[0]-a[0])+","+e*(c[1]-a[1])}if(b.hidden)e.select(this).selectAll("path,g").remove();else{b.pointNumber=b.i;b.curveNumber=r.index;h[0>b.pxmid[1]?0:1][0>b.pxmid[0]?0:1].push(b);var k=p.cx,m=p.cy,w=e.select(this),x=w.selectAll("path.surface").data([b]),y=!1,A=!1;x.enter().append("path").classed("surface",!0).style({"pointer-events":"all"});w.select("path.textline").remove();
w.on("mouseover",function(){var d=a._fullLayout,g=a._fullData[r.index];if(!a._dragging&&!1!==d.hovermode){var f=g.hoverinfo;Array.isArray(f)&&(f=u.castHoverinfo({hoverinfo:[c.castOption(f,b.pts)],_module:r._module},d,0));"all"===f&&(f="label+text+value+percent+name");if("none"!==f&&"skip"!==f&&f){var h=n(b,p),t=k+b.pxmid[0]*(1-h),v=m+b.pxmid[1]*(1-h),w=l.separators,x=[];-1!==f.indexOf("label")&&x.push(b.label);if(-1!==f.indexOf("text")){var z=c.castOption(g.hovertext||g.text,b.pts);z&&x.push(z)}-1!==
f.indexOf("value")&&x.push(c.formatPieValue(b.v,w));-1!==f.indexOf("percent")&&x.push(c.formatPiePercent(b.v/p.vTotal,w));w=r.hoverlabel;z=w.font;u.loneHover({x0:t-h*p.r,x1:t+h*p.r,y:v,text:x.join("<br>"),name:-1!==f.indexOf("name")?g.name:void 0,idealAlign:0>b.pxmid[0]?"left":"right",color:c.castOption(w.bgcolor,b.pts)||b.color,borderColor:c.castOption(w.bordercolor,b.pts),fontFamily:c.castOption(z.family,b.pts),fontSize:c.castOption(z.size,b.pts),fontColor:c.castOption(z.color,b.pts)},{container:d._hoverlayer.node(),
outerContainer:d._paper.node(),gd:a});y=!0}a.emit("plotly_hover",{points:[q(b,g)],event:e.event});A=!0}}).on("mouseout",function(c){var d=a._fullLayout,f=a._fullData[r.index];A&&(c.originalEvent=e.event,a.emit("plotly_unhover",{points:[q(b,f)],event:e.event}),A=!1);y&&(u.loneUnhover(d._hoverlayer.node()),y=!1)}).on("click",function(){var c=a._fullLayout;a._dragging||!1===c.hovermode||(a._hoverdata=[q(b,a._fullData[r.index])],u.click(a,e.event))});if(r.pull){var z=+c.castOption(r.pull,b.pts)||0;0<
z&&(k+=z*b.pxmid[0],m+=z*b.pxmid[1])}b.cxFinal=k;b.cyFinal=m;z=r.hole;if(b.v===p.vTotal){var B="M"+(k+b.px0[0])+","+(m+b.px0[1])+d(b.px0,b.pxmid,!0,1)+d(b.pxmid,b.px0,!0,1)+"Z";z?x.attr("d","M"+(k+z*b.px0[0])+","+(m+z*b.px0[1])+d(b.px0,b.pxmid,!1,z)+d(b.pxmid,b.px0,!1,z)+"Z"+B):x.attr("d",B)}else if(B=d(b.px0,b.px1,!0,1),z){var D=1-z;x.attr("d","M"+(k+z*b.px1[0])+","+(m+z*b.px1[1])+d(b.px1,b.px0,!1,z)+"l"+D*b.px0[0]+","+D*b.px0[1]+B+"Z")}else x.attr("d","M"+k+","+m+"l"+b.px0[0]+","+b.px0[1]+B+"Z");
var C=c.castOption(r.textposition,b.pts);w=w.selectAll("g.slicetext").data(b.text&&"none"!==C?[0]:[]);w.enter().append("g").classed("slicetext",!0);w.exit().remove();w.each(function(){var c=e.select(this).selectAll("text").data([0]);c.enter().append("text").attr("data-notex",1);c.exit().remove();c.text(b.text).attr({"class":"slicetext",transform:"","text-anchor":"middle"}).call(t.font,"outside"===C?r.outsidetextfont:r.insidetextfont).call(f.convertToTspans,a);var d=t.bBox(c.node());if("outside"===
C)var h=g(d,b);else{h=d;var l=Math.sqrt(h.width*h.width+h.height*h.height),q=h.width/h.height,u=Math.PI*Math.min(b.v/p.vTotal,.5),w=1-p.trace.hole,x=n(b,p);l={scale:x*p.r*2/l,rCenter:1-x,rotate:0};if(1<=l.scale)h=l;else{x=q+1/(2*Math.tan(u));x=p.r*Math.min(1/(Math.sqrt(x*x+.5)+x),w/(Math.sqrt(q*q+w/2)+q));x={scale:2*x/h.height,rCenter:Math.cos(x/p.r)-x*q/p.r,rotate:(180/Math.PI*b.midangle+720)%180-90};var y=1/q;u=y+1/(2*Math.tan(u));w=p.r*Math.min(1/(Math.sqrt(u*u+.5)+u),w/(Math.sqrt(y*y+w/2)+y));
h={scale:2*w/h.width,rCenter:Math.cos(w/p.r)-w/q/p.r,rotate:(180/Math.PI*b.midangle+810)%180-90};h=h.scale>x.scale?h:x;h=1>l.scale&&h.scale>l.scale?h:l}if("auto"===C&&1>h.scale){c.call(t.font,r.outsidetextfont);if(r.outsidetextfont.family!==r.insidetextfont.family||r.outsidetextfont.size!==r.insidetextfont.size)d=t.bBox(c.node());h=g(d,b)}}q=k+b.pxmid[0]*h.rCenter+(h.x||0);l=m+b.pxmid[1]*h.rCenter+(h.y||0);h.outside&&(b.yLabelMin=l-d.height/2,b.yLabelMid=l,b.yLabelMax=l+d.height/2,b.labelExtraX=0,
b.labelExtraY=0,v=!0);c.attr("transform","translate("+q+","+l+")"+(1>h.scale?"scale("+h.scale+")":"")+(h.rotate?"rotate("+h.rotate+")":"")+"translate("+-(d.left+d.right)/2+","+-(d.top+d.bottom)/2+")")})}});v&&k(h,r);d.each(function(a){if(a.labelExtraX||a.labelExtraY){var b=e.select(this),c=b.select("g.slicetext text");c.attr("transform","translate("+a.labelExtraX+","+a.labelExtraY+")"+c.attr("transform"));c=a.cxFinal+a.pxmid[0];var d="M"+c+","+(a.cyFinal+a.pxmid[1]),f=(a.yLabelMax-a.yLabelMin)*(0>
a.pxmid[0]?-1:1)/4;if(a.labelExtraX){var g=a.labelExtraX*a.pxmid[1]/a.pxmid[0],h=a.yLabelMid+a.labelExtraY-(a.cyFinal+a.pxmid[1]);d=Math.abs(g)>Math.abs(h)?d+("l"+h*a.pxmid[0]/a.pxmid[1]+","+h+"H"+(c+a.labelExtraX+f)):d+("l"+a.labelExtraX+","+g+"v"+(h-g)+"h"+f)}else d+="V"+(a.yLabelMid+a.labelExtraY)+"h"+f;b.append("path").classed("textline",!0).call(m.stroke,r.outsidetextfont.color).attr({"stroke-width":Math.min(2,r.outsidetextfont.size/8),d:d,fill:"none"})}})})});setTimeout(function(){p.selectAll("tspan").each(function(){var a=
e.select(this);a.attr("dy")&&a.attr("dy",a.attr("dy"))})},0)}},{"../../components/color":291,"../../components/drawing":316,"../../components/fx":333,"../../lib/svg_text_utils":437,"./event_data":550,"./helpers":551,d3:86}],556:[function(b,p,l){var n=b("d3"),g=b("./style_one");p.exports=function(b){b._fullLayout._pielayer.selectAll(".trace").each(function(b){var d=b[0].trace;b=n.select(this);b.style({opacity:d.opacity});b.selectAll("path.surface").each(function(b){n.select(this).call(g,b,d)})})}},
{"./style_one":557,d3:86}],557:[function(b,p,l){var n=b("../../components/color"),g=b("./helpers").castOption;p.exports=function(b,d,h){var e=h.marker.line;h=g(e.color,d.pts)||n.defaultLine;e=g(e.width,d.pts)||0;b.style({"stroke-width":e}).call(n.fill,d.color).call(n.stroke,h)}},{"../../components/color":291,"./helpers":551}],558:[function(b,p,l){function n(b){return{show:{valType:"boolean",role:"info",dflt:!1,description:["Sets whether or not projections are shown along the",b,"axis."].join(" ")},
opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the projection color."},scale:{valType:"number",role:"style",min:0,max:10,dflt:2/3,description:"Sets the scale factor determining the size of the projection marker points."}}}l=b("../scatter/attributes");var g=b("../../components/colorscale/color_attributes"),k=b("../../plots/attributes"),d=b("../../constants/gl3d_dashes"),h=b("../../constants/gl3d_markers"),e=b("../../lib/extend").extendFlat;b=b("../../plot_api/edit_types").overrideAll;
var u=l.line,m=l.marker,t=m.line;p=p.exports=b({x:l.x,y:l.y,z:{valType:"data_array",description:"Sets the z coordinates."},text:e({},l.text,{description:"Sets text elements associated with each (x,y,z) triplet. If a single string, the same string appears over all the data points. If an array of string, the items are mapped in order to the this trace's (x,y,z) coordinates. If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."}),hovertext:e({},
l.hovertext,{description:"Sets text elements associated with each (x,y,z) triplet. If a single string, the same string appears over all the data points. If an array of string, the items are mapped in order to the this trace's (x,y,z) coordinates. To be seen, trace `hoverinfo` must contain a *text* flag."}),mode:e({},l.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",role:"info",values:[-1,0,1,2],dflt:-1,description:"If *-1*, the scatter points are not fill with a surface If *0*, *1*, *2*, the scatter points are filled with a Delaunay surface about the x, y, z respectively."},
surfacecolor:{valType:"color",role:"style",description:"Sets the surface fill color."},projection:{x:n("x"),y:n("y"),z:n("z")},connectgaps:l.connectgaps,line:e({width:u.width,dash:{valType:"enumerated",values:Object.keys(d),dflt:"solid",role:"style",description:"Sets the dash style of the lines."},showscale:{valType:"boolean",role:"info",dflt:!1,description:"Has an effect only if `line.color` is set to a numerical array. Determines whether or not a colorbar is displayed."}},g("line")),marker:e({symbol:{valType:"enumerated",
values:Object.keys(h),role:"style",dflt:"circle",arrayOk:!0,description:"Sets the marker symbol type."},size:e({},m.size,{dflt:8}),sizeref:m.sizeref,sizemin:m.sizemin,sizemode:m.sizemode,opacity:e({},m.opacity,{arrayOk:!1,description:"Sets the marker opacity. Note that the marker opacity for scatter3d traces must be a scalar value for performance reasons. To set a blending opacity value (i.e. which is not transparent), set *marker.color* to an rgba color and use its alpha channel."}),showscale:m.showscale,
colorbar:m.colorbar,line:e({width:e({},t.width,{arrayOk:!1})},g("marker.line"))},g("marker")),textposition:e({},l.textposition,{dflt:"top center"}),textfont:l.textfont,hoverinfo:e({},k.hoverinfo)},"calc","nested");p.x.editType=p.y.editType=p.z.editType="calc+clearAxisTypes"},{"../../components/colorscale/color_attributes":299,"../../constants/gl3d_dashes":392,"../../constants/gl3d_markers":393,"../../lib/extend":406,"../../plot_api/edit_types":443,"../../plots/attributes":455,"../scatter/attributes":565}],
559:[function(b,p,l){var n=b("../scatter/arrays_to_calcdata"),g=b("../scatter/colorscale_calc");p.exports=function(b,d){b=[{x:!1,y:!1,trace:d,t:{}}];n(b,d);g(d);return b}},{"../scatter/arrays_to_calcdata":564,"../scatter/colorscale_calc":570}],560:[function(b,p,l){function n(b,d,h){if(!d||!d.visible)return null;d=g(d);for(var e=Array(b.length),k=0;k<b.length;k++){var m=d(+b[k],k);e[k]=[-m[0]*h,m[1]*h]}return e}var g=b("../../components/errorbars/compute_error");p.exports=function(b,d){b=[n(b.x,b.error_x,
d[0]),n(b.y,b.error_y,d[1]),n(b.z,b.error_z,d[2])];a:{for(d=0;d<b.length;d++)if(b[d]){d=b[d].length;break a}d=0}if(0===d)return null;for(var g=Array(d),e=0;e<d;e++){for(var k=[[0,0,0],[0,0,0]],m=0;3>m;m++)if(b[m])for(var l=0;2>l;l++)k[l][m]=b[m][e][l];g[e]=k}return g}},{"../../components/errorbars/compute_error":320}],561:[function(b,p,l){function n(a,b){this.scene=a;this.uid=b;this.color=this.delaunayMesh=this.textMarkers=this.errorBars=this.scatterPlot=this.linePlot=null;this.mode="";this.dataPoints=
[];this.axesBounds=[[-Infinity,-Infinity,-Infinity],[Infinity,Infinity,Infinity]];this.data=this.textLabels=null}function g(a,b){return b(4*a)}function k(a){return x[a]}function d(a,b,d,e,g){if(c.isArrayOrTypedArray(a)){var f=[];for(var h=0;h<b;h++)f[h]=void 0===a[h]?e:d(a[h],g)}else f=d(a,c.identity);return f}function h(a){if(Array.isArray(a)){var b=a[0];Array.isArray(b)&&(a=b);return"rgb("+a.slice(0,3).map(function(a){return Math.round(255*a)})+")"}return null}var e=b("gl-line3d"),u=b("gl-scatter3d"),
m=b("gl-error3d"),t=b("gl-mesh3d"),f=b("delaunay-triangulate"),c=b("../../lib"),q=b("../../lib/str2rgbarray"),a=b("../../lib/gl_format_color"),r=b("../scatter/make_bubble_size_func"),v=b("../../constants/gl3d_dashes"),x=b("../../constants/gl3d_markers"),C=b("./calc_errors");b=n.prototype;b.handlePick=function(a){if(a.object&&(a.object===this.linePlot||a.object===this.delaunayMesh||a.object===this.textMarkers||a.object===this.scatterPlot)){a.object.highlight&&a.object.highlight(null);this.scatterPlot&&
(a.object=this.scatterPlot,this.scatterPlot.highlight(a.data));a.textLabel=this.textLabels?void 0!==this.textLabels[a.data.index]?this.textLabels[a.data.index]:this.textLabels:"";var b=a.index=a.data.index;a.traceCoordinate=[this.data.x[b],this.data.y[b],this.data.z[b]];return!0}};b.update=function(b){var n=this.scene.glplot.gl;var l=v.solid;this.data=b;var p=this.scene,x;var y=[];var w=p.fullSceneLayout;p=p.dataScale;var A=w.xaxis,E=w.yaxis,J=w.zaxis,K=b.marker,H=b.line,L=b.x||[],N=b.y||[],M=b.z||
[];w=L.length;var Z=b.xcalendar,Q=b.ycalendar,P=b.zcalendar;for(x=0;x<w;x++){var U=A.d2l(L[x],0,Z)*p[0];var aa=E.d2l(N[x],0,Q)*p[1];var W=J.d2l(M[x],0,P)*p[2];y[x]=[U,aa,W]}if(Array.isArray(b.text))var R=b.text;else if(void 0!==b.text)for(R=Array(w),x=0;x<w;x++)R[x]=b.text;y={position:y,mode:b.mode,text:R};"line"in b&&(y.lineColor=a(H,1,w),y.lineWidth=H.width,y.lineDashes=H.dash);"marker"in b&&(x=r(b),y.scatterColor=a(K,1,w),y.scatterSize=d(K.size,w,g,20,x),y.scatterMarker=d(K.symbol,w,k,"\u25cf"),
y.scatterLineWidth=K.line.width,y.scatterLineColor=a(K.line,1,w),y.scatterAngle=0);"textposition"in b&&(x=b.textposition,K=[0,0],Array.isArray(x)?x=[0,-1]:(0<=x.indexOf("bottom")&&(K[1]+=1),0<=x.indexOf("top")&&--K[1],0<=x.indexOf("left")&&--K[0],0<=x.indexOf("right")&&(K[0]+=1),x=K),y.textOffset=x,y.textColor=a(b.textfont,1,w),y.textSize=d(b.textfont.size,w,c.identity,12),y.textFont=b.textfont.family,y.textAngle=0);w=["x","y","z"];y.project=[!1,!1,!1];y.projectScale=[1,1,1];y.projectOpacity=[1,1,
1];for(x=0;3>x;++x)if(K=b.projection[w[x]],y.project[x]=K.show)y.projectOpacity[x]=K.opacity,y.projectScale[x]=K.scale;y.errorBounds=C(b,p);p=[b.error_x,b.error_y,b.error_z];w=[0,0,0];x=[[0,0,0],[0,0,0],[0,0,0]];K=[0,0,0];for(R=0;3>R;R++)(A=p[R])&&!1!==A.copy_zstyle&&(A=p[2]),A&&(w[R]=A.width/2,x[R]=q(A.color),K=A.thickness);y.errorColor=x;y.errorLineWidth=K;y.errorCapSize=w;y.delaunayAxis=b.surfaceaxis;y.delaunayColor=q(b.surfacecolor);"mode"in y&&(this.mode=y.mode);"lineDashes"in y&&y.lineDashes in
v&&(l=v[y.lineDashes]);this.color=h(y.scatterColor)||h(y.lineColor);this.dataPoints=y.position;l={gl:n,position:y.position,color:y.lineColor,lineWidth:y.lineWidth||1,dashes:l[0],dashScale:l[1],opacity:b.opacity,connectGaps:b.connectgaps};-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(l):(this.linePlot=e(l),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);l=b.opacity;
b.marker&&b.marker.opacity&&(l*=b.marker.opacity);l={gl:n,position:y.position,color:y.scatterColor,size:y.scatterSize,glyph:y.scatterMarker,opacity:l,orthographic:!0,lineWidth:y.scatterLineWidth,lineColor:y.scatterLineColor,project:y.project,projectScale:y.projectScale,projectOpacity:y.projectOpacity};-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(l):(this.scatterPlot=u(l),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):
this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null);l={gl:n,position:y.position,glyph:y.text,color:y.textColor,size:y.textSize,angle:y.textAngle,alignment:y.textOffset,font:y.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity};this.textLabels=b.hovertext||b.text;-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(l):(this.textMarkers=u(l),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):
this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null);l={gl:n,position:y.position,color:y.errorColor,error:y.errorBounds,lineWidth:y.errorLineWidth,capSize:y.errorCapSize,opacity:b.opacity};this.errorBars?y.errorBounds?this.errorBars.update(l):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):y.errorBounds&&(this.errorBars=m(l),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars));if(0<=y.delaunayAxis){l=
y.position;p=y.delaunayColor;y=y.delaunayAxis;x=(y+1)%3;K=(y+2)%3;R=[];y=[];for(w=0;w<l.length;++w)A=l[w],!isNaN(A[x])&&isFinite(A[x])&&!isNaN(A[K])&&isFinite(A[K])&&(R.push([A[x],A[K]]),y.push(w));x=f(R);for(w=0;w<x.length;++w)for(K=x[w],R=0;R<K.length;++R)K[R]=y[K[R]];l={positions:l,cells:x,meshColor:p};l.opacity=b.opacity;this.delaunayMesh?this.delaunayMesh.update(l):(l.gl=n,this.delaunayMesh=t(l),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),
this.delaunayMesh.dispose(),this.delaunayMesh=null)};b.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose());this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose());this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose());this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose());this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};
p.exports=function(a,b){a=new n(a,b.uid);a.update(b);return a}},{"../../constants/gl3d_dashes":392,"../../constants/gl3d_markers":393,"../../lib":414,"../../lib/gl_format_color":411,"../../lib/str2rgbarray":436,"../scatter/make_bubble_size_func":582,"./calc_errors":560,"delaunay-triangulate":88,"gl-error3d":111,"gl-line3d":116,"gl-mesh3d":136,"gl-scatter3d":142}],562:[function(b,p,l){function n(b,d,c,e){var a=0,f=c("x"),h=c("y");c=c("z");g.getComponentMethod("calendars","handleTraceDefaults")(b,d,
["x","y","z"],e);f&&h&&c&&(a=Math.min(f.length,h.length,c.length),d._xlength=d._ylength=d._zlength=a);return a}var g=b("../../registry"),k=b("../../lib"),d=b("../scatter/subtypes"),h=b("../scatter/marker_defaults"),e=b("../scatter/line_defaults"),u=b("../scatter/text_defaults"),m=b("./attributes");p.exports=function(b,f,c,l){function a(a,c){return k.coerce(b,f,m,a,c)}if(n(b,f,a,l)){a("text");a("hovertext");a("mode");d.hasLines(f)&&(a("connectgaps"),e(b,f,c,l,a));d.hasMarkers(f)&&h(b,f,c,l,a,{noSelect:!0});
d.hasText(f)&&u(b,f,l,a,{noSelect:!0});l=(f.line||{}).color;var q=(f.marker||{}).color;0<=a("surfaceaxis")&&a("surfacecolor",l||q);l=["x","y","z"];for(q=0;3>q;++q){var p="projection."+l[q];a(p+".show")&&(a(p+".opacity"),a(p+".scale"))}l=g.getComponentMethod("errorbars","supplyDefaults");l(b,f,c,{axis:"z"});l(b,f,c,{axis:"y",inherit:"z"});l(b,f,c,{axis:"x",inherit:"z"})}else f.visible=!1}},{"../../lib":414,"../../registry":517,"../scatter/line_defaults":578,"../scatter/marker_defaults":583,"../scatter/subtypes":587,
"../scatter/text_defaults":588,"./attributes":558}],563:[function(b,p,l){l={};l.plot=b("./convert");l.attributes=b("./attributes");l.markerSymbols=b("../../constants/gl3d_markers");l.supplyDefaults=b("./defaults");l.colorbar=b("../scatter/colorbar");l.calc=b("./calc");l.moduleType="trace";l.name="scatter3d";l.basePlotModule=b("../../plots/gl3d");l.categories=["gl3d","symbols","markerColorscale","showLegend"];l.meta={hrName:"scatter_3d",description:"The data visualized as scatter point or lines in 3D dimension is set in `x`, `y`, `z`. Text (appearing either on the chart or on hover only) is via `text`. Bubble charts are achieved by setting `marker.size` and/or `marker.color` Projections are achieved via `projection`. Surface fills are achieved via `surfaceaxis`."};
p.exports=l},{"../../constants/gl3d_markers":393,"../../plots/gl3d":489,"../scatter/colorbar":569,"./attributes":558,"./calc":559,"./convert":561,"./defaults":562}],564:[function(b,p,l){var n=b("../../lib");p.exports=function(b,k){for(var d=0;d<b.length;d++)b[d].i=d;n.mergeArray(k.text,b,"tx");n.mergeArray(k.hovertext,b,"htx");n.mergeArray(k.customdata,b,"data");n.mergeArray(k.textposition,b,"tp");k.textfont&&(n.mergeArray(k.textfont.size,b,"ts"),n.mergeArray(k.textfont.color,b,"tc"),n.mergeArray(k.textfont.family,
b,"tf"));if(k=k.marker){n.mergeArray(k.size,b,"ms");n.mergeArray(k.opacity,b,"mo");n.mergeArray(k.symbol,b,"mx");n.mergeArray(k.color,b,"mc");if(d=k.line)n.mergeArray(d.color,b,"mlc"),n.mergeArray(d.width,b,"mlw");(k=k.gradient)&&"none"!==k.type&&(n.mergeArray(k.type,b,"mgt"),n.mergeArray(k.color,b,"mgc"))}}},{"../../lib":414}],565:[function(b,p,l){l=b("../../components/colorscale/color_attributes");var n=b("../../components/colorbar/attributes"),g=b("../../plots/font_attributes"),k=b("../../components/drawing/attributes").dash,
d=b("../../components/drawing"),h=b("./constants");b=b("../../lib/extend").extendFlat;p.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:"Alternate to `x`. Builds a linear space of x coordinates. Use with `dx` where `x0` is the starting coordinate and `dx` the step."},dx:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the x coordinate step. See `x0` for more info."},
y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:"Alternate to `y`. Builds a linear space of y coordinates. Use with `dy` where `y0` is the starting coordinate and `dy` the step."},dy:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the y coordinate step. See `y0` for more info."},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:"Sets text elements associated with each (x,y) pair. If a single string, the same string appears over all the data points. If an array of string, the items are mapped in order to the this trace's (x,y) coordinates. If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."},
hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:"Sets hover text elements associated with each (x,y) pair. If a single string, the same string appears over all the data points. If an array of string, the items are mapped in order to the this trace's (x,y) coordinates. To be seen, trace `hoverinfo` must contain a *text* flag."},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",editType:"calc",description:["Determines the drawing mode for this scatter trace. If the provided `mode` includes *text* then the `text` elements appear at the coordinates. Otherwise, the `text` elements appear on hover.",
"If there are less than "+h.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",editType:"style",description:"Do the hover effects highlight individual points (markers or line points) or do they highlight filled regions? If the fill is *toself* or *tonext* and there are no markers or text, then the default is *fills*, otherwise it is *points*."},line:{color:{valType:"color",role:"style",editType:"style",
description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:"linear spline hv vh hvh vhv".split(" "),dflt:"linear",role:"style",editType:"plot",description:"Determines the line shape. With *spline* the lines are drawn using spline interpolation. The other available values correspond to step-wise line shapes."},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",editType:"plot",
description:"Has an effect only if `shape` is set to *spline* Sets the amount of smoothing. *0* corresponds to no smoothing (equivalent to a *linear* shape)."},dash:b({},k,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:"Simplifies lines by removing nearly-collinear points. When transitioning lines, it may be desirable to disable this so that the number of points along the resulting SVG path is unaffected."},editType:"plot"},connectgaps:{valType:"boolean",
dflt:!1,role:"info",editType:"calc",description:"Determines whether or not gaps (i.e. {nan} or missing values) in the provided data arrays are connected."},cliponaxis:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:"Determines whether or not markers and text nodes are clipped about the subplot axes. To show markers and text nodes above axis lines and tick labels, make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."},fill:{valType:"enumerated",values:"none tozeroy tozerox tonexty tonextx toself tonext".split(" "),
dflt:"none",role:"style",editType:"calc",description:"Sets the area to fill with a solid color. Use with `fillcolor` if not *none*. *tozerox* and *tozeroy* fill to x=0 and y=0 respectively. *tonextx* and *tonexty* fill between the endpoints of this trace and the endpoints of the trace before it, connecting those endpoints with straight lines (to make a stacked area graph); if there is no trace before it, they behave like *tozerox* and *tozeroy*. *toself* connects the endpoints of the trace (or each segment of the trace if it has gaps) into a closed shape. *tonext* fills the space between two traces if one completely encloses the other (eg consecutive contour lines), and behaves like *toself* if there is no trace before it. *tonext* should not be used if one trace does not enclose the other."},
fillcolor:{valType:"color",role:"style",editType:"style",description:"Sets the fill color. Defaults to a half-transparent variant of the line color, marker color, or marker line color, whichever is available."},marker:b({symbol:{valType:"enumerated",values:d.symbolList,dflt:"circle",arrayOk:!0,role:"style",editType:"style",description:"Sets the marker symbol type. Adding 100 is equivalent to appending *-open* to a symbol name. Adding 200 is equivalent to appending *-dot* to a symbol name. Adding 300 is equivalent to appending *-open-dot* or *dot-open* to a symbol name."},
opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",editType:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",editType:"calcIfAutorange",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets a maximum number of points to be drawn on the graph. *0* corresponds to no limit."},sizeref:{valType:"number",dflt:1,role:"style",editType:"calc",description:"Has an effect only if `marker.size` is set to a numerical array. Sets the scale factor used to determine the rendered size of marker points. Use with `sizemin` and `sizemode`."},
sizemin:{valType:"number",min:0,dflt:0,role:"style",editType:"calc",description:"Has an effect only if `marker.size` is set to a numerical array. Sets the minimum size (in px) of the rendered marker points."},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",editType:"calc",description:"Has an effect only if `marker.size` is set to a numerical array. Sets the rule for which the data in `size` is converted to pixels."},showscale:{valType:"boolean",role:"info",dflt:!1,
editType:"calc",description:"Has an effect only if `marker.color` is set to a numerical array. Determines whether or not a colorbar is displayed."},colorbar:n,line:b({width:{valType:"number",min:0,arrayOk:!0,role:"style",editType:"style",description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},l("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",editType:"calc",description:"Sets the type of gradient used to fill the markers"},
color:{valType:"color",arrayOk:!0,role:"style",editType:"calc",description:"Sets the final color of the gradient fill: the center color for radial, the right for horizontal, or the bottom for vertical."},editType:"calc"},editType:"calc"},l("marker")),selected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",role:"style",editType:"style",description:"Sets the marker color of selected points."},
size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",
role:"style",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",
values:"top left;top center;top right;middle left;middle center;middle right;bottom left;bottom center;bottom right".split(";"),dflt:"middle center",arrayOk:!0,role:"style",editType:"calc",description:"Sets the positions of the `text` elements with respects to the (x,y) coordinates."},textfont:g({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),r:{valType:"data_array",editType:"calc",description:"For legacy polar chart only.Please switch to *scatterpolar* trace type.Sets the radial coordinates."},
t:{valType:"data_array",editType:"calc",description:"For legacy polar chart only.Please switch to *scatterpolar* trace type.Sets the angular coordinates."}}},{"../../components/colorbar/attributes":292,"../../components/colorscale/color_attributes":299,"../../components/drawing":316,"../../components/drawing/attributes":315,"../../lib/extend":406,"../../plots/font_attributes":485,"./constants":571}],566:[function(b,p,l){function n(b,d,a,e,f,g,k){var c=d._length;a._minDtick=0;e._minDtick=0;var m={padded:!0},
n={padded:!0};k&&(m.ppad=n.ppad=k);!("tozerox"===d.fill||"tonextx"===d.fill&&b.firstscatter)||f[0]===f[c-1]&&g[0]===g[c-1]?d.error_y.visible||-1===["tonexty","tozeroy"].indexOf(d.fill)&&(u.hasMarkers(d)||u.hasText(d))||(m.padded=!1,m.ppad=0):m.tozero=!0;!("tozeroy"===d.fill||"tonexty"===d.fill&&b.firstscatter)||f[0]===f[c-1]&&g[0]===g[c-1]?-1!==["tonextx","tozerox"].indexOf(d.fill)&&(n.padded=!1):n.tozero=!0;h.expand(a,f,m);h.expand(e,g,n)}function g(b,e){if(u.hasMarkers(b)){var a=b.marker,c=1.6*
(b.marker.sizeref||1);var f="area"===b.marker.sizemode?function(a){return Math.max(Math.sqrt((a||0)/c),3)}:function(a){return Math.max((a||0)/c,3)};if(d(a.size)){a={type:"linear"};h.setConvert(a);b=a.makeCalcdata(b.marker,"size");a=Array(e);for(var g=0;g<e;g++)a[g]=f(b[g]);return a}return f(a.size)}}var k=b("fast-isnumeric"),d=b("../../lib").isArrayOrTypedArray,h=b("../../plots/cartesian/axes"),e=b("../../constants/numerical").BADNUM,u=b("./subtypes"),m=b("./colorscale_calc"),t=b("./arrays_to_calcdata"),
f=b("./calc_selection");p.exports={calc:function(b,d){var a=h.getFromId(b,d.xaxis||"x"),c=h.getFromId(b,d.yaxis||"y"),l=a.makeCalcdata(d,"x"),q=c.makeCalcdata(d,"y"),p=d._length,u=Array(p),D=g(d,p);n(b,d,a,c,l,q,D);for(a=0;a<p;a++)u[a]=k(l[a])&&k(q[a])?{x:l[a],y:q[a]}:{x:e,y:e},d.ids&&(u[a].id=String(d.ids[a]));t(u,d);m(d);f(u,d);b.firstscatter=!1;return u},calcMarkerSize:g,calcAxisExpansion:n}},{"../../constants/numerical":395,"../../lib":414,"../../plots/cartesian/axes":458,"./arrays_to_calcdata":564,
"./calc_selection":567,"./colorscale_calc":570,"./subtypes":587,"fast-isnumeric":95}],567:[function(b,p,l){var n=b("../../lib");p.exports=function(b,k){n.isArrayOrTypedArray(k.selectedpoints)&&n.tagSelected(b,k)}},{"../../lib":414}],568:[function(b,p,l){p.exports=function(b){for(var g=0;g<b.length;g++){var k=b[g];if("scatter"===k.type){var d=k.fill;if("none"!==d&&"toself"!==d&&(k.opacity=void 0,"tonexty"===d||"tonextx"===d))for(d=g-1;0<=d;d--){var h=b[d];if("scatter"===h.type&&h.xaxis===k.xaxis&&
h.yaxis===k.yaxis){h.opacity=void 0;break}}}}}},{}],569:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../../lib"),k=b("../../plots/plots"),d=b("../../components/colorscale"),h=b("../../components/colorbar/draw");p.exports=function(b,l){var e=l[0].trace,p=e.marker,f="cb"+e.uid;b._fullLayout._infolayer.selectAll("."+f).remove();if(void 0!==p&&p.showscale){var c=p.color;e=p.cmin;var q=p.cmax;n(e)||(e=g.aggNums(Math.min,null,c));n(q)||(q=g.aggNums(Math.max,null,c));b=l[0].t.cb=h(b,f);l=d.makeColorScaleFunc(d.extractScale(p.colorscale,
e,q),{noNumericCheck:!0});b.fillcolor(l).filllevels({start:e,end:q,size:(q-e)/254}).options(p.colorbar)()}else k.autoMargin(b,f)}},{"../../components/colorbar/draw":295,"../../components/colorscale":306,"../../lib":414,"../../plots/plots":502,"fast-isnumeric":95}],570:[function(b,p,l){var n=b("../../components/colorscale/has_colorscale"),g=b("../../components/colorscale/calc"),k=b("./subtypes");p.exports=function(b){k.hasLines(b)&&n(b,"line")&&g(b,b.line.color,"line","c");k.hasMarkers(b)&&(n(b,"marker")&&
g(b,b.marker.color,"marker","c"),n(b,"marker.line")&&g(b,b.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":298,"../../components/colorscale/has_colorscale":305,"./subtypes":587}],571:[function(b,p,l){p.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},{}],572:[function(b,p,l){var n=b("../../lib"),g=b("../../registry"),k=b("./attributes"),d=b("./constants"),h=b("./subtypes"),e=b("./xy_defaults"),u=b("./marker_defaults"),m=b("./line_defaults"),
t=b("./line_shape_defaults"),f=b("./text_defaults"),c=b("./fillcolor_defaults");p.exports=function(b,a,l,p){function q(c,d){return n.coerce(b,a,k,c,d)}var r=e(b,a,p,q),v=r<d.PTS_LINESONLY?"lines+markers":"lines";if(r){q("text");q("hovertext");q("mode",v);h.hasLines(a)&&(m(b,a,l,p,q),t(b,a,q),q("connectgaps"),q("line.simplify"));h.hasMarkers(a)&&u(b,a,l,p,q,{gradient:!0});h.hasText(a)&&f(b,a,p,q);p=[];if(h.hasMarkers(a)||h.hasText(a))q("cliponaxis"),q("marker.maxdisplayed"),p.push("points");q("fill");
"none"!==a.fill&&(c(b,a,l,q),h.hasLines(a)||t(b,a,q));"tonext"!==a.fill&&"toself"!==a.fill||p.push("fills");q("hoveron",p.join("+")||"points");p=g.getComponentMethod("errorbars","supplyDefaults");p(b,a,l,{axis:"y"});p(b,a,l,{axis:"x",inherit:"y"});n.coerceSelectionMarkerOpacity(a,q)}else a.visible=!1}},{"../../lib":414,"../../registry":517,"./attributes":565,"./constants":571,"./fillcolor_defaults":574,"./line_defaults":578,"./line_shape_defaults":580,"./marker_defaults":583,"./subtypes":587,"./text_defaults":588,
"./xy_defaults":589}],573:[function(b,p,l){var n=b("../../lib");p.exports=function(b,k,d){var g=Array.isArray(d)?function(b){d.push(b)}:function(b){d.text=b},e=n.extractOption(b,k,"htx","hovertext");if(e||0===e)return g(e);if((b=n.extractOption(b,k,"tx","text"))||0===b)return g(b)}},{"../../lib":414}],574:[function(b,p,l){var n=b("../../components/color"),g=b("../../lib").isArrayOrTypedArray;p.exports=function(b,d,h,e){b=!1;if(d.marker){var k=d.marker.color,m=(d.marker.line||{}).color;k&&!g(k)?b=
k:m&&!g(m)&&(b=m)}e("fillcolor",n.addOpacity((d.line||{}).color||b||h,.5))}},{"../../components/color":291,"../../lib":414}],575:[function(b,p,l){var n=b("../../components/color"),g=b("./subtypes");p.exports=function(b,d){if("lines"===b.mode)return(d=b.line.color)&&n.opacity(d)?d:b.fillcolor;if("none"===b.mode)return b.fill?b.fillcolor:"";var h=d.mcc||(b.marker||{}).color,e=d.mlcc||((b.marker||{}).line||{}).color;return(d=h&&n.opacity(h)?h:e&&n.opacity(e)&&(d.mlw||((b.marker||{}).line||{}).width)?
e:"")?.3>n.opacity(d)?n.addOpacity(d,.3):d:(d=(b.line||{}).color)&&n.opacity(d)&&g.hasLines(b)&&b.line.width?d:b.fillcolor}},{"../../components/color":291,"./subtypes":587}],576:[function(b,p,l){var n=b("../../lib"),g=b("../../components/fx"),k=b("../../registry"),d=b("./get_trace_color"),h=b("../../components/color"),e=b("./fill_hover_text");p.exports=function(b,m,l,f){var c=b.cd,q=c[0].trace,a=b.xa,p=b.ya,t=a.c2p(m),u=p.c2p(l),C=[t,u];l=q.hoveron||"";var A=-1!==q.mode.indexOf("markers")?3:.5;if(-1!==
l.indexOf("points")&&(m=function(b){var c=Math.max(A,b.mrc||0),d=a.c2p(b.x)-t;b=p.c2p(b.y)-u;return Math.max(Math.sqrt(d*d+b*b)-c,1-A/c)},f=g.getDistanceFunction(f,function(b){var c=Math.max(3,b.mrc||0),d=1-1/c;b=Math.abs(a.c2p(b.x)-t);return b<c?d*b/c:b-c+d},function(a){var b=Math.max(3,a.mrc||0),c=1-1/b;a=Math.abs(p.c2p(a.y)-u);return a<b?c*a/b:a-b+c},m),g.getClosest(c,f,b),!1!==b.index))return c=c[b.index],f=a.c2p(c.x,!0),l=p.c2p(c.y,!0),C=c.mrc||1,n.extendFlat(b,{color:d(q,c),x0:f-C,x1:f+C,xLabelVal:c.x,
y0:l-C,y1:l+C,yLabelVal:c.y,spikeDistance:m(c)}),e(c,q,b),k.getComponentMethod("errorbars","hoverInfo")(c,q,b),[b];if(-1!==l.indexOf("fills")&&q._polygons){var D=q._polygons;f=[];var z=!1;m=Infinity;c=-Infinity;var F=Infinity,B=-Infinity;for(l=0;l<D.length;l++){var y=D[l];y.contains(C)&&(z=!z,f.push(y),F=Math.min(F,y.ymin),B=Math.max(B,y.ymax))}if(z){F=Math.max(F,0);B=Math.min(B,p._length);C=(F+B)/2;for(l=0;l<f.length;l++)for(z=f[l].pts,D=1;D<z.length;D++){y=z[D-1][1];var w=z[D][1];y>C!==w>=C&&(F=
z[D-1][0],B=z[D][0],w-y&&(F+=(B-F)*(C-y)/(w-y),m=Math.min(m,F),c=Math.max(c,F)))}m=Math.max(m,0);c=Math.min(c,a._length);f=h.defaultLine;h.opacity(q.fillcolor)?f=q.fillcolor:h.opacity((q.line||{}).color)&&(f=q.line.color);n.extendFlat(b,{distance:b.maxHoverDistance,x0:m,x1:c,y0:C,y1:C,color:f});delete b.index;q.text&&!Array.isArray(q.text)?b.text=String(q.text):b.text=q.name;return[b]}}}},{"../../components/color":291,"../../components/fx":333,"../../lib":414,"../../registry":517,"./fill_hover_text":573,
"./get_trace_color":575}],577:[function(b,p,l){l={};var n=b("./subtypes");l.hasLines=n.hasLines;l.hasMarkers=n.hasMarkers;l.hasText=n.hasText;l.isBubble=n.isBubble;l.attributes=b("./attributes");l.supplyDefaults=b("./defaults");l.cleanData=b("./clean_data");l.calc=b("./calc").calc;l.arraysToCalcdata=b("./arrays_to_calcdata");l.plot=b("./plot");l.colorbar=b("./colorbar");l.style=b("./style").style;l.hoverPoints=b("./hover");l.selectPoints=b("./select");l.animatable=!0;l.moduleType="trace";l.name="scatter";
l.basePlotModule=b("../../plots/cartesian");l.categories="cartesian symbols markerColorscale errorBarsOK showLegend scatter-like".split(" ");l.meta={description:"The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts. The data visualized as scatter point or lines is set in `x` and `y`. Text (appearing either on the chart or on hover only) is via `text`. Bubble charts are achieved by setting `marker.size` and/or `marker.color` to numerical arrays."};p.exports=
l},{"../../plots/cartesian":469,"./arrays_to_calcdata":564,"./attributes":565,"./calc":566,"./clean_data":568,"./colorbar":569,"./defaults":572,"./hover":576,"./plot":584,"./select":585,"./style":586,"./subtypes":587}],578:[function(b,p,l){var n=b("../../lib").isArrayOrTypedArray,g=b("../../components/colorscale/has_colorscale"),k=b("../../components/colorscale/defaults");p.exports=function(b,h,e,l,m,p){var d=(b.marker||{}).color;m("line.color",e);g(b,"line")?k(b,h,l,m,{prefix:"line.",cLetter:"c"}):
(b=(n(d)?!1:d)||e,m("line.color",b));m("line.width");(p||{}).noDash||m("line.dash")}},{"../../components/colorscale/defaults":301,"../../components/colorscale/has_colorscale":305,"../../lib":414}],579:[function(b,p,l){var n=b("../../constants/numerical").BADNUM,g=b("../../lib"),k=g.segmentsIntersect,d=g.constrain,h=b("./constants");p.exports=function(b,l){function e(a){a=b[a];var c=D.c2p(a.x),d=z.c2p(a.y);return c===n||d===n?a.intoCenter||!1:[c,d]}function p(a){var b=a[0]/D._length;a=a[1]/z._length;
return(1+h.toleranceGrowth*Math.max(0,-b,b-1,-a,a-1))*B}function f(a,b){var c=a[0]-b[0];a=a[1]-b[1];return Math.sqrt(c*c+a*a)}function c(a,b){for(var c=[],d=0,e=0;4>e;e++){var g=P[e];(g=k(a[0],a[1],b[0],b[1],g[0],g[1],g[2],g[3]))&&(!d||1<Math.abs(g.x-c[0][0])||1<Math.abs(g.y-c[0][1]))&&(g=[g.x,g.y],d&&f(g,a)<f(c[0],a)?c.unshift(g):c.push(g),d++)}return c}function q(a){if(a[0]<N||a[0]>M||a[1]<Z||a[1]>Q)return[d(a[0],N,M),d(a[1],Z,Q)]}function a(a,b){if(a[0]===b[0]&&(a[0]===N||a[0]===M)||a[1]===b[1]&&
(a[1]===Z||a[1]===Q))return!0}function r(b,c){var d=[];b=q(b);c=q(c);if(b&&c&&a(b,c))return d;b&&d.push(b);c&&d.push(c);return d}function u(b,c,d){return function(e,f){var h=q(e),k=q(f),l=[];if(h&&k&&a(h,k))return l;h&&l.push(h);k&&l.push(k);if(e=2*g.constrain((e[b]+f[b])/2,c,d)-((h||e)[b]+(k||f)[b]))h=h&&k?0<e===h[b]>k[b]?h:k:h||k,h[b]+=e;return l}}function x(a){var b=a[0],c=a[1],d=b===J[K-1][0],e=c===J[K-1][1];if(!d||!e)if(1<K){var f=b===J[K-2][0],g=c===J[K-2][1];d&&(b===N||b===M)&&f?g?K--:J[K-
1]=a:e&&(c===Z||c===Q)&&g?f?K--:J[K-1]=a:J[K++]=a}else J[K++]=a}function C(a){J[K-1][0]!==a[0]&&J[K-1][1]!==a[1]&&x([W,R]);x(a);S=null;W=R=0}function A(a){U=a[0]<N?N:a[0]>M?M:0;aa=a[1]<Z?Z:a[1]>Q?Q:0;if(U||aa){if(K)if(S){var b=ea(S,a);1<b.length&&(C(b[0]),J[K++]=b[1])}else T=ea(J[K-1],a)[0],J[K++]=T;else J[K++]=[U||a[0],aa||a[1]];b=J[K-1];if(U&&aa&&(b[0]!==U||b[1]!==aa)){if(S)if(W!==U&&R!==aa)if(W&&R){b=a[0]-S[0];var c=(a[1]-S[1])/b;b=0<(S[1]*a[0]-a[1]*S[0])/b?[0<c?N:M,Q]:[0<c?M:N,Z];x(b)}else x([W||
U,R||aa]);else W&&R&&x([W,R]);x([U,aa])}else W-U&&R-aa&&x([U||W,aa||R]);S=a;W=U;R=aa}else S&&C(ea(S,a)[0]),J[K++]=a}var D=l.xaxis,z=l.yaxis,F=l.connectGaps,B=l.baseTolerance,y=l.shape,w="linear"===y,G=[],E=h.minTolerance,J=Array(b.length),K=0,H,L;l.simplify||(B=E=-1);l=h.maxScreensAway;var N=-D._length*l,M=D._length*(1+l),Z=-z._length*l,Q=z._length*(1+l),P=[[N,Z,M,Z],[M,Z,M,Q],[M,Q,N,Q],[N,Q,N,Z]],U,aa,W,R,T,ea;"linear"===y||"spline"===y?ea=c:"hv"===y||"vh"===y?ea=r:"hvh"===y?ea=u(0,N,M):"vhv"===
y&&(ea=u(1,Z,Q));for(y=0;y<b.length;y++)if(l=e(y)){K=0;var S=null;A(l);for(y++;y<b.length;y++){var V=e(y);if(!V)if(F)continue;else break;if(w){var ba=f(V,l);if(!(ba<p(V)*E)){var ja=[(V[0]-l[0])/ba,(V[1]-l[1])/ba];var X=l;var na=ba;var oa=H=L=0;var Aa=!1;ba=V;for(y++;y<b.length;y++){var ka=e(y);if(!ka)if(F)continue;else break;var Y=[ka[0]-l[0],ka[1]-l[1]];var ca=Y[0]*ja[1]-Y[1]*ja[0];H=Math.min(H,ca);L=Math.max(L,ca);if(L-H>p(ka))break;ba=ka;Y=Y[0]*ja[0]+Y[1]*ja[1];Y>na?(na=Y,V=ka,Aa=!1):Y<oa&&(oa=
Y,X=ka,Aa=!0)}Aa?(A(V),ba!==X&&A(X)):(X!==l&&A(X),ba!==V&&A(V));A(ba);if(y>=b.length||!ka)break;A(ka);l=ka}}else A(V)}S&&x([W||S[0],R||S[1]]);G.push(J.slice(0,K))}return G}},{"../../constants/numerical":395,"../../lib":414,"./constants":571}],580:[function(b,p,l){p.exports=function(b,g,k){"spline"===k("line.shape")&&k("line.smoothing")}},{}],581:[function(b,p,l){p.exports=function(b,g,k){var d=null;for(g=0;g<k.length;++g)(b=k[g][0].trace,!0===b.visible)?(b._nexttrace=null,-1!==["tonextx","tonexty",
"tonext"].indexOf(b.fill)&&(b._prevtrace=d)&&(d._nexttrace=b),d=b):b._prevtrace=b._nexttrace=null}},{}],582:[function(b,p,l){var n=b("fast-isnumeric");p.exports=function(b){b=b.marker;var g=b.sizeref||1,d=b.sizemin||0,h="area"===b.sizemode?function(b){return Math.sqrt(b/g)}:function(b){return b/g};return function(b){b=h(b/2);return n(b)&&0<b?Math.max(b,d):0}}},{"fast-isnumeric":95}],583:[function(b,p,l){var n=b("../../components/color"),g=b("../../components/colorscale/has_colorscale"),k=b("../../components/colorscale/defaults"),
d=b("./subtypes");p.exports=function(b,e,l,m,p,f){var c=d.isBubble(b),h=(b.line||{}).color;f=f||{};h&&(l=h);p("marker.symbol");p("marker.opacity",c?.7:1);p("marker.size");p("marker.color",l);g(b,"marker")&&k(b,e,m,p,{prefix:"marker.",cLetter:"c"});f.noSelect||(p("selected.marker.color"),p("unselected.marker.color"),p("selected.marker.size"),p("unselected.marker.size"));f.noLine||(l=h&&!Array.isArray(h)&&e.marker.color!==h?h:c?n.background:n.defaultLine,p("marker.line.color",l),g(b,"marker.line")&&
k(b,e,m,p,{prefix:"marker.line.",cLetter:"c"}),p("marker.line.width",c?1:0));c&&(p("marker.sizeref"),p("marker.sizemin"),p("marker.sizemode"));f.gradient&&"none"!==p("marker.gradient.type")&&p("marker.gradient.color")}},{"../../components/color":291,"../../components/colorscale/defaults":301,"../../components/colorscale/has_colorscale":305,"./subtypes":587}],584:[function(b,p,l){function n(b,a,c){var e;a.selectAll("g.trace").each(function(a){var b=d.select(this);e=a[0].trace;e._nexttrace?(e._nextFill=
b.select(".js-fill.js-tonext"),e._nextFill.size()||(a=":first-child",b.select(".js-fill.js-tozero").size()&&(a+=" + *"),e._nextFill=b.insert("path",a).attr("class","js-fill js-tonext"))):(b.selectAll(".js-fill.js-tonext").remove(),e._nextFill=null);e.fill&&("tozero"===e.fill.substr(0,6)||"toself"===e.fill||"to"===e.fill.substr(0,2)&&!e._prevtrace)?(e._ownFill=b.select(".js-fill.js-tozero"),e._ownFill.size()||(e._ownFill=b.insert("path",":first-child").attr("class","js-fill js-tozero"))):(b.selectAll(".js-fill.js-tozero").remove(),
e._ownFill=null);b.selectAll(".js-fill").call(u.setClipUrl,c.layerClipId)})}function g(b,a,f,g,l,n,p){function q(a){return A?a.transition():a}function r(a){q(a).attr("d","M0,0Z")}function v(a){return a.filter(function(a){return a.vis})}function x(a){return a.id}function y(){return!1}function w(a){var c,g,h=a[0].trace;a=d.select(this);var k=m.hasMarkers(h);var l=m.hasText(h);var n=h.ids?x:void 0;var p=c=y;k&&(c=h.marker.maxdisplayed||h._needsCull?v:e.identity);l&&(p=h.marker.maxdisplayed||h._needsCull?
v:e.identity);l=a.selectAll("path.point");c=l.data(c,n);l=c.enter().append("path").classed("point",!0);A&&l.call(u.pointStyle,h,b).call(u.translatePoints,C,J).style("opacity",0).transition().style("opacity",1);var r=k&&u.tryColorscale(h.marker,""),t=k&&u.tryColorscale(h.marker,"line");c.order();c.each(function(a){var c=d.select(this),e=q(c);(g=u.translatePoint(a,e,C,J))?(u.singlePointStyle(a,e,h,r,t,b),f.layerClipId&&u.hideOutsideRangePoint(a,e,C,J,h.xcalendar,h.ycalendar),h.customdata&&c.classed("plotly-customdata",
null!==a.data&&void 0!==a.data)):e.remove()});A?c.exit().transition().style("opacity",0).remove():c.exit().remove();l=a.selectAll("g");c=l.data(p,n);c.enter().append("g").classed("textpoint",!0).append("text");c.order();c.each(function(a){var b=d.select(this),c=q(b.select("text"));(g=u.translatePoint(a,c,C,J))?f.layerClipId&&u.hideOutsideRangePoint(a,b,C,J,h.xcalendar,h.ycalendar):b.remove()});c.selectAll("text").call(u.textPointStyle,h,b).each(function(a){var b=C.c2p(a.x),c=J.c2p(a.y);d.select(this).selectAll("tspan.line").each(function(){q(d.select(this)).attr({x:b,
y:c})})});c.exit().remove()}k(b,a,f,g,l);var A=!!p&&0<p.duration,C=f.xaxis,J=f.yaxis,K=g[0].trace,H=K.line;a=d.select(n);h.getComponentMethod("errorbars","plot")(a,f,p);if(!0===K.visible){q(a).style("opacity",K.opacity);var L=K.fill.charAt(K.fill.length-1);"x"!==L&&"y"!==L&&(L="");g[0].node3=a;p="";l=[];if(n=K._prevtrace){p=n._prevRevpath||"";var N=n._nextFill;l=n._polygons}var M,Z,Q="",P="",U=[];var aa=e.noop;n=K._ownFill;if(m.hasLines(K)||"none"!==K.fill){N&&N.datum(g);if(-1!==["hv","vh","hvh",
"vhv"].indexOf(H.shape)){var W=u.steps(H.shape);var R=u.steps(H.shape.split("").reverse().join(""))}else W="spline"===H.shape?R=function(a){var b=a[a.length-1];return 1<a.length&&a[0][0]===b[0]&&a[0][1]===b[1]?u.smoothclosed(a.slice(1),H.smoothing):u.smoothopen(a,H.smoothing)}:R=function(a){return"M"+a.join("L")};var T=function(a){return R(a.reverse())};U=t(g,{xaxis:C,yaxis:J,connectGaps:K.connectgaps,baseTolerance:Math.max(H.width||1,3)/4,shape:H.shape,simplify:H.simplify});var ea=K._polygons=Array(U.length);
for(aa=0;aa<U.length;aa++)K._polygons[aa]=c(U[aa]);if(U.length){var S=U[0][0];var V=U[U.length-1];V=V[V.length-1]}aa=function(a){return function(b){M=W(b);Z=T(b);Q?L?(Q+="L"+M.substr(1),P=Z+("L"+P.substr(1))):(Q+="Z"+M,P=Z+"Z"+P):(Q=M,P=Z);m.hasLines(K)&&1<b.length&&(b=d.select(this),b.datum(g),a?q(b.style("opacity",0).attr("d",M).call(u.lineGroupStyle)).style("opacity",1):(b=q(b),b.attr("d",M),u.singleLineStyle(g,b)))}}}var ba=a.selectAll(".js-line").data(U);q(ba.exit()).style("opacity",0).remove();
ba.each(aa(!1));ba.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(u.lineGroupStyle).each(aa(!0));u.setClipUrl(ba,f.layerClipId);U.length?(n?S&&V&&(L?("y"===L?S[1]=V[1]=J.c2p(0,!0):"x"===L&&(S[0]=V[0]=C.c2p(0,!0)),q(n).attr("d","M"+V+"L"+S+"L"+Q.substr(1)).call(u.singleFillStyle)):q(n).attr("d",Q+"Z").call(u.singleFillStyle)):N&&("tonext"===K.fill.substr(0,6)&&Q&&p?("tonext"===K.fill?q(N).attr("d",Q+"Z"+p+"Z").call(u.singleFillStyle):q(N).attr("d",Q+"L"+
p.substr(1)+"Z").call(u.singleFillStyle),K._polygons=K._polygons.concat(l)):(r(N),K._polygons=null)),K._prevRevpath=P,K._prevPolygons=ea):(n?r(n):N&&r(N),K._polygons=K._prevRevpath=K._prevPolygons=null);S=a.selectAll(".points");N=S.data([g]);S.each(w);N.enter().append("g").classed("points",!0).each(w);N.exit().remove();N.each(function(a){a=!1===a[0].trace.cliponaxis;u.setClipUrl(d.select(this),a?null:f.layerClipId)})}}function k(b,a,c,f,g){b=c.xaxis;c=c.yaxis;var h=d.extent(e.simpleMap(b.range,b.r2c)),
k=d.extent(e.simpleMap(c.range,c.r2c));c=f[0].trace;if(m.hasMarkers(c)&&(c=c.marker.maxdisplayed,0!==c)){b=f.filter(function(a){return a.x>=h[0]&&a.x<=h[1]&&a.y>=k[0]&&a.y<=k[1]});var l=Math.ceil(b.length/c),n=0;g.forEach(function(b,c){b=b[0].trace;m.hasMarkers(b)&&0<b.marker.maxdisplayed&&c<a&&n++});var p=Math.round(n*l/3+Math.floor(n/3)*l/7.1);f.forEach(function(a){delete a.vis});b.forEach(function(a,b){0===Math.round((b+p)%l)&&(a.vis=!0)})}}var d=b("d3"),h=b("../../registry"),e=b("../../lib"),
u=b("../../components/drawing"),m=b("./subtypes"),t=b("./line_points"),f=b("./link_traces"),c=b("../../lib/polygon").tester;p.exports=function(b,a,c,e,h){var k,l,m=a.plot.select("g.scatterlayer"),p=!e,q=!!e&&0<e.duration;var r=m.selectAll("g.trace").data(c,function(a){return a[0].trace.uid});r.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2);f(b,a,c);n(b,m,a);var t=0;for(k={};t<c.length;t++)k[c[t][0].trace.uid]=t;m.selectAll("g.trace").sort(function(a,
b){return k[a[0].trace.uid]>k[b[0].trace.uid]?1:-1});q?(h&&(l=h()),d.transition().duration(e.duration).ease(e.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){m.selectAll("g.trace").each(function(d,f){g(b,f,a,d,c,this,e)})})):m.selectAll("g.trace").each(function(d,f){g(b,f,a,d,c,this,e)});p&&r.exit().remove();m.selectAll("path:not([d])").remove()}},{"../../components/drawing":316,"../../lib":414,"../../lib/polygon":426,"../../registry":517,"./line_points":579,
"./link_traces":581,"./subtypes":587,d3:86}],585:[function(b,p,l){var n=b("./subtypes");p.exports=function(b,k){var d=b.cd,g=b.xaxis;b=b.yaxis;var e=[],l=d[0].trace;if(!n.hasMarkers(l)&&!n.hasText(l))return[];if(!1===k)for(l=0;l<d.length;l++)d[l].selected=0;else for(l=0;l<d.length;l++){var m=d[l];var p=g.c2p(m.x);var f=b.c2p(m.y);k.contains([p,f])?(e.push({pointNumber:l,x:g.c2d(m.x),y:b.c2d(m.y)}),m.selected=1):m.selected=0}return e}},{"./subtypes":587}],586:[function(b,p,l){function n(b,d,g){var e=
b.selectAll("path.point");b=b.selectAll("text");k.pointStyle(e,d,g);k.textPointStyle(b,d,g);k.selectedPointStyle(e,d);k.selectedTextStyle(b,d)}var g=b("d3"),k=b("../../components/drawing"),d=b("../../registry");p.exports={style:function(b,e){e=e?e[0].node3:g.select(b).selectAll("g.trace.scatter");e.style("opacity",function(b){return b[0].trace.opacity});e.selectAll("g.points").each(function(d){var e=g.select(this);n(e,d.trace||d[0].trace,b)});e.selectAll("g.trace path.js-line").call(k.lineGroupStyle);
e.selectAll("g.trace path.js-fill").call(k.fillGroupStyle);d.getComponentMethod("errorbars","style")(e)},stylePoints:n}},{"../../components/drawing":316,"../../registry":517,d3:86}],587:[function(b,p,l){var n=b("../../lib");p.exports={hasLines:function(b){return b.visible&&b.mode&&-1!==b.mode.indexOf("lines")},hasMarkers:function(b){return b.visible&&b.mode&&-1!==b.mode.indexOf("markers")},hasText:function(b){return b.visible&&b.mode&&-1!==b.mode.indexOf("text")},isBubble:function(b){return n.isPlainObject(b.marker)&&
n.isArrayOrTypedArray(b.marker.size)}}},{"../../lib":414}],588:[function(b,p,l){var n=b("../../lib");p.exports=function(b,k,d,h,e){e=e||{};h("textposition");n.coerceFont(h,"textfont",d.font);e.noSelect||(h("selected.textfont.color"),h("unselected.textfont.color"))}},{"../../lib":414}],589:[function(b,p,l){var n=b("../../registry");p.exports=function(b,k,d,h){var e=h("x"),g=h("y");n.getComponentMethod("calendars","handleTraceDefaults")(b,k,["x","y"],d);if(e)g?b=Math.min(e.length,g.length):(b=e.length,
h("y0"),h("dy"));else{if(!g)return 0;b=k.y.length;h("x0");h("dx")}return k._length=b}},{"../../registry":517}],590:[function(b,p,l){l=b("../scatter/attributes");var n=b("../../plots/attributes"),g=b("../../components/colorscale/color_attributes"),k=b("../../components/colorbar/attributes"),d=b("../../components/drawing/attributes").dash;b=b("../../lib/extend").extendFlat;var h=l.marker,e=l.line,u=h.line;p.exports={a:{valType:"data_array",editType:"calc",description:"Sets the quantity of component `a` in each data point. If `a`, `b`, and `c` are all provided, they need not be normalized, only the relative values matter. If only two arrays are provided they must be normalized to match `ternary<i>.sum`."},
b:{valType:"data_array",editType:"calc",description:"Sets the quantity of component `a` in each data point. If `a`, `b`, and `c` are all provided, they need not be normalized, only the relative values matter. If only two arrays are provided they must be normalized to match `ternary<i>.sum`."},c:{valType:"data_array",editType:"calc",description:"Sets the quantity of component `a` in each data point. If `a`, `b`, and `c` are all provided, they need not be normalized, only the relative values matter. If only two arrays are provided they must be normalized to match `ternary<i>.sum`."},
sum:{valType:"number",role:"info",dflt:0,min:0,editType:"calc",description:"The number each triplet should sum to, if only two of `a`, `b`, and `c` are provided. This overrides `ternary<i>.sum` to normalize this specific trace, but does not affect the values displayed on the axes. 0 (or missing) means to use ternary<i>.sum"},mode:b({},l.mode,{dflt:"markers"}),text:b({},l.text,{description:"Sets text elements associated with each (a,b,c) point. If a single string, the same string appears over all the data points. If an array of strings, the items are mapped in order to the the data points in (a,b,c). If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."}),
hovertext:b({},l.hovertext,{description:"Sets hover text elements associated with each (a,b,c) point. If a single string, the same string appears over all the data points. If an array of strings, the items are mapped in order to the the data points in (a,b,c). To be seen, trace `hoverinfo` must contain a *text* flag."}),line:{color:e.color,width:e.width,dash:d,shape:b({},e.shape,{values:["linear","spline"]}),smoothing:e.smoothing,editType:"calc"},connectgaps:l.connectgaps,cliponaxis:l.cliponaxis,
fill:b({},l.fill,{values:["none","toself","tonext"],description:"Sets the area to fill with a solid color. Use with `fillcolor` if not *none*. scatterternary has a subset of the options available to scatter. *toself* connects the endpoints of the trace (or each segment of the trace if it has gaps) into a closed shape. *tonext* fills the space between two traces if one completely encloses the other (eg consecutive contour lines), and behaves like *toself* if there is no trace before it. *tonext* should not be used if one trace does not enclose the other."}),
fillcolor:l.fillcolor,marker:b({symbol:h.symbol,opacity:h.opacity,maxdisplayed:h.maxdisplayed,size:h.size,sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,line:b({width:u.width,editType:"calc"},g("marker.line")),gradient:h.gradient,editType:"calc"},g("marker"),{showscale:h.showscale,colorbar:k}),textfont:l.textfont,textposition:l.textposition,selected:l.selected,unselected:l.unselected,hoverinfo:b({},n.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:l.hoveron}},{"../../components/colorbar/attributes":292,
"../../components/colorscale/color_attributes":299,"../../components/drawing/attributes":315,"../../lib/extend":406,"../../plots/attributes":455,"../scatter/attributes":565}],591:[function(b,p,l){var n=b("fast-isnumeric"),g=b("../scatter/colorscale_calc"),k=b("../scatter/arrays_to_calcdata"),d=b("../scatter/calc_selection"),h=b("../scatter/calc").calcMarkerSize,e=["a","b","c"],u={a:["b","c"],b:["a","c"],c:["a","b"]};p.exports=function(b,l){b=b._fullLayout[l.subplot].sum;var f=l.sum||b,c={a:l.a,b:l.b,
c:l.c},m,a;for(m=0;m<e.length;m++){var p=e[m];if(!c[p]){var t=c[u[p][0]];var x=c[u[p][1]];var C=Array(t.length);for(a=0;a<t.length;a++)C[a]=f-t[a]-x[a];c[p]=C}}f=l._length;a=Array(f);for(m=0;m<f;m++)if(p=c.a[m],C=c.b[m],t=c.c[m],n(p)&&n(C)&&n(t)){p=+p;C=+C;t=+t;x=b/(p+C+t);1!==x&&(p*=x,C*=x,t*=x);var A=p;x=t-C;a[m]={x:x,y:A,a:p,b:C,c:t}}else a[m]={x:!1,y:!1};h(l,f);g(l);k(a,l);d(a,l);return a}},{"../scatter/arrays_to_calcdata":564,"../scatter/calc":566,"../scatter/calc_selection":567,"../scatter/colorscale_calc":570,
"fast-isnumeric":95}],592:[function(b,p,l){var n=b("../../lib"),g=b("../scatter/constants"),k=b("../scatter/subtypes"),d=b("../scatter/marker_defaults"),h=b("../scatter/line_defaults"),e=b("../scatter/line_shape_defaults"),u=b("../scatter/text_defaults"),m=b("../scatter/fillcolor_defaults"),t=b("./attributes");p.exports=function(b,c,l,a){function f(a,d){return n.coerce(b,c,t,a,d)}var p=f("a"),q=f("b"),C=f("c");if(p){var A=p.length;q?(A=Math.min(A,q.length),C&&(A=Math.min(A,C.length))):A=C?Math.min(A,
C.length):0}else q&&C&&(A=Math.min(q.length,C.length));if(A){c._length=A;f("sum");f("text");f("hovertext");f("mode",A<g.PTS_LINESONLY?"lines+markers":"lines");k.hasLines(c)&&(h(b,c,l,a,f),e(b,c,f),f("connectgaps"));k.hasMarkers(c)&&d(b,c,l,a,f,{gradient:!0});k.hasText(c)&&u(b,c,a,f);a=[];if(k.hasMarkers(c)||k.hasText(c))f("cliponaxis"),f("marker.maxdisplayed"),a.push("points");f("fill");"none"!==c.fill&&(m(b,c,l,f),k.hasLines(c)||e(b,c,f));"tonext"!==c.fill&&"toself"!==c.fill||a.push("fills");f("hoveron",
a.join("+")||"points");n.coerceSelectionMarkerOpacity(c,f)}else c.visible=!1}},{"../../lib":414,"../scatter/constants":571,"../scatter/fillcolor_defaults":574,"../scatter/line_defaults":578,"../scatter/line_shape_defaults":580,"../scatter/marker_defaults":583,"../scatter/subtypes":587,"../scatter/text_defaults":588,"./attributes":590}],593:[function(b,p,l){p.exports=function(b,g,k,d,h){g.xa&&(b.xaxis=g.xa);g.ya&&(b.yaxis=g.ya);d[h]&&(g=d[h]);b.a=g.a;b.b=g.b;b.c=g.c;return b}},{}],594:[function(b,
p,l){var n=b("../scatter/hover"),g=b("../../plots/cartesian/axes");p.exports=function(b,d,h,e){function k(b,c){p.push(b._hovertitle+": "+g.tickText(b,c,"hover").text)}if((d=n(b,d,h,e))&&!1!==d[0].index){h=d[0];if(void 0===h.index)return e=b.xa._length,b=e*(1-h.y0/b.ya._length)/2,e-=b,h.x0=Math.max(Math.min(h.x0,e),b),h.x1=Math.max(Math.min(h.x1,e),b),d;b=h.cd[h.index];h.a=b.a;h.b=b.b;h.c=b.c;h.xLabelVal=void 0;h.yLabelVal=void 0;var l=h.trace;e=h.subplot;l=(b.hi||l.hoverinfo).split("+");var p=[];
-1!==l.indexOf("all")&&(l=["a","b","c"]);-1!==l.indexOf("a")&&k(e.aaxis,b.a);-1!==l.indexOf("b")&&k(e.baxis,b.b);-1!==l.indexOf("c")&&k(e.caxis,b.c);h.extraText=p.join("<br>");return d}}},{"../../plots/cartesian/axes":458,"../scatter/hover":576}],595:[function(b,p,l){l={};l.attributes=b("./attributes");l.supplyDefaults=b("./defaults");l.colorbar=b("../scatter/colorbar");l.calc=b("./calc");l.plot=b("./plot");l.style=b("../scatter/style").style;l.hoverPoints=b("./hover");l.selectPoints=b("../scatter/select");
l.eventData=b("./event_data");l.moduleType="trace";l.name="scatterternary";l.basePlotModule=b("../../plots/ternary");l.categories=["ternary","symbols","markerColorscale","showLegend","scatter-like"];l.meta={hrName:"scatter_ternary",description:"Provides similar functionality to the *scatter* type but on a ternary phase diagram. The data is provided by at least two arrays out of `a`, `b`, `c` triplets."};p.exports=l},{"../../plots/ternary":510,"../scatter/colorbar":569,"../scatter/select":585,"../scatter/style":586,
"./attributes":590,"./calc":591,"./defaults":592,"./event_data":593,"./hover":594,"./plot":596}],596:[function(b,p,l){var n=b("../scatter/plot");p.exports=function(b,k,d){var g=k.plotContainer;g.select(".scatterlayer").selectAll("*").remove();n(b,{xaxis:k.xaxis,yaxis:k.yaxis,plot:g,layerClipId:k._hasClipOnAxisFalse?k.clipIdRelative:null},d)}},{"../scatter/plot":584}],597:[function(b,p,l){function n(b){return{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not these contour lines are projected on the",
b,"plane. If `highlight` is set to *true* (the default), the projected lines are shown on hover. If `show` is set to *true*, the projected lines are shown in permanence."].join(" ")}}function g(b){return{show:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not contour lines about the",b,"dimension are drawn."].join(" ")},project:{x:n("x"),y:n("y"),z:n("z")},color:{valType:"color",role:"style",dflt:k.defaultLine,description:"Sets the color of the contour lines."},usecolormap:{valType:"boolean",
role:"info",dflt:!1,description:"An alternate to *color*. Determines whether or not the contour lines are colored using the trace *colorscale*."},width:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the contour lines."},highlight:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not contour lines about the",b,"dimension are highlighted on hover."].join(" ")},highlightcolor:{valType:"color",role:"style",dflt:k.defaultLine,description:"Sets the color of the highlighted contour lines."},
highlightwidth:{valType:"number",role:"style",min:1,max:16,dflt:2,description:"Sets the width of the highlighted contour lines."}}}var k=b("../../components/color");l=b("../../components/colorscale/attributes");var d=b("../../components/colorbar/attributes"),h=b("../../plots/attributes"),e=b("../../lib/extend").extendFlat;b=b("../../plot_api/edit_types").overrideAll;p=p.exports=b({z:{valType:"data_array",description:"Sets the z coordinates."},x:{valType:"data_array",description:"Sets the x coordinates."},
y:{valType:"data_array",description:"Sets the y coordinates."},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:"Sets the text elements associated with each z value. If trace `hoverinfo` contains a *text* flag and *hovertext* is not set, these elements will be seen in the hover labels."},surfacecolor:{valType:"data_array",description:"Sets the surface color values, used for setting a color scale independent of `z`."},cauto:l.zauto,cmin:l.zmin,cmax:l.zmax,colorscale:l.colorscale,autocolorscale:e({},
l.autocolorscale,{dflt:!1}),reversescale:l.reversescale,showscale:l.showscale,colorbar:d,contours:{x:g("x"),y:g("y"),z:g("z")},hidesurface:{valType:"boolean",role:"info",dflt:!1,description:"Determines whether or not a surface is drawn. For example, set `hidesurface` to *false* `contours.x.show` to *true* and `contours.y.show` to *true* to draw a wire frame plot."},lightposition:{x:{valType:"number",role:"style",min:-1E5,max:1E5,dflt:10,description:"Numeric vector, representing the X coordinate for each vertex."},
y:{valType:"number",role:"style",min:-1E5,max:1E5,dflt:1E4,description:"Numeric vector, representing the Y coordinate for each vertex."},z:{valType:"number",role:"style",min:-1E5,max:1E5,dflt:0,description:"Numeric vector, representing the Z coordinate for each vertex."}},lighting:{ambient:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Ambient light increases overall color visibility but can wash out the image."},diffuse:{valType:"number",role:"style",min:0,max:1,dflt:.8,description:"Represents the extent that incident rays are reflected in a range of angles."},
specular:{valType:"number",role:"style",min:0,max:2,dflt:.05,description:"Represents the level that incident rays are reflected in a single direction, causing shine."},roughness:{valType:"number",role:"style",min:0,max:1,dflt:.5,description:"Alters specular reflection; the rougher the surface, the wider and less contrasty the shine."},fresnel:{valType:"number",role:"style",min:0,max:5,dflt:.2,description:"Represents the reflectance as a dependency of the viewing angle; e.g. paper is reflective when viewing it from the edge of the paper (almost 90 degrees), causing shine."}},
opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the surface."},_deprecated:{zauto:e({},l.zauto,{description:"Obsolete. Use `cauto` instead."}),zmin:e({},l.zmin,{description:"Obsolete. Use `cmin` instead."}),zmax:e({},l.zmax,{description:"Obsolete. Use `cmax` instead."})},hoverinfo:e({},h.hoverinfo)},"calc","nested");p.x.editType=p.y.editType=p.z.editType="calc+clearAxisTypes"},{"../../components/color":291,"../../components/colorbar/attributes":292,"../../components/colorscale/attributes":297,
"../../lib/extend":406,"../../plot_api/edit_types":443,"../../plots/attributes":455}]},{},[1])(1)});